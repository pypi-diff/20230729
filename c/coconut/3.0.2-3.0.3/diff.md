# Comparing `tmp/coconut-3.0.2.tar.gz` & `tmp/coconut-3.0.3.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "coconut-3.0.2.tar", last modified: Tue May 30 00:27:32 2023, max compression
+gzip compressed data, was "coconut-3.0.3.tar", last modified: Sat Jul 29 07:43:08 2023, max compression
```

## Comparing `coconut-3.0.2.tar` & `coconut-3.0.3.tar`

### file list

```diff
@@ -1,111 +1,112 @@
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.109571 coconut-3.0.2/
--rw-rw-rw-   0        0        0    14002 2023-05-30 00:26:52.000000 coconut-3.0.2/CONTRIBUTING.md
--rw-rw-rw-   0        0        0   202076 2023-05-30 00:26:52.000000 coconut-3.0.2/DOCS.md
--rw-rw-rw-   0        0        0    11447 2023-05-30 00:26:52.000000 coconut-3.0.2/FAQ.md
--rw-rw-rw-   0        0        0    66299 2023-05-30 00:26:52.000000 coconut-3.0.2/HELP.md
--rw-rw-rw-   0        0        0    11560 2022-09-26 07:50:23.000000 coconut-3.0.2/LICENSE.txt
--rw-rw-rw-   0        0        0      494 2023-05-02 02:24:13.000000 coconut-3.0.2/MANIFEST.in
--rw-rw-rw-   0        0        0     7034 2023-05-30 00:27:32.110564 coconut-3.0.2/PKG-INFO
--rw-rw-rw-   0        0        0     3651 2022-11-14 01:33:04.000000 coconut-3.0.2/README.rst
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.061562 coconut-3.0.2/__coconut__/
--rw-rw-rw-   0        0        0     1271 2022-11-14 01:33:04.000000 coconut-3.0.2/__coconut__/__init__.py
--rw-rw-rw-   0        0        0    43467 2023-05-30 00:26:52.000000 coconut-3.0.2/__coconut__/__init__.pyi
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.2/__coconut__/py.typed
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.063562 coconut-3.0.2/_coconut/
--rw-rw-rw-   0        0        0     1279 2022-11-14 01:33:04.000000 coconut-3.0.2/_coconut/__init__.py
--rw-rw-rw-   0        0        0     4931 2023-05-30 00:26:52.000000 coconut-3.0.2/_coconut/__init__.pyi
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.2/_coconut/py.typed
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.077562 coconut-3.0.2/coconut/
--rw-rw-rw-   0        0        0     1345 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/__coconut__.py
--rw-rw-rw-   0        0        0     1869 2023-05-02 02:24:13.000000 coconut-3.0.2/coconut/__coconut__.pyi
--rw-rw-rw-   0        0        0     1480 2022-10-25 03:13:34.000000 coconut-3.0.2/coconut/__init__.py
--rw-rw-rw-   0        0        0      978 2022-11-14 01:33:04.000000 coconut-3.0.2/coconut/__init__.pyi
--rw-rw-rw-   0        0        0     1243 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/__main__.py
--rw-rw-rw-   0        0        0    13868 2023-05-02 02:24:13.000000 coconut-3.0.2/coconut/_pyparsing.py
--rw-rw-rw-   0        0        0     9553 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/api.py
--rw-rw-rw-   0        0        0     2950 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/api.pyi
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.082562 coconut-3.0.2/coconut/command/
--rw-rw-rw-   0        0        0      798 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/command/__init__.py
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.2/coconut/command/__init__.pyi
--rw-rw-rw-   0        0        0     8553 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/command/cli.py
--rw-rw-rw-   0        0        0    45112 2023-05-25 03:37:29.000000 coconut-3.0.2/coconut/command/command.py
--rw-rw-rw-   0        0        0      708 2022-11-14 01:33:04.000000 coconut-3.0.2/coconut/command/command.pyi
--rw-rw-rw-   0        0        0     2526 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/command/mypy.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.083569 coconut-3.0.2/coconut/command/resources/
--rw-rw-rw-   0        0        0       20 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/command/resources/zcoconut.pth
--rw-rw-rw-   0        0        0    24229 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/command/util.py
--rw-rw-rw-   0        0        0     2237 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/command/watch.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.087562 coconut-3.0.2/coconut/compiler/
--rw-rw-rw-   0        0        0      801 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/compiler/__init__.py
--rw-rw-rw-   0        0        0   200898 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/compiler.py
--rw-rw-rw-   0        0        0    95630 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/grammar.py
--rw-rw-rw-   0        0        0    32754 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/header.py
--rw-rw-rw-   0        0        0    60282 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/matching.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.088562 coconut-3.0.2/coconut/compiler/templates/
--rw-rw-rw-   0        0        0   102701 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/templates/header.py_template
--rw-rw-rw-   0        0        0    50286 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/compiler/util.py
--rw-rw-rw-   0        0        0    37771 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/constants.py
--rw-rw-rw-   0        0        0      792 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/convenience.py
--rw-rw-rw-   0        0        0      645 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/convenience.pyi
--rw-rw-rw-   0        0        0    10098 2023-05-25 03:37:29.000000 coconut-3.0.2/coconut/exceptions.py
--rw-rw-rw-   0        0        0     4779 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/highlighter.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.091569 coconut-3.0.2/coconut/icoconut/
--rw-rw-rw-   0        0        0      803 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/icoconut/__init__.py
--rw-rw-rw-   0        0        0     1428 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/icoconut/__main__.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.091569 coconut-3.0.2/coconut/icoconut/coconut/
--rw-rw-rw-   0        0        0      141 2023-05-30 00:27:31.000000 coconut-3.0.2/coconut/icoconut/coconut/kernel.json
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.092570 coconut-3.0.2/coconut/icoconut/coconut_py/
--rw-rw-rw-   0        0        0      183 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/icoconut/coconut_py/kernel.json
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.092570 coconut-3.0.2/coconut/icoconut/coconut_py2/
--rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/icoconut/coconut_py2/kernel.json
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.093562 coconut-3.0.2/coconut/icoconut/coconut_py3/
--rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/icoconut/coconut_py3/kernel.json
--rw-rw-rw-   0        0        0     5752 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/icoconut/embed.py
--rw-rw-rw-   0        0        0    11028 2023-05-25 03:37:29.000000 coconut-3.0.2/coconut/icoconut/root.py
--rw-rw-rw-   0        0        0     8628 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/integrations.py
--rw-rw-rw-   0        0        0     1596 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/main.py
--rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.2/coconut/py.typed
--rw-rw-rw-   0        0        0    11980 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/requirements.py
--rw-rw-rw-   0        0        0    15881 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/root.py
--rw-rw-rw-   0        0        0    20140 2023-05-22 08:26:21.000000 coconut-3.0.2/coconut/terminal.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.095570 coconut-3.0.2/coconut/tests/
--rw-rw-rw-   0        0        0      806 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/__init__.py
--rw-rw-rw-   0        0        0     1849 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/__main__.py
--rw-rw-rw-   0        0        0     4699 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/constants_test.py
--rw-rw-rw-   0        0        0    31227 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/main_test.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.097571 coconut-3.0.2/coconut/tests/src/
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.052562 coconut-3.0.2/coconut/tests/src/cocotest/
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.102573 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/
--rw-rw-rw-   0        0        0       92 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/__init__.coco
--rw-rw-rw-   0        0        0     3998 2023-05-25 03:37:29.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/main.coco
--rw-rw-rw-   0        0        0    64137 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/primary.coco
--rw-rw-rw-   0        0        0     5396 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/specific.coco
--rw-rw-rw-   0        0        0    43232 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/suite.coco
--rw-rw-rw-   0        0        0    15927 2022-10-25 03:13:34.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/tutorial.coco
--rw-rw-rw-   0        0        0    48203 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/agnostic/util.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.103563 coconut-3.0.2/coconut/tests/src/cocotest/non_strict/
--rw-rw-rw-   0        0        0     2274 2023-05-25 03:37:29.000000 coconut-3.0.2/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.104562 coconut-3.0.2/coconut/tests/src/cocotest/target_2/
--rw-rw-rw-   0        0        0      364 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_2/py2_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.105569 coconut-3.0.2/coconut/tests/src/cocotest/target_3/
--rw-rw-rw-   0        0        0     1196 2023-04-16 03:49:55.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_3/py3_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.105569 coconut-3.0.2/coconut/tests/src/cocotest/target_35/
--rw-rw-rw-   0        0        0     2850 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_35/py35_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.106562 coconut-3.0.2/coconut/tests/src/cocotest/target_36/
--rw-rw-rw-   0        0        0      722 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_36/py36_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.106562 coconut-3.0.2/coconut/tests/src/cocotest/target_38/
--rw-rw-rw-   0        0        0      265 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_38/py38_test.coco
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.107563 coconut-3.0.2/coconut/tests/src/cocotest/target_sys/
--rw-rw-rw-   0        0        0     3487 2023-05-02 02:24:13.000000 coconut-3.0.2/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
--rw-rw-rw-   0        0        0    22808 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/tests/src/extras.coco
--rw-rw-rw-   0        0        0      204 2022-09-26 07:50:23.000000 coconut-3.0.2/coconut/tests/src/runnable.coco
--rw-rw-rw-   0        0        0      519 2022-12-30 20:33:44.000000 coconut-3.0.2/coconut/tests/src/runner.coco
--rw-rw-rw-   0        0        0    11896 2023-05-30 00:26:52.000000 coconut-3.0.2/coconut/util.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.109571 coconut-3.0.2/coconut.egg-info/
--rw-rw-rw-   0        0        0     2315 2023-05-30 00:27:31.000000 coconut-3.0.2/coconut.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0     2390 2022-11-14 01:33:04.000000 coconut-3.0.2/conf.py
--rw-rw-rw-   0        0        0       68 2022-09-26 07:50:23.000000 coconut-3.0.2/pyproject.toml
--rw-rw-rw-   0        0        0      120 2023-05-30 00:27:32.114570 coconut-3.0.2/setup.cfg
--rw-rw-rw-   0        0        0     2890 2023-04-11 02:46:26.000000 coconut-3.0.2/setup.py
-drwxrwxrwx   0        0        0        0 2023-05-30 00:27:32.108564 coconut-3.0.2/xontrib/
--rw-rw-rw-   0        0        0     1195 2023-05-02 02:24:13.000000 coconut-3.0.2/xontrib/coconut.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.353747 coconut-3.0.3/
+-rw-rw-rw-   0        0        0    14006 2023-07-29 07:41:24.000000 coconut-3.0.3/CONTRIBUTING.md
+-rw-rw-rw-   0        0        0   207289 2023-07-29 07:41:24.000000 coconut-3.0.3/DOCS.md
+-rw-rw-rw-   0        0        0    11447 2023-05-30 00:26:52.000000 coconut-3.0.3/FAQ.md
+-rw-rw-rw-   0        0        0    66299 2023-07-29 07:41:24.000000 coconut-3.0.3/HELP.md
+-rw-rw-rw-   0        0        0    11560 2022-09-26 07:50:23.000000 coconut-3.0.3/LICENSE.txt
+-rw-rw-rw-   0        0        0      494 2023-05-02 02:24:13.000000 coconut-3.0.3/MANIFEST.in
+-rw-rw-rw-   0        0        0     7058 2023-07-29 07:43:08.353747 coconut-3.0.3/PKG-INFO
+-rw-rw-rw-   0        0        0     3651 2022-11-14 01:33:04.000000 coconut-3.0.3/README.rst
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.296737 coconut-3.0.3/__coconut__/
+-rw-rw-rw-   0        0        0     1271 2022-11-14 01:33:04.000000 coconut-3.0.3/__coconut__/__init__.py
+-rw-rw-rw-   0        0        0    62172 2023-07-29 07:41:24.000000 coconut-3.0.3/__coconut__/__init__.pyi
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.3/__coconut__/py.typed
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.297737 coconut-3.0.3/_coconut/
+-rw-rw-rw-   0        0        0     1279 2022-11-14 01:33:04.000000 coconut-3.0.3/_coconut/__init__.py
+-rw-rw-rw-   0        0        0     4963 2023-07-29 07:41:24.000000 coconut-3.0.3/_coconut/__init__.pyi
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.3/_coconut/py.typed
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.314738 coconut-3.0.3/coconut/
+-rw-rw-rw-   0        0        0     1345 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/__coconut__.py
+-rw-rw-rw-   0        0        0     1869 2023-05-02 02:24:13.000000 coconut-3.0.3/coconut/__coconut__.pyi
+-rw-rw-rw-   0        0        0     1480 2022-10-25 03:13:34.000000 coconut-3.0.3/coconut/__init__.py
+-rw-rw-rw-   0        0        0      978 2022-11-14 01:33:04.000000 coconut-3.0.3/coconut/__init__.pyi
+-rw-rw-rw-   0        0        0     1243 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/__main__.py
+-rw-rw-rw-   0        0        0    16055 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/_pyparsing.py
+-rw-rw-rw-   0        0        0    12255 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/api.py
+-rw-rw-rw-   0        0        0     4160 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/api.pyi
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.321736 coconut-3.0.3/coconut/command/
+-rw-rw-rw-   0        0        0      798 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/command/__init__.py
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.3/coconut/command/__init__.pyi
+-rw-rw-rw-   0        0        0     8852 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/command/cli.py
+-rw-rw-rw-   0        0        0    47710 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/command/command.py
+-rw-rw-rw-   0        0        0      751 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/command/command.pyi
+-rw-rw-rw-   0        0        0     2526 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/command/mypy.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.322738 coconut-3.0.3/coconut/command/resources/
+-rw-rw-rw-   0        0        0       20 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/command/resources/zcoconut.pth
+-rw-rw-rw-   0        0        0    25490 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/command/util.py
+-rw-rw-rw-   0        0        0     2237 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/command/watch.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.328736 coconut-3.0.3/coconut/compiler/
+-rw-rw-rw-   0        0        0      801 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/compiler/__init__.py
+-rw-rw-rw-   0        0        0   210019 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/compiler/compiler.py
+-rw-rw-rw-   0        0        0    96103 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/compiler/grammar.py
+-rw-rw-rw-   0        0        0    37521 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/compiler/header.py
+-rw-rw-rw-   0        0        0    60282 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/compiler/matching.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.328736 coconut-3.0.3/coconut/compiler/templates/
+-rw-rw-rw-   0        0        0   104636 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/compiler/templates/header.py_template
+-rw-rw-rw-   0        0        0    54700 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/compiler/util.py
+-rw-rw-rw-   0        0        0    39016 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/constants.py
+-rw-rw-rw-   0        0        0      792 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/convenience.py
+-rw-rw-rw-   0        0        0      645 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/convenience.pyi
+-rw-rw-rw-   0        0        0    10866 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/exceptions.py
+-rw-rw-rw-   0        0        0     4779 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/highlighter.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.332736 coconut-3.0.3/coconut/icoconut/
+-rw-rw-rw-   0        0        0      803 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/icoconut/__init__.py
+-rw-rw-rw-   0        0        0     1428 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/icoconut/__main__.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.333738 coconut-3.0.3/coconut/icoconut/coconut/
+-rw-rw-rw-   0        0        0      141 2023-07-29 07:43:07.000000 coconut-3.0.3/coconut/icoconut/coconut/kernel.json
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.334737 coconut-3.0.3/coconut/icoconut/coconut_py/
+-rw-rw-rw-   0        0        0      183 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/icoconut/coconut_py/kernel.json
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.335742 coconut-3.0.3/coconut/icoconut/coconut_py2/
+-rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/icoconut/coconut_py2/kernel.json
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.336739 coconut-3.0.3/coconut/icoconut/coconut_py3/
+-rw-rw-rw-   0        0        0      185 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/icoconut/coconut_py3/kernel.json
+-rw-rw-rw-   0        0        0     5752 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/icoconut/embed.py
+-rw-rw-rw-   0        0        0    11074 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/icoconut/root.py
+-rw-rw-rw-   0        0        0     9743 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/integrations.py
+-rw-rw-rw-   0        0        0     1596 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/main.py
+-rw-rw-rw-   0        0        0        0 2022-11-14 01:33:04.000000 coconut-3.0.3/coconut/py.typed
+-rw-rw-rw-   0        0        0    11980 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/requirements.py
+-rw-rw-rw-   0        0        0    15881 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/root.py
+-rw-rw-rw-   0        0        0    21499 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/terminal.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.338739 coconut-3.0.3/coconut/tests/
+-rw-rw-rw-   0        0        0      806 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/tests/__init__.py
+-rw-rw-rw-   0        0        0     1849 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/tests/__main__.py
+-rw-rw-rw-   0        0        0     5242 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/constants_test.py
+-rw-rw-rw-   0        0        0    33421 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/main_test.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.341738 coconut-3.0.3/coconut/tests/src/
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.287737 coconut-3.0.3/coconut/tests/src/cocotest/
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.346740 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/
+-rw-rw-rw-   0        0        0       92 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/__init__.coco
+-rw-rw-rw-   0        0        0     3998 2023-05-25 03:37:29.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/main.coco
+-rw-rw-rw-   0        0        0    65856 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/primary.coco
+-rw-rw-rw-   0        0        0     5410 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/specific.coco
+-rw-rw-rw-   0        0        0    43239 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/suite.coco
+-rw-rw-rw-   0        0        0    15927 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/tutorial.coco
+-rw-rw-rw-   0        0        0    48314 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/agnostic/util.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.347737 coconut-3.0.3/coconut/tests/src/cocotest/non_strict/
+-rw-rw-rw-   0        0        0     2596 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/non_strict/non_strict_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.348763 coconut-3.0.3/coconut/tests/src/cocotest/target_2/
+-rw-rw-rw-   0        0        0      364 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_2/py2_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.349741 coconut-3.0.3/coconut/tests/src/cocotest/target_3/
+-rw-rw-rw-   0        0        0     1196 2023-04-16 03:49:55.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_3/py3_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.349741 coconut-3.0.3/coconut/tests/src/cocotest/target_35/
+-rw-rw-rw-   0        0        0     2850 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_35/py35_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.350738 coconut-3.0.3/coconut/tests/src/cocotest/target_36/
+-rw-rw-rw-   0        0        0      722 2023-05-30 00:26:52.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_36/py36_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.350738 coconut-3.0.3/coconut/tests/src/cocotest/target_38/
+-rw-rw-rw-   0        0        0      265 2022-09-26 07:50:23.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_38/py38_test.coco
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.351736 coconut-3.0.3/coconut/tests/src/cocotest/target_sys/
+-rw-rw-rw-   0        0        0     5472 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/cocotest/target_sys/target_sys_test.coco
+-rw-rw-rw-   0        0        0    24522 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/extras.coco
+-rw-rw-rw-   0        0        0      356 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/importable.coco
+-rw-rw-rw-   0        0        0      340 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/tests/src/runnable.coco
+-rw-rw-rw-   0        0        0      519 2022-12-30 20:33:44.000000 coconut-3.0.3/coconut/tests/src/runner.coco
+-rw-rw-rw-   0        0        0    12079 2023-07-29 07:41:24.000000 coconut-3.0.3/coconut/util.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.353747 coconut-3.0.3/coconut.egg-info/
+-rw-rw-rw-   0        0        0     2349 2023-07-29 07:43:08.000000 coconut-3.0.3/coconut.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0     2390 2022-11-14 01:33:04.000000 coconut-3.0.3/conf.py
+-rw-rw-rw-   0        0        0       68 2022-09-26 07:50:23.000000 coconut-3.0.3/pyproject.toml
+-rw-rw-rw-   0        0        0      120 2023-07-29 07:43:08.357745 coconut-3.0.3/setup.cfg
+-rw-rw-rw-   0        0        0     2890 2023-04-11 02:46:26.000000 coconut-3.0.3/setup.py
+drwxrwxrwx   0        0        0        0 2023-07-29 07:43:08.352743 coconut-3.0.3/xontrib/
+-rw-rw-rw-   0        0        0     1195 2023-05-02 02:24:13.000000 coconut-3.0.3/xontrib/coconut.py
```

### Comparing `coconut-3.0.2/CONTRIBUTING.md` & `coconut-3.0.3/CONTRIBUTING.md`

 * *Files 1% similar despite different names*

```diff
@@ -24,15 +24,15 @@
 
 _Note: Don't forget to add yourself to the "Authors:" section in the moduledocs of any files you modify!_
 
 ## Testing New Changes
 
 First, you'll want to set up a local copy of Coconut's recommended development environment. For that, just run `git checkout develop`, make sure your default `python` installation is some variant of Python 3, and run `make dev`. That should switch you to the `develop` branch, install all possible dependencies, bind the `coconut` command to your local copy, and set up [pre-commit](http://pre-commit.com/), which will check your code for errors for you whenever you `git commit`.
 
-Then, you should be able to use the Coconut command-line for trying out simple things, and to run a paired-down version of the test suite locally, just `make test-basic`.
+Then, you should be able to use the Coconut command-line for trying out simple things, and to run a paired-down version of the test suite locally, just `make test-univ`.
 
 After you've tested your changes locally, you'll want to add more permanent tests to Coconut's test suite. Coconut's test suite is primarily written in Coconut itself, so testing new features just means using them inside of one of Coconut's `.coco` test files, with some `assert` statements to check validity.
 
 ## File Layout
 
 - `DOCS.md`
     + Markdown file containing detailed documentation on every Coconut feature. If you are adding a new feature, you should also add documentation on it to this file.
@@ -150,15 +150,15 @@
         - `__coconut__.pyi`
             + A MyPy stub file for specifying the type of all the objects defined in Coconut's package header (which is saved as `__coconut__.py`).
 
 ## Release Process
 
 1. Preparation:
     1. Run `make check-reqs` and update dependencies as necessary
-    2. Run `make format`
+    2. Run `sudo make format`
     3. Make sure `make test`, `make test-py2`, and `make test-easter-eggs` are passing
     4. Ensure that `coconut --watch` can successfully compile files when they're modified
     5. Check changes in [`compiled-cocotest`](https://github.com/evhub/compiled-cocotest), [`pyprover`](https://github.com/evhub/pyprover), and [`coconut-prelude`](https://github.com/evhub/coconut-prelude)
     6. Check [Codebeat](https://codebeat.co/a/evhub/projects) and [LGTM](https://lgtm.com/dashboard) for `coconut` and `compiled-cocotest`
     7. Make sure [`coconut-develop`](https://pypi.python.org/pypi/coconut-develop) package looks good
     8. Run `make docs` and ensure local documentation looks good
     9. Make sure all of the following are passing:
```

### Comparing `coconut-3.0.2/DOCS.md` & `coconut-3.0.3/DOCS.md`

 * *Files 2% similar despite different names*

```diff
@@ -29,12602 +29,12928 @@
 000001c0: 772e 7079 7468 6f6e 2e6f 7267 2f29 2062  w.python.org/) b
 000001d0: 7569 6c74 2066 6f72 202a 2a73 696d 706c  uilt for **simpl
 000001e0: 652c 2065 6c65 6761 6e74 2c20 5079 7468  e, elegant, Pyth
 000001f0: 6f6e 6963 2066 756e 6374 696f 6e61 6c20  onic functional 
 00000200: 7072 6f67 7261 6d6d 696e 672a 2a2e 2043  programming**. C
 00000210: 6f63 6f6e 7574 2073 796e 7461 7820 6973  oconut syntax is
 00000220: 2061 2073 7472 6963 7420 7375 7065 7273   a strict supers
-00000230: 6574 206f 6620 5079 7468 6f6e 2033 2073  et of Python 3 s
-00000240: 796e 7461 782e 2054 6875 732c 2075 7365  yntax. Thus, use
-00000250: 7273 2066 616d 696c 6961 7220 7769 7468  rs familiar with
-00000260: 2050 7974 686f 6e20 7769 6c6c 2061 6c72   Python will alr
-00000270: 6561 6479 2062 6520 6661 6d69 6c69 6172  eady be familiar
-00000280: 2077 6974 6820 6d6f 7374 206f 6620 436f   with most of Co
-00000290: 636f 6e75 742e 0d0a 0d0a 5468 6520 436f  conut.....The Co
-000002a0: 636f 6e75 7420 636f 6d70 696c 6572 2074  conut compiler t
-000002b0: 7572 6e73 2043 6f63 6f6e 7574 2063 6f64  urns Coconut cod
-000002c0: 6520 696e 746f 2050 7974 686f 6e20 636f  e into Python co
-000002d0: 6465 2e20 5468 6520 7072 696d 6172 7920  de. The primary 
-000002e0: 6d65 7468 6f64 206f 6620 6163 6365 7373  method of access
-000002f0: 696e 6720 7468 6520 436f 636f 6e75 7420  ing the Coconut 
-00000300: 636f 6d70 696c 6572 2069 7320 7468 726f  compiler is thro
-00000310: 7567 6820 7468 6520 436f 636f 6e75 7420  ugh the Coconut 
-00000320: 636f 6d6d 616e 642d 6c69 6e65 2075 7469  command-line uti
-00000330: 6c69 7479 2c20 7768 6963 6820 616c 736f  lity, which also
-00000340: 2066 6561 7475 7265 7320 616e 2069 6e74   features an int
-00000350: 6572 7072 6574 6572 2066 6f72 2072 6561  erpreter for rea
-00000360: 6c2d 7469 6d65 2063 6f6d 7069 6c61 7469  l-time compilati
-00000370: 6f6e 2e20 496e 2061 6464 6974 696f 6e20  on. In addition 
-00000380: 746f 2074 6865 2063 6f6d 6d61 6e64 2d6c  to the command-l
-00000390: 696e 6520 7574 696c 6974 792c 2043 6f63  ine utility, Coc
-000003a0: 6f6e 7574 2061 6c73 6f20 7375 7070 6f72  onut also suppor
-000003b0: 7473 2074 6865 2075 7365 206f 6620 4950  ts the use of IP
-000003c0: 7974 686f 6e2f 4a75 7079 7465 7220 6e6f  ython/Jupyter no
-000003d0: 7465 626f 6f6b 732e 0d0a 0d0a 5468 6f75  tebooks.....Thou
-000003e0: 6768 7420 436f 636f 6e75 7420 7379 6e74  ght Coconut synt
-000003f0: 6178 2069 7320 7072 696d 6172 696c 7920  ax is primarily 
-00000400: 6261 7365 6420 6f6e 2074 6861 7420 6f66  based on that of
-00000410: 2050 7974 686f 6e2c 206f 7468 6572 206c   Python, other l
-00000420: 616e 6775 6167 6573 2074 6861 7420 696e  anguages that in
-00000430: 7370 6972 6564 2043 6f63 6f6e 7574 2069  spired Coconut i
-00000440: 6e63 6c75 6465 205b 4861 736b 656c 6c5d  nclude [Haskell]
-00000450: 2868 7474 7073 3a2f 2f77 7777 2e68 6173  (https://www.has
-00000460: 6b65 6c6c 2e6f 7267 2f29 2c20 5b43 6f66  kell.org/), [Cof
-00000470: 6665 6553 6372 6970 745d 2868 7474 703a  feeScript](http:
-00000480: 2f2f 636f 6666 6565 7363 7269 7074 2e6f  //coffeescript.o
-00000490: 7267 2f29 2c20 5b46 235d 2868 7474 703a  rg/), [F#](http:
-000004a0: 2f2f 6673 6861 7270 2e6f 7267 2f29 2c20  //fsharp.org/), 
-000004b0: 616e 6420 5b4a 756c 6961 5d28 6874 7470  and [Julia](http
-000004c0: 733a 2f2f 6a75 6c69 616c 616e 672e 6f72  s://julialang.or
-000004d0: 672f 292e 0d0a 0d0a 2323 2323 2054 7279  g/).....#### Try
-000004e0: 2049 7420 4f75 740d 0a0d 0a49 6620 796f   It Out....If yo
-000004f0: 7520 7761 6e74 2074 6f20 7472 7920 436f  u want to try Co
-00000500: 636f 6e75 7420 696e 2079 6f75 7220 6272  conut in your br
-00000510: 6f77 7365 722c 2063 6865 636b 206f 7574  owser, check out
-00000520: 2074 6865 205b 6f6e 6c69 6e65 2069 6e74   the [online int
-00000530: 6572 7072 6574 6572 5d28 6874 7470 733a  erpreter](https:
-00000540: 2f2f 6373 3132 312d 7465 616d 2d70 616e  //cs121-team-pan
-00000550: 6461 2e67 6974 6875 622e 696f 2f63 6f63  da.github.io/coc
-00000560: 6f6e 7574 2d69 6e74 6572 7072 6574 6572  onut-interpreter
-00000570: 292e 204e 6f74 652c 2068 6f77 6576 6572  ). Note, however
-00000580: 2c20 7468 6174 2069 7420 6d61 7920 6265  , that it may be
-00000590: 2072 756e 6e69 6e67 2061 6e20 6f75 7464   running an outd
-000005a0: 6174 6564 2076 6572 7369 6f6e 206f 6620  ated version of 
-000005b0: 436f 636f 6e75 742e 0d0a 0d0a 2323 2049  Coconut.....## I
-000005c0: 6e73 7461 6c6c 6174 696f 6e0d 0a0d 0a60  nstallation....`
-000005d0: 6060 7b63 6f6e 7465 6e74 737d 0d0a 2d2d  ``{contents}..--
-000005e0: 2d0d 0a6c 6f63 616c 3a0d 0a64 6570 7468  -..local:..depth
-000005f0: 3a20 320d 0a2d 2d2d 0d0a 6060 600d 0a0d  : 2..---..```...
-00000600: 0a23 2323 2320 5573 696e 6720 5069 700d  .#### Using Pip.
-00000610: 0a0d 0a53 696e 6365 2043 6f63 6f6e 7574  ...Since Coconut
-00000620: 2069 7320 686f 7374 6564 206f 6e20 7468   is hosted on th
-00000630: 6520 5b50 7974 686f 6e20 5061 636b 6167  e [Python Packag
-00000640: 6520 496e 6465 785d 2868 7474 7073 3a2f  e Index](https:/
-00000650: 2f70 7970 692e 7079 7468 6f6e 2e6f 7267  /pypi.python.org
-00000660: 2f70 7970 692f 636f 636f 6e75 7429 2c20  /pypi/coconut), 
-00000670: 6974 2063 616e 2062 6520 696e 7374 616c  it can be instal
-00000680: 6c65 6420 6561 7369 6c79 2075 7369 6e67  led easily using
-00000690: 2060 7069 7060 2e20 5369 6d70 6c79 205b   `pip`. Simply [
-000006a0: 696e 7374 616c 6c20 5079 7468 6f6e 5d28  install Python](
-000006b0: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-000006c0: 6f6e 2e6f 7267 2f64 6f77 6e6c 6f61 6473  on.org/downloads
-000006d0: 2f29 2c20 6f70 656e 2075 7020 6120 636f  /), open up a co
-000006e0: 6d6d 616e 642d 6c69 6e65 2070 726f 6d70  mmand-line promp
-000006f0: 742c 2061 6e64 2065 6e74 6572 0d0a 6060  t, and enter..``
-00000700: 600d 0a70 6970 2069 6e73 7461 6c6c 2063  `..pip install c
-00000710: 6f63 6f6e 7574 0d0a 6060 600d 0a77 6869  oconut..```..whi
-00000720: 6368 2077 696c 6c20 696e 7374 616c 6c20  ch will install 
-00000730: 436f 636f 6e75 7420 616e 6420 6974 7320  Coconut and its 
-00000740: 7265 7175 6972 6564 2064 6570 656e 6465  required depende
-00000750: 6e63 6965 732e 0d0a 0d0a 5f4e 6f74 653a  ncies....._Note:
-00000760: 2049 6620 796f 7520 6861 7665 2061 6e20   If you have an 
-00000770: 6f6c 6420 7665 7273 696f 6e20 6f66 2043  old version of C
-00000780: 6f63 6f6e 7574 2069 6e73 7461 6c6c 6564  oconut installed
-00000790: 2061 6e64 2079 6f75 2077 616e 7420 746f   and you want to
-000007a0: 2075 7067 7261 6465 2c20 7275 6e20 6070   upgrade, run `p
-000007b0: 6970 2069 6e73 7461 6c6c 202d 2d75 7067  ip install --upg
-000007c0: 7261 6465 2063 6f63 6f6e 7574 6020 696e  rade coconut` in
-000007d0: 7374 6561 642e 5f0d 0a0d 0a49 6620 796f  stead._....If yo
-000007e0: 7520 6172 6520 656e 636f 756e 7465 7269  u are encounteri
-000007f0: 6e67 2065 7272 6f72 7320 7275 6e6e 696e  ng errors runnin
-00000800: 6720 6070 6970 2069 6e73 7461 6c6c 2063  g `pip install c
-00000810: 6f63 6f6e 7574 602c 2074 7279 2061 6464  oconut`, try add
-00000820: 696e 6720 602d 2d75 7365 7260 206f 7220  ing `--user` or 
-00000830: 7275 6e6e 696e 670d 0a60 6060 0d0a 7069  running..```..pi
-00000840: 7020 696e 7374 616c 6c20 2d2d 6e6f 2d64  p install --no-d
-00000850: 6570 7320 2d2d 7570 6772 6164 6520 636f  eps --upgrade co
-00000860: 636f 6e75 7420 2270 7970 6172 7369 6e67  conut "pyparsing
-00000870: 3c33 220d 0a60 6060 0d0a 7768 6963 6820  <3"..```..which 
-00000880: 7769 6c6c 2066 6f72 6365 2043 6f63 6f6e  will force Cocon
-00000890: 7574 2074 6f20 7573 6520 7468 6520 7075  ut to use the pu
-000008a0: 7265 2d50 7974 686f 6e20 5b60 7079 7061  re-Python [`pypa
-000008b0: 7273 696e 6760 5d28 6874 7470 733a 2f2f  rsing`](https://
-000008c0: 6769 7468 7562 2e63 6f6d 2f70 7970 6172  github.com/pypar
-000008d0: 7369 6e67 2f70 7970 6172 7369 6e67 2920  sing/pyparsing) 
-000008e0: 6d6f 6475 6c65 2069 6e73 7465 6164 206f  module instead o
-000008f0: 6620 7468 6520 6661 7374 6572 205b 6063  f the faster [`c
-00000900: 5079 7061 7273 696e 6760 5d28 6874 7470  Pyparsing`](http
-00000910: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
-00000920: 7668 7562 2f63 7079 7061 7273 696e 6729  vhub/cpyparsing)
-00000930: 206d 6f64 756c 652e 2049 6620 796f 7520   module. If you 
-00000940: 6172 6520 7374 696c 6c20 6765 7474 696e  are still gettin
-00000950: 6720 6572 726f 7273 2c20 796f 7520 6d61  g errors, you ma
-00000960: 7920 7761 6e74 2074 6f20 7472 7920 5b75  y want to try [u
-00000970: 7369 6e67 2063 6f6e 6461 5d28 2375 7369  sing conda](#usi
-00000980: 6e67 2d63 6f6e 6461 2920 696e 7374 6561  ng-conda) instea
-00000990: 642e 0d0a 0d0a 4966 2060 7069 7020 696e  d.....If `pip in
-000009a0: 7374 616c 6c20 636f 636f 6e75 7460 2077  stall coconut` w
-000009b0: 6f72 6b73 2c20 6275 7420 796f 7520 6361  orks, but you ca
-000009c0: 6e6e 6f74 2061 6363 6573 7320 7468 6520  nnot access the 
-000009d0: 6063 6f63 6f6e 7574 6020 636f 6d6d 616e  `coconut` comman
-000009e0: 642c 2062 6520 7375 7265 2074 6861 7420  d, be sure that 
-000009f0: 436f 636f 6e75 7427 7320 696e 7374 616c  Coconut's instal
-00000a00: 6c61 7469 6f6e 206c 6f63 6174 696f 6e20  lation location 
-00000a10: 6973 2069 6e20 796f 7572 2060 5041 5448  is in your `PATH
-00000a20: 6020 656e 7669 726f 6e6d 656e 7420 7661  ` environment va
-00000a30: 7269 6162 6c65 2e20 4f6e 2055 4e49 582c  riable. On UNIX,
-00000a40: 2074 6861 7420 6973 2060 2f75 7372 2f6c   that is `/usr/l
-00000a50: 6f63 616c 2f62 696e 6020 2877 6974 686f  ocal/bin` (witho
-00000a60: 7574 2060 2d2d 7573 6572 6029 206f 7220  ut `--user`) or 
-00000a70: 6024 7b48 4f4d 457d 2f2e 6c6f 6361 6c2f  `${HOME}/.local/
-00000a80: 6269 6e2f 6020 2877 6974 6820 602d 2d75  bin/` (with `--u
-00000a90: 7365 7260 292e 0d0a 0d0a 2323 2323 2055  ser`).....#### U
-00000aa0: 7369 6e67 2043 6f6e 6461 0d0a 0d0a 4966  sing Conda....If
-00000ab0: 2079 6f75 2070 7265 6665 7220 746f 2075   you prefer to u
-00000ac0: 7365 205b 6063 6f6e 6461 605d 2868 7474  se [`conda`](htt
-00000ad0: 7073 3a2f 2f63 6f6e 6461 2e69 6f2f 646f  ps://conda.io/do
-00000ae0: 6373 2f29 2069 6e73 7465 6164 206f 6620  cs/) instead of 
-00000af0: 6070 6970 6020 746f 206d 616e 6167 6520  `pip` to manage 
-00000b00: 796f 7572 2050 7974 686f 6e20 7061 636b  your Python pack
-00000b10: 6167 6573 2c20 796f 7520 6361 6e20 616c  ages, you can al
-00000b20: 736f 2069 6e73 7461 6c6c 2043 6f63 6f6e  so install Cocon
-00000b30: 7574 2075 7369 6e67 2060 636f 6e64 6160  ut using `conda`
-00000b40: 2e20 4a75 7374 205b 696e 7374 616c 6c20  . Just [install 
-00000b50: 6063 6f6e 6461 605d 2868 7474 7073 3a2f  `conda`](https:/
-00000b60: 2f63 6f6e 6461 2e69 6f2f 6d69 6e69 636f  /conda.io/minico
-00000b70: 6e64 612e 6874 6d6c 292c 206f 7065 6e20  nda.html), open 
-00000b80: 7570 2061 2063 6f6d 6d61 6e64 2d6c 696e  up a command-lin
-00000b90: 6520 7072 6f6d 7074 2c20 616e 6420 656e  e prompt, and en
-00000ba0: 7465 720d 0a60 6060 0d0a 636f 6e64 6120  ter..```..conda 
-00000bb0: 636f 6e66 6967 202d 2d61 6464 2063 6861  config --add cha
-00000bc0: 6e6e 656c 7320 636f 6e64 612d 666f 7267  nnels conda-forg
-00000bd0: 650d 0a63 6f6e 6461 2069 6e73 7461 6c6c  e..conda install
-00000be0: 2063 6f63 6f6e 7574 0d0a 6060 600d 0a77   coconut..```..w
-00000bf0: 6869 6368 2077 696c 6c20 7072 6f70 6572  hich will proper
-00000c00: 6c79 2063 7265 6174 6520 616e 6420 6275  ly create and bu
-00000c10: 696c 6420 6120 6063 6f6e 6461 6020 7265  ild a `conda` re
-00000c20: 6369 7065 206f 7574 206f 6620 5b43 6f63  cipe out of [Coc
-00000c30: 6f6e 7574 2773 2060 636f 6e64 612d 666f  onut's `conda-fo
-00000c40: 7267 6560 2066 6565 6473 746f 636b 5d28  rge` feedstock](
-00000c50: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00000c60: 6f6d 2f63 6f6e 6461 2d66 6f72 6765 2f63  om/conda-forge/c
-00000c70: 6f63 6f6e 7574 2d66 6565 6473 746f 636b  oconut-feedstock
-00000c80: 292e 0d0a 0d0a 5f4e 6f74 653a 2043 6f63  )....._Note: Coc
-00000c90: 6f6e 7574 2773 2060 636f 6e64 6160 2072  onut's `conda` r
-00000ca0: 6563 6970 6520 7573 6573 2060 7079 7061  ecipe uses `pypa
-00000cb0: 7273 696e 6760 2072 6174 6865 7220 7468  rsing` rather th
-00000cc0: 616e 2060 6350 7970 6172 7369 6e67 602c  an `cPyparsing`,
-00000cd0: 2077 6869 6368 206d 6179 206c 6561 6420   which may lead 
-00000ce0: 746f 2064 6567 7261 6465 6420 7065 7266  to degraded perf
-00000cf0: 6f72 6d61 6e63 6520 7265 6c61 7469 7665  ormance relative
-00000d00: 2074 6f20 696e 7374 616c 6c69 6e67 2043   to installing C
-00000d10: 6f63 6f6e 7574 2076 6961 2060 7069 7060  oconut via `pip`
-00000d20: 2e5f 0d0a 0d0a 2323 2323 2055 7369 6e67  ._....#### Using
-00000d30: 2048 6f6d 6562 7265 770d 0a0d 0a49 6620   Homebrew....If 
-00000d40: 796f 7520 7072 6566 6572 2074 6f20 7573  you prefer to us
-00000d50: 6520 5b48 6f6d 6562 7265 775d 2868 7474  e [Homebrew](htt
-00000d60: 7073 3a2f 2f62 7265 772e 7368 2f29 2c20  ps://brew.sh/), 
-00000d70: 796f 7520 6361 6e20 616c 736f 2069 6e73  you can also ins
-00000d80: 7461 6c6c 2043 6f63 6f6e 7574 2075 7369  tall Coconut usi
-00000d90: 6e67 2060 6272 6577 603a 0d0a 6060 600d  ng `brew`:..```.
-00000da0: 0a62 7265 7720 696e 7374 616c 6c20 636f  .brew install co
-00000db0: 636f 6e75 740d 0a60 6060 0d0a 0d0a 5f4e  conut..```...._N
-00000dc0: 6f74 653a 2043 6f63 6f6e 7574 2773 2048  ote: Coconut's H
-00000dd0: 6f6d 6562 7265 7720 666f 726d 756c 6120  omebrew formula 
-00000de0: 6d61 7920 6e6f 7420 616c 7761 7973 2062  may not always b
-00000df0: 6520 7570 2d74 6f2d 6461 7465 2077 6974  e up-to-date wit
-00000e00: 6820 7468 6520 6c61 7465 7374 2076 6572  h the latest ver
-00000e10: 7369 6f6e 206f 6620 436f 636f 6e75 742e  sion of Coconut.
-00000e20: 5f0d 0a0d 0a23 2323 2320 4f70 7469 6f6e  _....#### Option
-00000e30: 616c 2044 6570 656e 6465 6e63 6965 730d  al Dependencies.
-00000e40: 0a0d 0a43 6f63 6f6e 7574 2061 6c73 6f20  ...Coconut also 
-00000e50: 6861 7320 6f70 7469 6f6e 616c 2064 6570  has optional dep
-00000e60: 656e 6465 6e63 6965 732c 2077 6869 6368  endencies, which
-00000e70: 2063 616e 2062 6520 696e 7374 616c 6c65   can be installe
-00000e80: 6420 6279 2065 6e74 6572 696e 670d 0a60  d by entering..`
-00000e90: 6060 0d0a 7069 7020 696e 7374 616c 6c20  ``..pip install 
-00000ea0: 636f 636f 6e75 745b 6e61 6d65 5f6f 665f  coconut[name_of_
-00000eb0: 6f70 7469 6f6e 616c 5f64 6570 656e 6465  optional_depende
-00000ec0: 6e63 795d 0d0a 6060 600d 0a6f 722c 2074  ncy]..```..or, t
-00000ed0: 6f20 696e 7374 616c 6c20 6d75 6c74 6970  o install multip
-00000ee0: 6c65 206f 7074 696f 6e61 6c20 6465 7065  le optional depe
-00000ef0: 6e64 656e 6369 6573 2c0d 0a60 6060 0d0a  ndencies,..```..
-00000f00: 7069 7020 696e 7374 616c 6c20 636f 636f  pip install coco
-00000f10: 6e75 745b 6f70 745f 6465 705f 312c 6f70  nut[opt_dep_1,op
-00000f20: 745f 6465 705f 325d 0d0a 6060 600d 0a0d  t_dep_2]..```...
-00000f30: 0a54 6865 2066 756c 6c20 6c69 7374 206f  .The full list o
-00000f40: 6620 6f70 7469 6f6e 616c 2064 6570 656e  f optional depen
-00000f50: 6465 6e63 6965 7320 6973 3a0d 0a0d 0a2d  dencies is:....-
-00000f60: 2060 616c 6c60 3a20 616c 6961 7320 666f   `all`: alias fo
-00000f70: 7220 606a 7570 7974 6572 2c77 6174 6368  r `jupyter,watch
-00000f80: 2c6d 7970 792c 6261 636b 706f 7274 732c  ,mypy,backports,
-00000f90: 786f 6e73 6860 2028 7468 6973 2069 7320  xonsh` (this is 
-00000fa0: 7468 6520 7265 636f 6d6d 656e 6465 6420  the recommended 
-00000fb0: 7761 7920 746f 2069 6e73 7461 6c6c 2061  way to install a
-00000fc0: 2066 6561 7475 7265 2d63 6f6d 706c 6574   feature-complet
-00000fd0: 6520 7665 7273 696f 6e20 6f66 2043 6f63  e version of Coc
-00000fe0: 6f6e 7574 292e 0d0a 2d20 606a 7570 7974  onut)...- `jupyt
-00000ff0: 6572 602f 6069 7079 7468 6f6e 603a 2065  er`/`ipython`: e
-00001000: 6e61 626c 6573 2075 7365 206f 6620 7468  nables use of th
-00001010: 6520 602d 2d6a 7570 7974 6572 6020 2f20  e `--jupyter` / 
-00001020: 602d 2d69 7079 7468 6f6e 6020 666c 6167  `--ipython` flag
-00001030: 2e0d 0a2d 2060 7761 7463 6860 3a20 656e  ...- `watch`: en
-00001040: 6162 6c65 7320 7573 6520 6f66 2074 6865  ables use of the
-00001050: 2060 2d2d 7761 7463 6860 2066 6c61 672e   `--watch` flag.
-00001060: 0d0a 2d20 606d 7970 7960 3a20 656e 6162  ..- `mypy`: enab
-00001070: 6c65 7320 7573 6520 6f66 2074 6865 2060  les use of the `
-00001080: 2d2d 6d79 7079 6020 666c 6167 2e0d 0a2d  --mypy` flag...-
-00001090: 2060 6261 636b 706f 7274 7360 3a20 696e   `backports`: in
-000010a0: 7374 616c 6c73 206c 6962 7261 7269 6573  stalls libraries
-000010b0: 2074 6861 7420 6261 636b 706f 7274 206e   that backport n
-000010c0: 6577 6572 2050 7974 686f 6e20 6665 6174  ewer Python feat
-000010d0: 7572 6573 2074 6f20 6f6c 6465 7220 7665  ures to older ve
-000010e0: 7273 696f 6e73 2c20 7768 6963 6820 436f  rsions, which Co
-000010f0: 636f 6e75 7420 7769 6c6c 2061 7574 6f6d  conut will autom
-00001100: 6174 6963 616c 6c79 2075 7365 2069 6e73  atically use ins
-00001110: 7465 6164 206f 6620 7468 6520 7374 616e  tead of the stan
-00001120: 6461 7264 206c 6962 7261 7279 2069 6620  dard library if 
-00001130: 7468 6520 7374 616e 6461 7264 206c 6962  the standard lib
-00001140: 7261 7279 2069 7320 6e6f 7420 6176 6169  rary is not avai
-00001150: 6c61 626c 652e 2053 7065 6369 6669 6361  lable. Specifica
-00001160: 6c6c 793a 0d0a 2020 2d20 496e 7374 616c  lly:..  - Instal
-00001170: 6c73 205b 6064 6174 6163 6c61 7373 6573  ls [`dataclasses
-00001180: 605d 2868 7474 7073 3a2f 2f70 7970 692e  `](https://pypi.
-00001190: 6f72 672f 7072 6f6a 6563 742f 6461 7461  org/project/data
-000011a0: 636c 6173 7365 732f 2920 746f 2062 6163  classes/) to bac
-000011b0: 6b70 6f72 7420 5b60 6461 7461 636c 6173  kport [`dataclas
-000011c0: 7365 7360 5d28 6874 7470 733a 2f2f 646f  ses`](https://do
-000011d0: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-000011e0: 6c69 6272 6172 792f 6461 7461 636c 6173  library/dataclas
-000011f0: 7365 732e 6874 6d6c 292e 0d0a 2020 2d20  ses.html)...  - 
-00001200: 496e 7374 616c 6c73 205b 6074 7970 696e  Installs [`typin
-00001210: 6760 5d28 6874 7470 733a 2f2f 7079 7069  g`](https://pypi
-00001220: 2e6f 7267 2f70 726f 6a65 6374 2f74 7970  .org/project/typ
-00001230: 696e 672f 2920 746f 2062 6163 6b70 6f72  ing/) to backpor
-00001240: 7420 5b60 7479 7069 6e67 605d 2868 7474  t [`typing`](htt
-00001250: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
-00001260: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f74  .org/3/library/t
-00001270: 7970 696e 672e 6874 6d6c 2920 285b 6074  yping.html) ([`t
-00001280: 7970 696e 675f 6578 7465 6e73 696f 6e73  yping_extensions
-00001290: 605d 2868 7474 7073 3a2f 2f70 7970 692e  `](https://pypi.
-000012a0: 6f72 672f 7072 6f6a 6563 742f 7479 7069  org/project/typi
-000012b0: 6e67 2d65 7874 656e 7369 6f6e 732f 2920  ng-extensions/) 
-000012c0: 6973 2061 6c77 6179 7320 696e 7374 616c  is always instal
-000012d0: 6c65 6420 666f 7220 6261 636b 706f 7274  led for backport
-000012e0: 696e 6720 696e 6469 7669 6475 616c 2060  ing individual `
-000012f0: 7479 7069 6e67 6020 6f62 6a65 6374 7329  typing` objects)
-00001300: 2e0d 0a20 202d 2049 6e73 7461 6c6c 7320  ...  - Installs 
-00001310: 5b60 6165 6e75 6d60 5d28 6874 7470 733a  [`aenum`](https:
-00001320: 2f2f 7079 7069 2e6f 7267 2f70 726f 6a65  //pypi.org/proje
-00001330: 6374 2f61 656e 756d 2920 746f 2062 6163  ct/aenum) to bac
-00001340: 6b70 6f72 7420 5b60 656e 756d 605d 2868  kport [`enum`](h
-00001350: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
-00001360: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
-00001370: 2f65 6e75 6d2e 6874 6d6c 292e 0d0a 2020  /enum.html)...  
-00001380: 2d20 496e 7374 616c 6c73 205b 6061 7379  - Installs [`asy
-00001390: 6e63 5f67 656e 6572 6174 6f72 605d 2868  nc_generator`](h
-000013a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000013b0: 6d2f 7079 7468 6f6e 2d74 7269 6f2f 6173  m/python-trio/as
-000013c0: 796e 635f 6765 6e65 7261 746f 7229 2074  ync_generator) t
-000013d0: 6f20 6261 636b 706f 7274 205b 6061 7379  o backport [`asy
-000013e0: 6e63 6020 6765 6e65 7261 746f 7273 5d28  nc` generators](
-000013f0: 6874 7470 733a 2f2f 7065 7073 2e70 7974  https://peps.pyt
-00001400: 686f 6e2e 6f72 672f 7065 702d 3035 3235  hon.org/pep-0525
-00001410: 2f29 2061 6e64 205b 6061 7379 6e63 636f  /) and [`asyncco
-00001420: 6e74 6578 746d 616e 6167 6572 605d 2868  ntextmanager`](h
-00001430: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
-00001440: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
-00001450: 2f63 6f6e 7465 7874 6c69 622e 6874 6d6c  /contextlib.html
-00001460: 2363 6f6e 7465 7874 6c69 622e 6173 796e  #contextlib.asyn
-00001470: 6363 6f6e 7465 7874 6d61 6e61 6765 7229  ccontextmanager)
-00001480: 2e0d 0a20 202d 2049 6e73 7461 6c6c 7320  ...  - Installs 
-00001490: 5b60 7472 6f6c 6c69 7573 605d 2868 7474  [`trollius`](htt
-000014a0: 7073 3a2f 2f70 7970 692e 7079 7468 6f6e  ps://pypi.python
-000014b0: 2e6f 7267 2f70 7970 692f 7472 6f6c 6c69  .org/pypi/trolli
-000014c0: 7573 2920 746f 2062 6163 6b70 6f72 7420  us) to backport 
-000014d0: 5b60 6173 796e 6360 2f60 6177 6169 7460  [`async`/`await`
-000014e0: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-000014f0: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-00001500: 6172 792f 6173 796e 6369 6f2d 7461 736b  ary/asyncio-task
-00001510: 2e68 746d 6c29 2061 6e64 205b 6061 7379  .html) and [`asy
-00001520: 6e63 696f 605d 2868 7474 7073 3a2f 2f64  ncio`](https://d
-00001530: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-00001540: 2f6c 6962 7261 7279 2f61 7379 6e63 696f  /library/asyncio
-00001550: 2e68 746d 6c29 2e0d 0a2d 2060 786f 6e73  .html)...- `xons
-00001560: 6860 3a20 656e 6162 6c65 7320 7573 6520  h`: enables use 
-00001570: 6f66 2043 6f63 6f6e 7574 2773 205b 6078  of Coconut's [`x
-00001580: 6f6e 7368 6020 7375 7070 6f72 745d 2823  onsh` support](#
-00001590: 786f 6e73 682d 7375 7070 6f72 7429 2e0d  xonsh-support)..
-000015a0: 0a2d 2060 6b65 726e 656c 603a 206c 6967  .- `kernel`: lig
-000015b0: 6874 7765 6967 6874 2073 7562 7365 7420  htweight subset 
-000015c0: 6f66 2060 6a75 7079 7465 7260 2074 6861  of `jupyter` tha
-000015d0: 7420 6f6e 6c79 2069 6e63 6c75 6465 7320  t only includes 
-000015e0: 7468 6520 6465 7065 6e64 656e 6369 6573  the dependencies
-000015f0: 2074 6861 7420 6172 6520 7374 7269 6374   that are strict
-00001600: 6c79 206e 6563 6573 7361 7279 2066 6f72  ly necessary for
-00001610: 2043 6f63 6f6e 7574 2773 205b 4a75 7079   Coconut's [Jupy
-00001620: 7465 7220 6b65 726e 656c 5d28 236b 6572  ter kernel](#ker
-00001630: 6e65 6c29 2e0d 0a2d 2060 7465 7374 7360  nel)...- `tests`
-00001640: 3a20 6576 6572 7974 6869 6e67 206e 6563  : everything nec
-00001650: 6573 7361 7279 2074 6f20 7465 7374 2074  essary to test t
-00001660: 6865 2043 6f63 6f6e 7574 206c 616e 6775  he Coconut langu
-00001670: 6167 6520 6974 7365 6c66 2e0d 0a2d 2060  age itself...- `
-00001680: 646f 6373 603a 2065 7665 7279 7468 696e  docs`: everythin
-00001690: 6720 6e65 6365 7373 6172 7920 746f 2062  g necessary to b
-000016a0: 7569 6c64 2043 6f63 6f6e 7574 2773 2064  uild Coconut's d
-000016b0: 6f63 756d 656e 7461 7469 6f6e 2e0d 0a2d  ocumentation...-
-000016c0: 2060 6465 7660 3a20 6576 6572 7974 6869   `dev`: everythi
-000016d0: 6e67 206e 6563 6573 7361 7279 2074 6f20  ng necessary to 
-000016e0: 6465 7665 6c6f 7020 6f6e 2074 6865 2043  develop on the C
-000016f0: 6f63 6f6e 7574 206c 616e 6775 6167 6520  oconut language 
-00001700: 6974 7365 6c66 2c20 696e 636c 7564 696e  itself, includin
-00001710: 6720 616c 6c20 6f66 2074 6865 2064 6570  g all of the dep
-00001720: 656e 6465 6e63 6965 7320 6162 6f76 652e  endencies above.
-00001730: 0d0a 0d0a 2323 2323 2044 6576 656c 6f70  ....#### Develop
-00001740: 2056 6572 7369 6f6e 0d0a 0d0a 416c 7465   Version....Alte
-00001750: 726e 6174 6976 656c 792c 2069 6620 796f  rnatively, if yo
-00001760: 7520 7761 6e74 2074 6f20 7465 7374 206f  u want to test o
-00001770: 7574 2043 6f63 6f6e 7574 2773 206c 6174  ut Coconut's lat
-00001780: 6573 7420 616e 6420 6772 6561 7465 7374  est and greatest
-00001790: 2c20 656e 7465 720d 0a60 6060 0d0a 7069  , enter..```..pi
-000017a0: 7020 696e 7374 616c 6c20 636f 636f 6e75  p install coconu
-000017b0: 742d 6465 7665 6c6f 700d 0a60 6060 0d0a  t-develop..```..
-000017c0: 7768 6963 6820 7769 6c6c 2069 6e73 7461  which will insta
-000017d0: 6c6c 2074 6865 206d 6f73 7420 7265 6365  ll the most rece
-000017e0: 6e74 2077 6f72 6b69 6e67 2076 6572 7369  nt working versi
-000017f0: 6f6e 2066 726f 6d20 436f 636f 6e75 7427  on from Coconut'
-00001800: 7320 5b60 6465 7665 6c6f 7060 2062 7261  s [`develop` bra
-00001810: 6e63 685d 2868 7474 7073 3a2f 2f67 6974  nch](https://git
-00001820: 6875 622e 636f 6d2f 6576 6875 622f 636f  hub.com/evhub/co
-00001830: 636f 6e75 742f 7472 6565 2f64 6576 656c  conut/tree/devel
-00001840: 6f70 292e 204f 7074 696f 6e61 6c20 6465  op). Optional de
-00001850: 7065 6e64 656e 6379 2069 6e73 7461 6c6c  pendency install
-00001860: 6174 696f 6e20 6973 2073 7570 706f 7274  ation is support
-00001870: 6564 2069 6e20 7468 6520 7361 6d65 206d  ed in the same m
-00001880: 616e 6e65 7220 6173 2061 626f 7665 2e20  anner as above. 
-00001890: 466f 7220 6d6f 7265 2069 6e66 6f72 6d61  For more informa
-000018a0: 7469 6f6e 206f 6e20 7468 6520 6375 7272  tion on the curr
-000018b0: 656e 7420 6465 7665 6c6f 706d 656e 7420  ent development 
-000018c0: 6275 696c 642c 2063 6865 636b 206f 7574  build, check out
-000018d0: 2074 6865 205b 6465 7665 6c6f 706d 656e   the [developmen
-000018e0: 7420 7665 7273 696f 6e20 6f66 2074 6869  t version of thi
-000018f0: 7320 646f 6375 6d65 6e74 6174 696f 6e5d  s documentation]
-00001900: 2868 7474 703a 2f2f 636f 636f 6e75 742e  (http://coconut.
-00001910: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
-00001920: 6e2f 6465 7665 6c6f 702f 444f 4353 2e68  n/develop/DOCS.h
-00001930: 746d 6c29 2e20 4265 2077 6172 6e65 643a  tml). Be warned:
-00001940: 2060 636f 636f 6e75 742d 6465 7665 6c6f   `coconut-develo
-00001950: 7060 2069 7320 6c69 6b65 6c79 2074 6f20  p` is likely to 
-00001960: 6265 2075 6e73 7461 626c 65e2 8094 6966  be unstable...if
-00001970: 2079 6f75 2066 696e 6420 6120 6275 672c   you find a bug,
-00001980: 2070 6c65 6173 6520 7265 706f 7274 2069   please report i
-00001990: 7420 6279 205b 6372 6561 7469 6e67 2061  t by [creating a
-000019a0: 206e 6577 2069 7373 7565 5d28 6874 7470   new issue](http
-000019b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
-000019c0: 7668 7562 2f63 6f63 6f6e 7574 2f69 7373  vhub/coconut/iss
-000019d0: 7565 732f 6e65 7729 2e0d 0a0d 0a5f 4e6f  ues/new)....._No
-000019e0: 7465 3a20 6966 2079 6f75 2068 6176 6520  te: if you have 
-000019f0: 616e 2065 7869 7374 696e 6720 7265 6c65  an existing rele
-00001a00: 6173 6520 7665 7273 696f 6e20 6f66 2060  ase version of `
-00001a10: 636f 636f 6e75 7460 2069 6e73 7461 6c6c  coconut` install
-00001a20: 6564 2c20 796f 7527 6c6c 206e 6565 6420  ed, you'll need 
-00001a30: 746f 2060 7069 7020 756e 696e 7374 616c  to `pip uninstal
-00001a40: 6c20 636f 636f 6e75 7460 2062 6566 6f72  l coconut` befor
-00001a50: 6520 696e 7374 616c 6c69 6e67 2060 636f  e installing `co
-00001a60: 636f 6e75 742d 6465 7665 6c6f 7060 2e5f  conut-develop`._
-00001a70: 0d0a 0d0a 2323 2043 6f6d 7069 6c61 7469  ....## Compilati
-00001a80: 6f6e 0d0a 0d0a 6060 607b 636f 6e74 656e  on....```{conten
-00001a90: 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a  ts}..---..local:
-00001aa0: 0d0a 6465 7074 683a 2031 0d0a 2d2d 2d0d  ..depth: 1..---.
-00001ab0: 0a60 6060 0d0a 0d0a 2323 2323 2055 7361  .```....#### Usa
-00001ac0: 6765 0d0a 0d0a 6060 600d 0a63 6f63 6f6e  ge....```..cocon
-00001ad0: 7574 205b 2d68 5d20 5b2d 2d61 6e64 2073  ut [-h] [--and s
-00001ae0: 6f75 7263 6520 5b64 6573 7420 2e2e 2e5d  ource [dest ...]
-00001af0: 5d20 5b2d 765d 205b 2d74 2076 6572 7369  ] [-v] [-t versi
-00001b00: 6f6e 5d20 5b2d 695d 205b 2d70 5d20 5b2d  on] [-i] [-p] [-
-00001b10: 615d 205b 2d6c 5d20 5b2d 6b5d 205b 2d77  a] [-l] [-k] [-w
-00001b20: 5d0d 0a20 2020 2020 2020 205b 2d72 5d20  ]..        [-r] 
-00001b30: 5b2d 6e5d 205b 2d64 5d20 5b2d 715d 205b  [-n] [-d] [-q] [
-00001b40: 2d73 5d20 5b2d 2d6e 6f2d 7463 6f5d 205b  -s] [--no-tco] [
-00001b50: 2d2d 6e6f 2d77 7261 702d 7479 7065 735d  --no-wrap-types]
-00001b60: 205b 2d63 2063 6f64 655d 205b 2d6a 2070   [-c code] [-j p
-00001b70: 726f 6365 7373 6573 5d0d 0a20 2020 2020  rocesses]..     
-00001b80: 2020 205b 2d66 5d20 5b2d 2d6d 696e 6966     [-f] [--minif
-00001b90: 795d 205b 2d2d 6a75 7079 7465 7220 2e2e  y] [--jupyter ..
-00001ba0: 2e5d 205b 2d2d 6d79 7079 202e 2e2e 5d20  .] [--mypy ...] 
-00001bb0: 5b2d 2d61 7267 7620 2e2e 2e5d 205b 2d2d  [--argv ...] [--
-00001bc0: 7475 746f 7269 616c 5d0d 0a20 2020 2020  tutorial]..     
-00001bd0: 2020 205b 2d2d 646f 6373 5d20 5b2d 2d73     [--docs] [--s
-00001be0: 7479 6c65 206e 616d 655d 205b 2d2d 6869  tyle name] [--hi
-00001bf0: 7374 6f72 792d 6669 6c65 2070 6174 685d  story-file path]
-00001c00: 205b 2d2d 7669 2d6d 6f64 655d 0d0a 2020   [--vi-mode]..  
-00001c10: 2020 2020 2020 5b2d 2d72 6563 7572 7369        [--recursi
-00001c20: 6f6e 2d6c 696d 6974 206c 696d 6974 5d20  on-limit limit] 
-00001c30: 5b2d 2d73 7461 636b 2d73 697a 6520 6b62  [--stack-size kb
-00001c40: 735d 205b 2d2d 7369 7465 2d69 6e73 7461  s] [--site-insta
-00001c50: 6c6c 5d0d 0a20 2020 2020 2020 205b 2d2d  ll]..        [--
-00001c60: 7369 7465 2d75 6e69 6e73 7461 6c6c 5d20  site-uninstall] 
-00001c70: 5b2d 2d76 6572 626f 7365 5d20 5b2d 2d74  [--verbose] [--t
-00001c80: 7261 6365 5d20 5b2d 2d70 726f 6669 6c65  race] [--profile
-00001c90: 5d0d 0a20 2020 2020 2020 205b 736f 7572  ]..        [sour
-00001ca0: 6365 5d20 5b64 6573 745d 0d0a 6060 600d  ce] [dest]..```.
-00001cb0: 0a0d 0a23 2323 2323 2050 6f73 6974 696f  ...##### Positio
-00001cc0: 6e61 6c20 4172 6775 6d65 6e74 730d 0a0d  nal Arguments...
-00001cd0: 0a60 6060 0d0a 736f 7572 6365 2020 2020  .```..source    
-00001ce0: 2020 2020 2020 2020 2020 7061 7468 2074            path t
-00001cf0: 6f20 7468 6520 436f 636f 6e75 7420 6669  o the Coconut fi
-00001d00: 6c65 2f66 6f6c 6465 7220 746f 2063 6f6d  le/folder to com
-00001d10: 7069 6c65 0d0a 6465 7374 2020 2020 2020  pile..dest      
-00001d20: 2020 2020 2020 2020 2020 6465 7374 696e            destin
-00001d30: 6174 696f 6e20 6469 7265 6374 6f72 7920  ation directory 
-00001d40: 666f 7220 636f 6d70 696c 6564 2066 696c  for compiled fil
-00001d50: 6573 2028 6465 6661 756c 7473 2074 6f0d  es (defaults to.
-00001d60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001d70: 2020 2020 2074 6865 2073 6f75 7263 6520       the source 
-00001d80: 6469 7265 6374 6f72 7929 0d0a 6060 600d  directory)..```.
-00001d90: 0a0d 0a23 2323 2323 204f 7074 696f 6e61  ...##### Optiona
-00001da0: 6c20 4172 6775 6d65 6e74 730d 0a0d 0a60  l Arguments....`
-00001db0: 6060 0d0a 2020 2d68 2c20 2d2d 6865 6c70  ``..  -h, --help
-00001dc0: 2020 2020 2020 2020 2020 2020 7368 6f77              show
-00001dd0: 2074 6869 7320 6865 6c70 206d 6573 7361   this help messa
-00001de0: 6765 2061 6e64 2065 7869 740d 0a20 202d  ge and exit..  -
-00001df0: 2d61 6e64 2073 6f75 7263 6520 5b64 6573  -and source [des
-00001e00: 7420 2e2e 2e5d 0d0a 2020 2020 2020 2020  t ...]..        
+00000230: 6574 206f 6620 7468 6520 6c61 7465 7374  et of the latest
+00000240: 2050 7974 686f 6e20 3320 7379 6e74 6178   Python 3 syntax
+00000250: 2e20 5468 7573 2c20 7573 6572 7320 6661  . Thus, users fa
+00000260: 6d69 6c69 6172 2077 6974 6820 5079 7468  miliar with Pyth
+00000270: 6f6e 2077 696c 6c20 616c 7265 6164 7920  on will already 
+00000280: 6265 2066 616d 696c 6961 7220 7769 7468  be familiar with
+00000290: 206d 6f73 7420 6f66 2043 6f63 6f6e 7574   most of Coconut
+000002a0: 2e0d 0a0d 0a54 6865 2043 6f63 6f6e 7574  .....The Coconut
+000002b0: 2063 6f6d 7069 6c65 7220 7475 726e 7320   compiler turns 
+000002c0: 436f 636f 6e75 7420 636f 6465 2069 6e74  Coconut code int
+000002d0: 6f20 5079 7468 6f6e 2063 6f64 652e 2054  o Python code. T
+000002e0: 6865 2070 7269 6d61 7279 206d 6574 686f  he primary metho
+000002f0: 6420 6f66 2061 6363 6573 7369 6e67 2074  d of accessing t
+00000300: 6865 2043 6f63 6f6e 7574 2063 6f6d 7069  he Coconut compi
+00000310: 6c65 7220 6973 2074 6872 6f75 6768 2074  ler is through t
+00000320: 6865 2043 6f63 6f6e 7574 2063 6f6d 6d61  he Coconut comma
+00000330: 6e64 2d6c 696e 6520 7574 696c 6974 792c  nd-line utility,
+00000340: 2077 6869 6368 2061 6c73 6f20 6665 6174   which also feat
+00000350: 7572 6573 2061 6e20 696e 7465 7270 7265  ures an interpre
+00000360: 7465 7220 666f 7220 7265 616c 2d74 696d  ter for real-tim
+00000370: 6520 636f 6d70 696c 6174 696f 6e2e 2049  e compilation. I
+00000380: 6e20 6164 6469 7469 6f6e 2074 6f20 7468  n addition to th
+00000390: 6520 636f 6d6d 616e 642d 6c69 6e65 2075  e command-line u
+000003a0: 7469 6c69 7479 2c20 436f 636f 6e75 7420  tility, Coconut 
+000003b0: 616c 736f 2073 7570 706f 7274 7320 7468  also supports th
+000003c0: 6520 7573 6520 6f66 2049 5079 7468 6f6e  e use of IPython
+000003d0: 2f4a 7570 7974 6572 206e 6f74 6562 6f6f  /Jupyter noteboo
+000003e0: 6b73 2e0d 0a0d 0a54 686f 7567 6874 2043  ks.....Thought C
+000003f0: 6f63 6f6e 7574 2073 796e 7461 7820 6973  oconut syntax is
+00000400: 2070 7269 6d61 7269 6c79 2062 6173 6564   primarily based
+00000410: 206f 6e20 7468 6174 206f 6620 5079 7468   on that of Pyth
+00000420: 6f6e 2c20 6f74 6865 7220 6c61 6e67 7561  on, other langua
+00000430: 6765 7320 7468 6174 2069 6e73 7069 7265  ges that inspire
+00000440: 6420 436f 636f 6e75 7420 696e 636c 7564  d Coconut includ
+00000450: 6520 5b48 6173 6b65 6c6c 5d28 6874 7470  e [Haskell](http
+00000460: 733a 2f2f 7777 772e 6861 736b 656c 6c2e  s://www.haskell.
+00000470: 6f72 672f 292c 205b 436f 6666 6565 5363  org/), [CoffeeSc
+00000480: 7269 7074 5d28 6874 7470 3a2f 2f63 6f66  ript](http://cof
+00000490: 6665 6573 6372 6970 742e 6f72 672f 292c  feescript.org/),
+000004a0: 205b 4623 5d28 6874 7470 3a2f 2f66 7368   [F#](http://fsh
+000004b0: 6172 702e 6f72 672f 292c 2061 6e64 205b  arp.org/), and [
+000004c0: 4a75 6c69 615d 2868 7474 7073 3a2f 2f6a  Julia](https://j
+000004d0: 756c 6961 6c61 6e67 2e6f 7267 2f29 2e0d  ulialang.org/)..
+000004e0: 0a0d 0a23 2323 2320 5472 7920 4974 204f  ...#### Try It O
+000004f0: 7574 0d0a 0d0a 4966 2079 6f75 2077 616e  ut....If you wan
+00000500: 7420 746f 2074 7279 2043 6f63 6f6e 7574  t to try Coconut
+00000510: 2069 6e20 796f 7572 2062 726f 7773 6572   in your browser
+00000520: 2c20 6368 6563 6b20 6f75 7420 7468 6520  , check out the 
+00000530: 5b6f 6e6c 696e 6520 696e 7465 7270 7265  [online interpre
+00000540: 7465 725d 2868 7474 7073 3a2f 2f63 7331  ter](https://cs1
+00000550: 3231 2d74 6561 6d2d 7061 6e64 612e 6769  21-team-panda.gi
+00000560: 7468 7562 2e69 6f2f 636f 636f 6e75 742d  thub.io/coconut-
+00000570: 696e 7465 7270 7265 7465 7229 2e20 4e6f  interpreter). No
+00000580: 7465 2c20 686f 7765 7665 722c 2074 6861  te, however, tha
+00000590: 7420 6974 206d 6179 2062 6520 7275 6e6e  t it may be runn
+000005a0: 696e 6720 616e 206f 7574 6461 7465 6420  ing an outdated 
+000005b0: 7665 7273 696f 6e20 6f66 2043 6f63 6f6e  version of Cocon
+000005c0: 7574 2e0d 0a0d 0a23 2320 496e 7374 616c  ut.....## Instal
+000005d0: 6c61 7469 6f6e 0d0a 0d0a 6060 607b 636f  lation....```{co
+000005e0: 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f  ntents}..---..lo
+000005f0: 6361 6c3a 0d0a 6465 7074 683a 2032 0d0a  cal:..depth: 2..
+00000600: 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323 2323  ---..```....####
+00000610: 2055 7369 6e67 2050 6970 0d0a 0d0a 5369   Using Pip....Si
+00000620: 6e63 6520 436f 636f 6e75 7420 6973 2068  nce Coconut is h
+00000630: 6f73 7465 6420 6f6e 2074 6865 205b 5079  osted on the [Py
+00000640: 7468 6f6e 2050 6163 6b61 6765 2049 6e64  thon Package Ind
+00000650: 6578 5d28 6874 7470 733a 2f2f 7079 7069  ex](https://pypi
+00000660: 2e70 7974 686f 6e2e 6f72 672f 7079 7069  .python.org/pypi
+00000670: 2f63 6f63 6f6e 7574 292c 2069 7420 6361  /coconut), it ca
+00000680: 6e20 6265 2069 6e73 7461 6c6c 6564 2065  n be installed e
+00000690: 6173 696c 7920 7573 696e 6720 6070 6970  asily using `pip
+000006a0: 602e 2053 696d 706c 7920 5b69 6e73 7461  `. Simply [insta
+000006b0: 6c6c 2050 7974 686f 6e5d 2868 7474 7073  ll Python](https
+000006c0: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
+000006d0: 672f 646f 776e 6c6f 6164 732f 292c 206f  g/downloads/), o
+000006e0: 7065 6e20 7570 2061 2063 6f6d 6d61 6e64  pen up a command
+000006f0: 2d6c 696e 6520 7072 6f6d 7074 2c20 616e  -line prompt, an
+00000700: 6420 656e 7465 720d 0a60 6060 0d0a 7069  d enter..```..pi
+00000710: 7020 696e 7374 616c 6c20 636f 636f 6e75  p install coconu
+00000720: 740d 0a60 6060 0d0a 7768 6963 6820 7769  t..```..which wi
+00000730: 6c6c 2069 6e73 7461 6c6c 2043 6f63 6f6e  ll install Cocon
+00000740: 7574 2061 6e64 2069 7473 2072 6571 7569  ut and its requi
+00000750: 7265 6420 6465 7065 6e64 656e 6369 6573  red dependencies
+00000760: 2e0d 0a0d 0a5f 4e6f 7465 3a20 4966 2079  ....._Note: If y
+00000770: 6f75 2068 6176 6520 616e 206f 6c64 2076  ou have an old v
+00000780: 6572 7369 6f6e 206f 6620 436f 636f 6e75  ersion of Coconu
+00000790: 7420 696e 7374 616c 6c65 6420 616e 6420  t installed and 
+000007a0: 796f 7520 7761 6e74 2074 6f20 7570 6772  you want to upgr
+000007b0: 6164 652c 2072 756e 2060 7069 7020 696e  ade, run `pip in
+000007c0: 7374 616c 6c20 2d2d 7570 6772 6164 6520  stall --upgrade 
+000007d0: 636f 636f 6e75 7460 2069 6e73 7465 6164  coconut` instead
+000007e0: 2e5f 0d0a 0d0a 4966 2079 6f75 2061 7265  ._....If you are
+000007f0: 2065 6e63 6f75 6e74 6572 696e 6720 6572   encountering er
+00000800: 726f 7273 2072 756e 6e69 6e67 2060 7069  rors running `pi
+00000810: 7020 696e 7374 616c 6c20 636f 636f 6e75  p install coconu
+00000820: 7460 2c20 7472 7920 6164 6469 6e67 2060  t`, try adding `
+00000830: 2d2d 7573 6572 6020 6f72 2072 756e 6e69  --user` or runni
+00000840: 6e67 0d0a 6060 600d 0a70 6970 2069 6e73  ng..```..pip ins
+00000850: 7461 6c6c 202d 2d6e 6f2d 6465 7073 202d  tall --no-deps -
+00000860: 2d75 7067 7261 6465 2063 6f63 6f6e 7574  -upgrade coconut
+00000870: 2022 7079 7061 7273 696e 673c 3322 0d0a   "pyparsing<3"..
+00000880: 6060 600d 0a77 6869 6368 2077 696c 6c20  ```..which will 
+00000890: 666f 7263 6520 436f 636f 6e75 7420 746f  force Coconut to
+000008a0: 2075 7365 2074 6865 2070 7572 652d 5079   use the pure-Py
+000008b0: 7468 6f6e 205b 6070 7970 6172 7369 6e67  thon [`pyparsing
+000008c0: 605d 2868 7474 7073 3a2f 2f67 6974 6875  `](https://githu
+000008d0: 622e 636f 6d2f 7079 7061 7273 696e 672f  b.com/pyparsing/
+000008e0: 7079 7061 7273 696e 6729 206d 6f64 756c  pyparsing) modul
+000008f0: 6520 696e 7374 6561 6420 6f66 2074 6865  e instead of the
+00000900: 2066 6173 7465 7220 5b60 6350 7970 6172   faster [`cPypar
+00000910: 7369 6e67 605d 2868 7474 7073 3a2f 2f67  sing`](https://g
+00000920: 6974 6875 622e 636f 6d2f 6576 6875 622f  ithub.com/evhub/
+00000930: 6370 7970 6172 7369 6e67 2920 6d6f 6475  cpyparsing) modu
+00000940: 6c65 2e20 4966 2079 6f75 2061 7265 2073  le. If you are s
+00000950: 7469 6c6c 2067 6574 7469 6e67 2065 7272  till getting err
+00000960: 6f72 732c 2079 6f75 206d 6179 2077 616e  ors, you may wan
+00000970: 7420 746f 2074 7279 205b 7573 696e 6720  t to try [using 
+00000980: 636f 6e64 615d 2823 7573 696e 672d 636f  conda](#using-co
+00000990: 6e64 6129 2069 6e73 7465 6164 2e0d 0a0d  nda) instead....
+000009a0: 0a49 6620 6070 6970 2069 6e73 7461 6c6c  .If `pip install
+000009b0: 2063 6f63 6f6e 7574 6020 776f 726b 732c   coconut` works,
+000009c0: 2062 7574 2079 6f75 2063 616e 6e6f 7420   but you cannot 
+000009d0: 6163 6365 7373 2074 6865 2060 636f 636f  access the `coco
+000009e0: 6e75 7460 2063 6f6d 6d61 6e64 2c20 6265  nut` command, be
+000009f0: 2073 7572 6520 7468 6174 2043 6f63 6f6e   sure that Cocon
+00000a00: 7574 2773 2069 6e73 7461 6c6c 6174 696f  ut's installatio
+00000a10: 6e20 6c6f 6361 7469 6f6e 2069 7320 696e  n location is in
+00000a20: 2079 6f75 7220 6050 4154 4860 2065 6e76   your `PATH` env
+00000a30: 6972 6f6e 6d65 6e74 2076 6172 6961 626c  ironment variabl
+00000a40: 652e 204f 6e20 554e 4958 2c20 7468 6174  e. On UNIX, that
+00000a50: 2069 7320 602f 7573 722f 6c6f 6361 6c2f   is `/usr/local/
+00000a60: 6269 6e60 2028 7769 7468 6f75 7420 602d  bin` (without `-
+00000a70: 2d75 7365 7260 2920 6f72 2060 247b 484f  -user`) or `${HO
+00000a80: 4d45 7d2f 2e6c 6f63 616c 2f62 696e 2f60  ME}/.local/bin/`
+00000a90: 2028 7769 7468 2060 2d2d 7573 6572 6029   (with `--user`)
+00000aa0: 2e0d 0a0d 0a23 2323 2320 5573 696e 6720  .....#### Using 
+00000ab0: 436f 6e64 610d 0a0d 0a49 6620 796f 7520  Conda....If you 
+00000ac0: 7072 6566 6572 2074 6f20 7573 6520 5b60  prefer to use [`
+00000ad0: 636f 6e64 6160 5d28 6874 7470 733a 2f2f  conda`](https://
+00000ae0: 636f 6e64 612e 696f 2f64 6f63 732f 2920  conda.io/docs/) 
+00000af0: 696e 7374 6561 6420 6f66 2060 7069 7060  instead of `pip`
+00000b00: 2074 6f20 6d61 6e61 6765 2079 6f75 7220   to manage your 
+00000b10: 5079 7468 6f6e 2070 6163 6b61 6765 732c  Python packages,
+00000b20: 2079 6f75 2063 616e 2061 6c73 6f20 696e   you can also in
+00000b30: 7374 616c 6c20 436f 636f 6e75 7420 7573  stall Coconut us
+00000b40: 696e 6720 6063 6f6e 6461 602e 204a 7573  ing `conda`. Jus
+00000b50: 7420 5b69 6e73 7461 6c6c 2060 636f 6e64  t [install `cond
+00000b60: 6160 5d28 6874 7470 733a 2f2f 636f 6e64  a`](https://cond
+00000b70: 612e 696f 2f6d 696e 6963 6f6e 6461 2e68  a.io/miniconda.h
+00000b80: 746d 6c29 2c20 6f70 656e 2075 7020 6120  tml), open up a 
+00000b90: 636f 6d6d 616e 642d 6c69 6e65 2070 726f  command-line pro
+00000ba0: 6d70 742c 2061 6e64 2065 6e74 6572 0d0a  mpt, and enter..
+00000bb0: 6060 600d 0a63 6f6e 6461 2063 6f6e 6669  ```..conda confi
+00000bc0: 6720 2d2d 6164 6420 6368 616e 6e65 6c73  g --add channels
+00000bd0: 2063 6f6e 6461 2d66 6f72 6765 0d0a 636f   conda-forge..co
+00000be0: 6e64 6120 696e 7374 616c 6c20 636f 636f  nda install coco
+00000bf0: 6e75 740d 0a60 6060 0d0a 7768 6963 6820  nut..```..which 
+00000c00: 7769 6c6c 2070 726f 7065 726c 7920 6372  will properly cr
+00000c10: 6561 7465 2061 6e64 2062 7569 6c64 2061  eate and build a
+00000c20: 2060 636f 6e64 6160 2072 6563 6970 6520   `conda` recipe 
+00000c30: 6f75 7420 6f66 205b 436f 636f 6e75 7427  out of [Coconut'
+00000c40: 7320 6063 6f6e 6461 2d66 6f72 6765 6020  s `conda-forge` 
+00000c50: 6665 6564 7374 6f63 6b5d 2868 7474 7073  feedstock](https
+00000c60: 3a2f 2f67 6974 6875 622e 636f 6d2f 636f  ://github.com/co
+00000c70: 6e64 612d 666f 7267 652f 636f 636f 6e75  nda-forge/coconu
+00000c80: 742d 6665 6564 7374 6f63 6b29 2e0d 0a0d  t-feedstock)....
+00000c90: 0a5f 4e6f 7465 3a20 436f 636f 6e75 7427  ._Note: Coconut'
+00000ca0: 7320 6063 6f6e 6461 6020 7265 6369 7065  s `conda` recipe
+00000cb0: 2075 7365 7320 6070 7970 6172 7369 6e67   uses `pyparsing
+00000cc0: 6020 7261 7468 6572 2074 6861 6e20 6063  ` rather than `c
+00000cd0: 5079 7061 7273 696e 6760 2c20 7768 6963  Pyparsing`, whic
+00000ce0: 6820 6d61 7920 6c65 6164 2074 6f20 6465  h may lead to de
+00000cf0: 6772 6164 6564 2070 6572 666f 726d 616e  graded performan
+00000d00: 6365 2072 656c 6174 6976 6520 746f 2069  ce relative to i
+00000d10: 6e73 7461 6c6c 696e 6720 436f 636f 6e75  nstalling Coconu
+00000d20: 7420 7669 6120 6070 6970 602e 5f0d 0a0d  t via `pip`._...
+00000d30: 0a23 2323 2320 5573 696e 6720 486f 6d65  .#### Using Home
+00000d40: 6272 6577 0d0a 0d0a 4966 2079 6f75 2070  brew....If you p
+00000d50: 7265 6665 7220 746f 2075 7365 205b 486f  refer to use [Ho
+00000d60: 6d65 6272 6577 5d28 6874 7470 733a 2f2f  mebrew](https://
+00000d70: 6272 6577 2e73 682f 292c 2079 6f75 2063  brew.sh/), you c
+00000d80: 616e 2061 6c73 6f20 696e 7374 616c 6c20  an also install 
+00000d90: 436f 636f 6e75 7420 7573 696e 6720 6062  Coconut using `b
+00000da0: 7265 7760 3a0d 0a60 6060 0d0a 6272 6577  rew`:..```..brew
+00000db0: 2069 6e73 7461 6c6c 2063 6f63 6f6e 7574   install coconut
+00000dc0: 0d0a 6060 600d 0a0d 0a5f 4e6f 7465 3a20  ..```...._Note: 
+00000dd0: 436f 636f 6e75 7427 7320 486f 6d65 6272  Coconut's Homebr
+00000de0: 6577 2066 6f72 6d75 6c61 206d 6179 206e  ew formula may n
+00000df0: 6f74 2061 6c77 6179 7320 6265 2075 702d  ot always be up-
+00000e00: 746f 2d64 6174 6520 7769 7468 2074 6865  to-date with the
+00000e10: 206c 6174 6573 7420 7665 7273 696f 6e20   latest version 
+00000e20: 6f66 2043 6f63 6f6e 7574 2e5f 0d0a 0d0a  of Coconut._....
+00000e30: 2323 2323 204f 7074 696f 6e61 6c20 4465  #### Optional De
+00000e40: 7065 6e64 656e 6369 6573 0d0a 0d0a 436f  pendencies....Co
+00000e50: 636f 6e75 7420 616c 736f 2068 6173 206f  conut also has o
+00000e60: 7074 696f 6e61 6c20 6465 7065 6e64 656e  ptional dependen
+00000e70: 6369 6573 2c20 7768 6963 6820 6361 6e20  cies, which can 
+00000e80: 6265 2069 6e73 7461 6c6c 6564 2062 7920  be installed by 
+00000e90: 656e 7465 7269 6e67 0d0a 6060 600d 0a70  entering..```..p
+00000ea0: 6970 2069 6e73 7461 6c6c 2063 6f63 6f6e  ip install cocon
+00000eb0: 7574 5b6e 616d 655f 6f66 5f6f 7074 696f  ut[name_of_optio
+00000ec0: 6e61 6c5f 6465 7065 6e64 656e 6379 5d0d  nal_dependency].
+00000ed0: 0a60 6060 0d0a 6f72 2c20 746f 2069 6e73  .```..or, to ins
+00000ee0: 7461 6c6c 206d 756c 7469 706c 6520 6f70  tall multiple op
+00000ef0: 7469 6f6e 616c 2064 6570 656e 6465 6e63  tional dependenc
+00000f00: 6965 732c 0d0a 6060 600d 0a70 6970 2069  ies,..```..pip i
+00000f10: 6e73 7461 6c6c 2063 6f63 6f6e 7574 5b6f  nstall coconut[o
+00000f20: 7074 5f64 6570 5f31 2c6f 7074 5f64 6570  pt_dep_1,opt_dep
+00000f30: 5f32 5d0d 0a60 6060 0d0a 0d0a 5468 6520  _2]..```....The 
+00000f40: 6675 6c6c 206c 6973 7420 6f66 206f 7074  full list of opt
+00000f50: 696f 6e61 6c20 6465 7065 6e64 656e 6369  ional dependenci
+00000f60: 6573 2069 733a 0d0a 0d0a 2d20 6061 6c6c  es is:....- `all
+00000f70: 603a 2061 6c69 6173 2066 6f72 2060 6a75  `: alias for `ju
+00000f80: 7079 7465 722c 7761 7463 682c 6d79 7079  pyter,watch,mypy
+00000f90: 2c62 6163 6b70 6f72 7473 2c78 6f6e 7368  ,backports,xonsh
+00000fa0: 6020 2874 6869 7320 6973 2074 6865 2072  ` (this is the r
+00000fb0: 6563 6f6d 6d65 6e64 6564 2077 6179 2074  ecommended way t
+00000fc0: 6f20 696e 7374 616c 6c20 6120 6665 6174  o install a feat
+00000fd0: 7572 652d 636f 6d70 6c65 7465 2076 6572  ure-complete ver
+00000fe0: 7369 6f6e 206f 6620 436f 636f 6e75 7429  sion of Coconut)
+00000ff0: 2e0d 0a2d 2060 6a75 7079 7465 7260 2f60  ...- `jupyter`/`
+00001000: 6970 7974 686f 6e60 3a20 656e 6162 6c65  ipython`: enable
+00001010: 7320 7573 6520 6f66 2074 6865 2060 2d2d  s use of the `--
+00001020: 6a75 7079 7465 7260 202f 2060 2d2d 6970  jupyter` / `--ip
+00001030: 7974 686f 6e60 2066 6c61 672e 0d0a 2d20  ython` flag...- 
+00001040: 6077 6174 6368 603a 2065 6e61 626c 6573  `watch`: enables
+00001050: 2075 7365 206f 6620 7468 6520 602d 2d77   use of the `--w
+00001060: 6174 6368 6020 666c 6167 2e0d 0a2d 2060  atch` flag...- `
+00001070: 6d79 7079 603a 2065 6e61 626c 6573 2075  mypy`: enables u
+00001080: 7365 206f 6620 7468 6520 602d 2d6d 7970  se of the `--myp
+00001090: 7960 2066 6c61 672e 0d0a 2d20 6062 6163  y` flag...- `bac
+000010a0: 6b70 6f72 7473 603a 2069 6e73 7461 6c6c  kports`: install
+000010b0: 7320 6c69 6272 6172 6965 7320 7468 6174  s libraries that
+000010c0: 2062 6163 6b70 6f72 7420 6e65 7765 7220   backport newer 
+000010d0: 5079 7468 6f6e 2066 6561 7475 7265 7320  Python features 
+000010e0: 746f 206f 6c64 6572 2076 6572 7369 6f6e  to older version
+000010f0: 732c 2077 6869 6368 2043 6f63 6f6e 7574  s, which Coconut
+00001100: 2077 696c 6c20 6175 746f 6d61 7469 6361   will automatica
+00001110: 6c6c 7920 7573 6520 696e 7374 6561 6420  lly use instead 
+00001120: 6f66 2074 6865 2073 7461 6e64 6172 6420  of the standard 
+00001130: 6c69 6272 6172 7920 6966 2074 6865 2073  library if the s
+00001140: 7461 6e64 6172 6420 6c69 6272 6172 7920  tandard library 
+00001150: 6973 206e 6f74 2061 7661 696c 6162 6c65  is not available
+00001160: 2e20 5370 6563 6966 6963 616c 6c79 3a0d  . Specifically:.
+00001170: 0a20 202d 2049 6e73 7461 6c6c 7320 5b60  .  - Installs [`
+00001180: 6461 7461 636c 6173 7365 7360 5d28 6874  dataclasses`](ht
+00001190: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
+000011a0: 726f 6a65 6374 2f64 6174 6163 6c61 7373  roject/dataclass
+000011b0: 6573 2f29 2074 6f20 6261 636b 706f 7274  es/) to backport
+000011c0: 205b 6064 6174 6163 6c61 7373 6573 605d   [`dataclasses`]
+000011d0: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
+000011e0: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
+000011f0: 7279 2f64 6174 6163 6c61 7373 6573 2e68  ry/dataclasses.h
+00001200: 746d 6c29 2e0d 0a20 202d 2049 6e73 7461  tml)...  - Insta
+00001210: 6c6c 7320 5b60 7479 7069 6e67 605d 2868  lls [`typing`](h
+00001220: 7474 7073 3a2f 2f70 7970 692e 6f72 672f  ttps://pypi.org/
+00001230: 7072 6f6a 6563 742f 7479 7069 6e67 2f29  project/typing/)
+00001240: 2074 6f20 6261 636b 706f 7274 205b 6074   to backport [`t
+00001250: 7970 696e 6760 5d28 6874 7470 733a 2f2f  yping`](https://
+00001260: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
+00001270: 332f 6c69 6272 6172 792f 7479 7069 6e67  3/library/typing
+00001280: 2e68 746d 6c29 2028 5b60 7479 7069 6e67  .html) ([`typing
+00001290: 5f65 7874 656e 7369 6f6e 7360 5d28 6874  _extensions`](ht
+000012a0: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
+000012b0: 726f 6a65 6374 2f74 7970 696e 672d 6578  roject/typing-ex
+000012c0: 7465 6e73 696f 6e73 2f29 2069 7320 616c  tensions/) is al
+000012d0: 7761 7973 2069 6e73 7461 6c6c 6564 2066  ways installed f
+000012e0: 6f72 2062 6163 6b70 6f72 7469 6e67 2069  or backporting i
+000012f0: 6e64 6976 6964 7561 6c20 6074 7970 696e  ndividual `typin
+00001300: 6760 206f 626a 6563 7473 292e 0d0a 2020  g` objects)...  
+00001310: 2d20 496e 7374 616c 6c73 205b 6061 656e  - Installs [`aen
+00001320: 756d 605d 2868 7474 7073 3a2f 2f70 7970  um`](https://pyp
+00001330: 692e 6f72 672f 7072 6f6a 6563 742f 6165  i.org/project/ae
+00001340: 6e75 6d29 2074 6f20 6261 636b 706f 7274  num) to backport
+00001350: 205b 6065 6e75 6d60 5d28 6874 7470 733a   [`enum`](https:
+00001360: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
+00001370: 672f 332f 6c69 6272 6172 792f 656e 756d  g/3/library/enum
+00001380: 2e68 746d 6c29 2e0d 0a20 202d 2049 6e73  .html)...  - Ins
+00001390: 7461 6c6c 7320 5b60 6173 796e 635f 6765  talls [`async_ge
+000013a0: 6e65 7261 746f 7260 5d28 6874 7470 733a  nerator`](https:
+000013b0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000013c0: 686f 6e2d 7472 696f 2f61 7379 6e63 5f67  hon-trio/async_g
+000013d0: 656e 6572 6174 6f72 2920 746f 2062 6163  enerator) to bac
+000013e0: 6b70 6f72 7420 5b60 6173 796e 6360 2067  kport [`async` g
+000013f0: 656e 6572 6174 6f72 735d 2868 7474 7073  enerators](https
+00001400: 3a2f 2f70 6570 732e 7079 7468 6f6e 2e6f  ://peps.python.o
+00001410: 7267 2f70 6570 2d30 3532 352f 2920 616e  rg/pep-0525/) an
+00001420: 6420 5b60 6173 796e 6363 6f6e 7465 7874  d [`asynccontext
+00001430: 6d61 6e61 6765 7260 5d28 6874 7470 733a  manager`](https:
+00001440: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
+00001450: 672f 332f 6c69 6272 6172 792f 636f 6e74  g/3/library/cont
+00001460: 6578 746c 6962 2e68 746d 6c23 636f 6e74  extlib.html#cont
+00001470: 6578 746c 6962 2e61 7379 6e63 636f 6e74  extlib.asynccont
+00001480: 6578 746d 616e 6167 6572 292e 0d0a 2020  extmanager)...  
+00001490: 2d20 496e 7374 616c 6c73 205b 6074 726f  - Installs [`tro
+000014a0: 6c6c 6975 7360 5d28 6874 7470 733a 2f2f  llius`](https://
+000014b0: 7079 7069 2e70 7974 686f 6e2e 6f72 672f  pypi.python.org/
+000014c0: 7079 7069 2f74 726f 6c6c 6975 7329 2074  pypi/trollius) t
+000014d0: 6f20 6261 636b 706f 7274 205b 6061 7379  o backport [`asy
+000014e0: 6e63 602f 6061 7761 6974 605d 2868 7474  nc`/`await`](htt
+000014f0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00001500: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f61  .org/3/library/a
+00001510: 7379 6e63 696f 2d74 6173 6b2e 6874 6d6c  syncio-task.html
+00001520: 2920 616e 6420 5b60 6173 796e 6369 6f60  ) and [`asyncio`
+00001530: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+00001540: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+00001550: 6172 792f 6173 796e 6369 6f2e 6874 6d6c  ary/asyncio.html
+00001560: 292e 0d0a 2d20 6078 6f6e 7368 603a 2065  )...- `xonsh`: e
+00001570: 6e61 626c 6573 2075 7365 206f 6620 436f  nables use of Co
+00001580: 636f 6e75 7427 7320 5b60 786f 6e73 6860  conut's [`xonsh`
+00001590: 2073 7570 706f 7274 5d28 2378 6f6e 7368   support](#xonsh
+000015a0: 2d73 7570 706f 7274 292e 0d0a 2d20 606b  -support)...- `k
+000015b0: 6572 6e65 6c60 3a20 6c69 6768 7477 6569  ernel`: lightwei
+000015c0: 6768 7420 7375 6273 6574 206f 6620 606a  ght subset of `j
+000015d0: 7570 7974 6572 6020 7468 6174 206f 6e6c  upyter` that onl
+000015e0: 7920 696e 636c 7564 6573 2074 6865 2064  y includes the d
+000015f0: 6570 656e 6465 6e63 6965 7320 7468 6174  ependencies that
+00001600: 2061 7265 2073 7472 6963 746c 7920 6e65   are strictly ne
+00001610: 6365 7373 6172 7920 666f 7220 436f 636f  cessary for Coco
+00001620: 6e75 7427 7320 5b4a 7570 7974 6572 206b  nut's [Jupyter k
+00001630: 6572 6e65 6c5d 2823 6b65 726e 656c 292e  ernel](#kernel).
+00001640: 0d0a 2d20 6074 6573 7473 603a 2065 7665  ..- `tests`: eve
+00001650: 7279 7468 696e 6720 6e65 6365 7373 6172  rything necessar
+00001660: 7920 746f 2074 6573 7420 7468 6520 436f  y to test the Co
+00001670: 636f 6e75 7420 6c61 6e67 7561 6765 2069  conut language i
+00001680: 7473 656c 662e 0d0a 2d20 6064 6f63 7360  tself...- `docs`
+00001690: 3a20 6576 6572 7974 6869 6e67 206e 6563  : everything nec
+000016a0: 6573 7361 7279 2074 6f20 6275 696c 6420  essary to build 
+000016b0: 436f 636f 6e75 7427 7320 646f 6375 6d65  Coconut's docume
+000016c0: 6e74 6174 696f 6e2e 0d0a 2d20 6064 6576  ntation...- `dev
+000016d0: 603a 2065 7665 7279 7468 696e 6720 6e65  `: everything ne
+000016e0: 6365 7373 6172 7920 746f 2064 6576 656c  cessary to devel
+000016f0: 6f70 206f 6e20 7468 6520 436f 636f 6e75  op on the Coconu
+00001700: 7420 6c61 6e67 7561 6765 2069 7473 656c  t language itsel
+00001710: 662c 2069 6e63 6c75 6469 6e67 2061 6c6c  f, including all
+00001720: 206f 6620 7468 6520 6465 7065 6e64 656e   of the dependen
+00001730: 6369 6573 2061 626f 7665 2e0d 0a0d 0a23  cies above.....#
+00001740: 2323 2320 4465 7665 6c6f 7020 5665 7273  ### Develop Vers
+00001750: 696f 6e0d 0a0d 0a41 6c74 6572 6e61 7469  ion....Alternati
+00001760: 7665 6c79 2c20 6966 2079 6f75 2077 616e  vely, if you wan
+00001770: 7420 746f 2074 6573 7420 6f75 7420 436f  t to test out Co
+00001780: 636f 6e75 7427 7320 6c61 7465 7374 2061  conut's latest a
+00001790: 6e64 2067 7265 6174 6573 742c 2065 6e74  nd greatest, ent
+000017a0: 6572 0d0a 6060 600d 0a70 6970 2069 6e73  er..```..pip ins
+000017b0: 7461 6c6c 2063 6f63 6f6e 7574 2d64 6576  tall coconut-dev
+000017c0: 656c 6f70 0d0a 6060 600d 0a77 6869 6368  elop..```..which
+000017d0: 2077 696c 6c20 696e 7374 616c 6c20 7468   will install th
+000017e0: 6520 6d6f 7374 2072 6563 656e 7420 776f  e most recent wo
+000017f0: 726b 696e 6720 7665 7273 696f 6e20 6672  rking version fr
+00001800: 6f6d 2043 6f63 6f6e 7574 2773 205b 6064  om Coconut's [`d
+00001810: 6576 656c 6f70 6020 6272 616e 6368 5d28  evelop` branch](
+00001820: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00001830: 6f6d 2f65 7668 7562 2f63 6f63 6f6e 7574  om/evhub/coconut
+00001840: 2f74 7265 652f 6465 7665 6c6f 7029 2e20  /tree/develop). 
+00001850: 4f70 7469 6f6e 616c 2064 6570 656e 6465  Optional depende
+00001860: 6e63 7920 696e 7374 616c 6c61 7469 6f6e  ncy installation
+00001870: 2069 7320 7375 7070 6f72 7465 6420 696e   is supported in
+00001880: 2074 6865 2073 616d 6520 6d61 6e6e 6572   the same manner
+00001890: 2061 7320 6162 6f76 652e 2046 6f72 206d   as above. For m
+000018a0: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
+000018b0: 6f6e 2074 6865 2063 7572 7265 6e74 2064  on the current d
+000018c0: 6576 656c 6f70 6d65 6e74 2062 7569 6c64  evelopment build
+000018d0: 2c20 6368 6563 6b20 6f75 7420 7468 6520  , check out the 
+000018e0: 5b64 6576 656c 6f70 6d65 6e74 2076 6572  [development ver
+000018f0: 7369 6f6e 206f 6620 7468 6973 2064 6f63  sion of this doc
+00001900: 756d 656e 7461 7469 6f6e 5d28 6874 7470  umentation](http
+00001910: 3a2f 2f63 6f63 6f6e 7574 2e72 6561 6474  ://coconut.readt
+00001920: 6865 646f 6373 2e69 6f2f 656e 2f64 6576  hedocs.io/en/dev
+00001930: 656c 6f70 2f44 4f43 532e 6874 6d6c 292e  elop/DOCS.html).
+00001940: 2042 6520 7761 726e 6564 3a20 6063 6f63   Be warned: `coc
+00001950: 6f6e 7574 2d64 6576 656c 6f70 6020 6973  onut-develop` is
+00001960: 206c 696b 656c 7920 746f 2062 6520 756e   likely to be un
+00001970: 7374 6162 6c65 e280 9469 6620 796f 7520  stable...if you 
+00001980: 6669 6e64 2061 2062 7567 2c20 706c 6561  find a bug, plea
+00001990: 7365 2072 6570 6f72 7420 6974 2062 7920  se report it by 
+000019a0: 5b63 7265 6174 696e 6720 6120 6e65 7720  [creating a new 
+000019b0: 6973 7375 655d 2868 7474 7073 3a2f 2f67  issue](https://g
+000019c0: 6974 6875 622e 636f 6d2f 6576 6875 622f  ithub.com/evhub/
+000019d0: 636f 636f 6e75 742f 6973 7375 6573 2f6e  coconut/issues/n
+000019e0: 6577 292e 0d0a 0d0a 5f4e 6f74 653a 2069  ew)....._Note: i
+000019f0: 6620 796f 7520 6861 7665 2061 6e20 6578  f you have an ex
+00001a00: 6973 7469 6e67 2072 656c 6561 7365 2076  isting release v
+00001a10: 6572 7369 6f6e 206f 6620 6063 6f63 6f6e  ersion of `cocon
+00001a20: 7574 6020 696e 7374 616c 6c65 642c 2079  ut` installed, y
+00001a30: 6f75 276c 6c20 6e65 6564 2074 6f20 6070  ou'll need to `p
+00001a40: 6970 2075 6e69 6e73 7461 6c6c 2063 6f63  ip uninstall coc
+00001a50: 6f6e 7574 6020 6265 666f 7265 2069 6e73  onut` before ins
+00001a60: 7461 6c6c 696e 6720 6063 6f63 6f6e 7574  talling `coconut
+00001a70: 2d64 6576 656c 6f70 602e 5f0d 0a0d 0a23  -develop`._....#
+00001a80: 2320 436f 6d70 696c 6174 696f 6e0d 0a0d  # Compilation...
+00001a90: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+00001aa0: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+00001ab0: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
+00001ac0: 0a0d 0a23 2323 2320 5573 6167 650d 0a0d  ...#### Usage...
+00001ad0: 0a60 6060 0d0a 636f 636f 6e75 7420 5b2d  .```..coconut [-
+00001ae0: 685d 205b 2d2d 616e 6420 736f 7572 6365  h] [--and source
+00001af0: 205b 6465 7374 202e 2e2e 5d5d 205b 2d76   [dest ...]] [-v
+00001b00: 5d20 5b2d 7420 7665 7273 696f 6e5d 205b  ] [-t version] [
+00001b10: 2d69 5d20 5b2d 705d 205b 2d61 5d20 5b2d  -i] [-p] [-a] [-
+00001b20: 6c5d 205b 2d6b 5d20 5b2d 775d 0d0a 2020  l] [-k] [-w]..  
+00001b30: 2020 2020 2020 5b2d 725d 205b 2d6e 5d20        [-r] [-n] 
+00001b40: 5b2d 645d 205b 2d71 5d20 5b2d 735d 205b  [-d] [-q] [-s] [
+00001b50: 2d2d 6e6f 2d74 636f 5d20 5b2d 2d6e 6f2d  --no-tco] [--no-
+00001b60: 7772 6170 2d74 7970 6573 5d20 5b2d 6320  wrap-types] [-c 
+00001b70: 636f 6465 5d20 5b2d 6a20 7072 6f63 6573  code] [-j proces
+00001b80: 7365 735d 0d0a 2020 2020 2020 2020 5b2d  ses]..        [-
+00001b90: 665d 205b 2d2d 6d69 6e69 6679 5d20 5b2d  f] [--minify] [-
+00001ba0: 2d6a 7570 7974 6572 202e 2e2e 5d20 5b2d  -jupyter ...] [-
+00001bb0: 2d6d 7970 7920 2e2e 2e5d 205b 2d2d 6172  -mypy ...] [--ar
+00001bc0: 6776 202e 2e2e 5d20 5b2d 2d74 7574 6f72  gv ...] [--tutor
+00001bd0: 6961 6c5d 0d0a 2020 2020 2020 2020 5b2d  ial]..        [-
+00001be0: 2d64 6f63 735d 205b 2d2d 7374 796c 6520  -docs] [--style 
+00001bf0: 6e61 6d65 5d20 5b2d 2d68 6973 746f 7279  name] [--history
+00001c00: 2d66 696c 6520 7061 7468 5d20 5b2d 2d76  -file path] [--v
+00001c10: 692d 6d6f 6465 5d0d 0a20 2020 2020 2020  i-mode]..       
+00001c20: 205b 2d2d 7265 6375 7273 696f 6e2d 6c69   [--recursion-li
+00001c30: 6d69 7420 6c69 6d69 745d 205b 2d2d 7374  mit limit] [--st
+00001c40: 6163 6b2d 7369 7a65 206b 6273 5d20 5b2d  ack-size kbs] [-
+00001c50: 2d73 6974 652d 696e 7374 616c 6c5d 0d0a  -site-install]..
+00001c60: 2020 2020 2020 2020 5b2d 2d73 6974 652d          [--site-
+00001c70: 756e 696e 7374 616c 6c5d 205b 2d2d 7665  uninstall] [--ve
+00001c80: 7262 6f73 655d 205b 2d2d 7472 6163 655d  rbose] [--trace]
+00001c90: 205b 2d2d 7072 6f66 696c 655d 0d0a 2020   [--profile]..  
+00001ca0: 2020 2020 2020 5b73 6f75 7263 655d 205b        [source] [
+00001cb0: 6465 7374 5d0d 0a60 6060 0d0a 0d0a 2323  dest]..```....##
+00001cc0: 2323 2320 506f 7369 7469 6f6e 616c 2041  ### Positional A
+00001cd0: 7267 756d 656e 7473 0d0a 0d0a 6060 600d  rguments....```.
+00001ce0: 0a73 6f75 7263 6520 2020 2020 2020 2020  .source         
+00001cf0: 2020 2020 2070 6174 6820 746f 2074 6865       path to the
+00001d00: 2043 6f63 6f6e 7574 2066 696c 652f 666f   Coconut file/fo
+00001d10: 6c64 6572 2074 6f20 636f 6d70 696c 650d  lder to compile.
+00001d20: 0a64 6573 7420 2020 2020 2020 2020 2020  .dest           
+00001d30: 2020 2020 2064 6573 7469 6e61 7469 6f6e       destination
+00001d40: 2064 6972 6563 746f 7279 2066 6f72 2063   directory for c
+00001d50: 6f6d 7069 6c65 6420 6669 6c65 7320 2864  ompiled files (d
+00001d60: 6566 6175 6c74 7320 746f 0d0a 2020 2020  efaults to..    
+00001d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d80: 7468 6520 736f 7572 6365 2064 6972 6563  the source direc
+00001d90: 746f 7279 290d 0a60 6060 0d0a 0d0a 2323  tory)..```....##
+00001da0: 2323 2320 4f70 7469 6f6e 616c 2041 7267  ### Optional Arg
+00001db0: 756d 656e 7473 0d0a 0d0a 6060 600d 0a2d  uments....```..-
+00001dc0: 682c 202d 2d68 656c 7020 2020 2020 2020  h, --help       
+00001dd0: 2020 2020 2073 686f 7720 7468 6973 2068       show this h
+00001de0: 656c 7020 6d65 7373 6167 6520 616e 6420  elp message and 
+00001df0: 6578 6974 0d0a 2d2d 616e 6420 736f 7572  exit..--and sour
+00001e00: 6365 205b 6465 7374 202e 2e2e 5d0d 0a20  ce [dest ...].. 
 00001e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e20: 6164 6420 616e 2061 6464 6974 696f 6e61  add an additiona
-00001e30: 6c20 736f 7572 6365 2f64 6573 7420 7061  l source/dest pa
-00001e40: 6972 2074 6f20 636f 6d70 696c 6520 2864  ir to compile (d
-00001e50: 6573 7420 6973 206f 7074 696f 6e61 6c29  est is optional)
-00001e60: 0d0a 2020 2d76 2c20 2d56 2c20 2d2d 7665  ..  -v, -V, --ve
-00001e70: 7273 696f 6e20 2020 2020 7072 696e 7420  rsion     print 
-00001e80: 436f 636f 6e75 7420 616e 6420 5079 7468  Coconut and Pyth
-00001e90: 6f6e 2076 6572 7369 6f6e 2069 6e66 6f72  on version infor
-00001ea0: 6d61 7469 6f6e 0d0a 2020 2d74 2076 6572  mation..  -t ver
-00001eb0: 7369 6f6e 2c20 2d2d 7461 7267 6574 2076  sion, --target v
-00001ec0: 6572 7369 6f6e 0d0a 2020 2020 2020 2020  ersion..        
-00001ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ee0: 7370 6563 6966 7920 7461 7267 6574 2050  specify target P
-00001ef0: 7974 686f 6e20 7665 7273 696f 6e20 2864  ython version (d
-00001f00: 6566 6175 6c74 7320 746f 2075 6e69 7665  efaults to unive
-00001f10: 7273 616c 290d 0a20 202d 692c 202d 2d69  rsal)..  -i, --i
-00001f20: 6e74 6572 6163 7420 2020 2020 2020 2066  nteract        f
-00001f30: 6f72 6365 2074 6865 2069 6e74 6572 7072  orce the interpr
-00001f40: 6574 6572 2074 6f20 7374 6172 7420 286f  eter to start (o
-00001f50: 7468 6572 7769 7365 2073 7461 7274 7320  therwise starts 
-00001f60: 6966 206e 6f20 6f74 6865 7220 636f 6d6d  if no other comm
-00001f70: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
-00001f80: 2020 2020 2020 2020 2020 2020 2069 7320               is 
-00001f90: 6769 7665 6e29 2028 696d 706c 6965 7320  given) (implies 
-00001fa0: 2d2d 7275 6e29 0d0a 2020 2d70 2c20 2d2d  --run)..  -p, --
-00001fb0: 7061 636b 6167 6520 2020 2020 2020 2020  package         
-00001fc0: 636f 6d70 696c 6520 736f 7572 6365 2061  compile source a
-00001fd0: 7320 7061 7274 206f 6620 6120 7061 636b  s part of a pack
-00001fe0: 6167 6520 2864 6566 6175 6c74 7320 746f  age (defaults to
-00001ff0: 206f 6e6c 7920 6966 2073 6f75 7263 6520   only if source 
-00002000: 6973 2061 0d0a 2020 2020 2020 2020 2020  is a..          
-00002010: 2020 2020 2020 2020 2020 2020 2020 6469                di
-00002020: 7265 6374 6f72 7929 0d0a 2020 2d61 2c20  rectory)..  -a, 
-00002030: 2d2d 7374 616e 6461 6c6f 6e65 2c20 2d2d  --standalone, --
-00002040: 7374 616e 642d 616c 6f6e 650d 0a20 2020  stand-alone..   
-00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002060: 2020 2020 2063 6f6d 7069 6c65 2073 6f75       compile sou
-00002070: 7263 6520 6173 2073 7461 6e64 616c 6f6e  rce as standalon
-00002080: 6520 6669 6c65 7320 2864 6566 6175 6c74  e files (default
-00002090: 7320 746f 206f 6e6c 7920 6966 2073 6f75  s to only if sou
-000020a0: 7263 6520 6973 2061 0d0a 2020 2020 2020  rce is a..      
-000020b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000020c0: 2020 7369 6e67 6c65 2066 696c 6529 0d0a    single file)..
-000020d0: 2020 2d6c 2c20 2d2d 6c69 6e65 2d6e 756d    -l, --line-num
-000020e0: 6265 7273 2c20 2d2d 6c69 6e65 6e75 6d62  bers, --linenumb
-000020f0: 6572 730d 0a20 2020 2020 2020 2020 2020  ers..           
-00002100: 2020 2020 2020 2020 2020 2020 2061 6464               add
-00002110: 206c 696e 6520 6e75 6d62 6572 2063 6f6d   line number com
-00002120: 6d65 6e74 7320 666f 7220 6561 7365 206f  ments for ease o
-00002130: 6620 6465 6275 6767 696e 670d 0a20 202d  f debugging..  -
-00002140: 6b2c 202d 2d6b 6565 702d 6c69 6e65 732c  k, --keep-lines,
-00002150: 202d 2d6b 6565 706c 696e 6573 0d0a 2020   --keeplines..  
-00002160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002170: 2020 2020 2020 696e 636c 7564 6520 736f        include so
-00002180: 7572 6365 2063 6f64 6520 696e 2063 6f6d  urce code in com
-00002190: 6d65 6e74 7320 666f 7220 6561 7365 206f  ments for ease o
-000021a0: 6620 6465 6275 6767 696e 670d 0a20 202d  f debugging..  -
-000021b0: 772c 202d 2d77 6174 6368 2020 2020 2020  w, --watch      
-000021c0: 2020 2020 2077 6174 6368 2061 2064 6972       watch a dir
-000021d0: 6563 746f 7279 2061 6e64 2072 6563 6f6d  ectory and recom
-000021e0: 7069 6c65 206f 6e20 6368 616e 6765 730d  pile on changes.
-000021f0: 0a20 202d 722c 202d 2d72 756e 2020 2020  .  -r, --run    
-00002200: 2020 2020 2020 2020 2065 7865 6375 7465           execute
-00002210: 2063 6f6d 7069 6c65 6420 5079 7468 6f6e   compiled Python
-00002220: 0d0a 2020 2d6e 2c20 2d2d 6e6f 2d77 7269  ..  -n, --no-wri
-00002230: 7465 2c20 2d2d 6e6f 7772 6974 650d 0a20  te, --nowrite.. 
-00002240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002250: 2020 2020 2020 2064 6973 6162 6c65 2077         disable w
-00002260: 7269 7469 6e67 2063 6f6d 7069 6c65 6420  riting compiled 
-00002270: 5079 7468 6f6e 0d0a 2020 2d64 2c20 2d2d  Python..  -d, --
-00002280: 6469 7370 6c61 7920 2020 2020 2020 2020  display         
-00002290: 7072 696e 7420 636f 6d70 696c 6564 2050  print compiled P
-000022a0: 7974 686f 6e0d 0a20 202d 712c 202d 2d71  ython..  -q, --q
-000022b0: 7569 6574 2020 2020 2020 2020 2020 2073  uiet           s
-000022c0: 7570 7072 6573 7320 616c 6c20 696e 666f  uppress all info
-000022d0: 726d 6174 696f 6e61 6c20 6f75 7470 7574  rmational output
-000022e0: 2028 636f 6d62 696e 6520 7769 7468 202d   (combine with -
-000022f0: 2d64 6973 706c 6179 2074 6f20 7772 6974  -display to writ
-00002300: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00002310: 2020 2020 2020 2020 2020 2072 756e 6e61             runna
-00002320: 626c 6520 636f 6465 2074 6f20 7374 646f  ble code to stdo
-00002330: 7574 290d 0a20 202d 732c 202d 2d73 7472  ut)..  -s, --str
-00002340: 6963 7420 2020 2020 2020 2020 2065 6e66  ict          enf
-00002350: 6f72 6365 2063 6f64 6520 636c 6561 6e6c  orce code cleanl
-00002360: 696e 6573 7320 7374 616e 6461 7264 730d  iness standards.
-00002370: 0a20 202d 2d6e 6f2d 7463 6f2c 202d 2d6e  .  --no-tco, --n
-00002380: 6f74 636f 2020 2020 2064 6973 6162 6c65  otco     disable
-00002390: 2074 6169 6c20 6361 6c6c 206f 7074 696d   tail call optim
-000023a0: 697a 6174 696f 6e0d 0a20 202d 2d6e 6f2d  ization..  --no-
-000023b0: 7772 6170 2d74 7970 6573 2c20 2d2d 6e6f  wrap-types, --no
-000023c0: 7772 6170 7479 7065 730d 0a20 2020 2020  wraptypes..     
-000023d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023e0: 2020 2064 6973 6162 6c65 2077 7261 7070     disable wrapp
-000023f0: 696e 6720 7479 7065 2061 6e6e 6f74 6174  ing type annotat
-00002400: 696f 6e73 2069 6e20 7374 7269 6e67 7320  ions in strings 
-00002410: 616e 6420 7475 726e 206f 6666 2027 6672  and turn off 'fr
-00002420: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-00002430: 2020 2020 2020 2020 2020 2020 5f5f 6675              __fu
-00002440: 7475 7265 5f5f 2069 6d70 6f72 7420 616e  ture__ import an
-00002450: 6e6f 7461 7469 6f6e 7327 2062 6568 6176  notations' behav
-00002460: 696f 720d 0a20 202d 6320 636f 6465 2c20  ior..  -c code, 
-00002470: 2d2d 636f 6465 2063 6f64 6520 2072 756e  --code code  run
-00002480: 2043 6f63 6f6e 7574 2070 6173 7365 6420   Coconut passed 
-00002490: 696e 2061 7320 6120 7374 7269 6e67 2028  in as a string (
-000024a0: 6361 6e20 616c 736f 2062 6520 7069 7065  can also be pipe
-000024b0: 6420 696e 746f 2073 7464 696e 290d 0a20  d into stdin).. 
-000024c0: 202d 6a20 7072 6f63 6573 7365 732c 202d   -j processes, -
-000024d0: 2d6a 6f62 7320 7072 6f63 6573 7365 730d  -jobs processes.
-000024e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000024f0: 2020 2020 2020 2020 206e 756d 6265 7220           number 
-00002500: 6f66 2061 6464 6974 696f 6e61 6c20 7072  of additional pr
-00002510: 6f63 6573 7365 7320 746f 2075 7365 2028  ocesses to use (
-00002520: 6465 6661 756c 7473 2074 6f20 2773 7973  defaults to 'sys
-00002530: 2729 2028 3020 6973 206e 6f0d 0a20 2020  ') (0 is no..   
-00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002550: 2020 2020 2061 6464 6974 696f 6e61 6c20       additional 
-00002560: 7072 6f63 6573 7365 733b 2027 7379 7327  processes; 'sys'
-00002570: 2075 7365 7320 6d61 6368 696e 6520 6465   uses machine de
-00002580: 6661 756c 7429 0d0a 2020 2d66 2c20 2d2d  fault)..  -f, --
-00002590: 666f 7263 6520 2020 2020 2020 2020 2020  force           
-000025a0: 666f 7263 6520 7265 2d63 6f6d 7069 6c61  force re-compila
-000025b0: 7469 6f6e 2065 7665 6e20 7768 656e 2073  tion even when s
-000025c0: 6f75 7263 6520 636f 6465 2061 6e64 2063  ource code and c
-000025d0: 6f6d 7069 6c61 7469 6f6e 2070 6172 616d  ompilation param
-000025e0: 6574 6572 730d 0a20 2020 2020 2020 2020  eters..         
-000025f0: 2020 2020 2020 2020 2020 2020 2020 2068                 h
-00002600: 6176 656e 2774 2063 6861 6e67 6564 0d0a  aven't changed..
-00002610: 2020 2d2d 6d69 6e69 6679 2020 2020 2020    --minify      
-00002620: 2020 2020 2020 2020 7265 6475 6365 2073          reduce s
-00002630: 697a 6520 6f66 2063 6f6d 7069 6c65 6420  ize of compiled 
-00002640: 5079 7468 6f6e 0d0a 2020 2d2d 6a75 7079  Python..  --jupy
-00002650: 7465 7220 2e2e 2e2c 202d 2d69 7079 7468  ter ..., --ipyth
-00002660: 6f6e 202e 2e2e 0d0a 2020 2020 2020 2020  on .....        
+00001e20: 2020 2020 2061 6464 2061 6e20 6164 6469       add an addi
+00001e30: 7469 6f6e 616c 2073 6f75 7263 652f 6465  tional source/de
+00001e40: 7374 2070 6169 7220 746f 2063 6f6d 7069  st pair to compi
+00001e50: 6c65 2028 6465 7374 2069 7320 6f70 7469  le (dest is opti
+00001e60: 6f6e 616c 290d 0a2d 762c 202d 562c 202d  onal)..-v, -V, -
+00001e70: 2d76 6572 7369 6f6e 2020 2020 2070 7269  -version     pri
+00001e80: 6e74 2043 6f63 6f6e 7574 2061 6e64 2050  nt Coconut and P
+00001e90: 7974 686f 6e20 7665 7273 696f 6e20 696e  ython version in
+00001ea0: 666f 726d 6174 696f 6e0d 0a2d 7420 7665  formation..-t ve
+00001eb0: 7273 696f 6e2c 202d 2d74 6172 6765 7420  rsion, --target 
+00001ec0: 7665 7273 696f 6e0d 0a20 2020 2020 2020  version..       
+00001ed0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00001ee0: 7065 6369 6679 2074 6172 6765 7420 5079  pecify target Py
+00001ef0: 7468 6f6e 2076 6572 7369 6f6e 2028 6465  thon version (de
+00001f00: 6661 756c 7473 2074 6f20 756e 6976 6572  faults to univer
+00001f10: 7361 6c29 0d0a 2d69 2c20 2d2d 696e 7465  sal)..-i, --inte
+00001f20: 7261 6374 2020 2020 2020 2020 666f 7263  ract        forc
+00001f30: 6520 7468 6520 696e 7465 7270 7265 7465  e the interprete
+00001f40: 7220 746f 2073 7461 7274 2028 6f74 6865  r to start (othe
+00001f50: 7277 6973 6520 7374 6172 7473 2069 6620  rwise starts if 
+00001f60: 6e6f 206f 7468 6572 2063 6f6d 6d61 6e64  no other command
+00001f70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001f80: 2020 2020 2020 2020 6973 2067 6976 656e          is given
+00001f90: 2920 2869 6d70 6c69 6573 202d 2d72 756e  ) (implies --run
+00001fa0: 290d 0a2d 702c 202d 2d70 6163 6b61 6765  )..-p, --package
+00001fb0: 2020 2020 2020 2020 2063 6f6d 7069 6c65           compile
+00001fc0: 2073 6f75 7263 6520 6173 2070 6172 7420   source as part 
+00001fd0: 6f66 2061 2070 6163 6b61 6765 2028 6465  of a package (de
+00001fe0: 6661 756c 7473 2074 6f20 6f6e 6c79 2069  faults to only i
+00001ff0: 6620 736f 7572 6365 2069 7320 610d 0a20  f source is a.. 
+00002000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002010: 2020 2020 2064 6972 6563 746f 7279 290d       directory).
+00002020: 0a2d 612c 202d 2d73 7461 6e64 616c 6f6e  .-a, --standalon
+00002030: 652c 202d 2d73 7461 6e64 2d61 6c6f 6e65  e, --stand-alone
+00002040: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002050: 2020 2020 2020 2020 636f 6d70 696c 6520          compile 
+00002060: 736f 7572 6365 2061 7320 7374 616e 6461  source as standa
+00002070: 6c6f 6e65 2066 696c 6573 2028 6465 6661  lone files (defa
+00002080: 756c 7473 2074 6f20 6f6e 6c79 2069 6620  ults to only if 
+00002090: 736f 7572 6365 2069 7320 610d 0a20 2020  source is a..   
+000020a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020b0: 2020 2073 696e 676c 6520 6669 6c65 290d     single file).
+000020c0: 0a2d 6c2c 202d 2d6c 696e 652d 6e75 6d62  .-l, --line-numb
+000020d0: 6572 732c 202d 2d6c 696e 656e 756d 6265  ers, --linenumbe
+000020e0: 7273 0d0a 2020 2020 2020 2020 2020 2020  rs..            
+000020f0: 2020 2020 2020 2020 2020 666f 7263 6520            force 
+00002100: 656e 6162 6c65 206c 696e 6520 6e75 6d62  enable line numb
+00002110: 6572 2063 6f6d 6d65 6e74 7320 282d 2d6c  er comments (--l
+00002120: 696e 652d 6e75 6d62 6572 7320 6172 6520  ine-numbers are 
+00002130: 656e 6162 6c65 6420 6279 0d0a 2020 2020  enabled by..    
+00002140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002150: 2020 6465 6661 756c 7420 756e 6c65 7373    default unless
+00002160: 202d 2d6d 696e 6966 7920 6973 2070 6173   --minify is pas
+00002170: 7365 6429 0d0a 2d2d 6e6f 2d6c 696e 652d  sed)..--no-line-
+00002180: 6e75 6d62 6572 732c 202d 2d6e 6f6c 696e  numbers, --nolin
+00002190: 656e 756d 6265 7273 0d0a 2020 2020 2020  enumbers..      
+000021a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021b0: 6469 7361 626c 6520 6c69 6e65 206e 756d  disable line num
+000021c0: 6265 7220 636f 6d6d 656e 7473 2028 6f70  ber comments (op
+000021d0: 706f 7369 7465 206f 6620 2d2d 6c69 6e65  posite of --line
+000021e0: 2d6e 756d 6265 7273 290d 0a2d 6b2c 202d  -numbers)..-k, -
+000021f0: 2d6b 6565 702d 6c69 6e65 732c 202d 2d6b  -keep-lines, --k
+00002200: 6565 706c 696e 6573 0d0a 2020 2020 2020  eeplines..      
+00002210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002220: 696e 636c 7564 6520 736f 7572 6365 2063  include source c
+00002230: 6f64 6520 696e 2063 6f6d 6d65 6e74 7320  ode in comments 
+00002240: 666f 7220 6561 7365 206f 6620 6465 6275  for ease of debu
+00002250: 6767 696e 670d 0a2d 772c 202d 2d77 6174  gging..-w, --wat
+00002260: 6368 2020 2020 2020 2020 2020 2077 6174  ch           wat
+00002270: 6368 2061 2064 6972 6563 746f 7279 2061  ch a directory a
+00002280: 6e64 2072 6563 6f6d 7069 6c65 206f 6e20  nd recompile on 
+00002290: 6368 616e 6765 730d 0a2d 722c 202d 2d72  changes..-r, --r
+000022a0: 756e 2020 2020 2020 2020 2020 2020 2065  un             e
+000022b0: 7865 6375 7465 2063 6f6d 7069 6c65 6420  xecute compiled 
+000022c0: 5079 7468 6f6e 0d0a 2d6e 2c20 2d2d 6e6f  Python..-n, --no
+000022d0: 2d77 7269 7465 2c20 2d2d 6e6f 7772 6974  -write, --nowrit
+000022e0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+000022f0: 2020 2020 2020 2020 2064 6973 6162 6c65           disable
+00002300: 2077 7269 7469 6e67 2063 6f6d 7069 6c65   writing compile
+00002310: 6420 5079 7468 6f6e 0d0a 2d64 2c20 2d2d  d Python..-d, --
+00002320: 6469 7370 6c61 7920 2020 2020 2020 2020  display         
+00002330: 7072 696e 7420 636f 6d70 696c 6564 2050  print compiled P
+00002340: 7974 686f 6e0d 0a2d 712c 202d 2d71 7569  ython..-q, --qui
+00002350: 6574 2020 2020 2020 2020 2020 2073 7570  et           sup
+00002360: 7072 6573 7320 616c 6c20 696e 666f 726d  press all inform
+00002370: 6174 696f 6e61 6c20 6f75 7470 7574 2028  ational output (
+00002380: 636f 6d62 696e 6520 7769 7468 202d 2d64  combine with --d
+00002390: 6973 706c 6179 2074 6f20 7772 6974 650d  isplay to write.
+000023a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000023b0: 2020 2020 2020 2072 756e 6e61 626c 6520         runnable 
+000023c0: 636f 6465 2074 6f20 7374 646f 7574 290d  code to stdout).
+000023d0: 0a2d 732c 202d 2d73 7472 6963 7420 2020  .-s, --strict   
+000023e0: 2020 2020 2020 2065 6e66 6f72 6365 2063         enforce c
+000023f0: 6f64 6520 636c 6561 6e6c 696e 6573 7320  ode cleanliness 
+00002400: 7374 616e 6461 7264 730d 0a2d 2d6e 6f2d  standards..--no-
+00002410: 7463 6f2c 202d 2d6e 6f74 636f 2020 2020  tco, --notco    
+00002420: 2064 6973 6162 6c65 2074 6169 6c20 6361   disable tail ca
+00002430: 6c6c 206f 7074 696d 697a 6174 696f 6e0d  ll optimization.
+00002440: 0a2d 2d6e 6f2d 7772 6170 2d74 7970 6573  .--no-wrap-types
+00002450: 2c20 2d2d 6e6f 7772 6170 7479 7065 730d  , --nowraptypes.
+00002460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002470: 2020 2020 2020 2064 6973 6162 6c65 2077         disable w
+00002480: 7261 7070 696e 6720 7479 7065 2061 6e6e  rapping type ann
+00002490: 6f74 6174 696f 6e73 2069 6e20 7374 7269  otations in stri
+000024a0: 6e67 7320 616e 6420 7475 726e 206f 6666  ngs and turn off
+000024b0: 2027 6672 6f6d 0d0a 2020 2020 2020 2020   'from..        
+000024c0: 2020 2020 2020 2020 2020 2020 2020 5f5f                __
+000024d0: 6675 7475 7265 5f5f 2069 6d70 6f72 7420  future__ import 
+000024e0: 616e 6e6f 7461 7469 6f6e 7327 2062 6568  annotations' beh
+000024f0: 6176 696f 720d 0a2d 6320 636f 6465 2c20  avior..-c code, 
+00002500: 2d2d 636f 6465 2063 6f64 6520 2072 756e  --code code  run
+00002510: 2043 6f63 6f6e 7574 2070 6173 7365 6420   Coconut passed 
+00002520: 696e 2061 7320 6120 7374 7269 6e67 2028  in as a string (
+00002530: 6361 6e20 616c 736f 2062 6520 7069 7065  can also be pipe
+00002540: 6420 696e 746f 2073 7464 696e 290d 0a2d  d into stdin)..-
+00002550: 6a20 7072 6f63 6573 7365 732c 202d 2d6a  j processes, --j
+00002560: 6f62 7320 7072 6f63 6573 7365 730d 0a20  obs processes.. 
+00002570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002580: 2020 2020 206e 756d 6265 7220 6f66 2061       number of a
+00002590: 6464 6974 696f 6e61 6c20 7072 6f63 6573  dditional proces
+000025a0: 7365 7320 746f 2075 7365 2028 6465 6661  ses to use (defa
+000025b0: 756c 7473 2074 6f20 2773 7973 2729 2028  ults to 'sys') (
+000025c0: 3020 6973 206e 6f0d 0a20 2020 2020 2020  0 is no..       
+000025d0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000025e0: 6464 6974 696f 6e61 6c20 7072 6f63 6573  dditional proces
+000025f0: 7365 733b 2027 7379 7327 2075 7365 7320  ses; 'sys' uses 
+00002600: 6d61 6368 696e 6520 6465 6661 756c 7429  machine default)
+00002610: 0d0a 2d66 2c20 2d2d 666f 7263 6520 2020  ..-f, --force   
+00002620: 2020 2020 2020 2020 666f 7263 6520 7265          force re
+00002630: 2d63 6f6d 7069 6c61 7469 6f6e 2065 7665  -compilation eve
+00002640: 6e20 7768 656e 2073 6f75 7263 6520 636f  n when source co
+00002650: 6465 2061 6e64 2063 6f6d 7069 6c61 7469  de and compilati
+00002660: 6f6e 2070 6172 616d 6574 6572 730d 0a20  on parameters.. 
 00002670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002680: 7275 6e20 4a75 7079 7465 722f 4950 7974  run Jupyter/IPyt
-00002690: 686f 6e20 7769 7468 2043 6f63 6f6e 7574  hon with Coconut
-000026a0: 2061 7320 7468 6520 6b65 726e 656c 2028   as the kernel (
-000026b0: 7265 6d61 696e 696e 6720 6172 6773 2070  remaining args p
-000026c0: 6173 7365 640d 0a20 2020 2020 2020 2020  assed..         
-000026d0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-000026e0: 6f20 4a75 7079 7465 7229 0d0a 2020 2d2d  o Jupyter)..  --
-000026f0: 6d79 7079 202e 2e2e 2020 2020 2020 2020  mypy ...        
-00002700: 2020 2020 7275 6e20 4d79 5079 206f 6e20      run MyPy on 
-00002710: 636f 6d70 696c 6564 2050 7974 686f 6e20  compiled Python 
-00002720: 2872 656d 6169 6e69 6e67 2061 7267 7320  (remaining args 
-00002730: 7061 7373 6564 2074 6f20 4d79 5079 2920  passed to MyPy) 
-00002740: 2869 6d70 6c69 6573 0d0a 2020 2020 2020  (implies..      
-00002750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002760: 2020 2d2d 7061 636b 6167 6529 0d0a 2020    --package)..  
-00002770: 2d2d 6172 6776 202e 2e2e 2c20 2d2d 6172  --argv ..., --ar
-00002780: 6773 202e 2e2e 0d0a 2020 2020 2020 2020  gs .....        
-00002790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027a0: 7365 7420 7379 732e 6172 6776 2074 6f20  set sys.argv to 
-000027b0: 736f 7572 6365 2070 6c75 7320 7265 6d61  source plus rema
-000027c0: 696e 696e 6720 6172 6773 2066 6f72 2075  ining args for u
-000027d0: 7365 2069 6e20 7468 6520 436f 636f 6e75  se in the Coconu
-000027e0: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
-000027f0: 2020 2020 2020 2020 2020 2073 6372 6970             scrip
-00002800: 7420 6265 696e 6720 7275 6e0d 0a20 202d  t being run..  -
-00002810: 2d74 7574 6f72 6961 6c20 2020 2020 2020  -tutorial       
-00002820: 2020 2020 206f 7065 6e20 436f 636f 6e75       open Coconu
-00002830: 7427 7320 7475 746f 7269 616c 2069 6e20  t's tutorial in 
-00002840: 7468 6520 6465 6661 756c 7420 7765 6220  the default web 
-00002850: 6272 6f77 7365 720d 0a20 202d 2d64 6f63  browser..  --doc
-00002860: 732c 202d 2d64 6f63 756d 656e 7461 7469  s, --documentati
-00002870: 6f6e 0d0a 2020 2020 2020 2020 2020 2020  on..            
-00002880: 2020 2020 2020 2020 2020 2020 6f70 656e              open
-00002890: 2043 6f63 6f6e 7574 2773 2064 6f63 756d   Coconut's docum
-000028a0: 656e 7461 7469 6f6e 2069 6e20 7468 6520  entation in the 
-000028b0: 6465 6661 756c 7420 7765 6220 6272 6f77  default web brow
-000028c0: 7365 720d 0a20 202d 2d73 7479 6c65 206e  ser..  --style n
-000028d0: 616d 6520 2020 2020 2020 2020 2073 6574  ame          set
-000028e0: 2050 7967 6d65 6e74 7320 7379 6e74 6178   Pygments syntax
-000028f0: 2068 6967 686c 6967 6874 696e 6720 7374   highlighting st
-00002900: 796c 6520 286f 7220 276c 6973 7427 2074  yle (or 'list' t
-00002910: 6f20 6c69 7374 2073 7479 6c65 7329 0d0a  o list styles)..
-00002920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002930: 2020 2020 2020 2020 2864 6566 6175 6c74          (default
-00002940: 7320 746f 2043 4f43 4f4e 5554 5f53 5459  s to COCONUT_STY
-00002950: 4c45 2065 6e76 6972 6f6e 6d65 6e74 2076  LE environment v
-00002960: 6172 6961 626c 6520 6966 2069 7420 6578  ariable if it ex
-00002970: 6973 7473 2c0d 0a20 2020 2020 2020 2020  ists,..         
-00002980: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00002990: 7468 6572 7769 7365 2027 6465 6661 756c  therwise 'defaul
-000029a0: 7427 290d 0a20 202d 2d68 6973 746f 7279  t')..  --history
-000029b0: 2d66 696c 6520 7061 7468 2020 2073 6574  -file path   set
-000029c0: 2068 6973 746f 7279 2066 696c 6520 286f   history file (o
-000029d0: 7220 2727 2066 6f72 206e 6f20 6669 6c65  r '' for no file
-000029e0: 2920 2863 616e 2062 6520 6d6f 6469 6669  ) (can be modifi
-000029f0: 6564 2062 7920 7365 7474 696e 670d 0a20  ed by setting.. 
-00002a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a10: 2020 2020 2020 2043 4f43 4f4e 5554 5f48         COCONUT_H
-00002a20: 4f4d 4520 656e 7669 726f 6e6d 656e 7420  OME environment 
-00002a30: 7661 7269 6162 6c65 290d 0a20 202d 2d76  variable)..  --v
-00002a40: 692d 6d6f 6465 2c20 2d2d 7669 6d6f 6465  i-mode, --vimode
-00002a50: 2020 2065 6e61 626c 6520 7669 206d 6f64     enable vi mod
-00002a60: 6520 696e 2074 6865 2069 6e74 6572 7072  e in the interpr
-00002a70: 6574 6572 2028 6375 7272 656e 746c 7920  eter (currently 
-00002a80: 7365 7420 746f 2046 616c 7365 2920 2863  set to False) (c
-00002a90: 616e 2062 650d 0a20 2020 2020 2020 2020  an be..         
-00002aa0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00002ab0: 6f64 6966 6965 6420 6279 2073 6574 7469  odified by setti
-00002ac0: 6e67 2043 4f43 4f4e 5554 5f56 495f 4d4f  ng COCONUT_VI_MO
-00002ad0: 4445 2065 6e76 6972 6f6e 6d65 6e74 2076  DE environment v
-00002ae0: 6172 6961 626c 6529 0d0a 2020 2d2d 7265  ariable)..  --re
-00002af0: 6375 7273 696f 6e2d 6c69 6d69 7420 6c69  cursion-limit li
-00002b00: 6d69 742c 202d 2d72 6563 7572 7369 6f6e  mit, --recursion
-00002b10: 6c69 6d69 7420 6c69 6d69 740d 0a20 2020  limit limit..   
-00002b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002b30: 2020 2020 2073 6574 206d 6178 696d 756d       set maximum
-00002b40: 2072 6563 7572 7369 6f6e 2064 6570 7468   recursion depth
-00002b50: 2069 6e20 636f 6d70 696c 6572 2028 6465   in compiler (de
-00002b60: 6661 756c 7473 2074 6f20 3139 3230 2920  faults to 1920) 
-00002b70: 2877 6865 6e0d 0a20 2020 2020 2020 2020  (when..         
-00002b80: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00002b90: 6e63 7265 6173 696e 6720 2d2d 7265 6375  ncreasing --recu
-00002ba0: 7273 696f 6e2d 6c69 6d69 742c 2079 6f75  rsion-limit, you
-00002bb0: 206d 6179 2061 6c73 6f20 6e65 6564 2074   may also need t
-00002bc0: 6f20 696e 6372 6561 7365 202d 2d73 7461  o increase --sta
-00002bd0: 636b 2d0d 0a20 2020 2020 2020 2020 2020  ck-..           
-00002be0: 2020 2020 2020 2020 2020 2020 2073 697a               siz
-00002bf0: 6529 0d0a 2020 2d2d 7374 6163 6b2d 7369  e)..  --stack-si
-00002c00: 7a65 206b 6273 2c20 2d2d 7374 6163 6b73  ze kbs, --stacks
-00002c10: 697a 6520 6b62 730d 0a20 2020 2020 2020  ize kbs..       
-00002c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c30: 2072 756e 2074 6865 2063 6f6d 7069 6c65   run the compile
-00002c40: 7220 696e 2061 2073 6570 6172 6174 6520  r in a separate 
-00002c50: 7468 7265 6164 2077 6974 6820 7468 6520  thread with the 
-00002c60: 6769 7665 6e20 7374 6163 6b20 7369 7a65  given stack size
-00002c70: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
-00002c80: 2020 2020 2020 2020 2020 2020 206b 696c               kil
-00002c90: 6f62 7974 6573 0d0a 2020 2d2d 7369 7465  obytes..  --site
-00002ca0: 2d69 6e73 7461 6c6c 2c20 2d2d 7369 7465  -install, --site
-00002cb0: 696e 7374 616c 6c0d 0a20 2020 2020 2020  install..       
-00002cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002cd0: 2073 6574 2075 7020 636f 636f 6e75 742e   set up coconut.
-00002ce0: 6170 6920 746f 2062 6520 696d 706f 7274  api to be import
-00002cf0: 6564 206f 6e20 5079 7468 6f6e 2073 7461  ed on Python sta
-00002d00: 7274 0d0a 2020 2d2d 7369 7465 2d75 6e69  rt..  --site-uni
-00002d10: 6e73 7461 6c6c 2c20 2d2d 7369 7465 756e  nstall, --siteun
-00002d20: 696e 7374 616c 6c0d 0a20 2020 2020 2020  install..       
-00002d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d40: 2072 6576 6572 7420 7468 6520 6566 6665   revert the effe
-00002d50: 6374 7320 6f66 202d 2d73 6974 652d 696e  cts of --site-in
-00002d60: 7374 616c 6c0d 0a20 202d 2d76 6572 626f  stall..  --verbo
-00002d70: 7365 2020 2020 2020 2020 2020 2020 2070  se             p
-00002d80: 7269 6e74 2076 6572 626f 7365 2064 6562  rint verbose deb
-00002d90: 7567 206f 7574 7075 740d 0a20 202d 2d74  ug output..  --t
-00002da0: 7261 6365 2020 2020 2020 2020 2020 2020  race            
-00002db0: 2020 2070 7269 6e74 2076 6572 626f 7365     print verbose
-00002dc0: 2070 6172 7369 6e67 2064 6174 6120 286f   parsing data (o
-00002dd0: 6e6c 7920 6176 6169 6c61 626c 6520 696e  nly available in
-00002de0: 2063 6f63 6f6e 7574 2d64 6576 656c 6f70   coconut-develop
-00002df0: 290d 0a20 202d 2d70 726f 6669 6c65 2020  )..  --profile  
-00002e00: 2020 2020 2020 2020 2020 2063 6f6c 6c65             colle
-00002e10: 6374 2061 6e64 2070 7269 6e74 2074 696d  ct and print tim
-00002e20: 696e 6720 696e 666f 2028 6f6e 6c79 2061  ing info (only a
-00002e30: 7661 696c 6162 6c65 2069 6e20 636f 636f  vailable in coco
-00002e40: 6e75 742d 6465 7665 6c6f 7029 0d0a 6060  nut-develop)..``
-00002e50: 600d 0a0d 0a23 2323 2320 436f 636f 6e75  `....#### Coconu
-00002e60: 7420 5363 7269 7074 730d 0a0d 0a54 6f20  t Scripts....To 
-00002e70: 7275 6e20 6120 436f 636f 6e75 7420 6669  run a Coconut fi
-00002e80: 6c65 2061 7320 6120 7363 7269 7074 2c20  le as a script, 
-00002e90: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
-00002ea0: 2074 6865 2063 6f6d 6d61 6e64 0d0a 6060   the command..``
-00002eb0: 600d 0a63 6f63 6f6e 7574 2d72 756e 203c  `..coconut-run <
-00002ec0: 736f 7572 6365 3e20 3c61 7267 733e 0d0a  source> <args>..
-00002ed0: 6060 600d 0a61 7320 616e 2061 6c69 6173  ```..as an alias
-00002ee0: 2066 6f72 0d0a 6060 600d 0a63 6f63 6f6e   for..```..cocon
-00002ef0: 7574 202d 2d71 7569 6574 202d 2d74 6172  ut --quiet --tar
-00002f00: 6765 7420 7379 7320 2d2d 6c69 6e65 2d6e  get sys --line-n
-00002f10: 756d 6265 7273 202d 2d6b 6565 702d 6c69  umbers --keep-li
-00002f20: 6e65 7320 2d2d 7275 6e20 3c73 6f75 7263  nes --run <sourc
-00002f30: 653e 202d 2d61 7267 7620 3c61 7267 733e  e> --argv <args>
-00002f40: 0d0a 6060 600d 0a77 6869 6368 2077 696c  ..```..which wil
-00002f50: 6c20 7175 6965 746c 7920 636f 6d70 696c  l quietly compil
-00002f60: 6520 616e 6420 7275 6e20 603c 736f 7572  e and run `<sour
-00002f70: 6365 3e60 2c20 7061 7373 696e 6720 616e  ce>`, passing an
-00002f80: 7920 6164 6469 7469 6f6e 616c 2061 7267  y additional arg
-00002f90: 756d 656e 7473 2074 6f20 7468 6520 7363  uments to the sc
-00002fa0: 7269 7074 2c20 6d69 6d69 636b 696e 6720  ript, mimicking 
-00002fb0: 686f 7720 7468 6520 6070 7974 686f 6e60  how the `python`
-00002fc0: 2063 6f6d 6d61 6e64 2077 6f72 6b73 2e0d   command works..
-00002fd0: 0a0d 0a60 636f 636f 6e75 742d 7275 6e60  ...`coconut-run`
-00002fe0: 2063 616e 2062 6520 7573 6564 2069 6e20   can be used in 
-00002ff0: 6120 556e 6978 2073 6865 6261 6e67 206c  a Unix shebang l
-00003000: 696e 6520 746f 2063 7265 6174 6520 6120  ine to create a 
-00003010: 436f 636f 6e75 7420 7363 7269 7074 2062  Coconut script b
-00003020: 7920 6164 6469 6e67 2074 6865 2066 6f6c  y adding the fol
-00003030: 6c6f 7769 6e67 206c 696e 6520 746f 2074  lowing line to t
-00003040: 6865 2073 7461 7274 206f 6620 796f 7572  he start of your
-00003050: 2073 6372 6970 743a 0d0a 6060 6062 6173   script:..```bas
-00003060: 680d 0a23 212f 7573 722f 6269 6e2f 656e  h..#!/usr/bin/en
-00003070: 7620 636f 636f 6e75 742d 7275 6e0d 0a60  v coconut-run..`
-00003080: 6060 0d0a 0d0a 546f 2070 6173 7320 6164  ``....To pass ad
-00003090: 6469 7469 6f6e 616c 2063 6f6d 7069 6c61  ditional compila
-000030a0: 7469 6f6e 2061 7267 756d 656e 7473 2074  tion arguments t
-000030b0: 6f20 6063 6f63 6f6e 7574 2d72 756e 6020  o `coconut-run` 
-000030c0: 2865 2e67 2e20 602d 2d6e 6f2d 7463 6f60  (e.g. `--no-tco`
-000030d0: 292c 2070 7574 2074 6865 6d20 6265 666f  ), put them befo
-000030e0: 7265 2074 6865 2060 3c73 6f75 7263 653e  re the `<source>
-000030f0: 6020 6669 6c65 2e0d 0a0d 0a23 2323 2320  ` file.....#### 
-00003100: 4e61 6d69 6e67 2053 6f75 7263 6520 4669  Naming Source Fi
-00003110: 6c65 730d 0a0d 0a43 6f63 6f6e 7574 2073  les....Coconut s
-00003120: 6f75 7263 6520 6669 6c65 7320 7368 6f75  ource files shou
-00003130: 6c64 2c20 736f 2074 6865 2063 6f6d 7069  ld, so the compi
-00003140: 6c65 7220 6361 6e20 7265 636f 676e 697a  ler can recogniz
-00003150: 6520 7468 656d 2c20 7573 6520 7468 6520  e them, use the 
-00003160: 6578 7465 6e73 696f 6e20 602e 636f 636f  extension `.coco
-00003170: 6020 2870 7265 6665 7272 6564 292c 2060  ` (preferred), `
-00003180: 2e63 6f63 602c 206f 7220 602e 636f 636f  .coc`, or `.coco
-00003190: 6e75 7460 2e0d 0a0d 0a57 6865 6e20 436f  nut`.....When Co
-000031a0: 636f 6e75 7420 636f 6d70 696c 6573 2061  conut compiles a
-000031b0: 2060 2e63 6f63 6f60 2066 696c 652c 2069   `.coco` file, i
-000031c0: 7420 7769 6c6c 2063 6f6d 7069 6c65 2074  t will compile t
-000031d0: 6f20 616e 6f74 6865 7220 6669 6c65 2077  o another file w
-000031e0: 6974 6820 7468 6520 7361 6d65 206e 616d  ith the same nam
-000031f0: 652c 2065 7863 6570 7420 7769 7468 2060  e, except with `
-00003200: 2e70 7960 2069 6e73 7465 6164 206f 6620  .py` instead of 
-00003210: 602e 636f 636f 602c 2077 6869 6368 2077  `.coco`, which w
-00003220: 696c 6c20 686f 6c64 2074 6865 2063 6f6d  ill hold the com
-00003230: 7069 6c65 6420 636f 6465 2e0d 0a0d 0a49  piled code.....I
-00003240: 6620 616e 2065 7874 656e 7369 6f6e 206f  f an extension o
-00003250: 7468 6572 2074 6861 6e20 602e 7079 6020  ther than `.py` 
-00003260: 6973 2064 6573 6972 6564 2066 6f72 2074  is desired for t
-00003270: 6865 2063 6f6d 7069 6c65 6420 6669 6c65  he compiled file
-00003280: 732c 2074 6865 6e20 7468 6174 2065 7874  s, then that ext
-00003290: 656e 7369 6f6e 2063 616e 2062 6520 7075  ension can be pu
-000032a0: 7420 6265 666f 7265 2060 2e63 6f63 6f60  t before `.coco`
-000032b0: 2069 6e20 7468 6520 736f 7572 6365 2066   in the source f
-000032c0: 696c 6520 6e61 6d65 2c20 616e 6420 6974  ile name, and it
-000032d0: 2077 696c 6c20 6265 2075 7365 6420 696e   will be used in
-000032e0: 7374 6561 6420 6f66 2060 2e70 7960 2066  stead of `.py` f
-000032f0: 6f72 2074 6865 2063 6f6d 7069 6c65 6420  or the compiled 
-00003300: 6669 6c65 732e 2046 6f72 2065 7861 6d70  files. For examp
-00003310: 6c65 2c20 606e 616d 652e 636f 636f 6020  le, `name.coco` 
-00003320: 7769 6c6c 2063 6f6d 7069 6c65 2074 6f20  will compile to 
-00003330: 606e 616d 652e 7079 602c 2077 6865 7265  `name.py`, where
-00003340: 6173 2060 6e61 6d65 2e61 6263 2e63 6f63  as `name.abc.coc
-00003350: 6f60 2077 696c 6c20 636f 6d70 696c 6520  o` will compile 
-00003360: 746f 2060 6e61 6d65 2e61 6263 602e 0d0a  to `name.abc`...
-00003370: 0d0a 2323 2323 2043 6f6d 7069 6c61 7469  ..#### Compilati
-00003380: 6f6e 204d 6f64 6573 0d0a 0d0a 4669 6c65  on Modes....File
-00003390: 7320 636f 6d70 696c 6564 2062 7920 7468  s compiled by th
-000033a0: 6520 6063 6f63 6f6e 7574 6020 636f 6d6d  e `coconut` comm
-000033b0: 616e 642d 6c69 6e65 2075 7469 6c69 7479  and-line utility
-000033c0: 2077 696c 6c20 7661 7279 2062 6173 6564   will vary based
-000033d0: 206f 6e20 636f 6d70 696c 6174 696f 6e20   on compilation 
-000033e0: 7061 7261 6d65 7465 7273 2e20 4966 2061  parameters. If a
-000033f0: 6e20 656e 7469 7265 2064 6972 6563 746f  n entire directo
-00003400: 7279 206f 6620 6669 6c65 7320 6973 2063  ry of files is c
-00003410: 6f6d 7069 6c65 6420 2877 6869 6368 2074  ompiled (which t
-00003420: 6865 2063 6f6d 7069 6c65 7220 7769 6c6c  he compiler will
-00003430: 2073 6561 7263 6820 7265 6375 7273 6976   search recursiv
-00003440: 656c 7920 666f 7220 616e 7920 666f 6c64  ely for any fold
-00003450: 6572 7320 636f 6e74 6169 6e69 6e67 2060  ers containing `
-00003460: 2e63 6f63 6f60 2c20 602e 636f 6360 2c20  .coco`, `.coc`, 
-00003470: 6f72 2060 2e63 6f63 6f6e 7574 6020 6669  or `.coconut` fi
-00003480: 6c65 7329 2c20 6120 605f 5f63 6f63 6f6e  les), a `__cocon
-00003490: 7574 5f5f 2e70 7960 2066 696c 6520 7769  ut__.py` file wi
-000034a0: 6c6c 2062 6520 6372 6561 7465 6420 746f  ll be created to
-000034b0: 2068 6f75 7365 206e 6563 6573 7361 7279   house necessary
-000034c0: 2066 756e 6374 696f 6e73 2028 7061 636b   functions (pack
-000034d0: 6167 6520 6d6f 6465 292c 2077 6865 7265  age mode), where
-000034e0: 6173 2069 6620 6f6e 6c79 2061 2073 696e  as if only a sin
-000034f0: 676c 6520 6669 6c65 2069 7320 636f 6d70  gle file is comp
-00003500: 696c 6564 2c20 7468 6174 2069 6e66 6f72  iled, that infor
-00003510: 6d61 7469 6f6e 2077 696c 6c20 6265 2073  mation will be s
-00003520: 746f 7265 6420 7769 7468 696e 2061 2068  tored within a h
-00003530: 6561 6465 7220 696e 7369 6465 2074 6865  eader inside the
-00003540: 2066 696c 6520 2873 7461 6e64 616c 6f6e   file (standalon
-00003550: 6520 6d6f 6465 292e 2053 7461 6e64 616c  e mode). Standal
-00003560: 6f6e 6520 6d6f 6465 2069 7320 6265 7474  one mode is bett
-00003570: 6572 2066 6f72 2073 696e 676c 6520 6669  er for single fi
-00003580: 6c65 7320 6265 6361 7573 6520 6974 2067  les because it g
-00003590: 6574 7320 7269 6420 6f66 2074 6865 206f  ets rid of the o
-000035a0: 7665 7268 6561 6420 696e 766f 6c76 6564  verhead involved
-000035b0: 2069 6e20 696d 706f 7274 696e 6720 605f   in importing `_
-000035c0: 5f63 6f63 6f6e 7574 5f5f 2e70 7960 2c20  _coconut__.py`, 
-000035d0: 6275 7420 7061 636b 6167 6520 6d6f 6465  but package mode
-000035e0: 2069 7320 6265 7474 6572 2066 6f72 206c   is better for l
-000035f0: 6172 6765 2070 6163 6b61 6765 7320 6265  arge packages be
-00003600: 6361 7573 6520 6974 2067 6574 7320 7269  cause it gets ri
-00003610: 6420 6f66 2074 6865 206e 6565 6420 746f  d of the need to
-00003620: 2072 756e 2074 6865 2073 616d 6520 436f   run the same Co
-00003630: 636f 6e75 7420 6865 6164 6572 2063 6f64  conut header cod
-00003640: 6520 6167 6169 6e20 696e 2065 7665 7279  e again in every
-00003650: 2066 696c 652c 2073 696e 6365 2069 7420   file, since it 
-00003660: 6361 6e20 6a75 7374 2062 6520 696d 706f  can just be impo
-00003670: 7274 6564 2066 726f 6d20 605f 5f63 6f63  rted from `__coc
-00003680: 6f6e 7574 5f5f 2e70 7960 2e0d 0a0d 0a42  onut__.py`.....B
-00003690: 7920 6465 6661 756c 742c 2069 6620 7468  y default, if th
-000036a0: 6520 6073 6f75 7263 6560 2061 7267 756d  e `source` argum
-000036b0: 656e 7420 746f 2074 6865 2063 6f6d 6d61  ent to the comma
-000036c0: 6e64 2d6c 696e 6520 7574 696c 6974 7920  nd-line utility 
-000036d0: 6973 2061 2066 696c 652c 2069 7420 7769  is a file, it wi
-000036e0: 6c6c 2070 6572 666f 726d 2073 7461 6e64  ll perform stand
-000036f0: 616c 6f6e 6520 636f 6d70 696c 6174 696f  alone compilatio
-00003700: 6e20 6f6e 2069 742c 2077 6865 7265 6173  n on it, whereas
-00003710: 2069 6620 6974 2069 7320 6120 6469 7265   if it is a dire
-00003720: 6374 6f72 792c 2069 7420 7769 6c6c 2072  ctory, it will r
-00003730: 6563 7572 7369 7665 6c79 2073 6561 7263  ecursively searc
-00003740: 6820 666f 7220 616c 6c20 602e 636f 636f  h for all `.coco
-00003750: 6020 6669 6c65 7320 616e 6420 7065 7266  ` files and perf
-00003760: 6f72 6d20 7061 636b 6167 6520 636f 6d70  orm package comp
-00003770: 696c 6174 696f 6e20 6f6e 2074 6865 6d2e  ilation on them.
-00003780: 2054 6875 732c 2069 6e20 6d6f 7374 2063   Thus, in most c
-00003790: 6173 6573 2c20 7468 6520 6d6f 6465 2063  ases, the mode c
-000037a0: 686f 7365 6e20 6279 2043 6f63 6f6e 7574  hosen by Coconut
-000037b0: 2061 7574 6f6d 6174 6963 616c 6c79 2077   automatically w
-000037c0: 696c 6c20 6265 2074 6865 2072 6967 6874  ill be the right
-000037d0: 206f 6e65 2e20 4275 7420 6966 2069 7420   one. But if it 
-000037e0: 6973 2076 6572 7920 696d 706f 7274 616e  is very importan
-000037f0: 7420 7468 6174 206e 6f20 6164 6469 7469  t that no additi
-00003800: 6f6e 616c 2066 696c 6573 206c 696b 6520  onal files like 
-00003810: 605f 5f63 6f63 6f6e 7574 5f5f 2e70 7960  `__coconut__.py`
-00003820: 2062 6520 6372 6561 7465 642c 2066 6f72   be created, for
-00003830: 2065 7861 6d70 6c65 2c20 7468 656e 2074   example, then t
-00003840: 6865 2063 6f6d 6d61 6e64 2d6c 696e 6520  he command-line 
-00003850: 7574 696c 6974 7920 6361 6e20 616c 736f  utility can also
-00003860: 2062 6520 666f 7263 6564 2074 6f20 7573   be forced to us
-00003870: 6520 6120 7370 6563 6966 6963 206d 6f64  e a specific mod
-00003880: 6520 7769 7468 2074 6865 2060 2d2d 7061  e with the `--pa
-00003890: 636b 6167 6560 2028 602d 7060 2920 616e  ckage` (`-p`) an
-000038a0: 6420 602d 2d73 7461 6e64 616c 6f6e 6560  d `--standalone`
-000038b0: 2028 602d 6160 2920 666c 6167 732e 0d0a   (`-a`) flags...
-000038c0: 0d0a 2323 2323 2043 6f6d 7061 7469 626c  ..#### Compatibl
-000038d0: 6520 5079 7468 6f6e 2056 6572 7369 6f6e  e Python Version
-000038e0: 730d 0a0d 0a57 6869 6c65 2043 6f63 6f6e  s....While Cocon
-000038f0: 7574 2073 796e 7461 7820 6973 2062 6173  ut syntax is bas
-00003900: 6564 206f 6666 206f 6620 7468 6520 6c61  ed off of the la
-00003910: 7465 7374 2050 7974 686f 6e20 332c 2043  test Python 3, C
-00003920: 6f63 6f6e 7574 2063 6f64 6520 636f 6d70  oconut code comp
-00003930: 696c 6564 2069 6e20 756e 6976 6572 7361  iled in universa
-00003940: 6c20 6d6f 6465 2028 7468 6520 6465 6661  l mode (the defa
-00003950: 756c 7420 602d 2d74 6172 6765 7460 29e2  ult `--target`).
-00003960: 8094 616e 6420 7468 6520 436f 636f 6e75  ..and the Coconu
-00003970: 7420 636f 6d70 696c 6572 2069 7473 656c  t compiler itsel
-00003980: 66e2 8094 7368 6f75 6c64 2072 756e 206f  f...should run o
-00003990: 6e20 616e 7920 5079 7468 6f6e 2076 6572  n any Python ver
-000039a0: 7369 6f6e 2060 3e3d 2032 2e36 6020 6f6e  sion `>= 2.6` on
-000039b0: 2074 6865 2060 322e 7860 2062 7261 6e63   the `2.x` branc
-000039c0: 6820 6f72 2060 3e3d 2033 2e32 6020 6f6e  h or `>= 3.2` on
-000039d0: 2074 6865 2060 332e 7860 2062 7261 6e63   the `3.x` branc
-000039e0: 6820 2861 6e64 206f 6e20 6569 7468 6572  h (and on either
-000039f0: 205b 4350 7974 686f 6e5d 2868 7474 7073   [CPython](https
-00003a00: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
-00003a10: 672f 2920 6f72 205b 5079 5079 5d28 6874  g/) or [PyPy](ht
-00003a20: 7470 3a2f 2f70 7970 792e 6f72 672f 2929  tp://pypy.org/))
-00003a30: 2e0d 0a0d 0a54 6f20 6d61 6b65 2043 6f63  .....To make Coc
-00003a40: 6f6e 7574 2062 7569 6c74 2d69 6e73 2075  onut built-ins u
-00003a50: 6e69 7665 7273 616c 2061 6372 6f73 7320  niversal across 
-00003a60: 5079 7468 6f6e 2076 6572 7369 6f6e 732c  Python versions,
-00003a70: 2043 6f63 6f6e 7574 206d 616b 6573 2061   Coconut makes a
-00003a80: 7661 696c 6162 6c65 206f 6e20 616e 7920  vailable on any 
-00003a90: 5079 7468 6f6e 2076 6572 7369 6f6e 2062  Python version b
-00003aa0: 7569 6c74 2d69 6e73 2074 6861 7420 6f6e  uilt-ins that on
-00003ab0: 6c79 2065 7869 7374 2069 6e20 6c61 7465  ly exist in late
-00003ac0: 7220 7665 7273 696f 6e73 2c20 696e 636c  r versions, incl
-00003ad0: 7564 696e 6720 2a2a 6175 746f 6d61 7469  uding **automati
-00003ae0: 6361 6c6c 7920 6f76 6572 7772 6974 696e  cally overwritin
-00003af0: 6720 5079 7468 6f6e 2032 2062 7569 6c74  g Python 2 built
-00003b00: 2d69 6e73 2077 6974 6820 7468 6569 7220  -ins with their 
-00003b10: 5079 7468 6f6e 2033 2063 6f75 6e74 6572  Python 3 counter
-00003b20: 7061 7274 732e 2a2a 2041 6464 6974 696f  parts.** Additio
-00003b30: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2061  nally, Coconut a
-00003b40: 6c73 6f20 5b6f 7665 7277 7269 7465 7320  lso [overwrites 
-00003b50: 736f 6d65 2050 7974 686f 6e20 3320 6275  some Python 3 bu
-00003b60: 696c 742d 696e 7320 666f 7220 6f70 7469  ilt-ins for opti
-00003b70: 6d69 7a61 7469 6f6e 2061 6e64 2065 6e68  mization and enh
-00003b80: 616e 6365 6d65 6e74 2070 7572 706f 7365  ancement purpose
-00003b90: 735d 2823 656e 6861 6e63 6564 2d62 7569  s](#enhanced-bui
-00003ba0: 6c74 2d69 6e73 292e 2049 6620 6163 6365  lt-ins). If acce
-00003bb0: 7373 2074 6f20 7468 6520 6f72 6967 696e  ss to the origin
-00003bc0: 616c 2050 7974 686f 6e20 7665 7273 696f  al Python versio
-00003bd0: 6e73 206f 6620 616e 7920 6f76 6572 7772  ns of any overwr
-00003be0: 6974 7465 6e20 6275 696c 742d 696e 7320  itten built-ins 
-00003bf0: 6973 2064 6573 6972 6564 2c20 7468 6520  is desired, the 
-00003c00: 6f6c 6420 6275 696c 742d 696e 7320 6361  old built-ins ca
-00003c10: 6e20 6265 2072 6574 7269 6576 6564 2062  n be retrieved b
-00003c20: 7920 7072 6566 6978 696e 6720 7468 656d  y prefixing them
-00003c30: 2077 6974 6820 6070 795f 602e 2053 7065   with `py_`. Spe
-00003c40: 6369 6669 6361 6c6c 792c 2074 6865 206f  cifically, the o
-00003c50: 7665 7277 7269 7474 656e 2062 7569 6c74  verwritten built
-00003c60: 2d69 6e73 2061 7265 3a0d 0a0d 0a2d 2060  -ins are:....- `
-00003c70: 7079 5f63 6872 600d 0a2d 2060 7079 5f64  py_chr`..- `py_d
-00003c80: 6963 7460 0d0a 2d20 6070 795f 6865 7860  ict`..- `py_hex`
-00003c90: 0d0a 2d20 6070 795f 696e 7075 7460 0d0a  ..- `py_input`..
-00003ca0: 2d20 6070 795f 696e 7460 0d0a 2d20 6070  - `py_int`..- `p
-00003cb0: 795f 6d61 7060 0d0a 2d20 6070 795f 6f62  y_map`..- `py_ob
-00003cc0: 6a65 6374 600d 0a2d 2060 7079 5f6f 6374  ject`..- `py_oct
-00003cd0: 600d 0a2d 2060 7079 5f6f 7065 6e60 0d0a  `..- `py_open`..
-00003ce0: 2d20 6070 795f 7072 696e 7460 0d0a 2d20  - `py_print`..- 
-00003cf0: 6070 795f 7261 6e67 6560 0d0a 2d20 6070  `py_range`..- `p
-00003d00: 795f 7374 7260 0d0a 2d20 6070 795f 7375  y_str`..- `py_su
-00003d10: 7065 7260 0d0a 2d20 6070 795f 7a69 7060  per`..- `py_zip`
-00003d20: 0d0a 2d20 6070 795f 6669 6c74 6572 600d  ..- `py_filter`.
-00003d30: 0a2d 2060 7079 5f72 6576 6572 7365 6460  .- `py_reversed`
-00003d40: 0d0a 2d20 6070 795f 656e 756d 6572 6174  ..- `py_enumerat
-00003d50: 6560 0d0a 2d20 6070 795f 7261 775f 696e  e`..- `py_raw_in
-00003d60: 7075 7460 0d0a 2d20 6070 795f 7872 616e  put`..- `py_xran
-00003d70: 6765 600d 0a2d 2060 7079 5f72 6570 7260  ge`..- `py_repr`
-00003d80: 0d0a 2d20 6070 795f 6272 6561 6b70 6f69  ..- `py_breakpoi
-00003d90: 6e74 600d 0a0d 0a5f 4e6f 7465 3a20 436f  nt`...._Note: Co
-00003da0: 636f 6e75 7427 7320 6072 6570 7260 2063  conut's `repr` c
-00003db0: 616e 2062 6520 736f 6d65 7768 6174 2074  an be somewhat t
-00003dc0: 7269 636b 792c 2061 7320 6974 2077 696c  ricky, as it wil
-00003dd0: 6c20 6174 7465 6d70 7420 746f 2072 656d  l attempt to rem
-00003de0: 6f76 6520 7468 6520 6075 6020 6265 666f  ove the `u` befo
-00003df0: 7265 2072 6570 7273 206f 6620 756e 6963  re reprs of unic
-00003e00: 6f64 6520 7374 7269 6e67 7320 6f6e 2050  ode strings on P
-00003e10: 7974 686f 6e20 322c 2062 7574 2077 696c  ython 2, but wil
-00003e20: 6c20 6e6f 7420 616c 7761 7973 2062 6520  l not always be 
-00003e30: 6162 6c65 2074 6f20 646f 2073 6f20 6966  able to do so if
-00003e40: 2074 6865 2075 6e69 636f 6465 2073 7472   the unicode str
-00003e50: 696e 6720 6973 206e 6573 7465 642e 5f0d  ing is nested._.
-00003e60: 0a0d 0a46 6f72 2073 7461 6e64 6172 6420  ...For standard 
-00003e70: 6c69 6272 6172 7920 636f 6d70 6174 6962  library compatib
-00003e80: 696c 6974 792c 202a 2a43 6f63 6f6e 7574  ility, **Coconut
-00003e90: 2061 7574 6f6d 6174 6963 616c 6c79 206d   automatically m
-00003ea0: 6170 7320 696d 706f 7274 7320 756e 6465  aps imports unde
-00003eb0: 7220 5079 7468 6f6e 2033 206e 616d 6573  r Python 3 names
-00003ec0: 2074 6f20 696d 706f 7274 7320 756e 6465   to imports unde
-00003ed0: 7220 5079 7468 6f6e 2032 206e 616d 6573  r Python 2 names
-00003ee0: 2a2a 2e20 5468 7573 2c20 436f 636f 6e75  **. Thus, Coconu
-00003ef0: 7420 7769 6c6c 2061 7574 6f6d 6174 6963  t will automatic
-00003f00: 616c 6c79 2074 616b 6520 6361 7265 206f  ally take care o
-00003f10: 6620 616e 7920 7374 616e 6461 7264 206c  f any standard l
-00003f20: 6962 7261 7279 206d 6f64 756c 6573 2074  ibrary modules t
-00003f30: 6861 7420 7765 7265 2072 656e 616d 6564  hat were renamed
-00003f40: 2066 726f 6d20 5079 7468 6f6e 2032 2074   from Python 2 t
-00003f50: 6f20 5079 7468 6f6e 2033 2069 6620 6a75  o Python 3 if ju
-00003f60: 7374 2074 6865 2050 7974 686f 6e20 3320  st the Python 3 
-00003f70: 6e61 6d65 2069 7320 7573 6564 2e20 466f  name is used. Fo
-00003f80: 7220 6d6f 6475 6c65 7320 6f72 2070 6163  r modules or pac
-00003f90: 6b61 6765 7320 7468 6174 206f 6e6c 7920  kages that only 
-00003fa0: 6578 6973 7420 696e 2050 7974 686f 6e20  exist in Python 
-00003fb0: 332c 2068 6f77 6576 6572 2c20 436f 636f  3, however, Coco
-00003fc0: 6e75 7420 6861 7320 6e6f 2077 6179 206f  nut has no way o
-00003fd0: 6620 6d61 696e 7461 696e 696e 6720 636f  f maintaining co
-00003fe0: 6d70 6174 6962 696c 6974 792e 0d0a 0d0a  mpatibility.....
-00003ff0: 4669 6e61 6c6c 792c 2077 6869 6c65 2043  Finally, while C
-00004000: 6f63 6f6e 7574 2077 696c 6c20 7472 7920  oconut will try 
-00004010: 746f 2063 6f6d 7069 6c65 2050 7974 686f  to compile Pytho
-00004020: 6e2d 332d 7370 6563 6966 6963 2073 796e  n-3-specific syn
-00004030: 7461 7820 746f 2069 7473 2075 6e69 7665  tax to its unive
-00004040: 7273 616c 2065 7175 6976 616c 656e 742c  rsal equivalent,
-00004050: 2074 6865 2066 6f6c 6c6f 7769 6e67 2063   the following c
-00004060: 6f6e 7374 7275 6374 7320 6861 7665 206e  onstructs have n
-00004070: 6f20 6571 7569 7661 6c65 6e74 2069 6e20  o equivalent in 
-00004080: 5079 7468 6f6e 2032 2c20 616e 6420 7265  Python 2, and re
-00004090: 7175 6972 6520 7468 6520 7370 6563 6966  quire the specif
-000040a0: 6963 6174 696f 6e20 6f66 2061 2074 6172  ication of a tar
-000040b0: 6765 7420 6f66 2061 7420 6c65 6173 7420  get of at least 
-000040c0: 6033 6020 746f 2062 6520 7573 6564 3a0d  `3` to be used:.
-000040d0: 0a0d 0a2d 2074 6865 2060 6e6f 6e6c 6f63  ...- the `nonloc
-000040e0: 616c 6020 6b65 7977 6f72 642c 0d0a 2d20  al` keyword,..- 
-000040f0: 6b65 7977 6f72 642d 6f6e 6c79 2066 756e  keyword-only fun
-00004100: 6374 696f 6e20 7061 7261 6d65 7465 7273  ction parameters
-00004110: 2028 7573 6520 5b70 6174 7465 726e 2d6d   (use [pattern-m
-00004120: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
-00004130: 2064 6566 696e 6974 696f 6e5d 2823 7061   definition](#pa
-00004140: 7474 6572 6e2d 6d61 7463 6869 6e67 2d66  ttern-matching-f
-00004150: 756e 6374 696f 6e73 2920 666f 7220 756e  unctions) for un
-00004160: 6976 6572 7361 6c20 636f 6465 292c 0d0a  iversal code),..
-00004170: 2d20 6061 7379 6e63 6020 616e 6420 6061  - `async` and `a
-00004180: 7761 6974 6020 7374 6174 656d 656e 7473  wait` statements
-00004190: 2028 7265 7175 6972 6573 2061 2073 7065   (requires a spe
-000041a0: 6369 6669 6320 7461 7267 6574 3b20 436f  cific target; Co
-000041b0: 636f 6e75 7420 7769 6c6c 2061 7474 656d  conut will attem
-000041c0: 7074 2064 6966 6665 7265 6e74 2062 6163  pt different bac
-000041d0: 6b70 6f72 7473 2062 6173 6564 206f 6e20  kports based on 
-000041e0: 7468 6520 7461 7267 6574 6564 2076 6572  the targeted ver
-000041f0: 7369 6f6e 292c 0d0a 2d20 603a 3d60 2061  sion),..- `:=` a
-00004200: 7373 6967 6e6d 656e 7420 6578 7072 6573  ssignment expres
-00004210: 7369 6f6e 7320 2872 6571 7569 7265 7320  sions (requires 
-00004220: 602d 2d74 6172 6765 7420 332e 3860 292c  `--target 3.8`),
-00004230: 0d0a 2d20 706f 7369 7469 6f6e 616c 2d6f  ..- positional-o
-00004240: 6e6c 7920 6675 6e63 7469 6f6e 2070 6172  nly function par
-00004250: 616d 6574 6572 7320 2875 7365 205b 7061  ameters (use [pa
-00004260: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
-00004270: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
-00004280: 6f6e 5d28 2370 6174 7465 726e 2d6d 6174  on](#pattern-mat
-00004290: 6368 696e 672d 6675 6e63 7469 6f6e 7329  ching-functions)
-000042a0: 2066 6f72 2075 6e69 7665 7273 616c 2063   for universal c
-000042b0: 6f64 6529 2028 7265 7175 6972 6573 2060  ode) (requires `
-000042c0: 2d2d 7461 7267 6574 2033 2e38 6029 2c0d  --target 3.8`),.
-000042d0: 0a2d 2060 615b 782c 202a 795d 6020 7661  .- `a[x, *y]` va
-000042e0: 7269 6164 6963 2067 656e 6572 6963 2073  riadic generic s
-000042f0: 796e 7461 7820 2875 7365 205b 7479 7065  yntax (use [type
-00004300: 2070 6172 616d 6574 6572 2073 796e 7461   parameter synta
-00004310: 785d 2823 7479 7065 2d70 6172 616d 6574  x](#type-paramet
-00004320: 6572 2d73 796e 7461 7829 2066 6f72 2075  er-syntax) for u
-00004330: 6e69 7665 7273 616c 2063 6f64 6529 2028  niversal code) (
-00004340: 7265 7175 6972 6573 2060 2d2d 7461 7267  requires `--targ
-00004350: 6574 2033 2e31 3160 292c 2061 6e64 0d0a  et 3.11`), and..
-00004360: 2d20 6065 7863 6570 742a 6020 6d75 6c74  - `except*` mult
-00004370: 692d 6578 6365 7074 2073 7461 7465 6d65  i-except stateme
-00004380: 6e74 7320 2872 6571 7569 7265 7320 602d  nts (requires `-
-00004390: 2d74 6172 6765 7420 332e 3131 6029 2e0d  -target 3.11`)..
-000043a0: 0a0d 0a5f 4e6f 7465 3a20 436f 636f 6e75  ..._Note: Coconu
-000043b0: 7420 616c 736f 2075 6e69 7665 7273 616c  t also universal
-000043c0: 697a 6573 206d 616e 7920 6d61 6769 6320  izes many magic 
-000043d0: 6d65 7468 6f64 732c 2069 6e63 6c75 6469  methods, includi
-000043e0: 6e67 206d 616b 696e 6720 605f 5f62 6f6f  ng making `__boo
-000043f0: 6c5f 5f60 2061 6e64 205b 605f 5f73 6574  l__` and [`__set
-00004400: 5f6e 616d 655f 5f60 5d28 6874 7470 733a  _name__`](https:
-00004410: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
-00004420: 672f 332f 7265 6665 7265 6e63 652f 6461  g/3/reference/da
-00004430: 7461 6d6f 6465 6c2e 6874 6d6c 236f 626a  tamodel.html#obj
-00004440: 6563 742e 5f5f 7365 745f 6e61 6d65 5f5f  ect.__set_name__
-00004450: 2920 776f 726b 206f 6e20 616e 7920 5079  ) work on any Py
-00004460: 7468 6f6e 2076 6572 7369 6f6e 2e5f 0d0a  thon version._..
-00004470: 0d0a 2323 2323 2041 6c6c 6f77 6162 6c65  ..#### Allowable
-00004480: 2054 6172 6765 7473 0d0a 0d0a 4966 2074   Targets....If t
-00004490: 6865 2076 6572 7369 6f6e 206f 6620 5079  he version of Py
-000044a0: 7468 6f6e 2074 6861 7420 7468 6520 636f  thon that the co
-000044b0: 6d70 696c 6564 2063 6f64 6520 7769 6c6c  mpiled code will
-000044c0: 2062 6520 7275 6e6e 696e 6720 6f6e 2069   be running on i
-000044d0: 7320 6b6e 6f77 6e20 6168 6561 6420 6f66  s known ahead of
-000044e0: 2074 696d 652c 2061 2074 6172 6765 7420   time, a target 
-000044f0: 7368 6f75 6c64 2062 6520 7370 6563 6966  should be specif
-00004500: 6965 6420 7769 7468 2060 2d2d 7461 7267  ied with `--targ
-00004510: 6574 602e 2054 6865 2067 6976 656e 2074  et`. The given t
-00004520: 6172 6765 7420 7769 6c6c 206f 6e6c 7920  arget will only 
-00004530: 6166 6665 6374 2074 6865 2063 6f6d 7069  affect the compi
-00004540: 6c65 6420 636f 6465 2061 6e64 2077 6865  led code and whe
-00004550: 7468 6572 206f 7220 6e6f 7420 7468 6520  ther or not the 
-00004560: 5079 7468 6f6e 2d33 2d73 7065 6369 6669  Python-3-specifi
-00004570: 6320 7379 6e74 6178 2064 6574 6169 6c65  c syntax detaile
-00004580: 6420 6162 6f76 6520 6973 2061 6c6c 6f77  d above is allow
-00004590: 6564 2e20 5768 6572 6520 5079 7468 6f6e  ed. Where Python
-000045a0: 2073 796e 7461 7820 6469 6666 6572 7320   syntax differs 
-000045b0: 6163 726f 7373 2076 6572 7369 6f6e 732c  across versions,
-000045c0: 2043 6f63 6f6e 7574 2073 796e 7461 7820   Coconut syntax 
-000045d0: 7769 6c6c 2061 6c77 6179 7320 666f 6c6c  will always foll
-000045e0: 6f77 2074 6865 206c 6174 6573 7420 5079  ow the latest Py
-000045f0: 7468 6f6e 2033 2061 6372 6f73 7320 616c  thon 3 across al
-00004600: 6c20 7461 7267 6574 732e 2054 6865 2073  l targets. The s
-00004610: 7570 706f 7274 6564 2074 6172 6765 7473  upported targets
-00004620: 2061 7265 3a0d 0a0d 0a2d 2060 756e 6976   are:....- `univ
-00004630: 6572 7361 6c60 2028 6465 6661 756c 7429  ersal` (default)
-00004640: 2028 7769 6c6c 2077 6f72 6b20 6f6e 205f   (will work on _
-00004650: 616e 795f 206f 6620 7468 6520 6265 6c6f  any_ of the belo
-00004660: 7729 2c0d 0a2d 2060 3260 2c20 6032 2e36  w),..- `2`, `2.6
-00004670: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
-00004680: 616e 7920 5079 7468 6f6e 2060 3e3d 2032  any Python `>= 2
-00004690: 2e36 6020 6275 7420 603c 2033 6029 2c0d  .6` but `< 3`),.
-000046a0: 0a2d 2060 322e 3760 2028 7769 6c6c 2077  .- `2.7` (will w
-000046b0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
-000046c0: 6e20 603e 3d20 322e 3760 2062 7574 2060  n `>= 2.7` but `
-000046d0: 3c20 3360 292c 0d0a 2d20 6033 602c 2060  < 3`),..- `3`, `
-000046e0: 332e 3260 2028 7769 6c6c 2077 6f72 6b20  3.2` (will work 
-000046f0: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
-00004700: 3d20 332e 3260 292c 0d0a 2d20 6033 2e33  = 3.2`),..- `3.3
-00004710: 6020 2877 696c 6c20 776f 726b 206f 6e20  ` (will work on 
-00004720: 616e 7920 5079 7468 6f6e 2060 3e3d 2033  any Python `>= 3
-00004730: 2e33 6029 2c0d 0a2d 2060 332e 3460 2028  .3`),..- `3.4` (
-00004740: 7769 6c6c 2077 6f72 6b20 6f6e 2061 6e79  will work on any
-00004750: 2050 7974 686f 6e20 603e 3d20 332e 3460   Python `>= 3.4`
-00004760: 292c 0d0a 2d20 6033 2e35 6020 2877 696c  ),..- `3.5` (wil
-00004770: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
-00004780: 7468 6f6e 2060 3e3d 2033 2e35 6029 2c0d  thon `>= 3.5`),.
-00004790: 0a2d 2060 332e 3660 2028 7769 6c6c 2077  .- `3.6` (will w
-000047a0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
-000047b0: 6e20 603e 3d20 332e 3660 292c 0d0a 2d20  n `>= 3.6`),..- 
-000047c0: 6033 2e37 6020 2877 696c 6c20 776f 726b  `3.7` (will work
-000047d0: 206f 6e20 616e 7920 5079 7468 6f6e 2060   on any Python `
-000047e0: 3e3d 2033 2e37 6029 2c0d 0a2d 2060 332e  >= 3.7`),..- `3.
-000047f0: 3860 2028 7769 6c6c 2077 6f72 6b20 6f6e  8` (will work on
-00004800: 2061 6e79 2050 7974 686f 6e20 603e 3d20   any Python `>= 
-00004810: 332e 3860 292c 0d0a 2d20 6033 2e39 6020  3.8`),..- `3.9` 
-00004820: 2877 696c 6c20 776f 726b 206f 6e20 616e  (will work on an
-00004830: 7920 5079 7468 6f6e 2060 3e3d 2033 2e39  y Python `>= 3.9
-00004840: 6029 2c0d 0a2d 2060 332e 3130 6020 2877  `),..- `3.10` (w
-00004850: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
-00004860: 5079 7468 6f6e 2060 3e3d 2033 2e31 3060  Python `>= 3.10`
-00004870: 292c 0d0a 2d20 6033 2e31 3160 2028 7769  ),..- `3.11` (wi
-00004880: 6c6c 2077 6f72 6b20 6f6e 2061 6e79 2050  ll work on any P
-00004890: 7974 686f 6e20 603e 3d20 332e 3131 6029  ython `>= 3.11`)
-000048a0: 2c0d 0a2d 2060 332e 3132 6020 2877 696c  ,..- `3.12` (wil
-000048b0: 6c20 776f 726b 206f 6e20 616e 7920 5079  l work on any Py
-000048c0: 7468 6f6e 2060 3e3d 2033 2e31 3260 292c  thon `>= 3.12`),
-000048d0: 2061 6e64 0d0a 2d20 6073 7973 6020 2863   and..- `sys` (c
-000048e0: 686f 6f73 6573 2074 6865 2074 6172 6765  hooses the targe
-000048f0: 7420 636f 7272 6573 706f 6e64 696e 6720  t corresponding 
-00004900: 746f 2074 6865 2063 7572 7265 6e74 2050  to the current P
-00004910: 7974 686f 6e20 7665 7273 696f 6e29 2e0d  ython version)..
-00004920: 0a0d 0a5f 4e6f 7465 3a20 5065 7269 6f64  ..._Note: Period
-00004930: 7320 6172 6520 6f70 7469 6f6e 616c 2069  s are optional i
-00004940: 6e20 7461 7267 6574 2073 7065 6369 6669  n target specifi
-00004950: 6361 7469 6f6e 732c 2073 7563 6820 7468  cations, such th
-00004960: 6174 2074 6865 2074 6172 6765 7420 6032  at the target `2
-00004970: 3760 2069 7320 6571 7569 7661 6c65 6e74  7` is equivalent
-00004980: 2074 6f20 7468 6520 7461 7267 6574 2060   to the target `
-00004990: 322e 3760 2e5f 0d0a 0d0a 2323 2323 2060  2.7`._....#### `
-000049a0: 7374 7269 6374 6020 4d6f 6465 0d0a 0d0a  strict` Mode....
-000049b0: 4966 2074 6865 2060 2d2d 7374 7269 6374  If the `--strict
-000049c0: 6020 2860 2d73 6020 666f 7220 7368 6f72  ` (`-s` for shor
-000049d0: 7429 2066 6c61 6720 6973 2065 6e61 626c  t) flag is enabl
-000049e0: 6564 2c20 436f 636f 6e75 7420 7769 6c6c  ed, Coconut will
-000049f0: 2070 6572 666f 726d 2061 6464 6974 696f   perform additio
-00004a00: 6e61 6c20 6368 6563 6b73 206f 6e20 7468  nal checks on th
-00004a10: 6520 636f 6465 2062 6569 6e67 2063 6f6d  e code being com
-00004a20: 7069 6c65 642e 2049 7420 6973 2072 6563  piled. It is rec
-00004a30: 6f6d 6d65 6e64 6564 2074 6861 7420 796f  ommended that yo
-00004a40: 7520 7573 6520 7468 6520 602d 2d73 7472  u use the `--str
-00004a50: 6963 7460 2066 6c61 6720 6966 2079 6f75  ict` flag if you
-00004a60: 2061 7265 2073 7461 7274 696e 6720 6120   are starting a 
-00004a70: 6e65 7720 436f 636f 6e75 7420 7072 6f6a  new Coconut proj
-00004a80: 6563 742c 2061 7320 6974 2077 696c 6c20  ect, as it will 
-00004a90: 6865 6c70 2079 6f75 2077 7269 7465 2063  help you write c
-00004aa0: 6c65 616e 6572 2063 6f64 652e 2053 7065  leaner code. Spe
-00004ab0: 6369 6669 6361 6c6c 792c 2074 6865 2065  cifically, the e
-00004ac0: 7874 7261 2063 6865 636b 7320 646f 6e65  xtra checks done
-00004ad0: 2062 7920 602d 2d73 7472 6963 7460 2061   by `--strict` a
-00004ae0: 7265 3a0d 0a0d 0a2d 2064 6973 6162 6c69  re:....- disabli
-00004af0: 6e67 2064 6570 7265 6361 7465 6420 6665  ng deprecated fe
-00004b00: 6174 7572 6573 2028 6d61 6b69 6e67 2074  atures (making t
-00004b10: 6865 6d20 656e 7469 7265 6c79 2075 6e61  hem entirely una
-00004b20: 7661 696c 6162 6c65 2074 6f20 636f 6465  vailable to code
-00004b30: 2063 6f6d 7069 6c65 6420 7769 7468 2060   compiled with `
-00004b40: 2d2d 7374 7269 6374 6029 2c0d 0a2d 2065  --strict`),..- e
-00004b50: 7272 6f72 7320 696e 7374 6561 6420 6f66  rrors instead of
-00004b60: 2077 6172 6e69 6e67 7320 6f6e 2075 6e75   warnings on unu
-00004b70: 7365 6420 696d 706f 7274 7320 2875 6e6c  sed imports (unl
-00004b80: 6573 7320 7468 6579 2068 6176 6520 6120  ess they have a 
-00004b90: 6023 204e 4f51 4160 206f 7220 6023 206e  `# NOQA` or `# n
-00004ba0: 6f71 6160 2063 6f6d 6d65 6e74 292c 0d0a  oqa` comment),..
-00004bb0: 2d20 6572 726f 7273 2069 6e73 7465 6164  - errors instead
-00004bc0: 206f 6620 7761 726e 696e 6773 2077 6865   of warnings whe
-00004bd0: 6e20 6f76 6572 7772 6974 696e 6720 6275  n overwriting bu
-00004be0: 696c 742d 696e 7320 2875 6e6c 6573 7320  ilt-ins (unless 
-00004bf0: 6120 6261 636b 736c 6173 6820 6973 2075  a backslash is u
-00004c00: 7365 6420 746f 2065 7363 6170 6520 7468  sed to escape th
-00004c10: 6520 6275 696c 742d 696e 206e 616d 6529  e built-in name)
-00004c20: 2c0d 0a2d 2077 6172 6e69 6e67 206f 6e20  ,..- warning on 
-00004c30: 6d69 7373 696e 6720 605f 5f69 6e69 745f  missing `__init_
-00004c40: 5f2e 636f 636f 6020 6669 6c65 7320 7768  _.coco` files wh
-00004c50: 656e 2063 6f6d 7069 6c69 6e67 2069 6e20  en compiling in 
-00004c60: 602d 2d70 6163 6b61 6765 6020 6d6f 6465  `--package` mode
-00004c70: 2c0d 0a2d 2074 6872 6f77 696e 6720 6572  ,..- throwing er
-00004c80: 726f 7273 206f 6e20 7661 7269 6f75 7320  rors on various 
-00004c90: 7374 796c 6520 7072 6f62 6c65 6d73 2028  style problems (
-00004ca0: 7365 6520 6c69 7374 2062 656c 6f77 292e  see list below).
-00004cb0: 0d0a 0d0a 5468 6520 7374 796c 6520 6973  ....The style is
-00004cc0: 7375 6573 2077 6869 6368 2077 696c 6c20  sues which will 
-00004cd0: 6361 7573 6520 602d 2d73 7472 6963 7460  cause `--strict`
-00004ce0: 2074 6f20 7468 726f 7720 616e 2065 7272   to throw an err
-00004cf0: 6f72 2061 7265 3a0d 0a0d 0a2d 206d 6978  or are:....- mix
-00004d00: 696e 6720 6f66 2074 6162 7320 616e 6420  ing of tabs and 
-00004d10: 7370 6163 6573 2028 7769 7468 6f75 7420  spaces (without 
-00004d20: 602d 2d73 7472 6963 7460 2077 696c 6c20  `--strict` will 
-00004d30: 7368 6f77 2061 2077 6172 6e69 6e67 292e  show a warning).
-00004d40: 0d0a 2d20 7573 6520 6f66 2060 6672 6f6d  ..- use of `from
-00004d50: 205f 5f66 7574 7572 655f 5f60 2069 6d70   __future__` imp
-00004d60: 6f72 7473 2028 436f 636f 6e75 7420 646f  orts (Coconut do
-00004d70: 6573 2074 6865 7365 2061 7574 6f6d 6174  es these automat
-00004d80: 6963 616c 6c79 2920 2877 6974 686f 7574  ically) (without
-00004d90: 2060 2d2d 7374 7269 6374 6020 7769 6c6c   `--strict` will
-00004da0: 2073 686f 7720 6120 7761 726e 696e 6729   show a warning)
-00004db0: 2e0d 0a2d 2069 6e68 6572 6974 696e 6720  ...- inheriting 
-00004dc0: 6672 6f6d 2060 6f62 6a65 6374 6020 696e  from `object` in
-00004dd0: 2063 6c61 7373 6573 2028 436f 636f 6e75   classes (Coconu
-00004de0: 7420 646f 6573 2074 6869 7320 6175 746f  t does this auto
-00004df0: 6d61 7469 6361 6c6c 7929 2028 7769 7468  matically) (with
-00004e00: 6f75 7420 602d 2d73 7472 6963 7460 2077  out `--strict` w
-00004e10: 696c 6c20 7368 6f77 2061 2077 6172 6e69  ill show a warni
-00004e20: 6e67 292e 0d0a 2d20 7365 6d69 636f 6c6f  ng)...- semicolo
-00004e30: 6e73 2061 7420 656e 6420 6f66 206c 696e  ns at end of lin
-00004e40: 6573 2028 7769 7468 6f75 7420 602d 2d73  es (without `--s
-00004e50: 7472 6963 7460 2077 696c 6c20 7368 6f77  trict` will show
-00004e60: 2061 2077 6172 6e69 6e67 292e 0d0a 2d20   a warning)...- 
-00004e70: 7573 6520 6f66 2060 7560 2074 6f20 6465  use of `u` to de
-00004e80: 6e6f 7465 2055 6e69 636f 6465 2073 7472  note Unicode str
-00004e90: 696e 6773 2028 616c 6c20 436f 636f 6e75  ings (all Coconu
-00004ea0: 7420 7374 7269 6e67 7320 6172 6520 556e  t strings are Un
-00004eb0: 6963 6f64 6520 7374 7269 6e67 7329 2028  icode strings) (
-00004ec0: 7769 7468 6f75 7420 602d 2d73 7472 6963  without `--stric
-00004ed0: 7460 2077 696c 6c20 7368 6f77 2061 2077  t` will show a w
-00004ee0: 6172 6e69 6e67 292e 0d0a 2d20 636f 6d6d  arning)...- comm
-00004ef0: 6173 2061 6674 6572 205b 7374 6174 656d  as after [statem
-00004f00: 656e 7420 6c61 6d62 6461 735d 2823 7374  ent lambdas](#st
-00004f10: 6174 656d 656e 742d 6c61 6d62 6461 7329  atement-lambdas)
-00004f20: 2028 6e6f 7420 7265 636f 6d6d 656e 6465   (not recommende
-00004f30: 6420 6173 2069 7420 6361 6e20 6265 2075  d as it can be u
-00004f40: 6e63 6c65 6172 2077 6865 7468 6572 2074  nclear whether t
-00004f50: 6865 2063 6f6d 6d61 2069 7320 696e 7369  he comma is insi
-00004f60: 6465 206f 7220 6f75 7473 6964 6520 7468  de or outside th
-00004f70: 6520 6c61 6d62 6461 2920 2877 6974 686f  e lambda) (witho
-00004f80: 7574 2060 2d2d 7374 7269 6374 6020 7769  ut `--strict` wi
-00004f90: 6c6c 2073 686f 7720 6120 7761 726e 696e  ll show a warnin
-00004fa0: 6729 2e0d 0a2d 206d 6973 7369 6e67 206e  g)...- missing n
-00004fb0: 6577 206c 696e 6520 6174 2065 6e64 206f  ew line at end o
-00004fc0: 6620 6669 6c65 2e0d 0a2d 2074 7261 696c  f file...- trail
-00004fd0: 696e 6720 7768 6974 6573 7061 6365 2061  ing whitespace a
-00004fe0: 7420 656e 6420 6f66 206c 696e 6573 2e0d  t end of lines..
-00004ff0: 0a2d 2075 7365 206f 6620 7468 6520 5079  .- use of the Py
-00005000: 7468 6f6e 2d73 7479 6c65 2060 6c61 6d62  thon-style `lamb
-00005010: 6461 6020 7374 6174 656d 656e 7420 2875  da` statement (u
-00005020: 7365 205b 436f 636f 6e75 7427 7320 6c61  se [Coconut's la
-00005030: 6d62 6461 2073 796e 7461 785d 2823 6c61  mbda syntax](#la
-00005040: 6d62 6461 7329 2069 6e73 7465 6164 292e  mbdas) instead).
-00005050: 0d0a 2d20 7573 6520 6f66 2062 6163 6b73  ..- use of backs
-00005060: 6c61 7368 2063 6f6e 7469 6e75 6174 696f  lash continuatio
-00005070: 6e20 2875 7365 205b 7061 7265 6e74 6865  n (use [parenthe
-00005080: 7469 6361 6c20 636f 6e74 696e 7561 7469  tical continuati
-00005090: 6f6e 5d28 2365 6e68 616e 6365 642d 7061  on](#enhanced-pa
-000050a0: 7265 6e74 6865 7469 6361 6c2d 636f 6e74  renthetical-cont
-000050b0: 696e 7561 7469 6f6e 2920 696e 7374 6561  inuation) instea
-000050c0: 6429 2e0d 0a2d 2050 7974 686f 6e2d 332e  d)...- Python-3.
-000050d0: 3130 2f50 4550 2d36 3334 2d73 7479 6c65  10/PEP-634-style
-000050e0: 2064 6f74 7465 6420 6e61 6d65 7320 696e   dotted names in
-000050f0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-00005100: 6720 2843 6f63 6f6e 7574 2073 7479 6c65  g (Coconut style
-00005110: 2069 7320 746f 2070 7265 6661 6365 2074   is to preface t
-00005120: 6865 7365 2077 6974 6820 603d 3d60 292e  hese with `==`).
-00005130: 0d0a 2d20 7573 6520 6f66 2060 3a60 2069  ..- use of `:` i
-00005140: 6e73 7465 6164 206f 6620 603c 3a60 2074  nstead of `<:` t
-00005150: 6f20 7370 6563 6966 7920 7570 7065 7220  o specify upper 
-00005160: 626f 756e 6473 2069 6e20 5b43 6f63 6f6e  bounds in [Cocon
-00005170: 7574 2773 2074 7970 6520 7061 7261 6d65  ut's type parame
-00005180: 7465 7220 7379 6e74 6178 5d28 2374 7970  ter syntax](#typ
-00005190: 652d 7061 7261 6d65 7465 722d 7379 6e74  e-parameter-synt
-000051a0: 6178 292e 0d0a 0d0a 2323 2049 6e74 6567  ax).....## Integ
-000051b0: 7261 7469 6f6e 730d 0a0d 0a60 6060 7b63  rations....```{c
-000051c0: 6f6e 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c  ontents}..---..l
-000051d0: 6f63 616c 3a0d 0a64 6570 7468 3a20 320d  ocal:..depth: 2.
-000051e0: 0a2d 2d2d 0d0a 6060 600d 0a0d 0a23 2323  .---..```....###
-000051f0: 2320 5379 6e74 6178 2048 6967 686c 6967  # Syntax Highlig
-00005200: 6874 696e 670d 0a0d 0a54 6578 7420 6564  hting....Text ed
-00005210: 6974 6f72 7320 7769 7468 2073 7570 706f  itors with suppo
-00005220: 7274 2066 6f72 2043 6f63 6f6e 7574 2073  rt for Coconut s
-00005230: 796e 7461 7820 6869 6768 6c69 6768 7469  yntax highlighti
-00005240: 6e67 2061 7265 3a0d 0a0d 0a2d 202a 2a56  ng are:....- **V
-00005250: 5343 6f64 652a 2a3a 2049 6e73 7461 6c6c  SCode**: Install
-00005260: 205b 436f 636f 6e75 7420 284f 6666 6963   [Coconut (Offic
-00005270: 6961 6c29 5d28 6874 7470 733a 2f2f 6d61  ial)](https://ma
-00005280: 726b 6574 706c 6163 652e 7669 7375 616c  rketplace.visual
-00005290: 7374 7564 696f 2e63 6f6d 2f69 7465 6d73  studio.com/items
-000052a0: 3f69 7465 6d4e 616d 653d 6576 6875 622e  ?itemName=evhub.
-000052b0: 636f 636f 6e75 7429 2028 666f 7220 2a2a  coconut) (for **
-000052c0: 5653 436f 6469 756d 2a2a 2c20 696e 7374  VSCodium**, inst
-000052d0: 616c 6c20 6672 6f6d 204f 7065 6e20 5653  all from Open VS
-000052e0: 5820 5b68 6572 655d 2868 7474 7073 3a2f  X [here](https:/
-000052f0: 2f6f 7065 6e2d 7673 782e 6f72 672f 6578  /open-vsx.org/ex
-00005300: 7465 6e73 696f 6e2f 6576 6875 622f 636f  tension/evhub/co
-00005310: 636f 6e75 7429 2069 6e73 7465 6164 292e  conut) instead).
-00005320: 0d0a 2d20 2a2a 5375 626c 696d 6554 6578  ..- **SublimeTex
-00005330: 742a 2a3a 2053 6565 2053 7562 6c69 6d65  t**: See Sublime
-00005340: 5465 7874 2073 6563 7469 6f6e 2062 656c  Text section bel
-00005350: 6f77 2e0d 0a2d 202a 2a53 7079 6465 722a  ow...- **Spyder*
-00005360: 2a20 286f 7220 616e 7920 6f74 6865 7220  * (or any other 
-00005370: 6564 6974 6f72 2074 6861 7420 7375 7070  editor that supp
-00005380: 6f72 7473 202a 2a50 7967 6d65 6e74 732a  orts **Pygments*
-00005390: 2a29 3a20 5365 6520 5079 676d 656e 7473  *): See Pygments
-000053a0: 2073 6563 7469 6f6e 2062 656c 6f77 2e0d   section below..
-000053b0: 0a2d 202a 2a56 696d 2a2a 3a20 5365 6520  .- **Vim**: See 
-000053c0: 5b60 636f 636f 6e75 742e 7669 6d60 5d28  [`coconut.vim`](
-000053d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000053e0: 6f6d 2f6d 616e 6963 6d61 6e69 6163 2f63  om/manicmaniac/c
-000053f0: 6f63 6f6e 7574 2e76 696d 292e 0d0a 2d20  oconut.vim)...- 
-00005400: 2a2a 456d 6163 732a 2a3a 2053 6565 205b  **Emacs**: See [
-00005410: 6065 6d61 6373 2d63 6f63 6f6e 7574 605d  `emacs-coconut`]
-00005420: 2868 7474 7073 3a2f 2f63 6f64 6562 6572  (https://codeber
-00005430: 672e 6f72 672f 6b6f 6261 7269 7479 2f65  g.org/kobarity/e
-00005440: 6d61 6373 2d63 6f63 6f6e 7574 292f 5b60  macs-coconut)/[`
-00005450: 656d 6163 732d 6f62 2d63 6f63 6f6e 7574  emacs-ob-coconut
-00005460: 605d 2868 7474 7073 3a2f 2f63 6f64 6562  `](https://codeb
-00005470: 6572 672e 6f72 672f 6b6f 6261 7269 7479  erg.org/kobarity
-00005480: 2f65 6d61 6373 2d6f 622d 636f 636f 6e75  /emacs-ob-coconu
-00005490: 7429 2e0d 0a2d 202a 2a41 746f 6d2a 2a3a  t)...- **Atom**:
-000054a0: 2053 6565 205b 606c 616e 6775 6167 652d   See [`language-
-000054b0: 636f 636f 6e75 7460 5d28 6874 7470 733a  coconut`](https:
-000054c0: 2f2f 6769 7468 7562 2e63 6f6d 2f65 6e69  //github.com/eni
-000054d0: 6c73 656e 3136 2f6c 616e 6775 6167 652d  lsen16/language-
-000054e0: 636f 636f 6e75 7429 2e0d 0a0d 0a41 6c74  coconut).....Alt
-000054f0: 6572 6e61 7469 7665 6c79 2c20 6966 206e  ernatively, if n
-00005500: 6f6e 6520 6f66 2074 6865 2061 626f 7665  one of the above
-00005510: 2077 6f72 6b20 666f 7220 796f 752c 2079   work for you, y
-00005520: 6f75 2063 616e 206a 7573 7420 7472 6561  ou can just trea
-00005530: 7420 436f 636f 6e75 7420 6173 2050 7974  t Coconut as Pyt
-00005540: 686f 6e2e 2053 696d 706c 7920 7365 7420  hon. Simply set 
-00005550: 7570 2079 6f75 7220 6564 6974 6f72 2073  up your editor s
-00005560: 6f20 6974 2069 6e74 6572 7072 6574 7320  o it interprets 
-00005570: 616c 6c20 602e 636f 636f 6020 6669 6c65  all `.coco` file
-00005580: 7320 6173 2050 7974 686f 6e20 616e 6420  s as Python and 
-00005590: 7468 6174 2073 686f 756c 6420 6869 6768  that should high
-000055a0: 6c69 6768 7420 6d6f 7374 206f 6620 796f  light most of yo
-000055b0: 7572 2063 6f64 6520 7765 6c6c 2065 6e6f  ur code well eno
-000055c0: 7567 6820 2865 2e67 2e20 666f 7220 496e  ugh (e.g. for In
-000055d0: 7465 6c6c 694a 2049 4445 4120 7365 6520  telliJ IDEA see 
-000055e0: 5b72 6567 6973 7465 7269 6e67 2066 696c  [registering fil
-000055f0: 6520 7479 7065 735d 2868 7474 7073 3a2f  e types](https:/
-00005600: 2f77 7777 2e6a 6574 6272 6169 6e73 2e63  /www.jetbrains.c
-00005610: 6f6d 2f68 656c 702f 6964 6561 2f63 7265  om/help/idea/cre
-00005620: 6174 696e 672d 616e 642d 7265 6769 7374  ating-and-regist
-00005630: 6572 696e 672d 6669 6c65 2d74 7970 6573  ering-file-types
-00005640: 2e68 746d 6c29 292e 0d0a 0d0a 2323 2323  .html)).....####
-00005650: 2320 5375 626c 696d 6554 6578 740d 0a0d  # SublimeText...
-00005660: 0a43 6f63 6f6e 7574 2073 796e 7461 7820  .Coconut syntax 
-00005670: 6869 6768 6c69 6768 7469 6e67 2066 6f72  highlighting for
-00005680: 2053 7562 6c69 6d65 5465 7874 2072 6571   SublimeText req
-00005690: 7569 7265 7320 7468 6174 205b 5061 636b  uires that [Pack
-000056a0: 6167 6520 436f 6e74 726f 6c5d 2868 7474  age Control](htt
-000056b0: 7073 3a2f 2f70 6163 6b61 6765 636f 6e74  ps://packagecont
-000056c0: 726f 6c2e 696f 2f69 6e73 7461 6c6c 6174  rol.io/installat
-000056d0: 696f 6e29 2c20 7468 6520 7374 616e 6461  ion), the standa
-000056e0: 7264 2070 6163 6b61 6765 206d 616e 6167  rd package manag
-000056f0: 6572 2066 6f72 2053 7562 6c69 6d65 5465  er for SublimeTe
-00005700: 7874 2c20 6265 2069 6e73 7461 6c6c 6564  xt, be installed
-00005710: 2e20 4f6e 6365 2074 6861 7420 6973 2064  . Once that is d
-00005720: 6f6e 652c 2073 696d 706c 793a 0d0a 0d0a  one, simply:....
-00005730: 312e 206f 7065 6e20 7468 6520 5375 626c  1. open the Subl
-00005740: 696d 6554 6578 7420 636f 6d6d 616e 6420  imeText command 
-00005750: 7061 6c65 7474 6520 6279 2070 7265 7373  palette by press
-00005760: 696e 6720 6043 7472 6c2b 5368 6966 742b  ing `Ctrl+Shift+
-00005770: 5060 2028 6f72 2060 436d 642b 5368 6966  P` (or `Cmd+Shif
-00005780: 742b 5060 206f 6e20 4d61 6329 2c0d 0a32  t+P` on Mac),..2
-00005790: 2e20 7479 7065 2061 6e64 2065 6e74 6572  . type and enter
-000057a0: 2060 5061 636b 6167 6520 436f 6e74 726f   `Package Contro
-000057b0: 6c3a 2049 6e73 7461 6c6c 2050 6163 6b61  l: Install Packa
-000057c0: 6765 602c 2061 6e64 0d0a 332e 2066 696e  ge`, and..3. fin
-000057d0: 616c 6c79 2074 7970 6520 616e 6420 656e  ally type and en
-000057e0: 7465 7220 6043 6f63 6f6e 7574 602e 0d0a  ter `Coconut`...
-000057f0: 0d0a 546f 206d 616b 6520 7375 7265 2065  ..To make sure e
-00005800: 7665 7279 7468 696e 6720 6973 2077 6f72  verything is wor
-00005810: 6b69 6e67 2070 726f 7065 726c 792c 206f  king properly, o
-00005820: 7065 6e20 6120 602e 636f 636f 6020 6669  pen a `.coco` fi
-00005830: 6c65 2c20 616e 6420 6d61 6b65 2073 7572  le, and make sur
-00005840: 6520 6043 6f63 6f6e 7574 6020 6170 7065  e `Coconut` appe
-00005850: 6172 7320 696e 2074 6865 2062 6f74 746f  ars in the botto
-00005860: 6d20 7269 6768 742d 6861 6e64 2063 6f72  m right-hand cor
-00005870: 6e65 722e 2049 6620 736f 6d65 7468 696e  ner. If somethin
-00005880: 6720 656c 7365 2061 7070 6561 7273 2c20  g else appears, 
-00005890: 6c69 6b65 2060 506c 6169 6e20 5465 7874  like `Plain Text
-000058a0: 602c 2063 6c69 636b 206f 6e20 6974 2c20  `, click on it, 
-000058b0: 7365 6c65 6374 2060 4f70 656e 2061 6c6c  select `Open all
-000058c0: 2077 6974 6820 6375 7272 656e 7420 6578   with current ex
-000058d0: 7465 6e73 696f 6e20 6173 2e2e 2e60 2061  tension as...` a
-000058e0: 7420 7468 6520 746f 7020 6f66 2074 6865  t the top of the
-000058f0: 2072 6573 756c 7469 6e67 206d 656e 752c   resulting menu,
-00005900: 2061 6e64 2074 6865 6e20 7365 6c65 6374   and then select
-00005910: 2060 436f 636f 6e75 7460 2e0d 0a0d 0a5f   `Coconut`....._
-00005920: 4e6f 7465 3a20 436f 636f 6e75 7420 7379  Note: Coconut sy
-00005930: 6e74 6178 2068 6967 686c 6967 6874 696e  ntax highlightin
-00005940: 6720 666f 7220 5375 626c 696d 6554 6578  g for SublimeTex
-00005950: 7420 6973 2070 726f 7669 6465 6420 6279  t is provided by
-00005960: 2074 6865 205b 7375 626c 696d 652d 636f   the [sublime-co
-00005970: 636f 6e75 745d 2868 7474 7073 3a2f 2f67  conut](https://g
-00005980: 6974 6875 622e 636f 6d2f 6576 6875 622f  ithub.com/evhub/
-00005990: 7375 626c 696d 652d 636f 636f 6e75 7429  sublime-coconut)
-000059a0: 2070 6163 6b61 6765 2e5f 0d0a 0d0a 2323   package._....##
-000059b0: 2323 2320 5079 676d 656e 7473 0d0a 0d0a  ### Pygments....
-000059c0: 5468 6520 7361 6d65 2060 7069 7020 696e  The same `pip in
-000059d0: 7374 616c 6c20 636f 636f 6e75 7460 2063  stall coconut` c
-000059e0: 6f6d 6d61 6e64 2074 6861 7420 696e 7374  ommand that inst
-000059f0: 616c 6c73 2074 6865 2043 6f63 6f6e 7574  alls the Coconut
-00005a00: 2063 6f6d 6d61 6e64 2d6c 696e 6520 7574   command-line ut
-00005a10: 696c 6974 7920 7769 6c6c 2061 6c73 6f20  ility will also 
-00005a20: 696e 7374 616c 6c20 7468 6520 6063 6f63  install the `coc
-00005a30: 6f6e 7574 6020 5079 676d 656e 7473 206c  onut` Pygments l
-00005a40: 6578 6572 2e20 486f 7720 746f 2075 7365  exer. How to use
-00005a50: 2074 6869 7320 6c65 7865 7220 6465 7065   this lexer depe
-00005a60: 6e64 7320 6f6e 2074 6865 2050 7967 6d65  nds on the Pygme
-00005a70: 6e74 732d 656e 6162 6c65 6420 6170 706c  nts-enabled appl
-00005a80: 6963 6174 696f 6e20 6265 696e 6720 7573  ication being us
-00005a90: 6564 2c20 6275 7420 696e 2067 656e 6572  ed, but in gener
-00005aa0: 616c 2073 696d 706c 7920 7573 6520 7468  al simply use th
-00005ab0: 6520 602e 636f 636f 6020 6669 6c65 2065  e `.coco` file e
-00005ac0: 7874 656e 7369 6f6e 2028 7368 6f75 6c64  xtension (should
-00005ad0: 2062 6520 616c 6c20 796f 7520 6e65 6564   be all you need
-00005ae0: 2074 6f20 646f 2066 6f72 2053 7079 6465   to do for Spyde
-00005af0: 7229 2061 6e64 2f6f 7220 656e 7465 7220  r) and/or enter 
-00005b00: 6063 6f63 6f6e 7574 6020 6173 2074 6865  `coconut` as the
-00005b10: 206c 616e 6775 6167 6520 6265 696e 6720   language being 
-00005b20: 6869 6768 6c69 6768 7465 6420 616e 6420  highlighted and 
-00005b30: 5079 676d 656e 7473 2073 686f 756c 6420  Pygments should 
-00005b40: 6265 2061 626c 6520 746f 2066 6967 7572  be able to figur
-00005b50: 6520 6974 206f 7574 2e0d 0a0d 0a46 6f72  e it out.....For
-00005b60: 2065 7861 6d70 6c65 2c20 7468 6973 2064   example, this d
-00005b70: 6f63 756d 656e 7461 7469 6f6e 2069 7320  ocumentation is 
-00005b80: 6765 6e65 7261 7465 6420 7769 7468 205b  generated with [
-00005b90: 5370 6869 6e78 5d28 6874 7470 3a2f 2f77  Sphinx](http://w
-00005ba0: 7777 2e73 7068 696e 782d 646f 632e 6f72  ww.sphinx-doc.or
-00005bb0: 672f 656e 2f73 7461 626c 652f 292c 2077  g/en/stable/), w
-00005bc0: 6974 6820 7468 6520 7379 6e74 6178 2068  ith the syntax h
-00005bd0: 6967 686c 6967 6874 696e 6720 796f 7520  ighlighting you 
-00005be0: 7365 6520 6372 6561 7465 6420 6279 2061  see created by a
-00005bf0: 6464 696e 6720 7468 6520 6c69 6e65 0d0a  dding the line..
-00005c00: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-00005c10: 6e0d 0a68 6967 686c 6967 6874 5f6c 616e  n..highlight_lan
-00005c20: 6775 6167 6520 3d20 2263 6f63 6f6e 7574  guage = "coconut
-00005c30: 220d 0a60 6060 0d0a 746f 2043 6f63 6f6e  "..```..to Cocon
-00005c40: 7574 2773 2060 636f 6e66 2e70 7960 2e0d  ut's `conf.py`..
-00005c50: 0a0d 0a23 2323 2320 4950 7974 686f 6e2f  ...#### IPython/
-00005c60: 4a75 7079 7465 7220 5375 7070 6f72 740d  Jupyter Support.
-00005c70: 0a0d 0a49 6620 796f 7520 7573 6520 5b49  ...If you use [I
-00005c80: 5079 7468 6f6e 5d28 6874 7470 3a2f 2f69  Python](http://i
-00005c90: 7079 7468 6f6e 2e6f 7267 2f29 2028 7468  python.org/) (th
-00005ca0: 6520 5079 7468 6f6e 206b 6572 6e65 6c20  e Python kernel 
-00005cb0: 666f 7220 7468 6520 5b4a 7570 7974 6572  for the [Jupyter
-00005cc0: 5d28 6874 7470 3a2f 2f6a 7570 7974 6572  ](http://jupyter
-00005cd0: 2e6f 7267 2f29 2066 7261 6d65 776f 726b  .org/) framework
-00005ce0: 2920 6e6f 7465 626f 6f6b 7320 6f72 2063  ) notebooks or c
-00005cf0: 6f6e 736f 6c65 2c20 436f 636f 6e75 7420  onsole, Coconut 
-00005d00: 6361 6e20 6265 2075 7365 6420 6173 2061  can be used as a
-00005d10: 204a 7570 7974 6572 206b 6572 6e65 6c20   Jupyter kernel 
-00005d20: 6f72 2049 5079 7468 6f6e 2065 7874 656e  or IPython exten
-00005d30: 7369 6f6e 2e0d 0a0d 0a23 2323 2323 204b  sion.....##### K
-00005d40: 6572 6e65 6c0d 0a0d 0a49 6620 436f 636f  ernel....If Coco
-00005d50: 6e75 7420 6973 2075 7365 6420 6173 2061  nut is used as a
-00005d60: 206b 6572 6e65 6c2c 2061 6c6c 2063 6f64   kernel, all cod
-00005d70: 6520 696e 2074 6865 2063 6f6e 736f 6c65  e in the console
-00005d80: 206f 7220 6e6f 7465 626f 6f6b 2077 696c   or notebook wil
-00005d90: 6c20 6265 2073 656e 7420 6469 7265 6374  l be sent direct
-00005da0: 6c79 2074 6f20 436f 636f 6e75 7420 696e  ly to Coconut in
-00005db0: 7374 6561 6420 6f66 2050 7974 686f 6e20  stead of Python 
-00005dc0: 746f 2062 6520 6576 616c 7561 7465 642e  to be evaluated.
-00005dd0: 204f 7468 6572 7769 7365 2c20 7468 6520   Otherwise, the 
-00005de0: 436f 636f 6e75 7420 6b65 726e 656c 2062  Coconut kernel b
-00005df0: 6568 6176 6573 2065 7861 6374 6c79 206c  ehaves exactly l
-00005e00: 696b 6520 7468 6520 4950 7974 686f 6e20  ike the IPython 
-00005e10: 6b65 726e 656c 2c20 696e 636c 7564 696e  kernel, includin
-00005e20: 6720 7375 7070 6f72 7420 666f 7220 6025  g support for `%
-00005e30: 6d61 6769 6360 2063 6f6d 6d61 6e64 732e  magic` commands.
-00005e40: 0d0a 0d0a 5369 6d70 6c79 2069 6e73 7461  ....Simply insta
-00005e50: 6c6c 696e 6720 436f 636f 6e75 7420 7368  lling Coconut sh
-00005e60: 6f75 6c64 2061 6464 2061 2060 436f 636f  ould add a `Coco
-00005e70: 6e75 7460 206b 6572 6e65 6c20 746f 2079  nut` kernel to y
-00005e80: 6f75 7220 4a75 7079 7465 722f 4950 7974  our Jupyter/IPyt
-00005e90: 686f 6e20 6e6f 7465 626f 6f6b 732e 2049  hon notebooks. I
-00005ea0: 6620 796f 7520 6172 6520 6861 7669 6e67  f you are having
-00005eb0: 2069 7373 7565 7320 6163 6365 7373 696e   issues accessin
-00005ec0: 6720 7468 6520 436f 636f 6e75 7420 6b65  g the Coconut ke
-00005ed0: 726e 656c 2c20 686f 7765 7665 722c 2074  rnel, however, t
-00005ee0: 6865 2063 6f6d 6d61 6e64 2060 636f 636f  he command `coco
-00005ef0: 6e75 7420 2d2d 6a75 7079 7465 7260 2077  nut --jupyter` w
-00005f00: 696c 6c20 7265 2d69 6e73 7461 6c6c 2074  ill re-install t
-00005f10: 6865 2060 436f 636f 6e75 7460 206b 6572  he `Coconut` ker
-00005f20: 6e65 6c20 746f 2065 6e73 7572 6520 6974  nel to ensure it
-00005f30: 2069 7320 7573 696e 6720 7468 6520 6375   is using the cu
-00005f40: 7272 656e 7420 5079 7468 6f6e 2061 7320  rrent Python as 
-00005f50: 7765 6c6c 2061 7320 6164 6420 7468 6520  well as add the 
-00005f60: 6164 6469 7469 6f6e 616c 206b 6572 6e65  additional kerne
-00005f70: 6c73 2060 436f 636f 6e75 7420 2844 6566  ls `Coconut (Def
-00005f80: 6175 6c74 2050 7974 686f 6e29 602c 2060  ault Python)`, `
-00005f90: 436f 636f 6e75 7420 2844 6566 6175 6c74  Coconut (Default
-00005fa0: 2050 7974 686f 6e20 3229 602c 2061 6e64   Python 2)`, and
-00005fb0: 2060 436f 636f 6e75 7420 2844 6566 6175   `Coconut (Defau
-00005fc0: 6c74 2050 7974 686f 6e20 3329 6020 7768  lt Python 3)` wh
-00005fd0: 6963 6820 7769 6c6c 2075 7365 2c20 7265  ich will use, re
-00005fe0: 7370 6563 7469 7665 6c79 2c20 7468 6520  spectively, the 
-00005ff0: 5079 7468 6f6e 2061 6363 6573 7369 626c  Python accessibl
-00006000: 6520 6173 2060 7079 7468 6f6e 602c 2060  e as `python`, `
-00006010: 7079 7468 6f6e 3260 2c20 616e 6420 6070  python2`, and `p
-00006020: 7974 686f 6e33 6020 2874 6865 7365 206b  ython3` (these k
-00006030: 6572 6e65 6c73 2061 7265 2061 6363 6573  ernels are acces
-00006040: 7369 626c 6520 696e 2074 6865 2063 6f6e  sible in the con
-00006050: 736f 6c65 2061 7320 6063 6f63 6f6e 7574  sole as `coconut
-00006060: 5f70 7960 2c20 6063 6f63 6f6e 7574 5f70  _py`, `coconut_p
-00006070: 7932 602c 2061 6e64 2060 636f 636f 6e75  y2`, and `coconu
-00006080: 745f 7079 3360 292e 2046 7572 7468 6572  t_py3`). Further
-00006090: 6d6f 7265 2c20 7468 6520 436f 636f 6e75  more, the Coconu
-000060a0: 7420 6b65 726e 656c 2066 756c 6c79 2073  t kernel fully s
-000060b0: 7570 706f 7274 7320 5b60 6e62 5f63 6f6e  upports [`nb_con
-000060c0: 6461 5f6b 6572 6e65 6c73 605d 2868 7474  da_kernels`](htt
-000060d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000060e0: 416e 6163 6f6e 6461 2d50 6c61 7466 6f72  Anaconda-Platfor
-000060f0: 6d2f 6e62 5f63 6f6e 6461 5f6b 6572 6e65  m/nb_conda_kerne
-00006100: 6c73 2920 746f 2065 6e61 626c 6520 6163  ls) to enable ac
-00006110: 6365 7373 696e 6720 7468 6520 436f 636f  cessing the Coco
-00006120: 6e75 7420 6b65 726e 656c 2069 6e20 6f6e  nut kernel in on
-00006130: 6520 436f 6e64 6120 656e 7669 726f 6e6d  e Conda environm
-00006140: 656e 7420 6672 6f6d 2061 6e6f 7468 6572  ent from another
-00006150: 2043 6f6e 6461 2065 6e76 6972 6f6e 6d65   Conda environme
-00006160: 6e74 2e0d 0a0d 0a54 6865 2043 6f63 6f6e  nt.....The Cocon
-00006170: 7574 206b 6572 6e65 6c20 7769 6c6c 2061  ut kernel will a
-00006180: 6c77 6179 7320 636f 6d70 696c 6520 7573  lways compile us
-00006190: 696e 6720 7468 6520 7061 7261 6d65 7465  ing the paramete
-000061a0: 7273 3a20 602d 2d74 6172 6765 7420 7379  rs: `--target sy
-000061b0: 7320 2d2d 6c69 6e65 2d6e 756d 6265 7273  s --line-numbers
-000061c0: 202d 2d6b 6565 702d 6c69 6e65 7320 2d2d   --keep-lines --
-000061d0: 6e6f 2d77 7261 702d 7479 7065 7360 2e0d  no-wrap-types`..
-000061e0: 0a0d 0a43 6f63 6f6e 7574 2061 6c73 6f20  ...Coconut also 
-000061f0: 7072 6f76 6964 6573 2074 6865 2066 6f6c  provides the fol
-00006200: 6c6f 7769 6e67 2061 7069 2063 6f6d 6d61  lowing api comma
-00006210: 6e64 733a 0d0a 0d0a 2d20 6063 6f63 6f6e  nds:....- `cocon
-00006220: 7574 202d 2d6a 7570 7974 6572 206e 6f74  ut --jupyter not
-00006230: 6562 6f6f 6b60 2077 696c 6c20 656e 7375  ebook` will ensu
-00006240: 7265 2074 6861 7420 7468 6520 436f 636f  re that the Coco
-00006250: 6e75 7420 6b65 726e 656c 2069 7320 6176  nut kernel is av
-00006260: 6169 6c61 626c 6520 616e 6420 6c61 756e  ailable and laun
-00006270: 6368 2061 204a 7570 7974 6572 2f49 5079  ch a Jupyter/IPy
-00006280: 7468 6f6e 206e 6f74 6562 6f6f 6b2e 0d0a  thon notebook...
-00006290: 2d20 6063 6f63 6f6e 7574 202d 2d6a 7570  - `coconut --jup
-000062a0: 7974 6572 2063 6f6e 736f 6c65 6020 7769  yter console` wi
-000062b0: 6c6c 206c 6175 6e63 6820 6120 4a75 7079  ll launch a Jupy
-000062c0: 7465 722f 4950 7974 686f 6e20 636f 6e73  ter/IPython cons
-000062d0: 6f6c 6520 7573 696e 6720 7468 6520 436f  ole using the Co
-000062e0: 636f 6e75 7420 6b65 726e 656c 2e0d 0a2d  conut kernel...-
-000062f0: 2060 636f 636f 6e75 7420 2d2d 6a75 7079   `coconut --jupy
-00006300: 7465 7220 6c61 6260 2077 696c 6c20 656e  ter lab` will en
-00006310: 7375 7265 2074 6861 7420 7468 6520 436f  sure that the Co
-00006320: 636f 6e75 7420 6b65 726e 656c 2069 7320  conut kernel is 
-00006330: 6176 6169 6c61 626c 6520 616e 6420 6c61  available and la
-00006340: 756e 6368 205b 4a75 7079 7465 724c 6162  unch [JupyterLab
-00006350: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006360: 2e63 6f6d 2f6a 7570 7974 6572 6c61 622f  .com/jupyterlab/
-00006370: 6a75 7079 7465 726c 6162 292e 0d0a 0d0a  jupyterlab).....
-00006380: 4164 6469 7469 6f6e 616c 6c79 2c20 5b4a  Additionally, [J
-00006390: 7570 7974 6578 745d 2868 7474 7073 3a2f  upytext](https:/
-000063a0: 2f67 6974 6875 622e 636f 6d2f 6d77 6f75  /github.com/mwou
-000063b0: 7473 2f6a 7570 7974 6578 7429 2063 6f6e  ts/jupytext) con
-000063c0: 7461 696e 7320 7370 6563 6961 6c20 7375  tains special su
-000063d0: 7070 6f72 7420 666f 7220 7468 6520 436f  pport for the Co
-000063e0: 636f 6e75 7420 6b65 726e 656c 2061 6e64  conut kernel and
-000063f0: 2043 6f63 6f6e 7574 2063 6f6e 7461 696e   Coconut contain
-00006400: 7320 7370 6563 6961 6c20 7375 7070 6f72  s special suppor
-00006410: 7420 666f 7220 5b50 6170 6572 6d69 6c6c  t for [Papermill
-00006420: 5d28 6874 7470 733a 2f2f 7061 7065 726d  ](https://paperm
-00006430: 696c 6c2e 7265 6164 7468 6564 6f63 732e  ill.readthedocs.
-00006440: 696f 2f65 6e2f 6c61 7465 7374 2f29 2e0d  io/en/latest/)..
-00006450: 0a0d 0a23 2323 2323 2045 7874 656e 7369  ...##### Extensi
-00006460: 6f6e 0d0a 0d0a 4966 2043 6f63 6f6e 7574  on....If Coconut
-00006470: 2069 7320 7573 6564 2061 7320 616e 2065   is used as an e
-00006480: 7874 656e 7369 6f6e 2c20 6120 7370 6563  xtension, a spec
-00006490: 6961 6c20 6d61 6769 6320 636f 6d6d 616e  ial magic comman
-000064a0: 6420 7769 6c6c 2073 656e 6420 736e 6970  d will send snip
-000064b0: 7065 7473 206f 6620 636f 6465 2074 6f20  pets of code to 
-000064c0: 6265 2065 7661 6c75 6174 6564 2075 7369  be evaluated usi
-000064d0: 6e67 2043 6f63 6f6e 7574 2069 6e73 7465  ng Coconut inste
-000064e0: 6164 206f 6620 4950 7974 686f 6e2c 2062  ad of IPython, b
-000064f0: 7574 2049 5079 7468 6f6e 2077 696c 6c20  ut IPython will 
-00006500: 7374 696c 6c20 6265 2075 7365 6420 6173  still be used as
-00006510: 2074 6865 2064 6566 6175 6c74 2e0d 0a0d   the default....
-00006520: 0a54 6865 206c 696e 6520 6d61 6769 6320  .The line magic 
-00006530: 6025 6c6f 6164 5f65 7874 2063 6f63 6f6e  `%load_ext cocon
-00006540: 7574 6020 7769 6c6c 206c 6f61 6420 436f  ut` will load Co
-00006550: 636f 6e75 7420 6173 2061 6e20 6578 7465  conut as an exte
-00006560: 6e73 696f 6e2c 2070 726f 7669 6469 6e67  nsion, providing
-00006570: 2074 6865 2060 2563 6f63 6f6e 7574 6020   the `%coconut` 
-00006580: 616e 6420 6025 2563 6f63 6f6e 7574 6020  and `%%coconut` 
-00006590: 6d61 6769 6373 2061 6e64 2061 6464 696e  magics and addin
-000065a0: 6720 436f 636f 6e75 7420 6275 696c 742d  g Coconut built-
-000065b0: 696e 732e 2054 6865 2060 2563 6f63 6f6e  ins. The `%cocon
-000065c0: 7574 6020 6c69 6e65 206d 6167 6963 2077  ut` line magic w
-000065d0: 696c 6c20 7275 6e20 6120 6c69 6e65 206f  ill run a line o
-000065e0: 6620 436f 636f 6e75 7420 7769 7468 2064  f Coconut with d
-000065f0: 6566 6175 6c74 2070 6172 616d 6574 6572  efault parameter
-00006600: 732c 2061 6e64 2074 6865 2060 2525 636f  s, and the `%%co
-00006610: 636f 6e75 7460 2062 6c6f 636b 206d 6167  conut` block mag
-00006620: 6963 2077 696c 6c20 7461 6b65 2063 6f6d  ic will take com
-00006630: 6d61 6e64 2d6c 696e 6520 6172 6775 6d65  mand-line argume
-00006640: 6e74 7320 6f6e 2074 6865 2066 6972 7374  nts on the first
-00006650: 206c 696e 652c 2061 6e64 2072 756e 2061   line, and run a
-00006660: 6e79 2043 6f63 6f6e 7574 2063 6f64 6520  ny Coconut code 
-00006670: 7072 6f76 6964 6564 2069 6e20 7468 6520  provided in the 
-00006680: 7265 7374 206f 6620 7468 6520 6365 6c6c  rest of the cell
-00006690: 2077 6974 6820 7468 6f73 6520 7061 7261   with those para
-000066a0: 6d65 7465 7273 2e0d 0a0d 0a5f 4e6f 7465  meters....._Note
-000066b0: 3a20 556e 6c69 6b65 2074 6865 206e 6f72  : Unlike the nor
-000066c0: 6d61 6c20 436f 636f 6e75 7420 636f 6d6d  mal Coconut comm
-000066d0: 616e 642d 6c69 6e65 2c20 6025 2563 6f63  and-line, `%%coc
-000066e0: 6f6e 7574 6020 6465 6661 756c 7473 2074  onut` defaults t
-000066f0: 6f20 7468 6520 6073 7973 6020 7461 7267  o the `sys` targ
-00006700: 6574 2072 6174 6865 7220 7468 616e 2074  et rather than t
-00006710: 6865 2060 756e 6976 6572 7361 6c60 2074  he `universal` t
-00006720: 6172 6765 742e 5f0d 0a0d 0a23 2323 2320  arget._....#### 
-00006730: 5479 7065 2043 6865 636b 696e 670d 0a0d  Type Checking...
-00006740: 0a23 2323 2323 204d 7950 7920 496e 7465  .##### MyPy Inte
-00006750: 6772 6174 696f 6e0d 0a0d 0a43 6f63 6f6e  gration....Cocon
-00006760: 7574 2068 6173 2074 6865 2061 6269 6c69  ut has the abili
-00006770: 7479 2074 6f20 696e 7465 6772 6174 6520  ty to integrate 
-00006780: 7769 7468 205b 4d79 5079 5d28 6874 7470  with [MyPy](http
-00006790: 3a2f 2f6d 7970 792d 6c61 6e67 2e6f 7267  ://mypy-lang.org
-000067a0: 2f29 2074 6f20 7072 6f76 6964 6520 6f70  /) to provide op
-000067b0: 7469 6f6e 616c 2073 7461 7469 6320 7479  tional static ty
-000067c0: 7065 5f63 6865 636b 696e 672c 2069 6e63  pe_checking, inc
-000067d0: 6c75 6469 6e67 2066 6f72 2061 6c6c 2043  luding for all C
-000067e0: 6f63 6f6e 7574 2062 7569 6c74 2d69 6e73  oconut built-ins
-000067f0: 2e20 5369 6d70 6c79 2070 6173 7320 602d  . Simply pass `-
-00006800: 2d6d 7970 7960 2074 6f20 6063 6f63 6f6e  -mypy` to `cocon
-00006810: 7574 6020 746f 2065 6e61 626c 6520 4d79  ut` to enable My
-00006820: 5079 2069 6e74 6567 7261 7469 6f6e 2c20  Py integration, 
-00006830: 7468 6f75 6768 2062 6520 6361 7265 6675  though be carefu
-00006840: 6c20 746f 2070 6173 7320 6974 206f 6e6c  l to pass it onl
-00006850: 7920 6173 2074 6865 206c 6173 7420 6172  y as the last ar
-00006860: 6775 6d65 6e74 2c20 7369 6e63 6520 616c  gument, since al
-00006870: 6c20 6172 6775 6d65 6e74 7320 6166 7465  l arguments afte
-00006880: 7220 602d 2d6d 7970 7960 2061 7265 2070  r `--mypy` are p
-00006890: 6173 7365 6420 746f 2060 6d79 7079 602c  assed to `mypy`,
-000068a0: 206e 6f74 2043 6f63 6f6e 7574 2e0d 0a0d   not Coconut....
-000068b0: 0a59 6f75 2063 616e 2061 6c73 6f20 7275  .You can also ru
-000068c0: 6e20 606d 7970 7960 e280 946f 7220 616e  n `mypy`...or an
-000068d0: 7920 6f74 6865 7220 7374 6174 6963 2074  y other static t
-000068e0: 7970 6520 6368 6563 6b65 72e2 8094 6469  ype checker...di
-000068f0: 7265 6374 6c79 206f 6e20 7468 6520 636f  rectly on the co
-00006900: 6d70 696c 6564 2043 6f63 6f6e 7574 2e20  mpiled Coconut. 
-00006910: 4966 2074 6865 2073 7461 7469 6320 7479  If the static ty
-00006920: 7065 2063 6865 636b 6572 2069 7320 756e  pe checker is un
-00006930: 6162 6c65 2074 6f20 6669 6e64 2074 6865  able to find the
-00006940: 206e 6563 6573 7361 7279 2073 7475 6220   necessary stub 
-00006950: 6669 6c65 732c 2068 6f77 6576 6572 2c20  files, however, 
-00006960: 7468 656e 2079 6f75 206d 6179 206e 6565  then you may nee
-00006970: 6420 746f 3a0d 0a0d 0a31 2e20 7275 6e20  d to:....1. run 
-00006980: 6063 6f63 6f6e 7574 202d 2d6d 7970 7920  `coconut --mypy 
-00006990: 696e 7374 616c 6c60 2061 6e64 0d0a 322e  install` and..2.
-000069a0: 2074 656c 6c20 796f 7572 2073 7461 7469   tell your stati
-000069b0: 6320 7479 7065 2063 6865 636b 6572 206f  c type checker o
-000069c0: 6620 6368 6f69 6365 2074 6f20 6c6f 6f6b  f choice to look
-000069d0: 2069 6e20 607e 2f2e 636f 636f 6e75 745f   in `~/.coconut_
-000069e0: 7374 7562 7360 2066 6f72 2073 7475 6220  stubs` for stub 
-000069f0: 6669 6c65 7320 2866 6f72 2060 6d79 7079  files (for `mypy
-00006a00: 602c 2074 6869 7320 6973 2064 6f6e 6520  `, this is done 
-00006a10: 6279 2061 6464 696e 6720 6974 2074 6f20  by adding it to 
-00006a20: 796f 7572 205b 604d 5950 5950 4154 4860  your [`MYPYPATH`
-00006a30: 5d28 6874 7470 733a 2f2f 6d79 7079 2e72  ](https://mypy.r
-00006a40: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
-00006a50: 2f6c 6174 6573 742f 7275 6e6e 696e 675f  /latest/running_
-00006a60: 6d79 7079 2e68 746d 6c23 686f 772d 696d  mypy.html#how-im
-00006a70: 706f 7274 732d 6172 652d 666f 756e 6429  ports-are-found)
-00006a80: 292e 0d0a 0d0a 546f 2064 6973 7472 6962  ).....To distrib
-00006a90: 7574 6520 796f 7572 2063 6f64 6520 7769  ute your code wi
-00006aa0: 7468 2063 6865 636b 6162 6c65 2074 7970  th checkable typ
-00006ab0: 6520 616e 6e6f 7461 7469 6f6e 732c 2079  e annotations, y
-00006ac0: 6f75 276c 6c20 6e65 6564 2074 6f20 696e  ou'll need to in
-00006ad0: 636c 7564 6520 6063 6f63 6f6e 7574 6020  clude `coconut` 
-00006ae0: 6173 2061 2064 6570 656e 6465 6e63 7920  as a dependency 
-00006af0: 2874 686f 7567 6820 6120 602d 2d6e 6f2d  (though a `--no-
-00006b00: 6465 7073 6020 696e 7374 616c 6c20 7368  deps` install sh
-00006b10: 6f75 6c64 2062 6520 6669 6e65 292c 2061  ould be fine), a
-00006b20: 7320 696e 7374 616c 6c69 6e67 2069 7420  s installing it 
-00006b30: 6973 206e 6563 6573 7361 7279 2074 6f20  is necessary to 
-00006b40: 6d61 6b65 2074 6865 2072 6571 7569 7369  make the requisi
-00006b50: 7465 2073 7475 6220 6669 6c65 7320 6176  te stub files av
-00006b60: 6169 6c61 626c 652e 2059 6f75 276c 6c20  ailable. You'll 
-00006b70: 616c 736f 2070 726f 6261 626c 7920 7761  also probably wa
-00006b80: 6e74 2074 6f20 696e 636c 7564 6520 6120  nt to include a 
-00006b90: 5b60 7079 2e74 7970 6564 605d 2868 7474  [`py.typed`](htt
-00006ba0: 7073 3a2f 2f70 6570 732e 7079 7468 6f6e  ps://peps.python
-00006bb0: 2e6f 7267 2f70 6570 2d30 3536 312f 2920  .org/pep-0561/) 
-00006bc0: 6669 6c65 2e0d 0a0d 0a23 2323 2323 2053  file.....##### S
-00006bd0: 796e 7461 780d 0a0d 0a54 6f20 6578 706c  yntax....To expl
-00006be0: 6963 6974 6c79 2061 6e6e 6f74 6174 6520  icitly annotate 
-00006bf0: 796f 7572 2063 6f64 6520 7769 7468 2074  your code with t
-00006c00: 7970 6573 2074 6f20 6265 2063 6865 636b  ypes to be check
-00006c10: 6564 2c20 436f 636f 6e75 7420 7375 7070  ed, Coconut supp
-00006c20: 6f72 7473 2028 6f6e 2061 6c6c 2050 7974  orts (on all Pyt
-00006c30: 686f 6e20 7665 7273 696f 6e73 293a 0d0a  hon versions):..
-00006c40: 2a20 5b50 7974 686f 6e20 3320 6675 6e63  * [Python 3 func
-00006c50: 7469 6f6e 2074 7970 6520 616e 6e6f 7461  tion type annota
-00006c60: 7469 6f6e 735d 2868 7474 7073 3a2f 2f77  tions](https://w
-00006c70: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
-00006c80: 762f 7065 7073 2f70 6570 2d30 3438 342f  v/peps/pep-0484/
-00006c90: 292c 0d0a 2a20 5b50 7974 686f 6e20 332e  ),..* [Python 3.
-00006ca0: 3620 7661 7269 6162 6c65 2074 7970 6520  6 variable type 
-00006cb0: 616e 6e6f 7461 7469 6f6e 735d 2868 7474  annotations](htt
-00006cc0: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
-00006cd0: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
-00006ce0: 2d30 3532 362f 292c 0d0a 2a20 5b50 7974  -0526/),..* [Pyt
-00006cf0: 686f 6e20 332e 3132 2074 7970 6520 7061  hon 3.12 type pa
-00006d00: 7261 6d65 7465 7220 7379 6e74 6178 5d28  rameter syntax](
-00006d10: 2374 7970 652d 7061 7261 6d65 7465 722d  #type-parameter-
-00006d20: 7379 6e74 6178 2920 666f 7220 6561 7369  syntax) for easi
-00006d30: 6c79 2061 6464 696e 6720 7479 7065 2070  ly adding type p
-00006d40: 6172 616d 6574 6572 7320 746f 2063 6c61  arameters to cla
-00006d50: 7373 6573 2c20 6675 6e63 7469 6f6e 732c  sses, functions,
-00006d60: 205b 6064 6174 6160 2074 7970 6573 5d28   [`data` types](
-00006d70: 2364 6174 6129 2c20 616e 6420 7479 7065  #data), and type
-00006d80: 2061 6c69 6173 6573 2c0d 0a2a 2043 6f63   aliases,..* Coc
-00006d90: 6f6e 7574 2773 206f 776e 205b 656e 6861  onut's own [enha
-00006da0: 6e63 6564 2074 7970 6520 616e 6e6f 7461  nced type annota
-00006db0: 7469 6f6e 2073 796e 7461 785d 2823 656e  tion syntax](#en
-00006dc0: 6861 6e63 6564 2d74 7970 652d 616e 6e6f  hanced-type-anno
-00006dd0: 7461 7469 6f6e 292c 2061 6e64 0d0a 2a20  tation), and..* 
-00006de0: 436f 636f 6e75 7427 7320 5b70 726f 746f  Coconut's [proto
-00006df0: 636f 6c20 696e 7465 7273 6563 7469 6f6e  col intersection
-00006e00: 206f 7065 7261 746f 725d 2823 7072 6f74   operator](#prot
-00006e10: 6f63 6f6c 2d69 6e74 6572 7365 6374 696f  ocol-intersectio
-00006e20: 6e29 2e0d 0a0d 0a42 7920 6465 6661 756c  n).....By defaul
-00006e30: 742c 2061 6c6c 2074 7970 6520 616e 6e6f  t, all type anno
-00006e40: 7461 7469 6f6e 7320 6172 6520 636f 6d70  tations are comp
-00006e50: 696c 6564 2074 6f20 5079 7468 6f6e 2d32  iled to Python-2
-00006e60: 2d63 6f6d 7061 7469 626c 6520 7479 7065  -compatible type
-00006e70: 2063 6f6d 6d65 6e74 732c 2077 6869 6368   comments, which
-00006e80: 206d 6561 6e73 2074 6865 7920 7368 6f75   means they shou
-00006e90: 6c64 2061 6c6c 2077 6f72 6b20 6f6e 2061  ld all work on a
-00006ea0: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
-00006eb0: 6e2e 0d0a 0d0a 536f 6d65 7469 6d65 732c  n.....Sometimes,
-00006ec0: 204d 7950 7920 7769 6c6c 206e 6f74 206b   MyPy will not k
-00006ed0: 6e6f 7720 686f 7720 746f 2068 616e 646c  now how to handl
-00006ee0: 6520 6365 7274 6169 6e20 436f 636f 6e75  e certain Coconu
-00006ef0: 7420 636f 6e73 7472 7563 7473 2c20 7375  t constructs, su
-00006f00: 6368 2061 7320 6061 6464 7061 7474 6572  ch as `addpatter
-00006f10: 6e60 2e20 466f 7220 7468 6520 6061 6464  n`. For the `add
-00006f20: 7061 7474 6572 6e60 2063 6173 652c 2069  pattern` case, i
-00006f30: 7420 6973 2072 6563 6f6d 6d65 6e64 6564  t is recommended
-00006f40: 2074 6f20 7061 7373 2060 2d2d 616c 6c6f   to pass `--allo
-00006f50: 772d 7265 6465 6669 6e69 7469 6f6e 6020  w-redefinition` 
-00006f60: 746f 204d 7950 7920 2869 2e65 2e20 7275  to MyPy (i.e. ru
-00006f70: 6e20 6063 6f63 6f6e 7574 203c 6172 6773  n `coconut <args
-00006f80: 3e20 2d2d 6d79 7079 202d 2d61 6c6c 6f77  > --mypy --allow
-00006f90: 2d72 6564 6566 696e 6974 696f 6e60 292c  -redefinition`),
-00006fa0: 2074 686f 7567 6820 696e 2073 6f6d 6520   though in some 
-00006fb0: 6361 7365 7320 602d 2d61 6c6c 6f77 2d72  cases `--allow-r
-00006fc0: 6564 6566 696e 6974 696f 6e60 206d 6179  edefinition` may
-00006fd0: 206e 6f74 2062 6520 7375 6666 6963 6965   not be sufficie
-00006fe0: 6e74 2e20 496e 2074 6861 7420 6361 7365  nt. In that case
-00006ff0: 2c20 6569 7468 6572 2068 6964 6520 7468  , either hide th
-00007000: 6520 6f66 6665 6e64 696e 6720 636f 6465  e offending code
-00007010: 2075 7369 6e67 205b 6054 5950 455f 4348   using [`TYPE_CH
-00007020: 4543 4b49 4e47 605d 2823 7479 7065 5f63  ECKING`](#type_c
-00007030: 6865 636b 696e 6729 206f 7220 7075 7420  hecking) or put 
-00007040: 6120 6023 2074 7970 653a 2069 676e 6f72  a `# type: ignor
-00007050: 6560 2063 6f6d 6d65 6e74 206f 6e20 7468  e` comment on th
-00007060: 6520 436f 636f 6e75 7420 6c69 6e65 2077  e Coconut line w
-00007070: 6869 6368 2069 7320 6765 6e65 7261 7469  hich is generati
-00007080: 6e67 2074 6865 206c 696e 6520 4d79 5079  ng the line MyPy
-00007090: 2069 7320 636f 6d70 6c61 696e 696e 6720   is complaining 
-000070a0: 6162 6f75 7420 616e 6420 7468 6520 636f  about and the co
-000070b0: 6d6d 656e 7420 7769 6c6c 2062 6520 6164  mment will be ad
-000070c0: 6465 6420 746f 2065 7665 7279 2067 656e  ded to every gen
-000070d0: 6572 6174 6564 206c 696e 652e 0d0a 0d0a  erated line.....
-000070e0: 2323 2323 2320 496e 7465 7270 7265 7465  ##### Interprete
-000070f0: 720d 0a0d 0a43 6f63 6f6e 7574 2065 7665  r....Coconut eve
-00007100: 6e20 7375 7070 6f72 7473 2060 2d2d 6d79  n supports `--my
-00007110: 7079 6020 696e 2074 6865 2069 6e74 6572  py` in the inter
-00007120: 7072 6574 6572 2c20 7768 6963 6820 7769  preter, which wi
-00007130: 6c6c 2069 6e74 656c 6c69 6765 6e74 6c79  ll intelligently
-00007140: 2073 6361 6e20 6561 6368 206e 6577 206c   scan each new l
-00007150: 696e 6520 6f66 2063 6f64 652c 2069 6e20  ine of code, in 
-00007160: 7468 6520 636f 6e74 6578 7420 6f66 2070  the context of p
-00007170: 7265 7669 6f75 7320 6c69 6e65 732c 2066  revious lines, f
-00007180: 6f72 206e 6577 6c79 2d69 6e74 726f 6475  or newly-introdu
-00007190: 6365 6420 4d79 5079 2065 7272 6f72 732e  ced MyPy errors.
-000071a0: 2046 6f72 2065 7861 6d70 6c65 3a0d 0a60   For example:..`
-000071b0: 6060 636f 636f 6e75 745f 7079 636f 6e0d  ``coconut_pycon.
-000071c0: 0a3e 3e3e 2061 3a20 7374 7220 3d20 636f  .>>> a: str = co
-000071d0: 756e 7428 295b 305d 0d0a 3c73 7472 696e  unt()[0]..<strin
-000071e0: 673e 3a31 343a 2065 7272 6f72 3a20 496e  g>:14: error: In
-000071f0: 636f 6d70 6174 6962 6c65 2074 7970 6573  compatible types
-00007200: 2069 6e20 6173 7369 676e 6d65 6e74 2028   in assignment (
-00007210: 6578 7072 6573 7369 6f6e 2068 6173 2074  expression has t
-00007220: 7970 6520 2269 6e74 222c 2076 6172 6961  ype "int", varia
-00007230: 626c 6520 6861 7320 7479 7065 2022 7374  ble has type "st
-00007240: 7222 290d 0a3e 3e3e 2072 6576 6561 6c5f  r")..>>> reveal_
-00007250: 7479 7065 2861 290d 0a30 0d0a 3c73 7472  type(a)..0..<str
-00007260: 696e 673e 3a31 393a 206e 6f74 653a 2052  ing>:19: note: R
-00007270: 6576 6561 6c65 6420 7479 7065 2069 7320  evealed type is 
-00007280: 2762 7569 6c74 696e 732e 756e 6963 6f64  'builtins.unicod
-00007290: 6527 0d0a 6060 600d 0a5f 466f 7220 6d6f  e'..```.._For mo
-000072a0: 7265 2069 6e66 6f72 6d61 7469 6f6e 206f  re information o
-000072b0: 6e20 6072 6576 6561 6c5f 7479 7065 602c  n `reveal_type`,
-000072c0: 2073 6565 205b 6072 6576 6561 6c5f 7479   see [`reveal_ty
-000072d0: 7065 6020 616e 6420 6072 6576 6561 6c5f  pe` and `reveal_
-000072e0: 6c6f 6361 6c73 605d 2823 7265 7665 616c  locals`](#reveal
-000072f0: 2d74 7970 652d 616e 642d 7265 7665 616c  -type-and-reveal
-00007300: 2d6c 6f63 616c 7329 2e5f 0d0a 0d0a 2323  -locals)._....##
-00007310: 2323 2060 6e75 6d70 7960 2049 6e74 6567  ## `numpy` Integ
-00007320: 7261 7469 6f6e 0d0a 0d0a 546f 2061 6c6c  ration....To all
-00007330: 6f77 2066 6f72 2062 6574 7465 7220 7573  ow for better us
-00007340: 6520 6f66 205b 606e 756d 7079 605d 2868  e of [`numpy`](h
-00007350: 7474 7073 3a2f 2f6e 756d 7079 2e6f 7267  ttps://numpy.org
-00007360: 2f29 206f 626a 6563 7473 2069 6e20 436f  /) objects in Co
-00007370: 636f 6e75 742c 2061 6c6c 2063 6f6d 7069  conut, all compi
-00007380: 6c65 6420 436f 636f 6e75 7420 636f 6465  led Coconut code
-00007390: 2077 696c 6c20 646f 2061 206e 756d 6265   will do a numbe
-000073a0: 7220 6f66 2073 7065 6369 616c 2074 6869  r of special thi
-000073b0: 6e67 7320 746f 2062 6574 7465 7220 696e  ngs to better in
-000073c0: 7465 6772 6174 6520 7769 7468 2060 6e75  tegrate with `nu
-000073d0: 6d70 7960 2028 6966 2060 6e75 6d70 7960  mpy` (if `numpy`
-000073e0: 2069 7320 6176 6169 6c61 626c 6520 746f   is available to
-000073f0: 2069 6d70 6f72 7420 7768 656e 2074 6865   import when the
-00007400: 2063 6f64 6520 6973 2072 756e 292e 2053   code is run). S
-00007410: 7065 6369 6669 6361 6c6c 793a 0d0a 0d0a  pecifically:....
-00007420: 2d20 436f 636f 6e75 7427 7320 5b6d 756c  - Coconut's [mul
-00007430: 7469 6469 6d65 6e73 696f 6e61 6c20 6172  tidimensional ar
-00007440: 7261 7920 6c69 7465 7261 6c20 616e 6420  ray literal and 
-00007450: 6172 7261 7920 636f 6e63 6174 656e 6174  array concatenat
-00007460: 696f 6e20 7379 6e74 6178 5d28 236d 756c  ion syntax](#mul
-00007470: 7469 6469 6d65 6e73 696f 6e61 6c2d 6172  tidimensional-ar
-00007480: 7261 792d 6c69 7465 7261 6c63 6f6e 6361  ray-literalconca
-00007490: 7465 6e61 7469 6f6e 2d73 796e 7461 7829  tenation-syntax)
-000074a0: 2073 7570 706f 7274 7320 606e 756d 7079   supports `numpy
-000074b0: 6020 6f62 6a65 6374 732c 2069 6e63 6c75  ` objects, inclu
-000074c0: 6469 6e67 2075 7369 6e67 2066 6173 7420  ding using fast 
-000074d0: 606e 756d 7079 6020 636f 6e63 6174 656e  `numpy` concaten
-000074e0: 6174 696f 6e20 6d65 7468 6f64 7320 6966  ation methods if
-000074f0: 2067 6976 656e 2060 6e75 6d70 7960 2061   given `numpy` a
-00007500: 7272 6179 7320 7261 7468 6572 2074 6861  rrays rather tha
-00007510: 6e20 436f 636f 6e75 7427 7320 6465 6661  n Coconut's defa
-00007520: 756c 7420 6d75 6368 2073 6c6f 7765 7220  ult much slower 
-00007530: 696d 706c 656d 656e 7461 7469 6f6e 2062  implementation b
-00007540: 7569 6c74 2066 6f72 2050 7974 686f 6e20  uilt for Python 
-00007550: 6c69 7374 7320 6f66 206c 6973 7473 2e0d  lists of lists..
-00007560: 0a2d 204d 616e 7920 6f66 2043 6f63 6f6e  .- Many of Cocon
-00007570: 7574 2773 2062 7569 6c74 2d69 6e73 2069  ut's built-ins i
-00007580: 6e63 6c75 6465 2073 7065 6369 616c 2060  nclude special `
-00007590: 6e75 6d70 7960 2073 7570 706f 7274 2c20  numpy` support, 
-000075a0: 7370 6563 6966 6963 616c 6c79 3a0d 0a20  specifically:.. 
-000075b0: 202a 205b 6066 6d61 7060 5d28 2366 6d61   * [`fmap`](#fma
-000075c0: 7029 2077 696c 6c20 7573 6520 5b60 6e75  p) will use [`nu
-000075d0: 6d70 792e 7665 6374 6f72 697a 6560 5d28  mpy.vectorize`](
-000075e0: 6874 7470 733a 2f2f 6e75 6d70 792e 6f72  https://numpy.or
-000075f0: 672f 646f 632f 7374 6162 6c65 2f72 6566  g/doc/stable/ref
-00007600: 6572 656e 6365 2f67 656e 6572 6174 6564  erence/generated
-00007610: 2f6e 756d 7079 2e76 6563 746f 7269 7a65  /numpy.vectorize
-00007620: 2e68 746d 6c29 2074 6f20 6d61 7020 6f76  .html) to map ov
-00007630: 6572 2060 6e75 6d70 7960 2061 7272 6179  er `numpy` array
-00007640: 732e 0d0a 2020 2a20 5b60 6d75 6c74 695f  s...  * [`multi_
-00007650: 656e 756d 6572 6174 6560 5d28 236d 756c  enumerate`](#mul
-00007660: 7469 5f65 6e75 6d65 7261 7465 2920 616c  ti_enumerate) al
-00007670: 6c6f 7773 2066 6f72 2065 6173 696c 7920  lows for easily 
-00007680: 6c6f 6f70 696e 6720 6f76 6572 2061 6c6c  looping over all
-00007690: 2074 6865 206d 756c 7469 2d64 696d 656e   the multi-dimen
-000076a0: 7369 6f6e 616c 2069 6e64 6963 6573 2069  sional indices i
-000076b0: 6e20 6120 606e 756d 7079 6020 6172 7261  n a `numpy` arra
-000076c0: 792e 0d0a 2020 2a20 5b60 6361 7274 6573  y...  * [`cartes
-000076d0: 6961 6e5f 7072 6f64 7563 7460 5d28 2363  ian_product`](#c
-000076e0: 6172 7465 7369 616e 5f70 726f 6475 6374  artesian_product
-000076f0: 2920 6361 6e20 636f 6d70 7574 6520 7468  ) can compute th
-00007700: 6520 4361 7274 6573 6961 6e20 7072 6f64  e Cartesian prod
-00007710: 7563 7420 6f66 2067 6976 656e 2060 6e75  uct of given `nu
-00007720: 6d70 7960 2061 7272 6179 7320 6173 2061  mpy` arrays as a
-00007730: 2060 6e75 6d70 7960 2061 7272 6179 2e0d   `numpy` array..
-00007740: 0a20 202a 205b 6061 6c6c 5f65 7175 616c  .  * [`all_equal
-00007750: 605d 2823 616c 6c5f 6571 7561 6c29 2061  `](#all_equal) a
-00007760: 6c6c 6f77 7320 666f 7220 6561 7369 6c79  llows for easily
-00007770: 2063 6865 636b 696e 6720 6966 2061 6c6c   checking if all
-00007780: 2074 6865 2065 6c65 6d65 6e74 7320 696e   the elements in
-00007790: 2061 2060 6e75 6d70 7960 2061 7272 6179   a `numpy` array
-000077a0: 2061 7265 2074 6865 2073 616d 652e 0d0a   are the same...
-000077b0: 2d20 5b60 6e75 6d70 792e 6e64 6172 7261  - [`numpy.ndarra
-000077c0: 7960 5d28 6874 7470 733a 2f2f 6e75 6d70  y`](https://nump
-000077d0: 792e 6f72 672f 646f 632f 7374 6162 6c65  y.org/doc/stable
-000077e0: 2f72 6566 6572 656e 6365 2f67 656e 6572  /reference/gener
-000077f0: 6174 6564 2f6e 756d 7079 2e6e 6461 7272  ated/numpy.ndarr
-00007800: 6179 2e68 746d 6c29 2069 7320 7265 6769  ay.html) is regi
-00007810: 7374 6572 6564 2061 7320 6120 5b60 636f  stered as a [`co
-00007820: 6c6c 6563 7469 6f6e 732e 6162 632e 5365  llections.abc.Se
-00007830: 7175 656e 6365 605d 2868 7474 7073 3a2f  quence`](https:/
-00007840: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-00007850: 2f33 2f6c 6962 7261 7279 2f63 6f6c 6c65  /3/library/colle
-00007860: 6374 696f 6e73 2e61 6263 2e68 746d 6c23  ctions.abc.html#
-00007870: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
-00007880: 5365 7175 656e 6365 292c 2065 6e61 626c  Sequence), enabl
-00007890: 696e 6720 6974 2074 6f20 6265 2075 7365  ing it to be use
-000078a0: 6420 696e 205b 7365 7175 656e 6365 2070  d in [sequence p
-000078b0: 6174 7465 726e 735d 2823 7365 6d61 6e74  atterns](#semant
-000078c0: 6963 732d 7370 6563 6966 6963 6174 696f  ics-specificatio
-000078d0: 6e29 2e0d 0a2d 2060 6e75 6d70 7960 206f  n)...- `numpy` o
-000078e0: 626a 6563 7473 2061 7265 2061 6c6c 6f77  bjects are allow
-000078f0: 6564 2073 6561 6d6c 6573 736c 7920 696e  ed seamlessly in
-00007900: 2043 6f63 6f6e 7574 2773 205b 696d 706c   Coconut's [impl
-00007910: 6963 6974 2063 6f65 6666 6963 6965 6e74  icit coefficient
-00007920: 2073 796e 7461 785d 2823 696d 706c 6963   syntax](#implic
-00007930: 6974 2d66 756e 6374 696f 6e2d 6170 706c  it-function-appl
-00007940: 6963 6174 696f 6e2d 616e 642d 636f 6566  ication-and-coef
-00007950: 6669 6369 656e 7473 292c 2061 6c6c 6f77  ficients), allow
-00007960: 696e 6720 7468 6520 7573 6520 6f66 2065  ing the use of e
-00007970: 2e67 2e20 6041 2042 2a2a 3260 2073 686f  .g. `A B**2` sho
-00007980: 7274 6861 6e64 2066 6f72 2060 4120 2a20  rthand for `A * 
-00007990: 422a 2a32 6020 7768 656e 2060 4160 2061  B**2` when `A` a
-000079a0: 6e64 2060 4260 2061 7265 2060 6e75 6d70  nd `B` are `nump
-000079b0: 7960 2061 7272 6179 7320 286e 6f74 653a  y` arrays (note:
-000079c0: 202a 2a6e 6f74 2a2a 2060 4120 4020 422a   **not** `A @ B*
-000079d0: 2a32 6029 2e0d 0a2d 2043 6f63 6f6e 7574  *2`)...- Coconut
-000079e0: 2073 7570 706f 7274 7320 6040 6020 666f   supports `@` fo
-000079f0: 7220 6d61 7472 6978 206d 756c 7469 706c  r matrix multipl
-00007a00: 6963 6174 696f 6e20 6f66 2060 6e75 6d70  ication of `nump
-00007a10: 7960 2061 7272 6179 7320 6f6e 2061 6c6c  y` arrays on all
-00007a20: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
-00007a30: 2c20 6173 2077 656c 6c20 6173 2073 7570  , as well as sup
-00007a40: 706c 7969 6e67 2074 6865 2060 2840 2960  plying the `(@)`
-00007a50: 205b 6f70 6572 6174 6f72 2066 756e 6374   [operator funct
-00007a60: 696f 6e5d 2823 6f70 6572 6174 6f72 2d66  ion](#operator-f
-00007a70: 756e 6374 696f 6e73 292e 0d0a 0d0a 4164  unctions).....Ad
-00007a80: 6469 7469 6f6e 616c 6c79 2c20 436f 636f  ditionally, Coco
-00007a90: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
-00007aa0: 2065 7861 6374 2073 616d 6520 7375 7070   exact same supp
-00007ab0: 6f72 7420 666f 7220 5b60 7061 6e64 6173  ort for [`pandas
-00007ac0: 605d 2868 7474 7073 3a2f 2f70 616e 6461  `](https://panda
-00007ad0: 732e 7079 6461 7461 2e6f 7267 2f29 2c20  s.pydata.org/), 
-00007ae0: 5b60 7079 746f 7263 6860 5d28 6874 7470  [`pytorch`](http
-00007af0: 733a 2f2f 7079 746f 7263 682e 6f72 672f  s://pytorch.org/
-00007b00: 292c 2061 6e64 205b 606a 6178 2e6e 756d  ), and [`jax.num
-00007b10: 7079 605d 2868 7474 7073 3a2f 2f6a 6178  py`](https://jax
-00007b20: 2e72 6561 6474 6865 646f 6373 2e69 6f2f  .readthedocs.io/
-00007b30: 656e 2f6c 6174 6573 742f 6a61 782e 6e75  en/latest/jax.nu
-00007b40: 6d70 792e 6874 6d6c 292c 2069 6e63 6c75  mpy.html), inclu
-00007b50: 6469 6e67 2075 7369 6e67 2060 7061 6e64  ding using `pand
-00007b60: 6173 602f 606a 6178 602d 7370 6563 6966  as`/`jax`-specif
-00007b70: 6963 206d 6574 686f 6473 206f 7665 7220  ic methods over 
-00007b80: 606e 756d 7079 6020 6d65 7468 6f64 7320  `numpy` methods 
-00007b90: 7768 656e 2067 6976 656e 2060 7061 6e64  when given `pand
-00007ba0: 6173 602f 606a 6178 6020 6f62 6a65 6374  as`/`jax` object
-00007bb0: 732e 0d0a 0d0a 2323 2323 2060 786f 6e73  s.....#### `xons
-00007bc0: 6860 2053 7570 706f 7274 0d0a 0d0a 436f  h` Support....Co
-00007bd0: 636f 6e75 7420 696e 7465 6772 6174 6573  conut integrates
-00007be0: 2077 6974 6820 5b60 786f 6e73 6860 5d28   with [`xonsh`](
-00007bf0: 6874 7470 733a 2f2f 786f 6e2e 7368 2f29  https://xon.sh/)
-00007c00: 2074 6f20 616c 6c6f 7720 7468 6520 7573   to allow the us
-00007c10: 6520 6f66 2043 6f63 6f6e 7574 2063 6f64  e of Coconut cod
-00007c20: 6520 6469 7265 6374 6c79 2066 726f 6d20  e directly from 
-00007c30: 796f 7572 2063 6f6d 6d61 6e64 206c 696e  your command lin
-00007c40: 652e 2054 6f20 7573 6520 436f 636f 6e75  e. To use Coconu
-00007c50: 7420 696e 2060 786f 6e73 6860 2c20 7369  t in `xonsh`, si
-00007c60: 6d70 6c79 2060 7069 7020 696e 7374 616c  mply `pip instal
-00007c70: 6c20 636f 636f 6e75 7460 2073 686f 756c  l coconut` shoul
-00007c80: 6420 6265 2061 6c6c 2079 6f75 206e 6565  d be all you nee
-00007c90: 6420 746f 2065 6e61 626c 6520 7468 6520  d to enable the 
-00007ca0: 7573 6520 6f66 2043 6f63 6f6e 7574 2073  use of Coconut s
-00007cb0: 796e 7461 7820 696e 2074 6865 2060 786f  yntax in the `xo
-00007cc0: 6e73 6860 2073 6865 6c6c 2e20 496e 2073  nsh` shell. In s
-00007cd0: 6f6d 6520 6369 7263 756d 7374 616e 6365  ome circumstance
-00007ce0: 732c 2069 6e20 7061 7274 6963 756c 6172  s, in particular
-00007cf0: 2064 6570 656e 6469 6e67 206f 6e20 7468   depending on th
-00007d00: 6520 696e 7374 616c 6c65 6420 6078 6f6e  e installed `xon
-00007d10: 7368 6020 7665 7273 696f 6e2c 2061 6464  sh` version, add
-00007d20: 696e 6720 6078 6f6e 7472 6962 206c 6f61  ing `xontrib loa
-00007d30: 6420 636f 636f 6e75 7460 2074 6f20 796f  d coconut` to yo
-00007d40: 7572 205b 6078 6f6e 7368 7263 605d 2868  ur [`xonshrc`](h
-00007d50: 7474 7073 3a2f 2f78 6f6e 2e73 682f 786f  ttps://xon.sh/xo
-00007d60: 6e73 6872 632e 6874 6d6c 2920 6669 6c65  nshrc.html) file
-00007d70: 206d 6967 6874 2062 6520 6e65 6365 7373   might be necess
-00007d80: 6172 792e 0d0a 0d0a 466f 7220 616e 2065  ary.....For an e
-00007d90: 7861 6d70 6c65 206f 6620 7573 696e 6720  xample of using 
-00007da0: 436f 636f 6e75 7420 6672 6f6d 2060 786f  Coconut from `xo
-00007db0: 6e73 6860 3a0d 0a60 6060 0d0a 7573 6572  nsh`:..```..user
-00007dc0: 4063 6f6d 7075 7465 7220 7e20 2420 786f  @computer ~ $ xo
-00007dd0: 6e74 7269 6220 6c6f 6164 2063 6f63 6f6e  ntrib load cocon
-00007de0: 7574 0d0a 7573 6572 4063 6f6d 7075 7465  ut..user@compute
-00007df0: 7220 7e20 2420 6364 202e 2f66 696c 6573  r ~ $ cd ./files
-00007e00: 0d0a 7573 6572 4063 6f6d 7075 7465 7220  ..user@computer 
-00007e10: 7e20 2420 2428 6c73 202d 6c61 2920 7c3e  ~ $ $(ls -la) |>
-00007e20: 202e 7370 6c69 746c 696e 6573 2829 207c   .splitlines() |
-00007e30: 3e20 6c65 6e0d 0a33 300d 0a60 6060 0d0a  > len..30..```..
-00007e40: 0d0a 4e6f 7465 2074 6861 7420 7468 6520  ..Note that the 
-00007e50: 7761 7920 7468 6174 2043 6f63 6f6e 7574  way that Coconut
-00007e60: 2069 6e74 6567 7261 7465 7320 7769 7468   integrates with
-00007e70: 2060 786f 6e73 6860 2c20 6040 283c 636f   `xonsh`, `@(<co
-00007e80: 6465 3e29 6020 7379 6e74 6178 2061 6e64  de>)` syntax and
-00007e90: 2074 6865 2060 6578 6563 7860 2063 6f6d   the `execx` com
-00007ea0: 6d61 6e64 2077 696c 6c20 6f6e 6c79 2077  mand will only w
-00007eb0: 6f72 6b20 7769 7468 2050 7974 686f 6e20  ork with Python 
-00007ec0: 636f 6465 2c20 6e6f 7420 436f 636f 6e75  code, not Coconu
-00007ed0: 7420 636f 6465 2e0d 0a0d 0a41 6464 6974  t code.....Addit
-00007ee0: 696f 6e61 6c6c 792c 2043 6f63 6f6e 7574  ionally, Coconut
-00007ef0: 2077 696c 6c20 6f6e 6c79 2063 6f6d 7069   will only compi
-00007f00: 6c65 2069 6e64 6976 6964 7561 6c20 636f  le individual co
-00007f10: 6d6d 616e 6473 e280 9443 6f63 6f6e 7574  mmands...Coconut
-00007f20: 2077 696c 6c20 6e6f 7420 746f 7563 6820   will not touch 
-00007f30: 7468 6520 602e 786f 6e73 6872 6360 206f  the `.xonshrc` o
-00007f40: 7220 616e 7920 6f74 6865 7220 602e 7873  r any other `.xs
-00007f50: 6860 2066 696c 6573 2e0d 0a0d 0a23 2320  h` files.....## 
-00007f60: 4f70 6572 6174 6f72 730d 0a0d 0a60 6060  Operators....```
-00007f70: 7b63 6f6e 7465 6e74 737d 0d0a 2d2d 2d0d  {contents}..---.
-00007f80: 0a6c 6f63 616c 3a0d 0a64 6570 7468 3a20  .local:..depth: 
-00007f90: 310d 0a2d 2d2d 0d0a 6060 600d 0a0d 0a23  1..---..```....#
-00007fa0: 2323 2050 7265 6365 6465 6e63 650d 0a0d  ## Precedence...
-00007fb0: 0a49 6e20 6f72 6465 7220 6f66 2070 7265  .In order of pre
-00007fc0: 6365 6465 6e63 652c 2068 6967 6865 7374  cedence, highest
-00007fd0: 2066 6972 7374 2c20 7468 6520 6f70 6572   first, the oper
-00007fe0: 6174 6f72 7320 7375 7070 6f72 7465 6420  ators supported 
-00007ff0: 696e 2043 6f63 6f6e 7574 2061 7265 3a0d  in Coconut are:.
-00008000: 0a60 6060 0d0a 3d3d 3d3d 3d3d 3d3d 3d3d  .```..==========
-00008010: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 203d 3d3d  ============ ===
-00008020: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008030: 3d3d 3d3d 3d3d 3d0d 0a53 796d 626f 6c28  =======..Symbol(
-00008040: 7329 2020 2020 2020 2020 2020 2020 2020  s)              
-00008050: 4173 736f 6369 6174 6976 6974 790d 0a3d  Associativity..=
-00008060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008070: 3d3d 3d3d 3d20 3d3d 3d3d 3d3d 3d3d 3d3d  ===== ==========
-00008080: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008090: 0d0a 6177 6169 7420 7820 2020 2020 2020  ..await x       
-000080a0: 2020 2020 2020 2020 206e 2f61 0d0a 2a2a           n/a..**
-000080b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080c0: 2020 2020 2072 6967 6874 2028 616c 6c6f       right (allo
-000080d0: 7773 2075 6e61 7279 290d 0a66 2078 2020  ws unary)..f x  
-000080e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080f0: 2020 6e2f 610d 0a2b 2c20 2d2c 207e 2020    n/a..+, -, ~  
-00008100: 2020 2020 2020 2020 2020 2020 2020 756e                un
-00008110: 6172 790d 0a2a 2c20 2f2c 202f 2f2c 2025  ary..*, /, //, %
-00008120: 2c20 4020 2020 2020 2020 2020 6c65 6674  , @         left
-00008130: 0d0a 2b2c 202d 2020 2020 2020 2020 2020  ..+, -          
-00008140: 2020 2020 2020 2020 206c 6566 740d 0a3c           left..<
-00008150: 3c2c 203e 3e20 2020 2020 2020 2020 2020  <, >>           
-00008160: 2020 2020 2020 6c65 6674 0d0a 2620 2020        left..&   
-00008170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008180: 2020 206c 6566 740d 0a26 3a20 2020 2020     left..&:     
-00008190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081a0: 6c65 6674 0d0a 5e20 2020 2020 2020 2020  left..^         
-000081b0: 2020 2020 2020 2020 2020 2020 206c 6566               lef
-000081c0: 740d 0a7c 2020 2020 2020 2020 2020 2020  t..|            
-000081d0: 2020 2020 2020 2020 2020 6c65 6674 0d0a            left..
-000081e0: 3a3a 2020 2020 2020 2020 2020 2020 2020  ::              
-000081f0: 2020 2020 2020 206e 2f61 2028 6c61 7a79         n/a (lazy
-00008200: 290d 0a2e 2e20 2020 2020 2020 2020 2020  )....           
-00008210: 2020 2020 2020 2020 2020 6e2f 610d 0a61            n/a..a
-00008220: 2060 6260 2063 2c20 2020 2020 2020 2020   `b` c,         
-00008230: 2020 2020 2020 6c65 6674 2028 6361 7074        left (capt
-00008240: 7572 6573 206c 616d 6264 6129 0d0a 2020  ures lambda)..  
-00008250: 616c 6c20 6375 7374 6f6d 206f 7065 7261  all custom opera
-00008260: 746f 7273 0d0a 3f3f 2020 2020 2020 2020  tors..??        
-00008270: 2020 2020 2020 2020 2020 2020 206c 6566               lef
-00008280: 7420 2873 686f 7274 2d63 6972 6375 6974  t (short-circuit
-00008290: 7329 0d0a 2e2e 3e2c 203c 2e2e 2c20 2e2e  s)....>, <.., ..
-000082a0: 2a3e 2c20 3c2a 2e2e 2c20 206e 2f61 2028  *>, <*..,  n/a (
-000082b0: 6361 7074 7572 6573 206c 616d 6264 6129  captures lambda)
-000082c0: 0d0a 2020 2e2e 2a2a 3e2c 203c 2a2a 2e2e  ..  ..**>, <**..
-000082d0: 0d0a 7c3e 2c20 3c7c 2c20 7c2a 3e2c 203c  ..|>, <|, |*>, <
-000082e0: 2a7c 2c20 2020 2020 206c 6566 7420 2863  *|,      left (c
-000082f0: 6170 7475 7265 7320 6c61 6d62 6461 290d  aptures lambda).
-00008300: 0a20 207c 2a2a 3e2c 203c 2a2a 7c0d 0a3d  .  |**>, <**|..=
-00008310: 3d2c 2021 3d2c 203c 2c20 3e2c 0d0a 2020  =, !=, <, >,..  
-00008320: 3c3d 2c20 3e3d 2c0d 0a20 2069 6e2c 206e  <=, >=,..  in, n
-00008330: 6f74 2069 6e2c 0d0a 2020 6973 2c20 6973  ot in,..  is, is
-00008340: 206e 6f74 2020 2020 2020 2020 2020 206e   not           n
-00008350: 2f61 0d0a 6e6f 7420 2020 2020 2020 2020  /a..not         
-00008360: 2020 2020 2020 2020 2020 2075 6e61 7279             unary
-00008370: 0d0a 616e 6420 2020 2020 2020 2020 2020  ..and           
-00008380: 2020 2020 2020 2020 206c 6566 7420 2873           left (s
-00008390: 686f 7274 2d63 6972 6375 6974 7329 0d0a  hort-circuits)..
-000083a0: 6f72 2020 2020 2020 2020 2020 2020 2020  or              
-000083b0: 2020 2020 2020 206c 6566 7420 2873 686f         left (sho
-000083c0: 7274 2d63 6972 6375 6974 7329 0d0a 7820  rt-circuits)..x 
-000083d0: 6966 2063 2065 6c73 6520 792c 2020 2020  if c else y,    
-000083e0: 2020 2020 2074 6572 6e61 7279 206c 6566       ternary lef
-000083f0: 7420 2873 686f 7274 2d63 6972 6375 6974  t (short-circuit
-00008400: 7329 0d0a 2020 6966 2063 2074 6865 6e20  s)..  if c then 
-00008410: 7820 656c 7365 2079 0d0a 2d3e 2020 2020  x else y..->    
-00008420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008430: 2072 6967 6874 0d0a 3d3d 3d3d 3d3d 3d3d   right..========
-00008440: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 203d  ============== =
-00008450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008460: 3d3d 3d3d 3d3d 3d3d 3d0d 0a60 6060 0d0a  =========..```..
-00008470: 0d0a 466f 7220 6578 616d 706c 652c 2073  ..For example, s
-00008480: 696e 6365 2061 6464 6974 696f 6e20 6861  ince addition ha
-00008490: 7320 6120 6869 6768 6572 2070 7265 6365  s a higher prece
-000084a0: 6465 6e63 6520 7468 616e 2070 6970 696e  dence than pipin
-000084b0: 672c 2065 7870 7265 7373 696f 6e73 206f  g, expressions o
-000084c0: 6620 7468 6520 666f 726d 2060 7820 7c3e  f the form `x |>
-000084d0: 2079 202b 207a 6020 6172 6520 6571 7569   y + z` are equi
-000084e0: 7661 6c65 6e74 2074 6f20 6078 207c 3e20  valent to `x |> 
-000084f0: 2879 202b 207a 2960 2e0d 0a0d 0a23 2323  (y + z)`.....###
-00008500: 204c 616d 6264 6173 0d0a 0d0a 436f 636f   Lambdas....Coco
-00008510: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
-00008520: 2073 696d 706c 652c 2063 6c65 616e 2060   simple, clean `
-00008530: 2d3e 6020 6f70 6572 6174 6f72 2061 7320  ->` operator as 
-00008540: 616e 2061 6c74 6572 6e61 7469 7665 2074  an alternative t
-00008550: 6f20 5079 7468 6f6e 2773 2060 6c61 6d62  o Python's `lamb
-00008560: 6461 6020 7374 6174 656d 656e 7473 2e20  da` statements. 
-00008570: 5468 6520 7379 6e74 6178 2066 6f72 2074  The syntax for t
-00008580: 6865 2060 2d3e 6020 6f70 6572 6174 6f72  he `->` operator
-00008590: 2069 7320 6028 7061 7261 6d65 7465 7273   is `(parameters
-000085a0: 2920 2d3e 2065 7870 7265 7373 696f 6e60  ) -> expression`
-000085b0: 2028 6f72 2060 7061 7261 6d65 7465 7220   (or `parameter 
-000085c0: 2d3e 2065 7870 7265 7373 696f 6e60 2066  -> expression` f
-000085d0: 6f72 206f 6e65 2d61 7267 756d 656e 7420  or one-argument 
-000085e0: 6c61 6d62 6461 7329 2e20 5468 6520 6f70  lambdas). The op
-000085f0: 6572 6174 6f72 2068 6173 2074 6865 2073  erator has the s
-00008600: 616d 6520 7072 6563 6564 656e 6365 2061  ame precedence a
-00008610: 7320 7468 6520 6f6c 6420 7374 6174 656d  s the old statem
-00008620: 656e 742c 2077 6869 6368 206d 6561 6e73  ent, which means
-00008630: 2069 7420 7769 6c6c 206f 6674 656e 2062   it will often b
-00008640: 6520 6e65 6365 7373 6172 7920 746f 2073  e necessary to s
-00008650: 7572 726f 756e 6420 7468 6520 6c61 6d62  urround the lamb
-00008660: 6461 2069 6e20 7061 7265 6e74 6865 7365  da in parenthese
-00008670: 732c 2061 6e64 2069 7320 7269 6768 742d  s, and is right-
-00008680: 6173 736f 6369 6174 6976 652e 0d0a 0d0a  associative.....
-00008690: 4164 6469 7469 6f6e 616c 6c79 2c20 436f  Additionally, Co
-000086a0: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
-000086b0: 7274 7320 616e 2069 6d70 6c69 6369 7420  rts an implicit 
-000086c0: 7573 6167 6520 6f66 2074 6865 2060 2d3e  usage of the `->
-000086d0: 6020 6f70 6572 6174 6f72 206f 6620 7468  ` operator of th
-000086e0: 6520 666f 726d 2060 282d 3e20 6578 7072  e form `(-> expr
-000086f0: 6573 7369 6f6e 2960 2c20 7768 6963 6820  ession)`, which 
-00008700: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00008710: 2060 2828 5f3d 4e6f 6e65 2920 2d3e 2065   `((_=None) -> e
-00008720: 7870 7265 7373 696f 6e29 602c 2077 6869  xpression)`, whi
-00008730: 6368 2061 6c6c 6f77 7320 616e 2069 6d70  ch allows an imp
-00008740: 6c69 6369 7420 6c61 6d62 6461 2074 6f20  licit lambda to 
-00008750: 6265 2075 7365 6420 626f 7468 2077 6865  be used both whe
-00008760: 6e20 6e6f 2061 7267 756d 656e 7473 2061  n no arguments a
-00008770: 7265 2072 6571 7569 7265 642c 2061 6e64  re required, and
-00008780: 2077 6865 6e20 6f6e 6520 6172 6775 6d65   when one argume
-00008790: 6e74 2028 6173 7369 676e 6564 2074 6f20  nt (assigned to 
-000087a0: 605f 6029 2069 7320 7265 7175 6972 6564  `_`) is required
-000087b0: 2e0d 0a0d 0a5f 4e6f 7465 3a20 4966 206e  ....._Note: If n
-000087c0: 6f72 6d61 6c20 6c61 6d62 6461 2073 796e  ormal lambda syn
-000087d0: 7461 7820 6973 2069 6e73 7566 6669 6369  tax is insuffici
-000087e0: 656e 742c 2043 6f63 6f6e 7574 2061 6c73  ent, Coconut als
-000087f0: 6f20 7375 7070 6f72 7473 2061 6e20 6578  o supports an ex
-00008800: 7465 6e64 6564 206c 616d 6264 6120 7379  tended lambda sy
-00008810: 6e74 6178 2069 6e20 7468 6520 666f 726d  ntax in the form
-00008820: 206f 6620 5b73 7461 7465 6d65 6e74 206c   of [statement l
-00008830: 616d 6264 6173 5d28 2373 7461 7465 6d65  ambdas](#stateme
-00008840: 6e74 2d6c 616d 6264 6173 292e 2053 7461  nt-lambdas). Sta
-00008850: 7465 6d65 6e74 206c 616d 6264 6173 2073  tement lambdas s
-00008860: 7570 706f 7274 2066 756c 6c20 7374 6174  upport full stat
-00008870: 656d 656e 7473 2072 6174 6865 7220 7468  ements rather th
-00008880: 616e 206a 7573 7420 6578 7072 6573 7369  an just expressi
-00008890: 6f6e 7320 616e 6420 616c 6c6f 7720 666f  ons and allow fo
-000088a0: 7220 7468 6520 7573 6520 6f66 205b 7061  r the use of [pa
-000088b0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
-000088c0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
-000088d0: 6f6e 5d28 2370 6174 7465 726e 2d6d 6174  on](#pattern-mat
-000088e0: 6368 696e 672d 6675 6e63 7469 6f6e 7329  ching-functions)
-000088f0: 2e5f 0d0a 0d0a 2323 2323 2320 5261 7469  ._....##### Rati
-00008900: 6f6e 616c 650d 0a0d 0a49 6e20 5079 7468  onale....In Pyth
-00008910: 6f6e 2c20 6c61 6d62 6461 7320 6172 6520  on, lambdas are 
-00008920: 7567 6c79 2061 6e64 2062 756c 6b79 2c20  ugly and bulky, 
-00008930: 7265 7175 6972 696e 6720 7468 6520 656e  requiring the en
-00008940: 7469 7265 2077 6f72 6420 606c 616d 6264  tire word `lambd
-00008950: 6160 2074 6f20 6265 2077 7269 7474 656e  a` to be written
-00008960: 206f 7574 2065 7665 7279 2074 696d 6520   out every time 
-00008970: 6f6e 6520 6973 2063 6f6e 7374 7275 6374  one is construct
-00008980: 6564 2e20 5468 6973 2069 7320 6669 6e65  ed. This is fine
-00008990: 2069 6620 696e 2d6c 696e 6520 6675 6e63   if in-line func
-000089a0: 7469 6f6e 7320 6172 6520 7665 7279 2072  tions are very r
-000089b0: 6172 656c 7920 6e65 6564 6564 2c20 6275  arely needed, bu
-000089c0: 7420 696e 2066 756e 6374 696f 6e61 6c20  t in functional 
-000089d0: 7072 6f67 7261 6d6d 696e 6720 696e 2d6c  programming in-l
-000089e0: 696e 6520 6675 6e63 7469 6f6e 7320 6172  ine functions ar
-000089f0: 6520 616e 2065 7373 656e 7469 616c 2074  e an essential t
-00008a00: 6f6f 6c2e 0d0a 0d0a 2323 2323 2320 5079  ool.....##### Py
-00008a10: 7468 6f6e 2044 6f63 730d 0a0d 0a4c 616d  thon Docs....Lam
-00008a20: 6264 6120 666f 726d 7320 286c 616d 6264  bda forms (lambd
-00008a30: 6120 6578 7072 6573 7369 6f6e 7329 2068  a expressions) h
-00008a40: 6176 6520 7468 6520 7361 6d65 2073 796e  ave the same syn
-00008a50: 7461 6374 6963 2070 6f73 6974 696f 6e20  tactic position 
-00008a60: 6173 2065 7870 7265 7373 696f 6e73 2e20  as expressions. 
-00008a70: 5468 6579 2061 7265 2061 2073 686f 7274  They are a short
-00008a80: 6861 6e64 2074 6f20 6372 6561 7465 2061  hand to create a
-00008a90: 6e6f 6e79 6d6f 7573 2066 756e 6374 696f  nonymous functio
-00008aa0: 6e73 3b20 7468 6520 6578 7072 6573 7369  ns; the expressi
-00008ab0: 6f6e 2060 2861 7267 756d 656e 7473 2920  on `(arguments) 
-00008ac0: 2d3e 2065 7870 7265 7373 696f 6e60 2079  -> expression` y
-00008ad0: 6965 6c64 7320 6120 6675 6e63 7469 6f6e  ields a function
-00008ae0: 206f 626a 6563 742e 2054 6865 2075 6e6e   object. The unn
-00008af0: 616d 6564 206f 626a 6563 7420 6265 6861  amed object beha
-00008b00: 7665 7320 6c69 6b65 2061 2066 756e 6374  ves like a funct
-00008b10: 696f 6e20 6f62 6a65 6374 2064 6566 696e  ion object defin
-00008b20: 6564 2077 6974 683a 0d0a 6060 6063 6f63  ed with:..```coc
-00008b30: 6f6e 7574 0d0a 6465 6620 3c6c 616d 6264  onut..def <lambd
-00008b40: 613e 2861 7267 756d 656e 7473 293a 0d0a  a>(arguments):..
-00008b50: 2020 2020 7265 7475 726e 2065 7870 7265      return expre
-00008b60: 7373 696f 6e0d 0a60 6060 0d0a 4e6f 7465  ssion..```..Note
-00008b70: 2074 6861 7420 6675 6e63 7469 6f6e 7320   that functions 
-00008b80: 6372 6561 7465 6420 7769 7468 206c 616d  created with lam
-00008b90: 6264 6120 666f 726d 7320 6361 6e6e 6f74  bda forms cannot
-00008ba0: 2063 6f6e 7461 696e 2073 7461 7465 6d65   contain stateme
-00008bb0: 6e74 7320 6f72 2061 6e6e 6f74 6174 696f  nts or annotatio
-00008bc0: 6e73 2e0d 0a0d 0a23 2323 2323 2045 7861  ns.....##### Exa
-00008bd0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00008be0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00008bf0: 0d0a 6475 6273 756d 7320 3d20 6d61 7028  ..dubsums = map(
-00008c00: 2878 2c20 7929 202d 3e20 322a 2878 2b79  (x, y) -> 2*(x+y
-00008c10: 292c 2072 616e 6765 2830 2c20 3130 292c  ), range(0, 10),
-00008c20: 2072 616e 6765 2831 302c 2032 3029 290d   range(10, 20)).
-00008c30: 0a64 7562 7375 6d73 207c 3e20 6c69 7374  .dubsums |> list
-00008c40: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
-00008c50: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00008c60: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00008c70: 0d0a 6475 6273 756d 7320 3d20 6d61 7028  ..dubsums = map(
-00008c80: 6c61 6d62 6461 2078 2c20 793a 2032 2a28  lambda x, y: 2*(
-00008c90: 782b 7929 2c20 7261 6e67 6528 302c 2031  x+y), range(0, 1
-00008ca0: 3029 2c20 7261 6e67 6528 3130 2c20 3230  0), range(10, 20
-00008cb0: 2929 0d0a 7072 696e 7428 6c69 7374 2864  ))..print(list(d
-00008cc0: 7562 7375 6d73 2929 0d0a 6060 600d 0a0d  ubsums))..```...
-00008cd0: 0a23 2323 2320 496d 706c 6963 6974 204c  .#### Implicit L
-00008ce0: 616d 6264 6173 0d0a 0d0a 436f 636f 6e75  ambdas....Coconu
-00008cf0: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
-00008d00: 696d 706c 6963 6974 206c 616d 6264 6173  implicit lambdas
-00008d10: 2c20 7768 6963 6820 616c 6c6f 7720 6120  , which allow a 
-00008d20: 6c61 6d62 6461 2074 6f20 7461 6b65 2065  lambda to take e
-00008d30: 6974 6865 7220 6e6f 2061 7267 756d 656e  ither no argumen
-00008d40: 7473 206f 7220 6120 7369 6e67 6c65 2061  ts or a single a
-00008d50: 7267 756d 656e 742e 2049 6d70 6c69 6369  rgument. Implici
-00008d60: 7420 6c61 6d62 6461 7320 6172 6520 666f  t lambdas are fo
-00008d70: 726d 6564 2077 6974 6820 7468 6520 7573  rmed with the us
-00008d80: 7561 6c20 436f 636f 6e75 7420 6c61 6d62  ual Coconut lamb
-00008d90: 6461 206f 7065 7261 746f 7220 602d 3e60  da operator `->`
-00008da0: 2c20 696e 2074 6865 2066 6f72 6d20 6028  , in the form `(
-00008db0: 2d3e 2065 7870 7265 7373 696f 6e29 602e  -> expression)`.
-00008dc0: 2054 6869 7320 6973 2065 7175 6976 616c   This is equival
-00008dd0: 656e 7420 746f 2060 2828 5f3d 4e6f 6e65  ent to `((_=None
-00008de0: 2920 2d3e 2065 7870 7265 7373 696f 6e29  ) -> expression)
-00008df0: 602e 2057 6865 6e20 616e 2061 7267 756d  `. When an argum
-00008e00: 656e 7420 6973 2070 6173 7365 6420 746f  ent is passed to
-00008e10: 2061 6e20 696d 706c 6963 6974 206c 616d   an implicit lam
-00008e20: 6264 612c 2069 7420 7769 6c6c 2062 6520  bda, it will be 
-00008e30: 6173 7369 676e 6564 2074 6f20 605f 602c  assigned to `_`,
-00008e40: 2072 6570 6c61 6369 6e67 2074 6865 2064   replacing the d
-00008e50: 6566 6175 6c74 2076 616c 7565 2060 4e6f  efault value `No
-00008e60: 6e65 602e 0d0a 0d0a 4265 6c6f 7720 6172  ne`.....Below ar
-00008e70: 6520 7477 6f20 6578 616d 706c 6573 206f  e two examples o
-00008e80: 6620 696d 706c 6963 6974 206c 616d 6264  f implicit lambd
-00008e90: 6173 2e20 5468 6520 6669 7273 7420 7573  as. The first us
-00008ea0: 6573 2074 6865 2069 6d70 6c69 6369 7420  es the implicit 
-00008eb0: 6172 6775 6d65 6e74 2060 5f60 2c20 7768  argument `_`, wh
-00008ec0: 696c 6520 7468 6520 7365 636f 6e64 2064  ile the second d
-00008ed0: 6f65 7320 6e6f 742e 0d0a 0d0a 2a2a 5369  oes not.....**Si
-00008ee0: 6e67 6c65 2041 7267 756d 656e 7420 4578  ngle Argument Ex
-00008ef0: 616d 706c 653a 2a2a 0d0a 6060 6063 6f63  ample:**..```coc
-00008f00: 6f6e 7574 0d0a 7371 7561 7265 203d 2028  onut..square = (
-00008f10: 2d3e 205f 2a2a 3229 0d0a 6060 600d 0a0d  -> _**2)..```...
-00008f20: 0a2a 2a4e 6f2d 4172 6775 6d65 6e74 2045  .**No-Argument E
-00008f30: 7861 6d70 6c65 3a2a 2a0d 0a60 6060 636f  xample:**..```co
-00008f40: 636f 6e75 740d 0a69 6d70 6f72 7420 7261  conut..import ra
-00008f50: 6e64 6f6d 0d0a 0d0a 6765 745f 7261 6e64  ndom....get_rand
-00008f60: 6f6d 5f6e 756d 6265 7220 3d20 282d 3e20  om_number = (-> 
-00008f70: 7261 6e64 6f6d 2e72 616e 646f 6d28 2929  random.random())
-00008f80: 0d0a 6060 600d 0a0d 0a5f 4e6f 7465 3a20  ..```...._Note: 
-00008f90: 4e65 7374 696e 6720 696d 706c 6963 6974  Nesting implicit
-00008fa0: 206c 616d 6264 6173 2063 616e 206c 6561   lambdas can lea
-00008fb0: 6420 746f 2070 726f 626c 656d 7320 7769  d to problems wi
-00008fc0: 7468 2074 6865 2073 636f 7065 206f 6620  th the scope of 
-00008fd0: 7468 6520 605f 6020 7061 7261 6d65 7465  the `_` paramete
-00008fe0: 7220 746f 2065 6163 6820 6c61 6d62 6461  r to each lambda
-00008ff0: 2e20 4974 2069 7320 7265 636f 6d6d 656e  . It is recommen
-00009000: 6465 6420 7468 6174 206e 6573 7469 6e67  ded that nesting
-00009010: 2069 6d70 6c69 6369 7420 6c61 6d62 6461   implicit lambda
-00009020: 7320 6265 2061 766f 6964 6564 2e5f 0d0a  s be avoided._..
-00009030: 0d0a 2323 2320 5061 7274 6961 6c20 4170  ..### Partial Ap
-00009040: 706c 6963 6174 696f 6e0d 0a0d 0a43 6f63  plication....Coc
-00009050: 6f6e 7574 2075 7365 7320 6120 6024 6020  onut uses a `$` 
-00009060: 7369 676e 2072 6967 6874 2061 6674 6572  sign right after
-00009070: 2061 2066 756e 6374 696f 6e27 7320 6e61   a function's na
-00009080: 6d65 2062 7574 2062 6566 6f72 6520 7468  me but before th
-00009090: 6520 6f70 656e 2070 6172 656e 7468 6573  e open parenthes
-000090a0: 6973 2075 7365 6420 746f 2063 616c 6c20  is used to call 
-000090b0: 7468 6520 6675 6e63 7469 6f6e 2074 6f20  the function to 
-000090c0: 6465 6e6f 7465 2070 6172 7469 616c 2061  denote partial a
-000090d0: 7070 6c69 6361 7469 6f6e 2e0d 0a0d 0a43  pplication.....C
-000090e0: 6f63 6f6e 7574 2773 2070 6172 7469 616c  oconut's partial
-000090f0: 2061 7070 6c69 6361 7469 6f6e 2061 6c73   application als
-00009100: 6f20 7375 7070 6f72 7473 2074 6865 2075  o supports the u
-00009110: 7365 206f 6620 6120 603f 6020 746f 2073  se of a `?` to s
-00009120: 6b69 7020 7061 7274 6961 6c6c 7920 6170  kip partially ap
-00009130: 706c 7969 6e67 2061 6e20 6172 6775 6d65  plying an argume
-00009140: 6e74 2c20 6465 6665 7272 696e 6720 6669  nt, deferring fi
-00009150: 6c6c 696e 6720 696e 2074 6861 7420 6172  lling in that ar
-00009160: 6775 6d65 6e74 2075 6e74 696c 2074 6865  gument until the
-00009170: 2070 6172 7469 616c 6c79 2d61 7070 6c69   partially-appli
-00009180: 6564 2066 756e 6374 696f 6e20 6973 2063  ed function is c
-00009190: 616c 6c65 642e 2054 6869 7320 6973 2075  alled. This is u
-000091a0: 7365 6675 6c20 6966 2079 6f75 2077 616e  seful if you wan
-000091b0: 7420 746f 2070 6172 7469 616c 6c79 2061  t to partially a
-000091c0: 7070 6c79 2061 7267 756d 656e 7473 2074  pply arguments t
-000091d0: 6861 7420 6172 656e 2774 2066 6972 7374  hat aren't first
-000091e0: 2069 6e20 7468 6520 6172 6775 6d65 6e74   in the argument
-000091f0: 206f 7264 6572 2e0d 0a0d 0a41 6464 6974   order.....Addit
-00009200: 696f 6e61 6c6c 792c 2060 3f60 2063 616e  ionally, `?` can
-00009210: 2065 7665 6e20 6265 2075 7365 6420 6173   even be used as
-00009220: 2074 6865 2076 616c 7565 206f 6620 6b65   the value of ke
-00009230: 7977 6f72 6420 6172 6775 6d65 6e74 7320  yword arguments 
-00009240: 746f 2063 6f6e 7665 7274 2074 6865 6d20  to convert them 
-00009250: 696e 746f 2070 6f73 6974 696f 6e61 6c20  into positional 
-00009260: 6172 6775 6d65 6e74 732e 2046 6f72 2065  arguments. For e
-00009270: 7861 6d70 6c65 2c20 6066 2428 783d 3f29  xample, `f$(x=?)
-00009280: 6020 6973 2065 6666 6563 7469 7665 6c79  ` is effectively
-00009290: 2065 7175 6976 616c 656e 7420 746f 0d0a   equivalent to..
-000092a0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-000092b0: 6e0d 0a64 6566 206e 6577 5f66 2878 2c20  n..def new_f(x, 
-000092c0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-000092d0: 3a0d 0a20 2020 206b 7761 7267 735b 2278  :..    kwargs["x
-000092e0: 225d 203d 2078 0d0a 2020 2020 7265 7475  "] = x..    retu
-000092f0: 726e 2066 282a 6172 6773 2c20 2a2a 6b77  rn f(*args, **kw
-00009300: 6172 6773 290d 0a60 6060 0d0a 0d0a 2323  args)..```....##
-00009310: 2323 2320 5261 7469 6f6e 616c 650d 0a0d  ### Rationale...
-00009320: 0a50 6172 7469 616c 2061 7070 6c69 6361  .Partial applica
-00009330: 7469 6f6e 2c20 6f72 2063 7572 7279 696e  tion, or curryin
-00009340: 672c 2069 7320 6120 6d61 696e 7374 6179  g, is a mainstay
-00009350: 206f 6620 6675 6e63 7469 6f6e 616c 2070   of functional p
-00009360: 726f 6772 616d 6d69 6e67 2c20 616e 6420  rogramming, and 
-00009370: 666f 7220 676f 6f64 2072 6561 736f 6e3a  for good reason:
-00009380: 2069 7420 616c 6c6f 7773 2074 6865 2064   it allows the d
-00009390: 796e 616d 6963 2063 7573 746f 6d69 7a61  ynamic customiza
-000093a0: 7469 6f6e 206f 6620 6675 6e63 7469 6f6e  tion of function
-000093b0: 7320 746f 2066 6974 2074 6865 206e 6565  s to fit the nee
-000093c0: 6473 206f 6620 7768 6572 6520 7468 6579  ds of where they
-000093d0: 2061 7265 2062 6569 6e67 2075 7365 642e   are being used.
-000093e0: 2050 6172 7469 616c 2061 7070 6c69 6361   Partial applica
-000093f0: 7469 6f6e 2061 6c6c 6f77 7320 6120 6e65  tion allows a ne
-00009400: 7720 6675 6e63 7469 6f6e 2074 6f20 6265  w function to be
-00009410: 2063 7265 6174 6564 206f 7574 206f 6620   created out of 
-00009420: 616e 206f 6c64 2066 756e 6374 696f 6e20  an old function 
-00009430: 7769 7468 2073 6f6d 6520 6f66 2069 7473  with some of its
-00009440: 2061 7267 756d 656e 7473 2070 7265 2d73   arguments pre-s
-00009450: 7065 6369 6669 6564 2e0d 0a0d 0a23 2323  pecified.....###
-00009460: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-00009470: 0d0a 5265 7475 726e 2061 206e 6577 2060  ..Return a new `
-00009480: 7061 7274 6961 6c60 206f 626a 6563 7420  partial` object 
-00009490: 7768 6963 6820 7768 656e 2063 616c 6c65  which when calle
-000094a0: 6420 7769 6c6c 2062 6568 6176 6520 6c69  d will behave li
-000094b0: 6b65 205f 6675 6e63 5f20 6361 6c6c 6564  ke _func_ called
-000094c0: 2077 6974 6820 7468 6520 706f 7369 7469   with the positi
-000094d0: 6f6e 616c 2061 7267 756d 656e 7473 205f  onal arguments _
-000094e0: 6172 6773 5f20 616e 6420 6b65 7977 6f72  args_ and keywor
-000094f0: 6420 6172 6775 6d65 6e74 7320 5f6b 6579  d arguments _key
-00009500: 776f 7264 735f 2e20 4966 206d 6f72 6520  words_. If more 
-00009510: 6172 6775 6d65 6e74 7320 6172 6520 7375  arguments are su
-00009520: 7070 6c69 6564 2074 6f20 7468 6520 6361  pplied to the ca
-00009530: 6c6c 2c20 7468 6579 2061 7265 2061 7070  ll, they are app
-00009540: 656e 6465 6420 746f 205f 6172 6773 5f2e  ended to _args_.
-00009550: 2049 6620 6164 6469 7469 6f6e 616c 206b   If additional k
-00009560: 6579 776f 7264 2061 7267 756d 656e 7473  eyword arguments
-00009570: 2061 7265 2073 7570 706c 6965 642c 2074   are supplied, t
-00009580: 6865 7920 6578 7465 6e64 2061 6e64 206f  hey extend and o
-00009590: 7665 7272 6964 6520 5f6b 6579 776f 7264  verride _keyword
-000095a0: 735f 2e20 526f 7567 686c 7920 6571 7569  s_. Roughly equi
-000095b0: 7661 6c65 6e74 2074 6f3a 0d0a 6060 6063  valent to:..```c
-000095c0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
-000095d0: 6566 2070 6172 7469 616c 2866 756e 632c  ef partial(func,
-000095e0: 202a 6172 6773 2c20 2a2a 6b65 7977 6f72   *args, **keywor
-000095f0: 6473 293a 0d0a 2020 2020 6465 6620 6e65  ds):..    def ne
-00009600: 7766 756e 6328 2a66 6172 6773 2c20 2a2a  wfunc(*fargs, **
-00009610: 666b 6579 776f 7264 7329 3a0d 0a20 2020  fkeywords):..   
-00009620: 2020 2020 206e 6577 6b65 7977 6f72 6473       newkeywords
-00009630: 203d 206b 6579 776f 7264 732e 636f 7079   = keywords.copy
-00009640: 2829 0d0a 2020 2020 2020 2020 6e65 776b  ()..        newk
-00009650: 6579 776f 7264 732e 7570 6461 7465 2866  eywords.update(f
-00009660: 6b65 7977 6f72 6473 290d 0a20 2020 2020  keywords)..     
-00009670: 2020 2072 6574 7572 6e20 6675 6e63 282a     return func(*
-00009680: 2861 7267 7320 2b20 6661 7267 7329 2c20  (args + fargs), 
-00009690: 2a2a 6e65 776b 6579 776f 7264 7329 0d0a  **newkeywords)..
-000096a0: 2020 2020 6e65 7766 756e 632e 6675 6e63      newfunc.func
-000096b0: 203d 2066 756e 630d 0a20 2020 206e 6577   = func..    new
-000096c0: 6675 6e63 2e61 7267 7320 3d20 6172 6773  func.args = args
-000096d0: 0d0a 2020 2020 6e65 7766 756e 632e 6b65  ..    newfunc.ke
-000096e0: 7977 6f72 6473 203d 206b 6579 776f 7264  ywords = keyword
-000096f0: 730d 0a20 2020 2072 6574 7572 6e20 6e65  s..    return ne
-00009700: 7766 756e 630d 0a60 6060 0d0a 5468 6520  wfunc..```..The 
-00009710: 6070 6172 7469 616c 6020 6f62 6a65 6374  `partial` object
-00009720: 2069 7320 7573 6564 2066 6f72 2070 6172   is used for par
-00009730: 7469 616c 2066 756e 6374 696f 6e20 6170  tial function ap
-00009740: 706c 6963 6174 696f 6e20 7768 6963 6820  plication which 
-00009750: e280 9c66 7265 657a 6573 e280 9d20 736f  ...freezes... so
-00009760: 6d65 2070 6f72 7469 6f6e 206f 6620 6120  me portion of a 
-00009770: 6675 6e63 7469 6f6e 2773 2061 7267 756d  function's argum
-00009780: 656e 7473 2061 6e64 2f6f 7220 6b65 7977  ents and/or keyw
-00009790: 6f72 6473 2072 6573 756c 7469 6e67 2069  ords resulting i
-000097a0: 6e20 6120 6e65 7720 6f62 6a65 6374 2077  n a new object w
-000097b0: 6974 6820 6120 7369 6d70 6c69 6669 6564  ith a simplified
-000097c0: 2073 6967 6e61 7475 7265 2e0d 0a0d 0a23   signature.....#
-000097d0: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-000097e0: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-000097f0: 6063 6f63 6f6e 7574 0d0a 6578 706e 756d  `coconut..expnum
-00009800: 7320 3d20 7261 6e67 6528 3529 207c 3e20  s = range(5) |> 
-00009810: 6d61 7024 2870 6f77 2428 3f2c 2032 2929  map$(pow$(?, 2))
-00009820: 0d0a 6578 706e 756d 7320 7c3e 206c 6973  ..expnums |> lis
-00009830: 7420 7c3e 2070 7269 6e74 0d0a 6060 600d  t |> print..```.
-00009840: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-00009850: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-00009860: 6e0d 0a23 2075 6e6c 696b 6520 7468 6973  n..# unlike this
-00009870: 2073 696d 706c 6520 6c61 6d62 6461 2c20   simple lambda, 
-00009880: 2420 7072 6f64 7563 6573 2061 2070 6963  $ produces a pic
-00009890: 6b6c 6561 626c 6520 6f62 6a65 6374 0d0a  kleable object..
-000098a0: 6578 706e 756d 7320 3d20 6d61 7028 6c61  expnums = map(la
-000098b0: 6d62 6461 2078 3a20 706f 7728 782c 2032  mbda x: pow(x, 2
-000098c0: 292c 2072 616e 6765 2835 2929 0d0a 7072  ), range(5))..pr
-000098d0: 696e 7428 6c69 7374 2865 7870 6e75 6d73  int(list(expnums
-000098e0: 2929 0d0a 6060 600d 0a0d 0a23 2323 2050  ))..```....### P
-000098f0: 6970 6573 0d0a 0d0a 436f 636f 6e75 7420  ipes....Coconut 
-00009900: 7573 6573 2070 6970 6520 6f70 6572 6174  uses pipe operat
-00009910: 6f72 7320 666f 7220 7069 7065 6c69 6e65  ors for pipeline
-00009920: 2d73 7479 6c65 2066 756e 6374 696f 6e20  -style function 
-00009930: 6170 706c 6963 6174 696f 6e2e 2041 6c6c  application. All
-00009940: 2074 6865 206f 7065 7261 746f 7273 2068   the operators h
-00009950: 6176 6520 6120 7072 6563 6564 656e 6365  ave a precedence
-00009960: 2069 6e2d 6265 7477 6565 6e20 6675 6e63   in-between func
-00009970: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-00009980: 2070 6970 6573 2061 6e64 2063 6f6d 7061   pipes and compa
-00009990: 7269 736f 6e73 2c20 616e 6420 6172 6520  risons, and are 
-000099a0: 6c65 6674 2d61 7373 6f63 6961 7469 7665  left-associative
-000099b0: 2e20 416c 6c20 6f70 6572 6174 6f72 7320  . All operators 
-000099c0: 616c 736f 2073 7570 706f 7274 2069 6e2d  also support in-
-000099d0: 706c 6163 6520 7665 7273 696f 6e73 2e20  place versions. 
-000099e0: 5468 6520 6469 6666 6572 656e 7420 6f70  The different op
-000099f0: 6572 6174 6f72 7320 6172 653a 0d0a 6060  erators are:..``
-00009a00: 6063 6f63 6f6e 7574 0d0a 287c 3e29 2020  `coconut..(|>)  
-00009a10: 2020 3d3e 2070 6970 6520 666f 7277 6172    => pipe forwar
-00009a20: 640d 0a28 7c2a 3e29 2020 203d 3e20 6d75  d..(|*>)   => mu
-00009a30: 6c74 6970 6c65 2d61 7267 756d 656e 7420  ltiple-argument 
-00009a40: 7069 7065 2066 6f72 7761 7264 0d0a 287c  pipe forward..(|
-00009a50: 2a2a 3e29 2020 3d3e 206b 6579 776f 7264  **>)  => keyword
-00009a60: 2061 7267 756d 656e 7420 7069 7065 2066   argument pipe f
-00009a70: 6f72 7761 7264 0d0a 283c 7c29 2020 2020  orward..(<|)    
-00009a80: 3d3e 2070 6970 6520 6261 636b 7761 7264  => pipe backward
-00009a90: 0d0a 283c 2a7c 2920 2020 3d3e 206d 756c  ..(<*|)   => mul
-00009aa0: 7469 706c 652d 6172 6775 6d65 6e74 2070  tiple-argument p
-00009ab0: 6970 6520 6261 636b 7761 7264 0d0a 283c  ipe backward..(<
-00009ac0: 2a2a 7c29 2020 3d3e 206b 6579 776f 7264  **|)  => keyword
-00009ad0: 2061 7267 756d 656e 7420 7069 7065 2062   argument pipe b
-00009ae0: 6163 6b77 6172 640d 0a28 7c3f 3e29 2020  ackward..(|?>)  
-00009af0: 203d 3e20 4e6f 6e65 2d61 7761 7265 2070   => None-aware p
-00009b00: 6970 6520 666f 7277 6172 640d 0a28 7c3f  ipe forward..(|?
-00009b10: 2a3e 2920 203d 3e20 4e6f 6e65 2d61 7761  *>)  => None-awa
-00009b20: 7265 206d 756c 7469 2d61 7267 2070 6970  re multi-arg pip
-00009b30: 6520 666f 7277 6172 640d 0a28 7c3f 2a2a  e forward..(|?**
-00009b40: 3e29 203d 3e20 4e6f 6e65 2d61 7761 7265  >) => None-aware
-00009b50: 206b 6579 776f 7264 2061 7267 2070 6970   keyword arg pip
-00009b60: 6520 666f 7277 6172 640d 0a28 3c3f 7c29  e forward..(<?|)
-00009b70: 2020 203d 3e20 4e6f 6e65 2d61 7761 7265     => None-aware
-00009b80: 2070 6970 6520 6261 636b 7761 7264 0d0a   pipe backward..
-00009b90: 283c 2a3f 7c29 2020 3d3e 204e 6f6e 652d  (<*?|)  => None-
-00009ba0: 6177 6172 6520 6d75 6c74 692d 6172 6720  aware multi-arg 
-00009bb0: 7069 7065 2062 6163 6b77 6172 640d 0a28  pipe backward..(
-00009bc0: 3c2a 2a3f 7c29 203d 3e20 4e6f 6e65 2d61  <**?|) => None-a
-00009bd0: 7761 7265 206b 6579 776f 7264 2061 7267  ware keyword arg
-00009be0: 2070 6970 6520 6261 636b 7761 7264 0d0a   pipe backward..
-00009bf0: 6060 600d 0a0d 0a54 6865 204e 6f6e 652d  ```....The None-
-00009c00: 6177 6172 6520 7069 7065 206f 7065 7261  aware pipe opera
-00009c10: 746f 7273 2068 6572 6520 6172 6520 6571  tors here are eq
-00009c20: 7569 7661 6c65 6e74 2074 6f20 6120 5b6d  uivalent to a [m
-00009c30: 6f6e 6164 6963 2062 696e 645d 2868 7474  onadic bind](htt
-00009c40: 7073 3a2f 2f65 6e2e 7769 6b69 7065 6469  ps://en.wikipedi
-00009c50: 612e 6f72 672f 7769 6b69 2f4d 6f6e 6164  a.org/wiki/Monad
-00009c60: 5f28 6675 6e63 7469 6f6e 616c 5f70 726f  _(functional_pro
-00009c70: 6772 616d 6d69 6e67 2929 2074 7265 6174  gramming)) treat
-00009c80: 696e 6720 7468 6520 6f62 6a65 6374 2061  ing the object a
-00009c90: 7320 6120 604d 6179 6265 6020 6d6f 6e61  s a `Maybe` mona
-00009ca0: 6420 636f 6d70 6f73 6564 206f 6620 6569  d composed of ei
-00009cb0: 7468 6572 2060 4e6f 6e65 6020 6f72 2074  ther `None` or t
-00009cc0: 6865 2067 6976 656e 206f 626a 6563 742e  he given object.
-00009cd0: 2054 6875 732c 2060 7820 7c3f 3e20 6660   Thus, `x |?> f`
-00009ce0: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
-00009cf0: 6f20 604e 6f6e 6520 6966 2078 2069 7320  o `None if x is 
-00009d00: 4e6f 6e65 2065 6c73 6520 6628 7829 602e  None else f(x)`.
-00009d10: 204e 6f74 6520 7468 6174 206f 6e6c 7920   Note that only 
-00009d20: 7468 6520 6f62 6a65 6374 2062 6569 6e67  the object being
-00009d30: 2070 6970 6564 2c20 6e6f 7420 7468 6520   piped, not the 
-00009d40: 6675 6e63 7469 6f6e 2062 6569 6e67 2070  function being p
-00009d50: 6970 6564 2069 6e74 6f2c 206d 6179 2062  iped into, may b
-00009d60: 6520 604e 6f6e 6560 2066 6f72 2060 4e6f  e `None` for `No
-00009d70: 6e65 602d 6177 6172 6520 7069 7065 732e  ne`-aware pipes.
-00009d80: 0d0a 0d0a 466f 7220 776f 726b 696e 6720  ....For working 
-00009d90: 7769 7468 2060 6173 796e 6360 2066 756e  with `async` fun
-00009da0: 6374 696f 6e73 2069 6e20 7069 7065 732c  ctions in pipes,
-00009db0: 2061 6c6c 206e 6f6e 2d73 7461 7272 6564   all non-starred
-00009dc0: 2070 6970 6573 2073 7570 706f 7274 2070   pipes support p
-00009dd0: 6970 696e 6720 696e 746f 2060 6177 6169  iping into `awai
-00009de0: 7460 2074 6f20 6177 6169 7420 7468 6520  t` to await the 
-00009df0: 6177 6169 7461 626c 6520 7069 7065 6420  awaitable piped 
-00009e00: 696e 746f 2074 6865 6d2c 2073 7563 6820  into them, such 
-00009e10: 7468 6174 2060 7820 7c3e 2061 7761 6974  that `x |> await
-00009e20: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-00009e30: 746f 2060 6177 6169 7420 7860 2e0d 0a0d  to `await x`....
-00009e40: 0a41 6464 6974 696f 6e61 6c6c 792c 2061  .Additionally, a
-00009e50: 6c6c 2070 6970 6520 6f70 6572 6174 6f72  ll pipe operator
-00009e60: 7320 7375 7070 6f72 7420 6120 6c61 6d62  s support a lamb
-00009e70: 6461 2061 7320 7468 6520 6c61 7374 2061  da as the last a
-00009e80: 7267 756d 656e 742c 2064 6573 7069 7465  rgument, despite
-00009e90: 206c 616d 6264 6173 2068 6176 696e 6720   lambdas having 
-00009ea0: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
-00009eb0: 6365 2e20 5468 7573 2c20 6061 207c 3e20  ce. Thus, `a |> 
-00009ec0: 7820 2d3e 2062 207c 3e20 6360 2069 7320  x -> b |> c` is 
-00009ed0: 6571 7569 7661 6c65 6e74 2074 6f20 6061  equivalent to `a
-00009ee0: 207c 3e20 2878 202d 3e20 6220 7c3e 2063   |> (x -> b |> c
-00009ef0: 2960 2c20 6e6f 7420 6061 207c 3e20 2878  )`, not `a |> (x
-00009f00: 202d 3e20 6229 207c 3e20 6360 2e0d 0a0d   -> b) |> c`....
-00009f10: 0a5f 4e6f 7465 3a20 546f 2076 6973 7561  ._Note: To visua
-00009f20: 6c6c 7920 7370 7265 6164 206f 7065 7261  lly spread opera
-00009f30: 7469 6f6e 7320 6163 726f 7373 2073 6576  tions across sev
-00009f40: 6572 616c 206c 696e 6573 2c20 6a75 7374  eral lines, just
-00009f50: 2075 7365 205b 7061 7265 6e74 6865 7469   use [parentheti
-00009f60: 6361 6c20 636f 6e74 696e 7561 7469 6f6e  cal continuation
-00009f70: 5d28 2365 6e68 616e 6365 642d 7061 7265  ](#enhanced-pare
-00009f80: 6e74 6865 7469 6361 6c2d 636f 6e74 696e  nthetical-contin
-00009f90: 7561 7469 6f6e 292e 5f0d 0a0d 0a23 2323  uation)._....###
-00009fa0: 2323 204f 7074 696d 697a 6174 696f 6e73  ## Optimizations
-00009fb0: 0d0a 0d0a 4974 2069 7320 636f 6d6d 6f6e  ....It is common
-00009fc0: 2069 6e20 436f 636f 6e75 7420 746f 2077   in Coconut to w
-00009fd0: 7269 7465 2063 6f64 6520 7468 6174 2075  rite code that u
-00009fe0: 7365 7320 7069 7065 7320 746f 2070 6173  ses pipes to pas
-00009ff0: 7320 616e 206f 626a 6563 7420 7468 726f  s an object thro
-0000a000: 7567 6820 6120 7365 7269 6573 206f 6620  ugh a series of 
-0000a010: 5b70 6172 7469 616c 735d 2823 7061 7274  [partials](#part
-0000a020: 6961 6c2d 6170 706c 6963 6174 696f 6e29  ial-application)
-0000a030: 2061 6e64 2f6f 7220 5b69 6d70 6c69 6369   and/or [implici
-0000a040: 7420 7061 7274 6961 6c73 5d28 2369 6d70  t partials](#imp
-0000a050: 6c69 6369 742d 7061 7274 6961 6c2d 6170  licit-partial-ap
-0000a060: 706c 6963 6174 696f 6e29 2c20 6173 2069  plication), as i
-0000a070: 6e0d 0a60 6060 636f 636f 6e75 740d 0a6f  n..```coconut..o
-0000a080: 626a 207c 3e20 2e61 7474 7269 6275 7465  bj |> .attribute
-0000a090: 207c 3e20 2e6d 6574 686f 6428 6172 6773   |> .method(args
-0000a0a0: 2920 7c3e 2066 756e 6324 2861 7267 7329  ) |> func$(args)
-0000a0b0: 207c 3e20 2e5b 696e 6465 785d 0d0a 6060   |> .[index]..``
-0000a0c0: 600d 0a77 6869 6368 2069 7320 6f66 7465  `..which is ofte
-0000a0d0: 6e20 6d75 6368 206d 6f72 6520 7265 6164  n much more read
-0000a0e0: 6162 6c65 2c20 6173 2069 7420 616c 6c6f  able, as it allo
-0000a0f0: 7773 2074 6865 206f 7065 7261 7469 6f6e  ws the operation
-0000a100: 7320 746f 2062 6520 7772 6974 7465 6e20  s to be written 
-0000a110: 696e 2074 6865 206f 7264 6572 2069 6e20  in the order in 
-0000a120: 7768 6963 6820 7468 6579 2061 7265 2070  which they are p
-0000a130: 6572 666f 726d 6564 2c20 696e 7374 6561  erformed, instea
-0000a140: 6420 6f66 2061 7320 696e 0d0a 6060 6063  d of as in..```c
-0000a150: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a66  oconut_python..f
-0000a160: 756e 6328 6172 6773 2c20 6f62 6a2e 6174  unc(args, obj.at
-0000a170: 7472 6962 7574 652e 6d65 7468 6f64 2861  tribute.method(a
-0000a180: 7267 7329 295b 696e 6465 785d 0d0a 6060  rgs))[index]..``
-0000a190: 600d 0a77 6865 7265 2060 6675 6e63 6020  `..where `func` 
-0000a1a0: 6861 7320 746f 2067 6f20 6174 2074 6865  has to go at the
-0000a1b0: 2062 6567 696e 6e69 6e67 2e0d 0a0d 0a49   beginning.....I
-0000a1c0: 6620 436f 636f 6e75 7420 636f 6d70 696c  f Coconut compil
-0000a1d0: 6564 2065 6163 6820 6f66 2074 6865 2070  ed each of the p
-0000a1e0: 6172 7469 616c 7320 696e 2074 6865 2070  artials in the p
-0000a1f0: 6970 6520 7379 6e74 6178 2061 7320 616e  ipe syntax as an
-0000a200: 2061 6374 7561 6c20 7061 7274 6961 6c20   actual partial 
-0000a210: 6170 706c 6963 6174 696f 6e20 6f62 6a65  application obje
-0000a220: 6374 2c20 6974 2077 6f75 6c64 206d 616b  ct, it would mak
-0000a230: 6520 7468 6520 436f 636f 6e75 742d 7374  e the Coconut-st
-0000a240: 796c 6520 7379 6e74 6178 2073 6967 6e69  yle syntax signi
-0000a250: 6669 6361 6e74 6c79 2073 6c6f 7765 7220  ficantly slower 
-0000a260: 7468 616e 2074 6865 2050 7974 686f 6e2d  than the Python-
-0000a270: 7374 796c 6520 7379 6e74 6178 2e20 5468  style syntax. Th
-0000a280: 7573 2c20 436f 636f 6e75 7420 646f 6573  us, Coconut does
-0000a290: 206e 6f74 2064 6f20 7468 6174 2e20 4966   not do that. If
-0000a2a0: 2061 6e79 206f 6620 7468 6520 6162 6f76   any of the abov
-0000a2b0: 6520 7374 796c 6573 206f 6620 7061 7274  e styles of part
-0000a2c0: 6961 6c73 206f 7220 696d 706c 6963 6974  ials or implicit
-0000a2d0: 2070 6172 7469 616c 7320 6172 6520 7573   partials are us
-0000a2e0: 6564 2069 6e20 7069 7065 732c 2074 6865  ed in pipes, the
-0000a2f0: 7920 7769 6c6c 2077 6865 6e65 7665 7220  y will whenever 
-0000a300: 706f 7373 6962 6c65 2062 6520 636f 6d70  possible be comp
-0000a310: 696c 6564 2074 6f20 7468 6520 5079 7468  iled to the Pyth
-0000a320: 6f6e 2d73 7479 6c65 2073 796e 7461 782c  on-style syntax,
-0000a330: 2070 726f 6475 6369 6e67 206e 6f20 696e   producing no in
-0000a340: 7465 726d 6564 6961 7465 2070 6172 7469  termediate parti
-0000a350: 616c 2061 7070 6c69 6361 7469 6f6e 206f  al application o
-0000a360: 626a 6563 7473 2e0d 0a0d 0a54 6869 7320  bjects.....This 
-0000a370: 6170 706c 6965 7320 6576 656e 2074 6f20  applies even to 
-0000a380: 696e 2d70 6c61 6365 2070 6970 6573 2073  in-place pipes s
-0000a390: 7563 6820 6173 2060 7c3e 3d60 2e0d 0a0d  uch as `|>=`....
-0000a3a0: 0a23 2323 2323 2045 7861 6d70 6c65 730d  .##### Examples.
-0000a3b0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0000a3c0: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-0000a3d0: 2073 7128 7829 203d 2078 2a2a 320d 0a28   sq(x) = x**2..(
-0000a3e0: 312c 2032 2920 7c2a 3e20 282b 2920 7c3e  1, 2) |*> (+) |>
-0000a3f0: 2073 7120 7c3e 2070 7269 6e74 0d0a 6060   sq |> print..``
-0000a400: 600d 0a0d 0a60 6060 636f 636f 6e75 740d  `....```coconut.
-0000a410: 0a61 7379 6e63 2064 6566 2064 6f5f 7374  .async def do_st
-0000a420: 7566 6628 736f 6d65 5f64 6174 6129 203d  uff(some_data) =
-0000a430: 2028 0d0a 2020 2020 736f 6d65 5f64 6174   (..    some_dat
-0000a440: 610d 0a20 2020 207c 3e20 6173 796e 635f  a..    |> async_
-0000a450: 6675 6e63 0d0a 2020 2020 7c3e 2061 7761  func..    |> awa
-0000a460: 6974 0d0a 2020 2020 7c3e 2070 6f73 745f  it..    |> post_
-0000a470: 7072 6f63 0d0a 290d 0a60 6060 0d0a 0d0a  proc..)..```....
-0000a480: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0000a490: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0000a4a0: 696d 706f 7274 206f 7065 7261 746f 720d  import operator.
-0000a4b0: 0a64 6566 2073 7128 7829 3a20 7265 7475  .def sq(x): retu
-0000a4c0: 726e 2078 2a2a 320d 0a70 7269 6e74 2873  rn x**2..print(s
-0000a4d0: 7128 6f70 6572 6174 6f72 2e61 6464 2831  q(operator.add(1
-0000a4e0: 2c20 3229 2929 0d0a 6060 600d 0a0d 0a60  , 2)))..```....`
-0000a4f0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-0000a500: 0d0a 6173 796e 6320 6465 6620 646f 5f73  ..async def do_s
-0000a510: 7475 6666 2873 6f6d 655f 6461 7461 293a  tuff(some_data):
-0000a520: 0d0a 2020 2020 7265 7475 726e 2070 6f73  ..    return pos
-0000a530: 745f 7072 6f63 2861 7761 6974 2061 7379  t_proc(await asy
-0000a540: 6e63 5f66 756e 6328 736f 6d65 5f64 6174  nc_func(some_dat
-0000a550: 6129 290d 0a60 6060 0d0a 0d0a 2323 2320  a))..```....### 
-0000a560: 4675 6e63 7469 6f6e 2043 6f6d 706f 7369  Function Composi
-0000a570: 7469 6f6e 0d0a 0d0a 436f 636f 6e75 7420  tion....Coconut 
-0000a580: 6861 7320 7468 7265 6520 6261 7369 6320  has three basic 
-0000a590: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-0000a5a0: 7469 6f6e 206f 7065 7261 746f 7273 3a20  tion operators: 
-0000a5b0: 602e 2e60 2c20 602e 2e3e 602c 2061 6e64  `..`, `..>`, and
-0000a5c0: 2060 3c2e 2e60 2e20 426f 7468 2060 2e2e   `<..`. Both `..
-0000a5d0: 6020 616e 6420 603c 2e2e 6020 7573 6520  ` and `<..` use 
-0000a5e0: 6d61 7468 2d73 7479 6c65 2022 6261 636b  math-style "back
-0000a5f0: 7761 7264 7322 2066 756e 6374 696f 6e20  wards" function 
-0000a600: 636f 6d70 6f73 6974 696f 6e2c 2077 6865  composition, whe
-0000a610: 7265 2074 6865 2066 6972 7374 2066 756e  re the first fun
-0000a620: 6374 696f 6e20 6973 2063 616c 6c65 6420  ction is called 
-0000a630: 6c61 7374 2c20 7768 696c 6520 602e 2e3e  last, while `..>
-0000a640: 6020 7573 6573 2022 666f 7277 6172 6473  ` uses "forwards
-0000a650: 2220 6675 6e63 7469 6f6e 2063 6f6d 706f  " function compo
-0000a660: 7369 7469 6f6e 2c20 7768 6572 6520 7468  sition, where th
-0000a670: 6520 6669 7273 7420 6675 6e63 7469 6f6e  e first function
-0000a680: 2069 7320 6361 6c6c 6564 2066 6972 7374   is called first
-0000a690: 2e20 466f 7277 6172 6473 2061 6e64 2062  . Forwards and b
-0000a6a0: 6163 6b77 6172 6473 2066 756e 6374 696f  ackwards functio
-0000a6b0: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
-0000a6c0: 7065 7320 6361 6e6e 6f74 2062 6520 7573  pes cannot be us
-0000a6d0: 6564 2074 6f67 6574 6865 7220 696e 2074  ed together in t
-0000a6e0: 6865 2073 616d 6520 6578 7072 6573 7369  he same expressi
-0000a6f0: 6f6e 2028 756e 6c69 6b65 206e 6f72 6d61  on (unlike norma
-0000a700: 6c20 7069 7065 7329 2061 6e64 2068 6176  l pipes) and hav
-0000a710: 6520 7072 6563 6564 656e 6365 2069 6e2d  e precedence in-
-0000a720: 6265 7477 6565 6e20 604e 6f6e 6560 2d63  between `None`-c
-0000a730: 6f61 6c65 7363 696e 6720 616e 6420 6e6f  oalescing and no
-0000a740: 726d 616c 2070 6970 6573 2e0d 0a0d 0a54  rmal pipes.....T
-0000a750: 6865 2060 2e2e 3e60 2061 6e64 2060 3c2e  he `..>` and `<.
-0000a760: 2e60 2066 756e 6374 696f 6e20 636f 6d70  .` function comp
-0000a770: 6f73 6974 696f 6e20 7069 7065 206f 7065  osition pipe ope
-0000a780: 7261 746f 7273 2061 6c73 6f20 6861 7665  rators also have
-0000a790: 206d 756c 7469 2d61 7267 2c20 6b65 7977   multi-arg, keyw
-0000a7a0: 6f72 642c 2061 6e64 204e 6f6e 6520 7661  ord, and None va
-0000a7b0: 7269 616e 7473 2061 7320 7769 7468 205b  riants as with [
-0000a7c0: 6e6f 726d 616c 2070 6970 6573 5d28 2370  normal pipes](#p
-0000a7d0: 6970 6573 292e 2054 6865 2066 756c 6c20  ipes). The full 
-0000a7e0: 6c69 7374 206f 6620 6675 6e63 7469 6f6e  list of function
-0000a7f0: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
-0000a800: 6520 6f70 6572 6174 6f72 7320 6973 3a0d  e operators is:.
-0000a810: 0a60 6060 0d0a 2e2e 3e20 2020 203d 3e20  .```....>    => 
-0000a820: 666f 7277 6172 6473 2066 756e 6374 696f  forwards functio
-0000a830: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
-0000a840: 7065 0d0a 3c2e 2e20 2020 203d 3e20 6261  pe..<..    => ba
-0000a850: 636b 7761 7264 7320 6675 6e63 7469 6f6e  ckwards function
-0000a860: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
-0000a870: 650d 0a2e 2e2a 3e20 2020 3d3e 2066 6f72  e....*>   => for
-0000a880: 7761 7264 7320 6d75 6c74 692d 6172 6720  wards multi-arg 
-0000a890: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-0000a8a0: 7469 6f6e 2070 6970 650d 0a3c 2a2e 2e20  tion pipe..<*.. 
-0000a8b0: 2020 3d3e 2062 6163 6b77 6172 6473 206d    => backwards m
-0000a8c0: 756c 7469 2d61 7267 2066 756e 6374 696f  ulti-arg functio
-0000a8d0: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
-0000a8e0: 7065 0d0a 2e2e 2a2a 3e20 203d 3e20 666f  pe....**>  => fo
-0000a8f0: 7277 6172 6473 206b 6579 776f 7264 2061  rwards keyword a
-0000a900: 7267 2066 756e 6374 696f 6e20 636f 6d70  rg function comp
-0000a910: 6f73 6974 696f 6e20 7069 7065 0d0a 3c2a  osition pipe..<*
-0000a920: 2a2e 2e20 203d 3e20 6261 636b 7761 7264  *..  => backward
-0000a930: 7320 6b65 7977 6f72 6420 6172 6720 6675  s keyword arg fu
-0000a940: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
-0000a950: 6f6e 2070 6970 650d 0a2e 2e3f 3e20 2020  on pipe....?>   
-0000a960: 3d3e 2066 6f72 7761 7264 7320 4e6f 6e65  => forwards None
-0000a970: 2d61 7761 7265 2066 756e 6374 696f 6e20  -aware function 
-0000a980: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-0000a990: 0d0a 3c3f 2e2e 2020 203d 3e20 6261 636b  ..<?..   => back
-0000a9a0: 7761 7264 7320 4e6f 6e65 2d61 7761 7265  wards None-aware
-0000a9b0: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-0000a9c0: 6974 696f 6e20 7069 7065 0d0a 2e2e 3f2a  ition pipe....?*
-0000a9d0: 3e20 203d 3e20 666f 7277 6172 6473 204e  >  => forwards N
-0000a9e0: 6f6e 652d 6177 6172 6520 6d75 6c74 692d  one-aware multi-
-0000a9f0: 6172 6720 6675 6e63 7469 6f6e 2063 6f6d  arg function com
-0000aa00: 706f 7369 7469 6f6e 2070 6970 650d 0a3c  position pipe..<
-0000aa10: 2a3f 2e2e 2020 3d3e 2062 6163 6b77 6172  *?..  => backwar
-0000aa20: 6473 204e 6f6e 652d 6177 6172 6520 6d75  ds None-aware mu
-0000aa30: 6c74 692d 6172 6720 6675 6e63 7469 6f6e  lti-arg function
-0000aa40: 2063 6f6d 706f 7369 7469 6f6e 2070 6970   composition pip
-0000aa50: 650d 0a2e 2e3f 2a2a 3e20 3d3e 2066 6f72  e....?**> => for
-0000aa60: 7761 7264 7320 4e6f 6e65 2d61 7761 7265  wards None-aware
-0000aa70: 206b 6579 776f 7264 2061 7267 2066 756e   keyword arg fun
-0000aa80: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
-0000aa90: 6e20 7069 7065 0d0a 3c2a 2a3f 2e2e 203d  n pipe..<**?.. =
-0000aaa0: 3e20 6261 636b 7761 7264 7320 4e6f 6e65  > backwards None
-0000aab0: 2d61 7761 7265 206b 6579 776f 7264 2061  -aware keyword a
-0000aac0: 7267 2066 756e 6374 696f 6e20 636f 6d70  rg function comp
-0000aad0: 6f73 6974 696f 6e20 7069 7065 0d0a 6060  osition pipe..``
-0000aae0: 600d 0a0d 0a4e 6f74 6520 7468 6174 2060  `....Note that `
-0000aaf0: 4e6f 6e65 602d 6177 6172 6520 6675 6e63  None`-aware func
-0000ab00: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-0000ab10: 2070 6970 6573 2064 6f6e 2774 2061 6c6c   pipes don't all
-0000ab20: 6f77 2065 6974 6865 7220 6675 6e63 7469  ow either functi
-0000ab30: 6f6e 2074 6f20 6265 2060 4e6f 6e65 60e2  on to be `None`.
-0000ab40: 8094 7261 7468 6572 2c20 7468 6579 2061  ..rather, they a
-0000ab50: 6c6c 6f77 2074 6865 2072 6574 7572 6e20  llow the return 
-0000ab60: 6f66 2074 6865 2066 6972 7374 2065 7661  of the first eva
-0000ab70: 6c75 6174 6564 2066 756e 6374 696f 6e20  luated function 
-0000ab80: 746f 2062 6520 604e 6f6e 6560 2c20 696e  to be `None`, in
-0000ab90: 2077 6869 6368 2063 6173 6520 604e 6f6e   which case `Non
-0000aba0: 6560 2069 7320 7265 7475 726e 6564 2069  e` is returned i
-0000abb0: 6d6d 6564 6961 7465 6c79 2072 6174 6865  mmediately rathe
-0000abc0: 7220 7468 616e 2063 616c 6c69 6e67 2074  r than calling t
-0000abd0: 6865 206e 6578 7420 6675 6e63 7469 6f6e  he next function
-0000abe0: 2e0d 0a0d 0a54 6865 2060 2e2e 6020 6f70  .....The `..` op
-0000abf0: 6572 6174 6f72 2068 6173 206c 6f77 6572  erator has lower
-0000ac00: 2070 7265 6365 6465 6e63 6520 7468 616e   precedence than
-0000ac10: 2060 3a3a 6020 6275 7420 6869 6768 6572   `::` but higher
-0000ac20: 2070 7265 6365 6465 6e63 6520 7468 616e   precedence than
-0000ac30: 2069 6e66 6978 2066 756e 6374 696f 6e73   infix functions
-0000ac40: 2077 6869 6c65 2074 6865 2060 2e2e 3e60   while the `..>`
-0000ac50: 2070 6970 6520 6f70 6572 6174 6f72 7320   pipe operators 
-0000ac60: 6861 7665 2061 2070 7265 6365 6465 6e63  have a precedenc
-0000ac70: 6520 6469 7265 6374 6c79 2068 6967 6865  e directly highe
-0000ac80: 7220 7468 616e 206e 6f72 6d61 6c20 7069  r than normal pi
-0000ac90: 7065 732e 0d0a 0d0a 416c 6c20 6675 6e63  pes.....All func
-0000aca0: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
-0000acb0: 206f 7065 7261 746f 7273 2061 6c73 6f20   operators also 
-0000acc0: 6861 7665 2069 6e2d 706c 6163 6520 7665  have in-place ve
-0000acd0: 7273 696f 6e73 2028 652e 672e 2060 2e2e  rsions (e.g. `..
-0000ace0: 3d60 292e 0d0a 0d0a 5369 6e63 6520 616c  =`).....Since al
-0000acf0: 6c20 666f 726d 7320 6f66 2066 756e 6374  l forms of funct
-0000ad00: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
-0000ad10: 616c 7761 7973 2063 616c 6c20 7468 6520  always call the 
-0000ad20: 6669 7273 7420 6675 6e63 7469 6f6e 2069  first function i
-0000ad30: 6e20 7468 6520 636f 6d70 6f73 6974 696f  n the compositio
-0000ad40: 6e20 2860 6660 2069 6e20 6066 202e 2e3e  n (`f` in `f ..>
-0000ad50: 2067 6020 616e 6420 6067 6020 696e 2060   g` and `g` in `
-0000ad60: 6620 3c2e 2e20 6760 2920 7769 7468 2065  f <.. g`) with e
-0000ad70: 7861 6374 6c79 2074 6865 2061 7267 756d  xactly the argum
-0000ad80: 656e 7473 2070 6173 7365 6420 696e 746f  ents passed into
-0000ad90: 2074 6865 2063 6f6d 706f 7369 7469 6f6e   the composition
-0000ada0: 2c20 616c 6c20 666f 726d 7320 6f66 2066  , all forms of f
-0000adb0: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
-0000adc0: 696f 6e20 7769 6c6c 2070 7265 7365 7276  ion will preserv
-0000add0: 6520 616c 6c20 6d65 7461 6461 7461 2061  e all metadata a
-0000ade0: 7474 6163 6865 6420 746f 2074 6865 2066  ttached to the f
-0000adf0: 6972 7374 2066 756e 6374 696f 6e20 696e  irst function in
-0000ae00: 2074 6865 2063 6f6d 706f 7369 7469 6f6e   the composition
-0000ae10: 2c20 696e 636c 7564 696e 6720 7468 6520  , including the 
-0000ae20: 6675 6e63 7469 6f6e 2773 205b 7369 676e  function's [sign
-0000ae30: 6174 7572 655d 2868 7474 7073 3a2f 2f64  ature](https://d
-0000ae40: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-0000ae50: 2f6c 6962 7261 7279 2f69 6e73 7065 6374  /library/inspect
-0000ae60: 2e68 746d 6c23 696e 7370 6563 742e 7369  .html#inspect.si
-0000ae70: 676e 6174 7572 6529 2061 6e64 2061 6e79  gnature) and any
-0000ae80: 206f 6620 7468 6174 2066 756e 6374 696f   of that functio
-0000ae90: 6e27 7320 6174 7472 6962 7574 6573 2e0d  n's attributes..
-0000aea0: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0000aeb0: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-0000aec0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 666f  ..```coconut..fo
-0000aed0: 6720 3d20 662e 2e67 0d0a 665f 696e 746f  g = f..g..f_into
-0000aee0: 5f67 203d 2066 202e 2e3e 2067 0d0a 6060  _g = f ..> g..``
-0000aef0: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-0000af00: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0000af10: 686f 6e0d 0a23 2075 6e6c 696b 6520 7468  hon..# unlike th
-0000af20: 6573 6520 7369 6d70 6c65 206c 616d 6264  ese simple lambd
-0000af30: 6173 2c20 436f 636f 6e75 7420 7072 6f64  as, Coconut prod
-0000af40: 7563 6573 2070 6963 6b6c 6561 626c 6520  uces pickleable 
-0000af50: 6f62 6a65 6374 730d 0a66 6f67 203d 206c  objects..fog = l
-0000af60: 616d 6264 6120 2a61 7267 732c 202a 2a6b  ambda *args, **k
-0000af70: 7761 7267 733a 2066 2867 282a 6172 6773  wargs: f(g(*args
-0000af80: 2c20 2a2a 6b77 6172 6773 2929 0d0a 665f  , **kwargs))..f_
-0000af90: 696e 746f 5f67 203d 206c 616d 6264 6120  into_g = lambda 
-0000afa0: 2a61 7267 732c 202a 2a6b 7761 7267 733a  *args, **kwargs:
-0000afb0: 2067 2866 282a 6172 6773 2c20 2a2a 6b77   g(f(*args, **kw
-0000afc0: 6172 6773 2929 0d0a 6060 600d 0a0d 0a23  args))..```....#
-0000afd0: 2323 2049 7465 7261 746f 7220 536c 6963  ## Iterator Slic
-0000afe0: 696e 670d 0a0d 0a43 6f63 6f6e 7574 2075  ing....Coconut u
-0000aff0: 7365 7320 6120 6024 6020 7369 676e 2072  ses a `$` sign r
-0000b000: 6967 6874 2061 6674 6572 2061 6e20 6974  ight after an it
-0000b010: 6572 6174 6f72 2062 6566 6f72 6520 6120  erator before a 
-0000b020: 736c 6963 6520 746f 2070 6572 666f 726d  slice to perform
-0000b030: 2069 7465 7261 746f 7220 736c 6963 696e   iterator slicin
-0000b040: 672c 2061 7320 696e 2060 6974 245b 3a35  g, as in `it$[:5
-0000b050: 5d60 2e20 436f 636f 6e75 7427 7320 6974  ]`. Coconut's it
-0000b060: 6572 6174 6f72 2073 6c69 6369 6e67 2077  erator slicing w
-0000b070: 6f72 6b73 206d 7563 6820 7468 6520 7361  orks much the sa
-0000b080: 6d65 2061 7320 5079 7468 6f6e 2773 2073  me as Python's s
-0000b090: 6571 7565 6e63 6520 736c 6963 696e 672c  equence slicing,
-0000b0a0: 2061 6e64 206c 6f6f 6b73 206d 7563 6820   and looks much 
-0000b0b0: 7468 6520 7361 6d65 2061 7320 436f 636f  the same as Coco
-0000b0c0: 6e75 7427 7320 7061 7274 6961 6c20 6170  nut's partial ap
-0000b0d0: 706c 6963 6174 696f 6e2c 2062 7574 2077  plication, but w
-0000b0e0: 6974 6820 6272 6163 6b65 7473 2069 6e73  ith brackets ins
-0000b0f0: 7465 6164 206f 6620 7061 7265 6e74 6865  tead of parenthe
-0000b100: 7365 732e 0d0a 0d0a 4974 6572 6174 6f72  ses.....Iterator
-0000b110: 2073 6c69 6369 6e67 2077 6f72 6b73 206a   slicing works j
-0000b120: 7573 7420 6c69 6b65 2073 6571 7565 6e63  ust like sequenc
-0000b130: 6520 736c 6963 696e 672c 2069 6e63 6c75  e slicing, inclu
-0000b140: 6469 6e67 2073 7570 706f 7274 2066 6f72  ding support for
-0000b150: 206e 6567 6174 6976 6520 696e 6469 6365   negative indice
-0000b160: 7320 616e 6420 736c 6963 6573 2c20 616e  s and slices, an
-0000b170: 6420 7375 7070 6f72 7420 666f 7220 6073  d support for `s
-0000b180: 6c69 6365 6020 6f62 6a65 6374 7320 696e  lice` objects in
-0000b190: 2074 6865 2073 616d 6520 7761 7920 6173   the same way as
-0000b1a0: 2063 616e 2062 6520 646f 6e65 2077 6974   can be done wit
-0000b1b0: 6820 6e6f 726d 616c 2073 6c69 6369 6e67  h normal slicing
-0000b1c0: 2e20 4974 6572 6174 6f72 2073 6c69 6369  . Iterator slici
-0000b1d0: 6e67 206d 616b 6573 206e 6f20 6775 6172  ng makes no guar
-0000b1e0: 616e 7465 652c 2068 6f77 6576 6572 2c20  antee, however, 
-0000b1f0: 7468 6174 2074 6865 206f 7269 6769 6e61  that the origina
-0000b200: 6c20 6974 6572 6174 6f72 2070 6173 7365  l iterator passe
-0000b210: 6420 746f 2069 7420 6265 2070 7265 7365  d to it be prese
-0000b220: 7276 6564 2028 746f 2070 7265 7365 7276  rved (to preserv
-0000b230: 6520 7468 6520 6974 6572 6174 6f72 2c20  e the iterator, 
-0000b240: 7573 6520 436f 636f 6e75 7427 7320 5b60  use Coconut's [`
-0000b250: 7265 6974 6572 6162 6c65 605d 2823 7265  reiterable`](#re
-0000b260: 6974 6572 6162 6c65 2920 6275 696c 742d  iterable) built-
-0000b270: 696e 292e 0d0a 0d0a 436f 636f 6e75 7427  in).....Coconut'
-0000b280: 7320 6974 6572 6174 6f72 2073 6c69 6369  s iterator slici
-0000b290: 6e67 2069 7320 7665 7279 2073 696d 696c  ng is very simil
-0000b2a0: 6172 2074 6f20 5079 7468 6f6e 2773 2060  ar to Python's `
-0000b2b0: 6974 6572 746f 6f6c 732e 6973 6c69 6365  itertools.islice
-0000b2c0: 602c 2062 7574 2075 6e6c 696b 6520 6069  `, but unlike `i
-0000b2d0: 7465 7274 6f6f 6c73 2e69 736c 6963 6560  tertools.islice`
-0000b2e0: 2c20 436f 636f 6e75 7427 7320 6974 6572  , Coconut's iter
-0000b2f0: 6174 6f72 2073 6c69 6369 6e67 2073 7570  ator slicing sup
-0000b300: 706f 7274 7320 6e65 6761 7469 7665 2069  ports negative i
-0000b310: 6e64 6963 6573 2c20 616e 6420 7769 6c6c  ndices, and will
-0000b320: 2070 7265 6665 7265 6e74 6961 6c6c 7920   preferentially 
-0000b330: 6361 6c6c 2061 6e20 6f62 6a65 6374 2773  call an object's
-0000b340: 2060 5f5f 6974 6572 5f67 6574 6974 656d   `__iter_getitem
-0000b350: 5f5f 6020 2861 6c77 6179 7320 7573 6564  __` (always used
-0000b360: 2069 6620 6176 6169 6c61 626c 6529 206f   if available) o
-0000b370: 7220 605f 5f67 6574 6974 656d 5f5f 6020  r `__getitem__` 
-0000b380: 286f 6e6c 7920 7573 6564 2069 6620 7468  (only used if th
-0000b390: 6520 6f62 6a65 6374 2069 7320 6120 6063  e object is a `c
-0000b3a0: 6f6c 6c65 6374 696f 6e73 2e61 6263 2e53  ollections.abc.S
-0000b3b0: 6571 7565 6e63 6560 292e 2043 6f63 6f6e  equence`). Cocon
-0000b3c0: 7574 2773 2069 7465 7261 746f 7220 736c  ut's iterator sl
-0000b3d0: 6963 696e 6720 6973 2061 6c73 6f20 6f70  icing is also op
-0000b3e0: 7469 6d69 7a65 6420 746f 2077 6f72 6b20  timized to work 
-0000b3f0: 7765 6c6c 2077 6974 6820 616c 6c20 6f66  well with all of
-0000b400: 2043 6f63 6f6e 7574 2773 2062 7569 6c74   Coconut's built
-0000b410: 2d69 6e20 6f62 6a65 6374 732c 206f 6e6c  -in objects, onl
-0000b420: 7920 636f 6d70 7574 696e 6720 7468 6520  y computing the 
-0000b430: 656c 656d 656e 7473 206f 6620 6561 6368  elements of each
-0000b440: 2074 6861 7420 6172 6520 6163 7475 616c   that are actual
-0000b450: 6c79 206e 6563 6573 7361 7279 2074 6f20  ly necessary to 
-0000b460: 6578 7472 6163 7420 7468 6520 6465 7369  extract the desi
-0000b470: 7265 6420 736c 6963 652e 0d0a 0d0a 2323  red slice.....##
-0000b480: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0000b490: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0000b4a0: 636f 636f 6e75 740d 0a6d 6170 2878 202d  coconut..map(x -
-0000b4b0: 3e20 782a 322c 2072 616e 6765 2831 302a  > x*2, range(10*
-0000b4c0: 2a31 3030 2929 245b 2d31 5d20 7c3e 2070  *100))$[-1] |> p
-0000b4d0: 7269 6e74 0d0a 6060 600d 0a0d 0a2a 2a50  rint..```....**P
-0000b4e0: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
-0000b4f0: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
-0000b500: 2061 2063 6f6d 706c 6963 6174 6564 2069   a complicated i
-0000b510: 7465 7261 746f 7220 736c 6963 696e 6720  terator slicing 
-0000b520: 6675 6e63 7469 6f6e 2061 6e64 2069 6e73  function and ins
-0000b530: 7065 6374 696f 6e20 6f66 2063 7573 746f  pection of custo
-0000b540: 6d20 6f62 6a65 6374 732e 2054 6865 206e  m objects. The n
-0000b550: 6563 6573 7361 7279 2064 6566 696e 6974  ecessary definit
-0000b560: 696f 6e73 2069 6e20 5079 7468 6f6e 2063  ions in Python c
-0000b570: 616e 2062 6520 666f 756e 6420 696e 2074  an be found in t
-0000b580: 6865 2043 6f63 6f6e 7574 2068 6561 6465  he Coconut heade
-0000b590: 722e 5f0d 0a0d 0a23 2323 2049 7465 7261  r._....### Itera
-0000b5a0: 746f 7220 4368 6169 6e69 6e67 0d0a 0d0a  tor Chaining....
-0000b5b0: 436f 636f 6e75 7420 7573 6573 2074 6865  Coconut uses the
-0000b5c0: 2060 3a3a 6020 6f70 6572 6174 6f72 2066   `::` operator f
-0000b5d0: 6f72 2069 7465 7261 746f 7220 6368 6169  or iterator chai
-0000b5e0: 6e69 6e67 2e20 436f 636f 6e75 7427 7320  ning. Coconut's 
-0000b5f0: 6974 6572 6174 6f72 2063 6861 696e 696e  iterator chainin
-0000b600: 6720 6973 2064 6f6e 6520 6c61 7a69 6c79  g is done lazily
-0000b610: 2c20 696e 2074 6861 7420 7468 6520 6172  , in that the ar
-0000b620: 6775 6d65 6e74 7320 6172 6520 6e6f 7420  guments are not 
-0000b630: 6576 616c 7561 7465 6420 756e 7469 6c20  evaluated until 
-0000b640: 7468 6579 2061 7265 206e 6565 6465 642e  they are needed.
-0000b650: 2049 7420 6861 7320 6120 7072 6563 6564   It has a preced
-0000b660: 656e 6365 2069 6e2d 6265 7477 6565 6e20  ence in-between 
-0000b670: 6269 7477 6973 6520 6f72 2061 6e64 2069  bitwise or and i
-0000b680: 6e66 6978 2063 616c 6c73 2e20 4368 6169  nfix calls. Chai
-0000b690: 6e73 2061 7265 2072 6569 7465 7261 626c  ns are reiterabl
-0000b6a0: 6520 2863 616e 2062 6520 6974 6572 6174  e (can be iterat
-0000b6b0: 6564 206f 7665 7220 6d75 6c74 6970 6c65  ed over multiple
-0000b6c0: 2074 696d 6573 2061 6e64 2067 6574 2074   times and get t
-0000b6d0: 6865 2073 616d 6520 7265 7375 6c74 2920  he same result) 
-0000b6e0: 6f6e 6c79 2077 6865 6e20 7468 6520 6974  only when the it
-0000b6f0: 6572 6174 6f72 7320 7061 7373 6564 2069  erators passed i
-0000b700: 6e20 6172 6520 7265 6974 6572 6162 6c65  n are reiterable
-0000b710: 2e20 5468 6520 696e 2d70 6c61 6365 206f  . The in-place o
-0000b720: 7065 7261 746f 7220 6973 2060 3a3a 3d60  perator is `::=`
-0000b730: 2e0d 0a0d 0a5f 4e6f 7465 2074 6861 7420  ....._Note that 
-0000b740: 5b6c 617a 7920 6c69 7374 735d 2823 6c61  [lazy lists](#la
-0000b750: 7a79 2d6c 6973 7473 2920 616e 6420 5b66  zy-lists) and [f
-0000b760: 6c61 7474 656e 5d28 2366 6c61 7474 656e  latten](#flatten
-0000b770: 2920 6172 6520 7573 6564 2075 6e64 6572  ) are used under
-0000b780: 2074 6865 2068 6f6f 6420 746f 2069 6d70   the hood to imp
-0000b790: 6c65 6d65 6e74 2063 6861 696e 696e 6720  lement chaining 
-0000b7a0: 7375 6368 2074 6861 7420 6061 203a 3a20  such that `a :: 
-0000b7b0: 6260 2069 7320 6571 7569 7661 6c65 6e74  b` is equivalent
-0000b7c0: 2074 6f20 6066 6c61 7474 656e 2828 7c61   to `flatten((|a
-0000b7d0: 2c20 627c 2929 602e 5f0d 0a0d 0a23 2323  , b|))`._....###
-0000b7e0: 2323 2052 6174 696f 6e61 6c65 0d0a 0d0a  ## Rationale....
-0000b7f0: 4120 7573 6566 756c 2074 6f6f 6c20 746f  A useful tool to
-0000b800: 206d 616b 6520 776f 726b 696e 6720 7769   make working wi
-0000b810: 7468 2069 7465 7261 746f 7273 2061 7320  th iterators as 
-0000b820: 6561 7379 2061 7320 776f 726b 696e 6720  easy as working 
-0000b830: 7769 7468 2073 6571 7565 6e63 6573 2069  with sequences i
-0000b840: 7320 7468 6520 6162 696c 6974 7920 746f  s the ability to
-0000b850: 206c 617a 696c 7920 636f 6d62 696e 6520   lazily combine 
-0000b860: 6d75 6c74 6970 6c65 2069 7465 7261 746f  multiple iterato
-0000b870: 7273 2074 6f67 6574 6865 722e 2054 6869  rs together. Thi
-0000b880: 7320 6f70 6572 6174 696f 6e20 6973 2063  s operation is c
-0000b890: 616c 6c65 6420 6368 6169 6e2c 2061 6e64  alled chain, and
-0000b8a0: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
-0000b8b0: 6f20 6164 6469 7469 6f6e 2077 6974 6820  o addition with 
-0000b8c0: 7365 7175 656e 6365 732c 2065 7863 6570  sequences, excep
-0000b8d0: 7420 7468 6174 206e 6f74 6869 6e67 2067  t that nothing g
-0000b8e0: 6574 7320 6576 616c 7561 7465 6420 756e  ets evaluated un
-0000b8f0: 7469 6c20 6974 2069 7320 6e65 6564 6564  til it is needed
-0000b900: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
-0000b910: 6e20 446f 6373 0d0a 0d0a 4d61 6b65 2061  n Docs....Make a
-0000b920: 6e20 6974 6572 6174 6f72 2074 6861 7420  n iterator that 
-0000b930: 7265 7475 726e 7320 656c 656d 656e 7473  returns elements
-0000b940: 2066 726f 6d20 7468 6520 6669 7273 7420   from the first 
-0000b950: 6974 6572 6162 6c65 2075 6e74 696c 2069  iterable until i
-0000b960: 7420 6973 2065 7868 6175 7374 6564 2c20  t is exhausted, 
-0000b970: 7468 656e 2070 726f 6365 6564 7320 746f  then proceeds to
-0000b980: 2074 6865 206e 6578 7420 6974 6572 6162   the next iterab
-0000b990: 6c65 2c20 756e 7469 6c20 616c 6c20 6f66  le, until all of
-0000b9a0: 2074 6865 2069 7465 7261 626c 6573 2061   the iterables a
-0000b9b0: 7265 2065 7868 6175 7374 6564 2e20 5573  re exhausted. Us
-0000b9c0: 6564 2066 6f72 2074 7265 6174 696e 6720  ed for treating 
-0000b9d0: 636f 6e73 6563 7574 6976 6520 7365 7175  consecutive sequ
-0000b9e0: 656e 6365 7320 6173 2061 2073 696e 676c  ences as a singl
-0000b9f0: 6520 7365 7175 656e 6365 2e20 4368 6169  e sequence. Chai
-0000ba00: 6e65 6420 696e 7075 7473 2061 7265 2065  ned inputs are e
-0000ba10: 7661 6c75 6174 6564 206c 617a 696c 792e  valuated lazily.
-0000ba20: 2052 6f75 6768 6c79 2065 7175 6976 616c   Roughly equival
-0000ba30: 656e 7420 746f 3a0d 0a60 6060 636f 636f  ent to:..```coco
-0000ba40: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-0000ba50: 6368 6169 6e28 2a69 7465 7261 626c 6573  chain(*iterables
-0000ba60: 293a 0d0a 2020 2020 2320 6368 6169 6e28  ):..    # chain(
-0000ba70: 2741 4243 272c 2027 4445 4627 2920 2d2d  'ABC', 'DEF') --
-0000ba80: 3e20 4120 4220 4320 4420 4520 460d 0a20  > A B C D E F.. 
-0000ba90: 2020 2066 6f72 2069 7420 696e 2069 7465     for it in ite
-0000baa0: 7261 626c 6573 3a0d 0a20 2020 2020 2020  rables:..       
-0000bab0: 2066 6f72 2065 6c65 6d65 6e74 2069 6e20   for element in 
-0000bac0: 6974 3a0d 0a20 2020 2020 2020 2020 2020  it:..           
-0000bad0: 2079 6965 6c64 2065 6c65 6d65 6e74 0d0a   yield element..
-0000bae0: 6060 600d 0a0d 0a23 2323 2323 2045 7861  ```....##### Exa
-0000baf0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-0000bb00: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0000bb10: 0d0a 6465 6620 4e28 6e3d 3029 203d 2028  ..def N(n=0) = (
-0000bb20: 6e2c 2920 3a3a 204e 286e 2b31 2920 2023  n,) :: N(n+1)  #
-0000bb30: 206e 6f20 696e 6669 6e69 7465 206c 6f6f   no infinite loo
-0000bb40: 7020 6265 6361 7573 6520 3a3a 2069 7320  p because :: is 
-0000bb50: 6c61 7a79 0d0a 0d0a 2872 616e 6765 282d  lazy....(range(-
-0000bb60: 3130 2c20 3029 203a 3a20 4e28 2929 245b  10, 0) :: N())$[
-0000bb70: 353a 3135 5d20 7c3e 206c 6973 7420 7c3e  5:15] |> list |>
-0000bb80: 2070 7269 6e74 0d0a 6060 600d 0a0d 0a2a   print..```....*
-0000bb90: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
-0000bba0: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
-0000bbb0: 7574 2061 2063 6f6d 706c 6963 6174 6564  ut a complicated
-0000bbc0: 2069 7465 7261 746f 7220 636f 6d70 7265   iterator compre
-0000bbd0: 6865 6e73 696f 6e20 696e 2070 6c61 6365  hension in place
-0000bbe0: 206f 6620 7468 6520 6c61 7a79 2063 6861   of the lazy cha
-0000bbf0: 696e 696e 672e 2053 6565 2074 6865 2063  ining. See the c
-0000bc00: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
-0000bc10: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
-0000bc20: 6178 2e5f 0d0a 0d0a 2323 2320 496e 6669  ax._....### Infi
-0000bc30: 7820 4675 6e63 7469 6f6e 730d 0a0d 0a43  x Functions....C
-0000bc40: 6f63 6f6e 7574 2061 6c6c 6f77 7320 666f  oconut allows fo
-0000bc50: 7220 696e 6669 7820 6675 6e63 7469 6f6e  r infix function
-0000bc60: 2063 616c 6c69 6e67 2c20 7768 6572 6520   calling, where 
-0000bc70: 616e 2065 7870 7265 7373 696f 6e20 7468  an expression th
-0000bc80: 6174 2065 7661 6c75 6174 6573 2074 6f20  at evaluates to 
-0000bc90: 6120 6675 6e63 7469 6f6e 2069 7320 7375  a function is su
-0000bca0: 7272 6f75 6e64 6564 2062 7920 6261 636b  rrounded by back
-0000bcb0: 7469 636b 7320 616e 6420 7468 656e 2063  ticks and then c
-0000bcc0: 616e 2068 6176 6520 6172 6775 6d65 6e74  an have argument
-0000bcd0: 7320 706c 6163 6564 2069 6e20 6672 6f6e  s placed in fron
-0000bce0: 7420 6f66 206f 7220 6265 6869 6e64 2069  t of or behind i
-0000bcf0: 742e 2049 6e66 6978 2063 616c 6c69 6e67  t. Infix calling
-0000bd00: 2068 6173 2061 2070 7265 6365 6465 6e63   has a precedenc
-0000bd10: 6520 696e 2d62 6574 7765 656e 2063 6861  e in-between cha
-0000bd20: 696e 696e 6720 616e 6420 604e 6f6e 6560  ining and `None`
-0000bd30: 2d63 6f61 6c65 7363 696e 672c 2061 6e64  -coalescing, and
-0000bd40: 2069 7320 6c65 6674 2d61 7373 6f63 6961   is left-associa
-0000bd50: 7469 7665 2e0d 0a0d 0a54 6865 2061 6c6c  tive.....The all
-0000bd60: 6f77 6162 6c65 206e 6f74 6174 696f 6e73  owable notations
-0000bd70: 2066 6f72 2069 6e66 6978 2063 616c 6c73   for infix calls
-0000bd80: 2061 7265 3a0d 0a60 6060 636f 636f 6e75   are:..```coconu
-0000bd90: 740d 0a78 2060 6660 2079 2020 3d3e 2020  t..x `f` y  =>  
-0000bda0: 6628 782c 2079 290d 0a60 6660 2078 2020  f(x, y)..`f` x  
-0000bdb0: 2020 3d3e 2020 6628 7829 0d0a 7820 6066    =>  f(x)..x `f
-0000bdc0: 6020 2020 203d 3e20 2066 2878 290d 0a60  `    =>  f(x)..`
-0000bdd0: 6660 2020 2020 2020 3d3e 2020 6628 290d  f`      =>  f().
-0000bde0: 0a60 6060 0d0a 4164 6469 7469 6f6e 616c  .```..Additional
-0000bdf0: 6c79 2c20 696e 6669 7820 6e6f 7461 7469  ly, infix notati
-0000be00: 6f6e 2073 7570 706f 7274 7320 6120 6c61  on supports a la
-0000be10: 6d62 6461 2061 7320 7468 6520 6c61 7374  mbda as the last
-0000be20: 2061 7267 756d 656e 742c 2064 6573 7069   argument, despi
-0000be30: 7465 206c 616d 6264 6173 2068 6176 696e  te lambdas havin
-0000be40: 6720 6120 6c6f 7765 7220 7072 6563 6564  g a lower preced
-0000be50: 656e 6365 2e20 5468 7573 2c20 6060 6120  ence. Thus, ``a 
-0000be60: 6066 756e 6360 2062 202d 3e20 6360 6020  `func` b -> c`` 
-0000be70: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-0000be80: 2060 6675 6e63 2861 2c20 6220 2d3e 2063   `func(a, b -> c
-0000be90: 2960 2e0d 0a0d 0a43 6f63 6f6e 7574 2061  )`.....Coconut a
-0000bea0: 6c73 6f20 7375 7070 6f72 7473 2069 6e66  lso supports inf
-0000beb0: 6978 2066 756e 6374 696f 6e20 6465 6669  ix function defi
-0000bec0: 6e69 7469 6f6e 2074 6f20 6d61 6b65 2064  nition to make d
-0000bed0: 6566 696e 696e 6720 6675 6e63 7469 6f6e  efining function
-0000bee0: 7320 7468 6174 2061 7265 2069 6e74 656e  s that are inten
-0000bef0: 6465 6420 666f 7220 696e 6669 7820 7573  ded for infix us
-0000bf00: 6167 6520 7369 6d70 6c65 722e 2054 6865  age simpler. The
-0000bf10: 2073 796e 7461 7820 666f 7220 696e 6669   syntax for infi
-0000bf20: 7820 6675 6e63 7469 6f6e 2064 6566 696e  x function defin
-0000bf30: 6974 696f 6e20 6973 0d0a 6060 6063 6f63  ition is..```coc
-0000bf40: 6f6e 7574 0d0a 6465 6620 3c61 7267 3e20  onut..def <arg> 
-0000bf50: 603c 6e61 6d65 3e60 203c 6172 673e 3a0d  `<name>` <arg>:.
-0000bf60: 0a20 2020 203c 626f 6479 3e0d 0a60 6060  .    <body>..```
-0000bf70: 0d0a 7768 6572 6520 603c 6e61 6d65 3e60  ..where `<name>`
-0000bf80: 2069 7320 7468 6520 6e61 6d65 206f 6620   is the name of 
-0000bf90: 7468 6520 6675 6e63 7469 6f6e 2c20 7468  the function, th
-0000bfa0: 6520 603c 6172 673e 6073 2061 7265 2074  e `<arg>`s are t
-0000bfb0: 6865 2066 756e 6374 696f 6e20 6172 6775  he function argu
-0000bfc0: 6d65 6e74 732c 2061 6e64 2060 3c62 6f64  ments, and `<bod
-0000bfd0: 793e 6020 6973 2074 6865 2062 6f64 7920  y>` is the body 
-0000bfe0: 6f66 2074 6865 2066 756e 6374 696f 6e2e  of the function.
-0000bff0: 2049 6620 616e 2060 3c61 7267 3e60 2069   If an `<arg>` i
-0000c000: 6e63 6c75 6465 7320 6120 6465 6661 756c  ncludes a defaul
-0000c010: 742c 2074 6865 2060 3c61 7267 3e60 206d  t, the `<arg>` m
-0000c020: 7573 7420 6265 2073 7572 726f 756e 6465  ust be surrounde
-0000c030: 6420 696e 2070 6172 656e 7468 6573 6573  d in parentheses
-0000c040: 2e0d 0a0d 0a5f 4e6f 7465 3a20 496e 6669  ....._Note: Infi
-0000c050: 7820 6675 6e63 7469 6f6e 2064 6566 696e  x function defin
-0000c060: 6974 696f 6e20 6361 6e20 6265 2063 6f6d  ition can be com
-0000c070: 6269 6e65 6420 7769 7468 2061 7373 6967  bined with assig
-0000c080: 6e6d 656e 7420 616e 642f 6f72 2070 6174  nment and/or pat
-0000c090: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-0000c0a0: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-0000c0b0: 6e2e 5f0d 0a0d 0a23 2323 2323 2052 6174  n._....##### Rat
-0000c0c0: 696f 6e61 6c65 0d0a 0d0a 4120 636f 6d6d  ionale....A comm
-0000c0d0: 6f6e 2069 6469 6f6d 2069 6e20 6675 6e63  on idiom in func
-0000c0e0: 7469 6f6e 616c 2070 726f 6772 616d 6d69  tional programmi
-0000c0f0: 6e67 2069 7320 746f 2077 7269 7465 2066  ng is to write f
-0000c100: 756e 6374 696f 6e73 2074 6861 7420 6172  unctions that ar
-0000c110: 6520 696e 7465 6e64 6564 2074 6f20 6265  e intended to be
-0000c120: 6861 7665 2073 6f6d 6577 6861 7420 6c69  have somewhat li
-0000c130: 6b65 206f 7065 7261 746f 7273 2c20 616e  ke operators, an
-0000c140: 6420 746f 2063 616c 6c20 616e 6420 6465  d to call and de
-0000c150: 6669 6e65 2074 6865 6d20 6279 2070 6c61  fine them by pla
-0000c160: 6369 6e67 2074 6865 6d20 6265 7477 6565  cing them betwee
-0000c170: 6e20 7468 6569 7220 6172 6775 6d65 6e74  n their argument
-0000c180: 732e 2043 6f63 6f6e 7574 2773 2069 6e66  s. Coconut's inf
-0000c190: 6978 2073 796e 7461 7820 6d61 6b65 7320  ix syntax makes 
-0000c1a0: 7468 6973 2070 6f73 7369 626c 652e 0d0a  this possible...
-0000c1b0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0000c1c0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0000c1d0: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-0000c1e0: 2061 2060 6d6f 6460 2062 203d 2061 2025   a `mod` b = a %
-0000c1f0: 2062 0d0a 2878 2060 6d6f 6460 2032 2920   b..(x `mod` 2) 
-0000c200: 6070 7269 6e74 600d 0a60 6060 0d0a 0d0a  `print`..```....
-0000c210: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0000c220: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0000c230: 6465 6620 6d6f 6428 612c 2062 293a 2072  def mod(a, b): r
-0000c240: 6574 7572 6e20 6120 2520 620d 0a70 7269  eturn a % b..pri
-0000c250: 6e74 286d 6f64 2878 2c20 3229 290d 0a60  nt(mod(x, 2))..`
-0000c260: 6060 0d0a 0d0a 2323 2320 4375 7374 6f6d  ``....### Custom
-0000c270: 204f 7065 7261 746f 7273 0d0a 0d0a 436f   Operators....Co
-0000c280: 636f 6e75 7420 616c 6c6f 7773 2079 6f75  conut allows you
-0000c290: 2074 6f20 6465 636c 6172 6520 796f 7572   to declare your
-0000c2a0: 206f 776e 2063 7573 746f 6d20 6f70 6572   own custom oper
-0000c2b0: 6174 6f72 7320 7769 7468 2074 6865 2073  ators with the s
-0000c2c0: 796e 7461 780d 0a60 6060 0d0a 6f70 6572  yntax..```..oper
-0000c2d0: 6174 6f72 203c 6f70 3e0d 0a60 6060 0d0a  ator <op>..```..
-0000c2e0: 7768 6572 6520 603c 6f70 3e60 2069 7320  where `<op>` is 
-0000c2f0: 7768 6174 6576 6572 2073 6571 7565 6e63  whatever sequenc
-0000c300: 6520 6f66 2055 6e69 636f 6465 2063 6861  e of Unicode cha
-0000c310: 7261 6374 6572 7320 796f 7520 7761 6e74  racters you want
-0000c320: 2074 6f20 7573 6520 6173 2061 2063 7573   to use as a cus
-0000c330: 746f 6d20 6f70 6572 6174 6f72 2e20 5468  tom operator. Th
-0000c340: 6520 606f 7065 7261 746f 7260 2073 7461  e `operator` sta
-0000c350: 7465 6d65 6e74 206d 7573 7420 6170 7065  tement must appe
-0000c360: 6172 2061 7420 7468 6520 746f 7020 6c65  ar at the top le
-0000c370: 7665 6c20 616e 6420 6f6e 6c79 2061 6666  vel and only aff
-0000c380: 6563 7473 2063 6f64 6520 7468 6174 2063  ects code that c
-0000c390: 6f6d 6573 2061 6674 6572 2069 742e 0d0a  omes after it...
-0000c3a0: 0d0a 4f6e 6365 2064 6563 6c61 7265 642c  ..Once declared,
-0000c3b0: 2079 6f75 2063 616e 2075 7365 2079 6f75   you can use you
-0000c3c0: 7220 6375 7374 6f6d 206f 7065 7261 746f  r custom operato
-0000c3d0: 7220 616e 7977 6865 7265 2077 6865 7265  r anywhere where
-0000c3e0: 2079 6f75 2077 6f75 6c64 2062 6520 6162   you would be ab
-0000c3f0: 6c65 2074 6f20 7573 6520 616e 205b 696e  le to use an [in
-0000c400: 6669 7820 6675 6e63 7469 6f6e 5d28 2369  fix function](#i
-0000c410: 6e66 6978 2d66 756e 6374 696f 6e73 2920  nfix-functions) 
-0000c420: 6173 2077 656c 6c20 6173 2072 6566 6572  as well as refer
-0000c430: 2074 6f20 7468 6520 6163 7475 616c 206f   to the actual o
-0000c440: 7065 7261 746f 7220 6974 7365 6c66 2077  perator itself w
-0000c450: 6974 6820 7468 6520 7361 6d65 2060 283c  ith the same `(<
-0000c460: 6f70 3e29 6020 7379 6e74 6178 2061 7320  op>)` syntax as 
-0000c470: 696e 206f 7468 6572 205b 6f70 6572 6174  in other [operat
-0000c480: 6f72 2066 756e 6374 696f 6e73 5d28 236f  or functions](#o
-0000c490: 7065 7261 746f 722d 6675 6e63 7469 6f6e  perator-function
-0000c4a0: 7329 2e20 5369 6e63 6520 6375 7374 6f6d  s). Since custom
-0000c4b0: 206f 7065 7261 746f 7273 2077 6f72 6b20   operators work 
-0000c4c0: 6c69 6b65 2069 6e66 6978 2066 756e 6374  like infix funct
-0000c4d0: 696f 6e73 2c20 7468 6579 2061 6c77 6179  ions, they alway
-0000c4e0: 7320 6861 7665 2074 6865 2073 616d 6520  s have the same 
-0000c4f0: 7072 6563 6564 656e 6365 2061 7320 696e  precedence as in
-0000c500: 6669 7820 6675 6e63 7469 6f6e 7320 616e  fix functions an
-0000c510: 6420 6172 6520 616c 7761 7973 206c 6566  d are always lef
-0000c520: 742d 6173 736f 6369 6174 6976 652e 2043  t-associative. C
-0000c530: 7573 746f 6d20 6f70 6572 6174 6f72 7320  ustom operators 
-0000c540: 6361 6e20 6265 2075 7365 6420 6173 2062  can be used as b
-0000c550: 696e 6172 792c 2075 6e61 7279 2c20 6f72  inary, unary, or
-0000c560: 206e 6f6e 652d 6172 7920 6f70 6572 6174   none-ary operat
-0000c570: 6f72 732c 2061 6e64 2062 6f74 6820 7072  ors, and both pr
-0000c580: 6566 6978 2061 6e64 2070 6f73 7466 6978  efix and postfix
-0000c590: 206e 6f74 6174 696f 6e20 666f 7220 756e   notation for un
-0000c5a0: 6172 7920 6f70 6572 6174 6f72 7320 6973  ary operators is
-0000c5b0: 2073 7570 706f 7274 6564 2e0d 0a0d 0a53   supported.....S
-0000c5c0: 6f6d 6520 6578 616d 706c 6520 7379 6e74  ome example synt
-0000c5d0: 6178 6573 2066 6f72 2064 6566 696e 696e  axes for definin
-0000c5e0: 6720 6375 7374 6f6d 206f 7065 7261 746f  g custom operato
-0000c5f0: 7273 206f 6e63 6520 6465 636c 6172 6564  rs once declared
-0000c600: 3a0d 0a60 6060 0d0a 6465 6620 7820 3c6f  :..```..def x <o
-0000c610: 703e 2079 3a20 2e2e 2e0d 0a64 6566 203c  p> y: .....def <
-0000c620: 6f70 3e20 7820 3d20 2e2e 2e0d 0a6d 6174  op> x = .....mat
-0000c630: 6368 2064 6566 2028 7829 203c 6f70 3e20  ch def (x) <op> 
-0000c640: 2879 293a 202e 2e2e 0d0a 283c 6f70 3e29  (y): .....(<op>)
-0000c650: 203d 202e 2e2e 0d0a 6672 6f6d 206d 6f64   = .....from mod
-0000c660: 756c 6520 696d 706f 7274 206e 616d 6520  ule import name 
-0000c670: 6173 2028 3c6f 703e 290d 0a60 6060 0d0a  as (<op>)..```..
-0000c680: 0d0a 416e 6420 736f 6d65 2065 7861 6d70  ..And some examp
-0000c690: 6c65 2073 796e 7461 7865 7320 666f 7220  le syntaxes for 
-0000c6a0: 7573 696e 6720 6375 7374 6f6d 206f 7065  using custom ope
-0000c6b0: 7261 746f 7273 3a0d 0a60 6060 0d0a 7820  rators:..```..x 
-0000c6c0: 3c6f 703e 2079 0d0a 7820 3c6f 703e 2079  <op> y..x <op> y
-0000c6d0: 203c 6f70 3e20 7a0d 0a3c 6f70 3e20 780d   <op> z..<op> x.
-0000c6e0: 0a78 203c 6f70 3e0d 0a78 203d 2028 3c6f  .x <op>..x = (<o
-0000c6f0: 703e 290d 0a66 283c 6f70 3e29 0d0a 2878  p>)..f(<op>)..(x
-0000c700: 203c 6f70 3e20 2e29 0d0a 282e 203c 6f70   <op> .)..(. <op
-0000c710: 3e20 7929 0d0a 6d61 7463 6820 7820 3c6f  > y)..match x <o
-0000c720: 703e 2069 6e20 2e2e 2e3a 202e 2e2e 0d0a  p> in ...: .....
-0000c730: 6d61 7463 6820 7820 3c6f 703e 2079 2069  match x <op> y i
-0000c740: 6e20 2e2e 2e3a 202e 2e2e 0d0a 6060 600d  n ...: .....```.
-0000c750: 0a0d 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
-0000c760: 2074 6f20 696d 706f 7274 2063 7573 746f   to import custo
-0000c770: 6d20 6f70 6572 6174 6f72 7320 6672 6f6d  m operators from
-0000c780: 206f 7468 6572 206d 6f64 756c 6573 2c20   other modules, 
-0000c790: 436f 636f 6e75 7420 7375 7070 6f72 7473  Coconut supports
-0000c7a0: 2074 6865 2073 7065 6369 616c 2073 796e   the special syn
-0000c7b0: 7461 783a 0d0a 6060 600d 0a66 726f 6d20  tax:..```..from 
-0000c7c0: 3c6d 6f64 756c 653e 2069 6d70 6f72 7420  <module> import 
-0000c7d0: 6f70 6572 6174 6f72 203c 6f70 3e0d 0a60  operator <op>..`
-0000c7e0: 6060 0d0a 0d0a 4375 7374 6f6d 206f 7065  ``....Custom ope
-0000c7f0: 7261 746f 7273 2077 696c 6c20 6f66 7465  rators will ofte
-0000c800: 6e20 6e65 6564 2074 6f20 6265 2073 7572  n need to be sur
-0000c810: 726f 756e 6465 6420 6279 2077 6869 7465  rounded by white
-0000c820: 7370 6163 6520 286f 7220 7061 7265 6e74  space (or parent
-0000c830: 6865 7365 7320 7768 656e 2075 7365 6420  heses when used 
-0000c840: 6173 2061 6e20 6f70 6572 6174 6f72 2066  as an operator f
-0000c850: 756e 6374 696f 6e29 2074 6f20 6265 2070  unction) to be p
-0000c860: 6172 7365 6420 636f 7272 6563 746c 792e  arsed correctly.
-0000c870: 0d0a 0d0a 4966 2061 2063 7573 746f 6d20  ....If a custom 
-0000c880: 6f70 6572 6174 6f72 2074 6861 7420 6973  operator that is
-0000c890: 2061 6c73 6f20 6120 7661 6c69 6420 6e61   also a valid na
-0000c8a0: 6d65 2069 7320 6465 7369 7265 642c 2079  me is desired, y
-0000c8b0: 6f75 2063 616e 2075 7365 2061 2062 6163  ou can use a bac
-0000c8c0: 6b73 6c61 7368 2062 6566 6f72 6520 7468  kslash before th
-0000c8d0: 6520 6e61 6d65 2074 6f20 6765 7420 6261  e name to get ba
-0000c8e0: 636b 2074 6865 206e 616d 6520 696e 7374  ck the name inst
-0000c8f0: 6561 6420 7573 696e 6720 436f 636f 6e75  ead using Coconu
-0000c900: 7427 7320 5b6b 6579 776f 7264 2f76 6172  t's [keyword/var
-0000c910: 6961 626c 6520 6469 7361 6d62 6967 7561  iable disambigua
-0000c920: 7469 6f6e 2073 796e 7461 785d 2823 6861  tion syntax](#ha
-0000c930: 6e64 6c69 6e67 2d6b 6579 776f 7264 7661  ndling-keywordva
-0000c940: 7269 6162 6c65 2d6e 616d 652d 6f76 6572  riable-name-over
-0000c950: 6c61 7029 2e0d 0a0d 0a5f 4e6f 7465 3a20  lap)....._Note: 
-0000c960: 7265 6465 6669 6e69 6e67 2065 7869 7374  redefining exist
-0000c970: 696e 6720 436f 636f 6e75 7420 6f70 6572  ing Coconut oper
-0000c980: 6174 6f72 7320 7573 696e 6720 6375 7374  ators using cust
-0000c990: 6f6d 206f 7065 7261 746f 7220 6465 6669  om operator defi
-0000c9a0: 6e69 7469 6f6e 2073 796e 7461 7820 6973  nition syntax is
-0000c9b0: 2066 6f72 6269 6464 656e 2c20 696e 636c   forbidden, incl
-0000c9c0: 7564 696e 6720 436f 636f 6e75 7427 7320  uding Coconut's 
-0000c9d0: 6275 696c 742d 696e 205b 556e 6963 6f64  built-in [Unicod
-0000c9e0: 6520 6f70 6572 6174 6f72 2061 6c74 6572  e operator alter
-0000c9f0: 6e61 7469 7665 735d 2823 756e 6963 6f64  natives](#unicod
-0000ca00: 652d 616c 7465 726e 6174 6976 6573 292e  e-alternatives).
-0000ca10: 5f0d 0a0d 0a23 2323 2323 2045 7861 6d70  _....##### Examp
-0000ca20: 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e 7574  les....**Coconut
-0000ca30: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-0000ca40: 0a6f 7065 7261 746f 7220 2525 0d0a 2825  .operator %%..(%
-0000ca50: 2529 203d 206d 6174 682e 7265 6d61 696e  %) = math.remain
-0000ca60: 6465 720d 0a31 3020 2525 2033 207c 3e20  der..10 %% 3 |> 
-0000ca70: 7072 696e 740d 0a0d 0a6f 7065 7261 746f  print....operato
-0000ca80: 7220 2121 0d0a 2821 2129 203d 2062 6f6f  r !!..(!!) = boo
-0000ca90: 6c0d 0a21 2120 3020 7c3e 2070 7269 6e74  l..!! 0 |> print
-0000caa0: 0d0a 0d0a 6f70 6572 6174 6f72 206c 6f67  ....operator log
-0000cab0: 3130 0d0a 6672 6f6d 206d 6174 6820 696d  10..from math im
-0000cac0: 706f 7274 205c 6c6f 6731 3020 6173 2028  port \log10 as (
-0000cad0: 6c6f 6731 3029 0d0a 3130 3020 6c6f 6731  log10)..100 log1
-0000cae0: 3020 7c3e 2070 7269 6e74 0d0a 6060 600d  0 |> print..```.
-0000caf0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0000cb00: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0000cb10: 6e0d 0a70 7269 6e74 286d 6174 682e 7265  n..print(math.re
-0000cb20: 6d61 696e 6465 7228 3130 2c20 3329 290d  mainder(10, 3)).
-0000cb30: 0a0d 0a70 7269 6e74 2862 6f6f 6c28 3029  ...print(bool(0)
-0000cb40: 290d 0a0d 0a70 7269 6e74 286d 6174 682e  )....print(math.
-0000cb50: 6c6f 6731 3028 3130 3029 290d 0a60 6060  log10(100))..```
-0000cb60: 0d0a 0d0a 2323 2320 4e6f 6e65 2043 6f61  ....### None Coa
-0000cb70: 6c65 7363 696e 670d 0a0d 0a43 6f63 6f6e  lescing....Cocon
-0000cb80: 7574 2070 726f 7669 6465 7320 603f 3f60  ut provides `??`
-0000cb90: 2061 7320 6120 604e 6f6e 6560 2d63 6f61   as a `None`-coa
-0000cba0: 6c65 7363 696e 6720 6f70 6572 6174 6f72  lescing operator
-0000cbb0: 2c20 7369 6d69 6c61 7220 746f 2074 6865  , similar to the
-0000cbc0: 2060 3f3f 6020 6e75 6c6c 2d63 6f61 6c65   `??` null-coale
-0000cbd0: 7363 696e 6720 6f70 6572 6174 6f72 2069  scing operator i
-0000cbe0: 6e20 4323 2061 6e64 2053 7769 6674 2e20  n C# and Swift. 
-0000cbf0: 4164 6469 7469 6f6e 616c 6c79 2c20 436f  Additionally, Co
-0000cc00: 636f 6e75 7420 696d 706c 656d 656e 7473  conut implements
-0000cc10: 2061 6c6c 206f 6620 7468 6520 604e 6f6e   all of the `Non
-0000cc20: 6560 2d61 7761 7265 206f 7065 7261 746f  e`-aware operato
-0000cc30: 7273 2070 726f 706f 7365 6420 696e 205b  rs proposed in [
-0000cc40: 5045 5020 3530 355d 2868 7474 7073 3a2f  PEP 505](https:/
-0000cc50: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
-0000cc60: 6465 762f 7065 7073 2f70 6570 2d30 3530  dev/peps/pep-050
-0000cc70: 352f 292e 0d0a 0d0a 436f 636f 6e75 7427  5/).....Coconut'
-0000cc80: 7320 603f 3f60 206f 7065 7261 746f 7220  s `??` operator 
-0000cc90: 6576 616c 7561 7465 7320 746f 2069 7473  evaluates to its
-0000cca0: 206c 6566 7420 6f70 6572 616e 6420 6966   left operand if
-0000ccb0: 2074 6861 7420 6f70 6572 616e 6420 6973   that operand is
-0000ccc0: 206e 6f74 2060 4e6f 6e65 602c 206f 7468   not `None`, oth
-0000ccd0: 6572 7769 7365 2069 7473 2072 6967 6874  erwise its right
-0000cce0: 206f 7065 7261 6e64 2e20 5468 6520 6578   operand. The ex
-0000ccf0: 7072 6573 7369 6f6e 2060 666f 6f20 3f3f  pression `foo ??
-0000cd00: 2062 6172 6020 6576 616c 7561 7465 7320   bar` evaluates 
-0000cd10: 746f 2060 666f 6f60 2061 7320 6c6f 6e67  to `foo` as long
-0000cd20: 2061 7320 6974 2069 736e 2774 2060 4e6f   as it isn't `No
-0000cd30: 6e65 602c 2061 6e64 2074 6f20 6062 6172  ne`, and to `bar
-0000cd40: 6020 6966 2069 7420 6973 2e20 5468 6520  ` if it is. The 
-0000cd50: 604e 6f6e 6560 2d63 6f61 6c65 7363 696e  `None`-coalescin
-0000cd60: 6720 6f70 6572 6174 6f72 2069 7320 7368  g operator is sh
-0000cd70: 6f72 742d 6369 7263 7569 7469 6e67 2c20  ort-circuiting, 
-0000cd80: 7375 6368 2074 6861 7420 6966 2074 6865  such that if the
-0000cd90: 206c 6566 7420 6f70 6572 616e 6420 6973   left operand is
-0000cda0: 206e 6f74 2060 4e6f 6e65 602c 2074 6865   not `None`, the
-0000cdb0: 2072 6967 6874 206f 7065 7261 6e64 2077   right operand w
-0000cdc0: 6f6e 2774 2062 6520 6576 616c 7561 7465  on't be evaluate
-0000cdd0: 642e 2054 6869 7320 616c 6c6f 7773 2074  d. This allows t
-0000cde0: 6865 2072 6967 6874 206f 7065 7261 6e64  he right operand
-0000cdf0: 2074 6f20 6265 2061 2070 6f74 656e 7469   to be a potenti
-0000ce00: 616c 6c79 2065 7870 656e 7369 7665 206f  ally expensive o
-0000ce10: 7065 7261 7469 6f6e 2077 6974 686f 7574  peration without
-0000ce20: 2069 6e63 7572 7269 6e67 2061 6e79 2075   incurring any u
-0000ce30: 6e6e 6563 6573 7361 7279 2063 6f73 742e  nnecessary cost.
-0000ce40: 0d0a 0d0a 5468 6520 604e 6f6e 6560 2d63  ....The `None`-c
-0000ce50: 6f61 6c65 7363 696e 6720 6f70 6572 6174  oalescing operat
-0000ce60: 6f72 2068 6173 2061 2070 7265 6365 6465  or has a precede
-0000ce70: 6e63 6520 696e 2d62 6574 7765 656e 2069  nce in-between i
-0000ce80: 6e66 6978 2066 756e 6374 696f 6e20 6361  nfix function ca
-0000ce90: 6c6c 7320 616e 6420 636f 6d70 6f73 6974  lls and composit
-0000cea0: 696f 6e20 7069 7065 732c 2061 6e64 2069  ion pipes, and i
-0000ceb0: 7320 6c65 6674 2d61 7373 6f63 6961 7469  s left-associati
-0000cec0: 7665 2e0d 0a0d 0a23 2323 2323 2045 7861  ve.....##### Exa
-0000ced0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-0000cee0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0000cef0: 0d0a 636f 756c 645f 6265 5f6e 6f6e 6528  ..could_be_none(
-0000cf00: 2920 3f3f 2063 616c 6375 6c61 7465 5f64  ) ?? calculate_d
-0000cf10: 6566 6175 6c74 5f76 616c 7565 2829 0d0a  efault_value()..
-0000cf20: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-0000cf30: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
-0000cf40: 7974 686f 6e0d 0a28 6c61 6d62 6461 2072  ython..(lambda r
-0000cf50: 6573 756c 743a 2072 6573 756c 7420 6966  esult: result if
-0000cf60: 2072 6573 756c 7420 6973 206e 6f74 204e   result is not N
-0000cf70: 6f6e 6520 656c 7365 2063 616c 6375 6c61  one else calcula
-0000cf80: 7465 5f64 6566 6175 6c74 5f76 616c 7565  te_default_value
-0000cf90: 2829 2928 636f 756c 645f 6265 5f6e 6f6e  ())(could_be_non
-0000cfa0: 6528 2929 0d0a 6060 600d 0a0d 0a23 2323  e())..```....###
-0000cfb0: 2320 436f 616c 6573 6369 6e67 2041 7373  # Coalescing Ass
-0000cfc0: 6967 6e6d 656e 7420 4f70 6572 6174 6f72  ignment Operator
-0000cfd0: 0d0a 0d0a 5468 6520 696e 2d70 6c61 6365  ....The in-place
-0000cfe0: 2061 7373 6967 6e6d 656e 7420 6f70 6572   assignment oper
-0000cff0: 6174 6f72 2069 7320 603f 3f3d 602c 2077  ator is `??=`, w
-0000d000: 6869 6368 2061 6c6c 6f77 7320 636f 6e64  hich allows cond
-0000d010: 6974 696f 6e61 6c6c 7920 7365 7474 696e  itionally settin
-0000d020: 6720 6120 7661 7269 6162 6c65 2069 6620  g a variable if 
-0000d030: 6974 2069 7320 6375 7272 656e 746c 7920  it is currently 
-0000d040: 604e 6f6e 6560 2e0d 0a0d 0a60 6060 636f  `None`.....```co
-0000d050: 636f 6e75 740d 0a66 6f6f 203d 2031 0d0a  conut..foo = 1..
-0000d060: 6261 7220 3d20 4e6f 6e65 0d0a 666f 6f20  bar = None..foo 
-0000d070: 3f3f 3d20 3130 2020 2320 666f 6f20 6973  ??= 10  # foo is
-0000d080: 2073 7469 6c6c 2031 0d0a 6261 7220 3f3f   still 1..bar ??
-0000d090: 3d20 3130 2020 2320 6261 7220 6973 206e  = 10  # bar is n
-0000d0a0: 6f77 2031 300d 0a60 6060 0d0a 0d0a 4173  ow 10..```....As
-0000d0b0: 2064 6573 6372 6962 6564 2077 6974 6820   described with 
-0000d0c0: 7468 6520 7374 616e 6461 7264 2060 3f3f  the standard `??
-0000d0d0: 6020 6f70 6572 6174 6f72 2c20 7468 6520  ` operator, the 
-0000d0e0: 604e 6f6e 6560 2d63 6f61 6c65 7363 696e  `None`-coalescin
-0000d0f0: 6720 6173 7369 676e 6d65 6e74 206f 7065  g assignment ope
-0000d100: 7261 746f 7220 7769 6c6c 206e 6f74 2065  rator will not e
-0000d110: 7661 6c75 6174 6520 7468 6520 7269 6768  valuate the righ
-0000d120: 7420 6861 6e64 2073 6964 6520 756e 6c65  t hand side unle
-0000d130: 7373 2074 6865 206c 6566 7420 6861 6e64  ss the left hand
-0000d140: 2073 6964 6520 6973 2060 4e6f 6e65 602e   side is `None`.
-0000d150: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ....```coconut..
-0000d160: 6261 7a20 3d20 300d 0a62 617a 203f 3f3d  baz = 0..baz ??=
-0000d170: 2065 7870 656e 7369 7665 5f74 6173 6b28   expensive_task(
-0000d180: 2920 2023 2072 6967 6874 2068 616e 6420  )  # right hand 
-0000d190: 7369 6465 2069 736e 2774 2065 7661 6c75  side isn't evalu
-0000d1a0: 6174 6564 0d0a 6060 600d 0a0d 0a23 2323  ated..```....###
-0000d1b0: 2320 4f74 6865 7220 4e6f 6e65 2d41 7761  # Other None-Awa
-0000d1c0: 7265 204f 7065 7261 746f 7273 0d0a 0d0a  re Operators....
-0000d1d0: 436f 636f 6e75 7420 616c 736f 2061 6c6c  Coconut also all
-0000d1e0: 6f77 7320 6120 7369 6e67 6c65 2060 3f60  ows a single `?`
-0000d1f0: 2062 6566 6f72 6520 6174 7472 6962 7574   before attribut
-0000d200: 6520 6163 6365 7373 2c20 6675 6e63 7469  e access, functi
-0000d210: 6f6e 2063 616c 6c69 6e67 2c20 7061 7274  on calling, part
-0000d220: 6961 6c20 6170 706c 6963 6174 696f 6e2c  ial application,
-0000d230: 2061 6e64 2028 6974 6572 6174 6f72 2920   and (iterator) 
-0000d240: 696e 6465 7869 6e67 2074 6f20 7368 6f72  indexing to shor
-0000d250: 742d 6369 7263 7569 7420 7468 6520 7265  t-circuit the re
-0000d260: 7374 206f 6620 7468 6520 6576 616c 7561  st of the evalua
-0000d270: 7469 6f6e 2069 6620 6576 6572 7974 6869  tion if everythi
-0000d280: 6e67 2073 6f20 6661 7220 6576 616c 7561  ng so far evalua
-0000d290: 7465 7320 746f 2060 4e6f 6e65 602e 2054  tes to `None`. T
-0000d2a0: 6869 7320 6973 2073 6f6d 6574 696d 6573  his is sometimes
-0000d2b0: 206b 6e6f 776e 2061 7320 6120 2273 6166   known as a "saf
-0000d2c0: 6520 6e61 7669 6761 7469 6f6e 2220 6f70  e navigation" op
-0000d2d0: 6572 6174 6f72 2e0d 0a0d 0a57 6865 6e20  erator.....When 
-0000d2e0: 7573 696e 6720 6120 604e 6f6e 6560 2d61  using a `None`-a
-0000d2f0: 7761 7265 206f 7065 7261 746f 7220 666f  ware operator fo
-0000d300: 7220 6d65 6d62 6572 2061 6363 6573 732c  r member access,
-0000d310: 2065 6974 6865 7220 666f 7220 6120 6d65   either for a me
-0000d320: 7468 6f64 206f 7220 616e 2061 7474 7269  thod or an attri
-0000d330: 6275 7465 2c20 7468 6520 7379 6e74 6178  bute, the syntax
-0000d340: 2069 7320 606f 626a 3f2e 6d65 7468 6f64   is `obj?.method
-0000d350: 2829 6020 6f72 2060 6f62 6a3f 2e61 7474  ()` or `obj?.att
-0000d360: 7260 2072 6573 7065 6374 6976 656c 792e  r` respectively.
-0000d370: 2060 6f62 6a3f 2e61 7474 7260 2069 7320   `obj?.attr` is 
-0000d380: 6571 7569 7661 6c65 6e74 2074 6f20 606f  equivalent to `o
-0000d390: 626a 2e61 7474 7220 6966 206f 626a 2069  bj.attr if obj i
-0000d3a0: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-0000d3b0: 6f62 6a60 2e20 5468 6973 2064 6f65 7320  obj`. This does 
-0000d3c0: 6e6f 7420 7072 6576 656e 7420 616e 2060  not prevent an `
-0000d3d0: 4174 7472 6962 7574 6545 7272 6f72 6020  AttributeError` 
-0000d3e0: 6966 2060 6174 7472 6020 6973 206e 6f74  if `attr` is not
-0000d3f0: 2061 6e20 6174 7472 6962 7574 6520 6f72   an attribute or
-0000d400: 206d 6574 686f 6420 6f66 2060 6f62 6a60   method of `obj`
-0000d410: 2e0d 0a0d 0a54 6865 2060 4e6f 6e65 602d  .....The `None`-
-0000d420: 6177 6172 6520 696e 6465 7869 6e67 206f  aware indexing o
-0000d430: 7065 7261 746f 7220 6973 2075 7365 6420  perator is used 
-0000d440: 6964 656e 7469 6361 6c6c 7920 746f 206e  identically to n
-0000d450: 6f72 6d61 6c20 696e 6465 7869 6e67 2c20  ormal indexing, 
-0000d460: 7573 696e 6720 603f 5b5d 6020 696e 7374  using `?[]` inst
-0000d470: 6561 6420 6f66 2060 5b5d 602e 2060 7365  ead of `[]`. `se
-0000d480: 713f 5b69 6e64 6578 5d60 2069 7320 6571  q?[index]` is eq
-0000d490: 7569 7661 6c65 6e74 2074 6f20 7468 6520  uivalent to the 
-0000d4a0: 6578 7072 6573 7369 6f6e 2060 7365 715b  expression `seq[
-0000d4b0: 696e 6465 785d 2069 7320 7365 7120 6973  index] is seq is
-0000d4c0: 206e 6f74 204e 6f6e 6520 656c 7365 2073   not None else s
-0000d4d0: 6571 602e 2055 7369 6e67 2074 6869 7320  eq`. Using this 
-0000d4e0: 6f70 6572 6174 6f72 2077 696c 6c20 6e6f  operator will no
-0000d4f0: 7420 7072 6576 656e 7420 616e 2060 496e  t prevent an `In
-0000d500: 6465 7845 7272 6f72 6020 6966 2060 696e  dexError` if `in
-0000d510: 6465 7860 2069 7320 6f75 7473 6964 6520  dex` is outside 
-0000d520: 7468 6520 626f 756e 6473 206f 6620 6073  the bounds of `s
-0000d530: 6571 602e 0d0a 0d0a 436f 636f 6e75 7420  eq`.....Coconut 
-0000d540: 616c 736f 2073 7570 706f 7274 7320 4e6f  also supports No
-0000d550: 6e65 2d61 7761 7265 205b 7069 7065 206f  ne-aware [pipe o
-0000d560: 7065 7261 746f 7273 5d28 2370 6970 6573  perators](#pipes
-0000d570: 2920 616e 6420 5b66 756e 6374 696f 6e20  ) and [function 
-0000d580: 636f 6d70 6f73 6974 696f 6e20 7069 7065  composition pipe
-0000d590: 735d 2823 6675 6e63 7469 6f6e 2d63 6f6d  s](#function-com
-0000d5a0: 706f 7369 7469 6f6e 292e 0d0a 0d0a 2323  position).....##
-0000d5b0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0000d5c0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0000d5d0: 636f 636f 6e75 740d 0a63 6f75 6c64 5f62  coconut..could_b
-0000d5e0: 655f 6e6f 6e65 3f2e 6174 7472 2020 2020  e_none?.attr    
-0000d5f0: 2023 2061 7474 7269 6275 7465 2061 6363   # attribute acc
-0000d600: 6573 730d 0a63 6f75 6c64 5f62 655f 6e6f  ess..could_be_no
-0000d610: 6e65 3f28 6172 6729 2020 2020 2023 2066  ne?(arg)     # f
-0000d620: 756e 6374 696f 6e20 6361 6c6c 696e 670d  unction calling.
-0000d630: 0a63 6f75 6c64 5f62 655f 6e6f 6e65 3f2e  .could_be_none?.
-0000d640: 6d65 7468 6f64 2829 2023 206d 6574 686f  method() # metho
-0000d650: 6420 6361 6c6c 696e 670d 0a63 6f75 6c64  d calling..could
-0000d660: 5f62 655f 6e6f 6e65 3f24 2861 7267 2920  _be_none?$(arg) 
-0000d670: 2020 2023 2070 6172 7469 616c 2061 7070     # partial app
-0000d680: 6c69 6361 7469 6f6e 0d0a 636f 756c 645f  lication..could_
-0000d690: 6265 5f6e 6f6e 6528 293f 5b30 5d20 2020  be_none()?[0]   
-0000d6a0: 2020 2320 696e 6465 7869 6e67 0d0a 636f    # indexing..co
-0000d6b0: 756c 645f 6265 5f6e 6f6e 6528 293f 2e61  uld_be_none()?.a
-0000d6c0: 7474 725b 696e 6465 785d 2e6d 6574 686f  ttr[index].metho
-0000d6d0: 6428 290d 0a60 6060 0d0a 0d0a 2a2a 5079  d()..```....**Py
-0000d6e0: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-0000d6f0: 6e75 745f 7079 7468 6f6e 0d0a 696d 706f  nut_python..impo
-0000d700: 7274 2066 756e 6374 6f6f 6c73 0d0a 286c  rt functools..(l
-0000d710: 616d 6264 6120 7265 7375 6c74 3a20 4e6f  ambda result: No
-0000d720: 6e65 2069 6620 7265 7375 6c74 2069 7320  ne if result is 
-0000d730: 4e6f 6e65 2065 6c73 6520 7265 7375 6c74  None else result
-0000d740: 2e61 7474 7229 2863 6f75 6c64 5f62 655f  .attr)(could_be_
-0000d750: 6e6f 6e65 2829 290d 0a28 6c61 6d62 6461  none())..(lambda
-0000d760: 2072 6573 756c 743a 204e 6f6e 6520 6966   result: None if
-0000d770: 2072 6573 756c 7420 6973 204e 6f6e 6520   result is None 
-0000d780: 656c 7365 2072 6573 756c 7428 6172 6729  else result(arg)
-0000d790: 2928 636f 756c 645f 6265 5f6e 6f6e 6528  )(could_be_none(
-0000d7a0: 2929 0d0a 286c 616d 6264 6120 7265 7375  ))..(lambda resu
-0000d7b0: 6c74 3a20 4e6f 6e65 2069 6620 7265 7375  lt: None if resu
-0000d7c0: 6c74 2069 7320 4e6f 6e65 2065 6c73 6520  lt is None else 
-0000d7d0: 7265 7375 6c74 2e6d 6574 686f 6428 2929  result.method())
-0000d7e0: 2863 6f75 6c64 5f62 655f 6e6f 6e65 2829  (could_be_none()
-0000d7f0: 290d 0a28 6c61 6d62 6461 2072 6573 756c  )..(lambda resul
-0000d800: 743a 204e 6f6e 6520 6966 2072 6573 756c  t: None if resul
-0000d810: 7420 6973 204e 6f6e 6520 656c 7365 2066  t is None else f
-0000d820: 756e 6374 6f6f 6c73 2e70 6172 7469 616c  unctools.partial
-0000d830: 2872 6573 756c 742c 2061 7267 2929 2863  (result, arg))(c
-0000d840: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290d  ould_be_none()).
-0000d850: 0a28 6c61 6d62 6461 2072 6573 756c 743a  .(lambda result:
-0000d860: 204e 6f6e 6520 6966 2072 6573 756c 7420   None if result 
-0000d870: 6973 204e 6f6e 6520 656c 7365 2072 6573  is None else res
-0000d880: 756c 745b 305d 2928 636f 756c 645f 6265  ult[0])(could_be
-0000d890: 5f6e 6f6e 6528 2929 0d0a 286c 616d 6264  _none())..(lambd
-0000d8a0: 6120 7265 7375 6c74 3a20 4e6f 6e65 2069  a result: None i
-0000d8b0: 6620 7265 7375 6c74 2069 7320 4e6f 6e65  f result is None
-0000d8c0: 2065 6c73 6520 7265 7375 6c74 2e61 7474   else result.att
-0000d8d0: 725b 696e 6465 785d 2e6d 6574 686f 6428  r[index].method(
-0000d8e0: 2929 2863 6f75 6c64 5f62 655f 6e6f 6e65  ))(could_be_none
-0000d8f0: 2829 290d 0a60 6060 0d0a 0d0a 2323 2320  ())..```....### 
-0000d900: 5072 6f74 6f63 6f6c 2049 6e74 6572 7365  Protocol Interse
-0000d910: 6374 696f 6e0d 0a0d 0a43 6f63 6f6e 7574  ction....Coconut
-0000d920: 2075 7365 7320 7468 6520 6026 3a60 206f   uses the `&:` o
-0000d930: 7065 7261 746f 7220 746f 2069 6e64 6963  perator to indic
-0000d940: 6174 6520 7072 6f74 6f63 6f6c 2069 6e74  ate protocol int
-0000d950: 6572 7365 6374 696f 6e2e 2054 6861 7420  ersection. That 
-0000d960: 6973 2c20 666f 7220 7477 6f20 5b60 7479  is, for two [`ty
-0000d970: 7069 6e67 2e50 726f 746f 636f 6c60 735d  ping.Protocol`s]
-0000d980: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
-0000d990: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
-0000d9a0: 7279 2f74 7970 696e 672e 6874 6d6c 2374  ry/typing.html#t
-0000d9b0: 7970 696e 672e 5072 6f74 6f63 6f6c 2920  yping.Protocol) 
-0000d9c0: 6050 726f 746f 636f 6c31 6020 616e 6420  `Protocol1` and 
-0000d9d0: 6050 726f 746f 636f 6c31 602c 2060 5072  `Protocol1`, `Pr
-0000d9e0: 6f74 6f63 6f6c 3120 263a 2050 726f 746f  otocol1 &: Proto
-0000d9f0: 636f 6c32 6020 6973 2065 7175 6976 616c  col2` is equival
-0000da00: 656e 7420 746f 2061 2060 5072 6f74 6f63  ent to a `Protoc
-0000da10: 6f6c 6020 7468 6174 2063 6f6d 6269 6e65  ol` that combine
-0000da20: 7320 7468 6520 7265 7175 6972 656d 656e  s the requiremen
-0000da30: 7473 206f 6620 626f 7468 2060 5072 6f74  ts of both `Prot
-0000da40: 6f63 6f6c 3160 2061 6e64 2060 5072 6f74  ocol1` and `Prot
-0000da50: 6f63 6f6c 3260 2e0d 0a0d 0a54 6865 2072  ocol2`.....The r
-0000da60: 6563 6f6d 6d65 6e64 6564 2077 6179 2074  ecommended way t
-0000da70: 6f20 7573 6520 436f 636f 6e75 7427 7320  o use Coconut's 
-0000da80: 7072 6f74 6f63 6f6c 2069 6e74 6572 7365  protocol interse
-0000da90: 6374 696f 6e20 6f70 6572 6174 6f72 2069  ction operator i
-0000daa0: 7320 696e 2063 6f6d 6269 6e61 7469 6f6e  s in combination
-0000dab0: 2077 6974 6820 436f 636f 6e75 7427 7320   with Coconut's 
-0000dac0: 5b6f 7065 7261 746f 7220 6050 726f 746f  [operator `Proto
-0000dad0: 636f 6c60 735d 2823 7375 7070 6f72 7465  col`s](#supporte
-0000dae0: 642d 7072 6f74 6f63 6f6c 7329 2e20 4e6f  d-protocols). No
-0000daf0: 7465 2c20 686f 7765 7665 722c 2074 6861  te, however, tha
-0000db00: 7420 7768 696c 6520 6026 3a60 2077 696c  t while `&:` wil
-0000db10: 6c20 776f 726b 2061 6e79 7768 6572 652c  l work anywhere,
-0000db20: 206f 7065 7261 746f 7220 6050 726f 746f   operator `Proto
-0000db30: 636f 6c60 7320 7769 6c6c 206f 6e6c 7920  col`s will only 
-0000db40: 776f 726b 2069 6e73 6964 6520 7479 7065  work inside type
-0000db50: 2061 6e6e 6f74 6174 696f 6e73 2028 7768   annotations (wh
-0000db60: 6963 6820 6d65 616e 732c 2066 6f72 2065  ich means, for e
-0000db70: 7861 6d70 6c65 2c20 796f 7527 6c6c 206e  xample, you'll n
-0000db80: 6565 6420 746f 2064 6f20 6074 7970 6520  eed to do `type 
-0000db90: 4861 7341 6464 203d 2028 2b29 6020 696e  HasAdd = (+)` in
-0000dba0: 7374 6561 6420 6f66 206a 7573 7420 6048  stead of just `H
-0000dbb0: 6173 4164 6420 3d20 282b 2960 292e 0d0a  asAdd = (+)`)...
-0000dbc0: 0d0a 5365 6520 436f 636f 6e75 7427 7320  ..See Coconut's 
-0000dbd0: 5b65 6e68 616e 6365 6420 7479 7065 2061  [enhanced type a
-0000dbe0: 6e6e 6f74 6174 696f 6e5d 2823 656e 6861  nnotation](#enha
-0000dbf0: 6e63 6564 2d74 7970 652d 616e 6e6f 7461  nced-type-annota
-0000dc00: 7469 6f6e 2920 666f 7220 6d6f 7265 2069  tion) for more i
-0000dc10: 6e66 6f72 6d61 7469 6f6e 206f 6e20 686f  nformation on ho
-0000dc20: 7720 436f 636f 6e75 7420 6861 6e64 6c65  w Coconut handle
-0000dc30: 7320 7479 7065 2061 6e6e 6f74 6174 696f  s type annotatio
-0000dc40: 6e73 206d 6f72 6520 6765 6e65 7261 6c6c  ns more generall
-0000dc50: 792e 0d0a 0d0a 2323 2323 2320 4578 616d  y.....##### Exam
-0000dc60: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
-0000dc70: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-0000dc80: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
-0000dc90: 6f72 7420 5072 6f74 6f63 6f6c 0d0a 0d0a  ort Protocol....
-0000dca0: 636c 6173 7320 5828 5072 6f74 6f63 6f6c  class X(Protocol
-0000dcb0: 293a 0d0a 2020 2020 783a 2073 7472 0d0a  ):..    x: str..
-0000dcc0: 0d0a 636c 6173 7320 5928 5072 6f74 6f63  ..class Y(Protoc
-0000dcd0: 6f6c 293a 0d0a 2020 2020 793a 2073 7472  ol):..    y: str
-0000dce0: 0d0a 0d0a 6465 6620 666f 6f28 7879 3a20  ....def foo(xy: 
-0000dcf0: 5820 263a 2059 2920 2d3e 204e 6f6e 653a  X &: Y) -> None:
-0000dd00: 0d0a 2020 2020 7072 696e 7428 7879 2e78  ..    print(xy.x
-0000dd10: 2c20 7879 2e79 290d 0a0d 0a74 7970 6520  , xy.y)....type 
-0000dd20: 4361 6e41 6464 416e 6453 7562 203d 2028  CanAddAndSub = (
-0000dd30: 2b29 2026 3a20 282d 290d 0a60 6060 0d0a  +) &: (-)..```..
-0000dd40: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-0000dd50: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-0000dd60: 0d0a 6672 6f6d 2074 7970 696e 6720 696d  ..from typing im
-0000dd70: 706f 7274 2050 726f 746f 636f 6c2c 2054  port Protocol, T
-0000dd80: 7970 6556 6172 2c20 4765 6e65 7269 630d  ypeVar, Generic.
-0000dd90: 0a0d 0a63 6c61 7373 2058 2850 726f 746f  ...class X(Proto
-0000dda0: 636f 6c29 3a0d 0a20 2020 2078 3a20 7374  col):..    x: st
-0000ddb0: 720d 0a0d 0a63 6c61 7373 2059 2850 726f  r....class Y(Pro
-0000ddc0: 746f 636f 6c29 3a0d 0a20 2020 2079 3a20  tocol):..    y: 
-0000ddd0: 7374 720d 0a0d 0a63 6c61 7373 2058 5928  str....class XY(
-0000dde0: 582c 2059 2c20 5072 6f74 6f63 6f6c 293a  X, Y, Protocol):
-0000ddf0: 0d0a 2020 2020 7061 7373 0d0a 0d0a 6465  ..    pass....de
-0000de00: 6620 666f 6f28 7879 3a20 5859 2920 2d3e  f foo(xy: XY) ->
-0000de10: 204e 6f6e 653a 0d0a 2020 2020 7072 696e   None:..    prin
-0000de20: 7428 7879 2e78 2c20 7879 2e79 290d 0a0d  t(xy.x, xy.y)...
-0000de30: 0a54 203d 2054 7970 6556 6172 2822 5422  .T = TypeVar("T"
-0000de40: 2c20 696e 6665 725f 7661 7269 616e 6365  , infer_variance
-0000de50: 3d54 7275 6529 0d0a 5520 3d20 5479 7065  =True)..U = Type
-0000de60: 5661 7228 2255 222c 2069 6e66 6572 5f76  Var("U", infer_v
-0000de70: 6172 6961 6e63 653d 5472 7565 290d 0a56  ariance=True)..V
-0000de80: 203d 2054 7970 6556 6172 2822 5622 2c20   = TypeVar("V", 
-0000de90: 696e 6665 725f 7661 7269 616e 6365 3d54  infer_variance=T
-0000dea0: 7275 6529 0d0a 0d0a 636c 6173 7320 4361  rue)....class Ca
-0000deb0: 6e41 6464 416e 6453 7562 2850 726f 746f  nAddAndSub(Proto
-0000dec0: 636f 6c2c 2047 656e 6572 6963 5b54 2c20  col, Generic[T, 
-0000ded0: 552c 2056 5d29 3a0d 0a20 2020 2064 6566  U, V]):..    def
-0000dee0: 205f 5f61 6464 5f5f 2873 656c 663a 2054   __add__(self: T
-0000def0: 2c20 6f74 6865 723a 2055 2920 2d3e 2056  , other: U) -> V
-0000df00: 3a0d 0a20 2020 2020 2020 2072 6169 7365  :..        raise
-0000df10: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
-0000df20: 7272 6f72 0d0a 2020 2020 6465 6620 5f5f  rror..    def __
-0000df30: 7375 625f 5f28 7365 6c66 3a20 542c 206f  sub__(self: T, o
-0000df40: 7468 6572 3a20 5529 202d 3e20 563a 0d0a  ther: U) -> V:..
-0000df50: 2020 2020 2020 2020 7261 6973 6520 4e6f          raise No
-0000df60: 7449 6d70 6c65 6d65 6e74 6564 4572 726f  tImplementedErro
-0000df70: 720d 0a20 2020 2064 6566 205f 5f6e 6567  r..    def __neg
-0000df80: 5f5f 2873 656c 663a 2054 2920 2d3e 2056  __(self: T) -> V
-0000df90: 3a0d 0a20 2020 2020 2020 2072 6169 7365  :..        raise
-0000dfa0: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
-0000dfb0: 7272 6f72 0d0a 6060 600d 0a0d 0a23 2323  rror..```....###
-0000dfc0: 2055 6e69 636f 6465 2041 6c74 6572 6e61   Unicode Alterna
-0000dfd0: 7469 7665 730d 0a0d 0a43 6f63 6f6e 7574  tives....Coconut
-0000dfe0: 2073 7570 706f 7274 7320 556e 6963 6f64   supports Unicod
-0000dff0: 6520 616c 7465 726e 6174 6976 6573 2074  e alternatives t
-0000e000: 6f20 6d61 6e79 2064 6966 6665 7265 6e74  o many different
-0000e010: 206f 7065 7261 746f 7220 7379 6d62 6f6c   operator symbol
-0000e020: 732e 2054 6865 2055 6e69 636f 6465 2061  s. The Unicode a
-0000e030: 6c74 6572 6e61 7469 7665 7320 6172 6520  lternatives are 
-0000e040: 7265 6c61 7469 7665 6c79 2073 7472 6169  relatively strai
-0000e050: 6768 7466 6f72 7761 7264 2c20 616e 6420  ghtforward, and 
-0000e060: 6368 6f73 656e 2074 6f20 7265 666c 6563  chosen to reflec
-0000e070: 7420 7468 6520 6c6f 6f6b 2061 6e64 2f6f  t the look and/o
-0000e080: 7220 6d65 616e 696e 6720 6f66 2074 6865  r meaning of the
-0000e090: 206f 7269 6769 6e61 6c20 7379 6d62 6f6c   original symbol
-0000e0a0: 2e0d 0a0d 0a5f 4e6f 7465 3a20 7468 6573  ....._Note: thes
-0000e0b0: 6520 6172 6520 6f6e 6c79 2074 6865 2064  e are only the d
-0000e0c0: 6566 6175 6c74 2c20 6275 696c 742d 696e  efault, built-in
-0000e0d0: 2075 6e69 636f 6465 206f 7065 7261 746f   unicode operato
-0000e0e0: 7273 2e20 436f 636f 6e75 7420 7375 7070  rs. Coconut supp
-0000e0f0: 6f72 7473 205b 6375 7374 6f6d 206f 7065  orts [custom ope
-0000e100: 7261 746f 7220 6465 6669 6e69 7469 6f6e  rator definition
-0000e110: 5d28 2363 7573 746f 6d2d 6f70 6572 6174  ](#custom-operat
-0000e120: 6f72 7329 2074 6f20 6465 6669 6e65 2079  ors) to define y
-0000e130: 6f75 7220 6f77 6e2e 5f0d 0a0d 0a23 2323  our own._....###
-0000e140: 2323 2046 756c 6c20 4c69 7374 0d0a 0d0a  ## Full List....
-0000e150: 6060 600d 0ae2 8692 2028 5c75 3231 3932  ```..... (\u2192
-0000e160: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000e170: 2020 203d 3e20 222d 3e22 0d0a c397 2028     => "->".... (
-0000e180: 5c78 6437 2920 2020 2020 2020 2020 2020  \xd7)           
-0000e190: 2020 2020 2020 2020 203d 3e20 222a 2220           => "*" 
-0000e1a0: 286f 6e6c 7920 6d75 6c74 6970 6c69 6361  (only multiplica
-0000e1b0: 7469 6f6e 290d 0ae2 8691 2028 5c75 3231  tion)..... (\u21
-0000e1c0: 3931 2920 2020 2020 2020 2020 2020 2020  91)             
-0000e1d0: 2020 2020 203d 3e20 222a 2a22 2028 6f6e       => "**" (on
-0000e1e0: 6c79 2065 7870 6f6e 656e 7469 6174 696f  ly exponentiatio
-0000e1f0: 6e29 0d0a c3b7 2028 5c78 6637 2920 2020  n).... (\xf7)   
-0000e200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e210: 203d 3e20 222f 2220 286f 6e6c 7920 6469   => "/" (only di
-0000e220: 7669 7369 6f6e 290d 0ac3 b72f 2028 5c78  vision)..../ (\x
-0000e230: 6637 2f29 2020 2020 2020 2020 2020 2020  f7/)            
-0000e240: 2020 2020 2020 3d3e 2022 2f2f 220d 0ae2        => "//"...
-0000e250: 81bb 2028 5c75 3230 3762 2920 2020 2020  .. (\u207b)     
-0000e260: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000e270: 222d 2220 286f 6e6c 7920 6e65 6761 7469  "-" (only negati
-0000e280: 6f6e 290d 0ae2 89a0 2028 5c75 3232 3630  on)..... (\u2260
-0000e290: 2920 6f72 20c2 ac3d 2028 5c78 6163 3d29  ) or ..= (\xac=)
-0000e2a0: 2020 2020 3d3e 2022 213d 220d 0ae2 89a4      => "!=".....
-0000e2b0: 2028 5c75 3232 3634 2920 6f72 20e2 8a86   (\u2264) or ...
-0000e2c0: 2028 5c75 3232 3836 2920 2020 203d 3e20   (\u2286)    => 
-0000e2d0: 223c 3d22 0d0a e289 a520 285c 7532 3236  "<="..... (\u226
-0000e2e0: 3529 206f 7220 e28a 8720 285c 7532 3238  5) or ... (\u228
-0000e2f0: 3729 2020 2020 3d3e 2022 3e3d 220d 0ae2  7)    => ">="...
-0000e300: 8a8a 2028 5c75 3232 3861 2920 2020 2020  .. (\u228a)     
-0000e310: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
-0000e320: 223c 220d 0ae2 8a8b 2028 5c75 3232 3862  "<"..... (\u228b
-0000e330: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000e340: 2020 203d 3e20 223e 220d 0ae2 88a9 2028     => ">"..... (
-0000e350: 5c75 3232 3239 2920 2020 2020 2020 2020  \u2229)         
-0000e360: 2020 2020 2020 2020 203d 3e20 2226 220d           => "&".
-0000e370: 0ae2 88aa 2028 5c75 3232 3261 2920 2020  .... (\u222a)   
-0000e380: 2020 2020 2020 2020 2020 2020 2020 203d                 =
-0000e390: 3e20 227c 220d 0ac2 ab20 285c 7861 6229  > "|".... (\xab)
-0000e3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e3b0: 2020 2020 3d3e 2022 3c3c 220d 0ac2 bb20      => "<<".... 
-0000e3c0: 285c 7862 6229 2020 2020 2020 2020 2020  (\xbb)          
-0000e3d0: 2020 2020 2020 2020 2020 3d3e 2022 3e3e            => ">>
-0000e3e0: 220d 0ae2 80a6 2028 5c75 3230 3236 2920  "..... (\u2026) 
-0000e3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e400: 203d 3e20 222e 2e2e 220d 0ace bb20 285c   => "...".... (\
-0000e410: 7530 3362 6229 2020 2020 2020 2020 2020  u03bb)          
-0000e420: 2020 2020 2020 2020 3d3e 2022 6c61 6d62          => "lamb
-0000e430: 6461 220d 0ae2 86a6 2028 5c75 3231 6136  da"..... (\u21a6
-0000e440: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000e450: 2020 203d 3e20 227c 3e22 0d0a e286 a420     => "|>"..... 
-0000e460: 285c 7532 3161 3429 2020 2020 2020 2020  (\u21a4)        
-0000e470: 2020 2020 2020 2020 2020 3d3e 2022 3c7c            => "<|
-0000e480: 220d 0a2a e286 a620 282a 5c75 3231 6136  "..*... (*\u21a6
-0000e490: 2920 2020 2020 2020 2020 2020 2020 2020  )               
-0000e4a0: 203d 3e20 227c 2a3e 220d 0ae2 86a4 2a20   => "|*>".....* 
-0000e4b0: 285c 7532 3161 342a 2920 2020 2020 2020  (\u21a4*)       
-0000e4c0: 2020 2020 2020 2020 203d 3e20 223c 2a7c           => "<*|
-0000e4d0: 220d 0a2a 2ae2 86a6 2028 2a2a 5c75 3231  "..**... (**\u21
-0000e4e0: 6136 2920 2020 2020 2020 2020 2020 2020  a6)             
-0000e4f0: 203d 3e20 227c 2a2a 3e22 0d0a e286 a42a   => "|**>".....*
-0000e500: 2a20 285c 7532 3161 342a 2a29 2020 2020  * (\u21a4**)    
-0000e510: 2020 2020 2020 2020 2020 3d3e 2022 3c2a            => "<*
-0000e520: 2a7c 220d 0a3f e286 a620 283f 5c75 3231  *|"..?... (?\u21
-0000e530: 6136 2920 2020 2020 2020 2020 2020 2020  a6)             
-0000e540: 2020 203d 3e20 227c 3f3e 220d 0ae2 86a4     => "|?>".....
-0000e550: 3f20 283f 5c75 3231 6134 2920 2020 2020  ? (?\u21a4)     
-0000e560: 2020 2020 2020 2020 2020 203d 3e20 223c             => "<
-0000e570: 3f7c 220d 0a3f 2ae2 86a6 2028 3f2a 5c75  ?|"..?*... (?*\u
-0000e580: 3231 6136 2920 2020 2020 2020 2020 2020  21a6)           
-0000e590: 2020 203d 3e20 227c 3f2a 3e22 0d0a e286     => "|?*>"....
-0000e5a0: a42a 3f20 285c 7532 3161 342a 3f29 2020  .*? (\u21a4*?)  
-0000e5b0: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
-0000e5c0: 3c2a 3f7c 220d 0a3f 2a2a e286 a620 283f  <*?|"..?**... (?
-0000e5d0: 2a2a 5c75 3231 6136 2920 2020 2020 2020  **\u21a6)       
-0000e5e0: 2020 2020 203d 3e20 227c 3f2a 2a3e 220d       => "|?**>".
-0000e5f0: 0ae2 86a4 2a2a 3f20 285c 7532 3161 342a  ....**? (\u21a4*
-0000e600: 2a3f 2920 2020 2020 2020 2020 2020 203d  *?)            =
-0000e610: 3e20 223c 2a2a 3f7c 220d 0ae2 8898 2028  > "<**?|"..... (
-0000e620: 5c75 3232 3138 2920 2020 2020 2020 2020  \u2218)         
-0000e630: 2020 2020 2020 2020 203d 3e20 222e 2e22           => ".."
-0000e640: 0d0a e288 983e 2028 5c75 3232 3138 3e29  .....> (\u2218>)
-0000e650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e660: 3d3e 2022 2e2e 3e22 0d0a 3ce2 8898 2028  => "..>"..<... (
-0000e670: 3c5c 7532 3231 3829 2020 2020 2020 2020  <\u2218)        
-0000e680: 2020 2020 2020 2020 3d3e 2022 3c2e 2e22          => "<.."
-0000e690: 0d0a e288 982a 3e20 285c 7532 3231 382a  .....*> (\u2218*
-0000e6a0: 3e29 2020 2020 2020 2020 2020 2020 2020  >)              
-0000e6b0: 3d3e 2022 2e2e 2a3e 220d 0a3c 2ae2 8898  => "..*>"..<*...
-0000e6c0: 2028 3c2a 5c75 3232 3138 2920 2020 2020   (<*\u2218)     
-0000e6d0: 2020 2020 2020 2020 203d 3e20 223c 2a2e           => "<*.
-0000e6e0: 2e22 0d0a e288 982a 2a3e 2028 5c75 3232  .".....**> (\u22
-0000e6f0: 3138 2a2a 3e29 2020 2020 2020 2020 2020  18**>)          
-0000e700: 2020 3d3e 2022 2e2e 2a2a 3e22 0d0a 3c2a    => "..**>"..<*
-0000e710: 2ae2 8898 2028 3c2a 2a5c 7532 3231 3829  *... (<**\u2218)
-0000e720: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
-0000e730: 3c2a 2a2e 2e22 0d0a e288 983f 3e20 285c  <**..".....?> (\
-0000e740: 7532 3231 383f 3e29 2020 2020 2020 2020  u2218?>)        
-0000e750: 2020 2020 2020 3d3e 2022 2e2e 3f3e 220d        => "..?>".
-0000e760: 0a3c 3fe2 8898 2028 3c3f 5c75 3232 3138  .<?... (<?\u2218
-0000e770: 2920 2020 2020 2020 2020 2020 2020 203d  )              =
-0000e780: 3e20 223c 3f2e 2e22 0d0a e288 983f 2a3e  > "<?..".....?*>
-0000e790: 2028 5c75 3232 3138 3f2a 3e29 2020 2020   (\u2218?*>)    
-0000e7a0: 2020 2020 2020 2020 3d3e 2022 2e2e 3f2a          => "..?*
-0000e7b0: 3e22 0d0a 3c2a 3fe2 8898 2028 3c2a 3f5c  >"..<*?... (<*?\
-0000e7c0: 7532 3231 3829 2020 2020 2020 2020 2020  u2218)          
-0000e7d0: 2020 3d3e 2022 3c2a 3f2e 2e22 0d0a e288    => "<*?.."....
-0000e7e0: 983f 2a2a 3e20 285c 7532 3231 383f 2a2a  .?**> (\u2218?**
-0000e7f0: 3e29 2020 2020 2020 2020 2020 3d3e 2022  >)          => "
-0000e800: 2e2e 3f2a 2a3e 220d 0a3c 2a2a 3fe2 8898  ..?**>"..<**?...
-0000e810: 2028 3c2a 2a3f 5c75 3232 3138 2920 2020   (<**?\u2218)   
-0000e820: 2020 2020 2020 203d 3e20 223c 2a2a 3f2e         => "<**?.
-0000e830: 2e22 0d0a 6060 600d 0a0d 0a23 2320 4b65  ."..```....## Ke
-0000e840: 7977 6f72 6473 0d0a 0d0a 6060 607b 636f  ywords....```{co
-0000e850: 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f  ntents}..---..lo
-0000e860: 6361 6c3a 0d0a 6465 7074 683a 2031 0d0a  cal:..depth: 1..
-0000e870: 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323 2320  ---..```....### 
-0000e880: 606d 6174 6368 600d 0a0d 0a43 6f63 6f6e  `match`....Cocon
-0000e890: 7574 2070 726f 7669 6465 7320 6675 6c6c  ut provides full
-0000e8a0: 792d 6665 6174 7572 6564 2c20 6675 6e63  y-featured, func
-0000e8b0: 7469 6f6e 616c 2070 6174 7465 726e 2d6d  tional pattern-m
-0000e8c0: 6174 6368 696e 6720 7468 726f 7567 6820  atching through 
-0000e8d0: 6974 7320 606d 6174 6368 6020 7374 6174  its `match` stat
-0000e8e0: 656d 656e 7473 2e0d 0a0d 0a23 2323 2323  ements.....#####
-0000e8f0: 204f 7665 7276 6965 770d 0a0d 0a4d 6174   Overview....Mat
-0000e900: 6368 2073 7461 7465 6d65 6e74 7320 666f  ch statements fo
-0000e910: 6c6c 6f77 2074 6865 2062 6173 6963 2073  llow the basic s
-0000e920: 796e 7461 7820 606d 6174 6368 203c 7061  yntax `match <pa
-0000e930: 7474 6572 6e3e 2069 6e20 3c76 616c 7565  ttern> in <value
-0000e940: 3e60 2e20 5468 6520 6d61 7463 6820 7374  >`. The match st
-0000e950: 6174 656d 656e 7420 7769 6c6c 2061 7474  atement will att
-0000e960: 656d 7074 2074 6f20 6d61 7463 6820 7468  empt to match th
-0000e970: 6520 7661 6c75 6520 6167 6169 6e73 7420  e value against 
-0000e980: 7468 6520 7061 7474 6572 6e2c 2061 6e64  the pattern, and
-0000e990: 2069 6620 7375 6363 6573 7366 756c 2c20   if successful, 
-0000e9a0: 6269 6e64 2061 6e79 2076 6172 6961 626c  bind any variabl
-0000e9b0: 6573 2069 6e20 7468 6520 7061 7474 6572  es in the patter
-0000e9c0: 6e20 746f 2077 6861 7465 7665 7220 6973  n to whatever is
-0000e9d0: 2069 6e20 7468 6520 7361 6d65 2070 6f73   in the same pos
-0000e9e0: 6974 696f 6e20 696e 2074 6865 2076 616c  ition in the val
-0000e9f0: 7565 2c20 616e 6420 6578 6563 7574 6520  ue, and execute 
-0000ea00: 7468 6520 636f 6465 2062 656c 6f77 2074  the code below t
-0000ea10: 6865 206d 6174 6368 2073 7461 7465 6d65  he match stateme
-0000ea20: 6e74 2e20 4d61 7463 6820 7374 6174 656d  nt. Match statem
-0000ea30: 656e 7473 2061 6c73 6f20 7375 7070 6f72  ents also suppor
-0000ea40: 742c 2069 6e20 7468 6569 7220 6261 7369  t, in their basi
-0000ea50: 6320 7379 6e74 6178 2c20 616e 2060 6966  c syntax, an `if
-0000ea60: 203c 636f 6e64 3e60 2074 6861 7420 7769   <cond>` that wi
-0000ea70: 6c6c 2063 6865 636b 2074 6865 2063 6f6e  ll check the con
-0000ea80: 6469 7469 6f6e 2061 6674 6572 2065 7865  dition after exe
-0000ea90: 6375 7469 6e67 2074 6865 206d 6174 6368  cuting the match
-0000eaa0: 2062 6566 6f72 6520 6578 6563 7574 696e   before executin
-0000eab0: 6720 7468 6520 636f 6465 2062 656c 6f77  g the code below
-0000eac0: 2c20 616e 6420 616e 2060 656c 7365 6020  , and an `else` 
-0000ead0: 7374 6174 656d 656e 7420 6166 7465 7277  statement afterw
-0000eae0: 6172 6473 2074 6861 7420 7769 6c6c 206f  ards that will o
-0000eaf0: 6e6c 7920 6265 2065 7865 6375 7465 6420  nly be executed 
-0000eb00: 6966 2074 6865 2060 6d61 7463 6860 2073  if the `match` s
-0000eb10: 7461 7465 6d65 6e74 2069 7320 6e6f 742e  tatement is not.
-0000eb20: 2057 6861 7420 6973 2061 6c6c 6f77 6564   What is allowed
-0000eb30: 2069 6e20 7468 6520 6d61 7463 6820 7374   in the match st
-0000eb40: 6174 656d 656e 7427 7320 7061 7474 6572  atement's patter
-0000eb50: 6e20 6861 7320 6e6f 2065 7175 6976 616c  n has no equival
-0000eb60: 656e 7420 696e 2050 7974 686f 6e2c 2061  ent in Python, a
-0000eb70: 6e64 2074 6875 7320 7468 6520 7370 6563  nd thus the spec
-0000eb80: 6966 6963 6174 696f 6e73 2062 656c 6f77  ifications below
-0000eb90: 2061 7265 2070 726f 7669 6465 6420 746f   are provided to
-0000eba0: 2065 7870 6c61 696e 2069 742e 0d0a 0d0a   explain it.....
-0000ebb0: 2323 2323 2320 5379 6e74 6178 2053 7065  ##### Syntax Spe
-0000ebc0: 6369 6669 6361 7469 6f6e 0d0a 0d0a 436f  cification....Co
-0000ebd0: 636f 6e75 7420 6d61 7463 6820 7374 6174  conut match stat
-0000ebe0: 656d 656e 7420 7379 6e74 6178 2069 730d  ement syntax is.
-0000ebf0: 0a60 6060 636f 636f 6e75 740d 0a6d 6174  .```coconut..mat
-0000ec00: 6368 203c 7061 7474 6572 6e3e 205b 6e6f  ch <pattern> [no
-0000ec10: 745d 2069 6e20 3c76 616c 7565 3e20 5b69  t] in <value> [i
-0000ec20: 6620 3c63 6f6e 643e 5d3a 0d0a 2020 2020  f <cond>]:..    
-0000ec30: 3c62 6f64 793e 0d0a 5b65 6c73 653a 0d0a  <body>..[else:..
-0000ec40: 2020 2020 3c62 6f64 793e 5d0d 0a60 6060      <body>]..```
-0000ec50: 0d0a 7768 6572 6520 603c 7661 6c75 653e  ..where `<value>
-0000ec60: 6020 6973 2074 6865 2069 7465 6d20 746f  ` is the item to
-0000ec70: 206d 6174 6368 2061 6761 696e 7374 2c20   match against, 
-0000ec80: 603c 636f 6e64 3e60 2069 7320 616e 206f  `<cond>` is an o
-0000ec90: 7074 696f 6e61 6c20 6164 6469 7469 6f6e  ptional addition
-0000eca0: 616c 2063 6865 636b 2c20 616e 6420 603c  al check, and `<
-0000ecb0: 626f 6479 3e60 2069 7320 7369 6d70 6c79  body>` is simply
-0000ecc0: 2063 6f64 6520 7468 6174 2069 7320 6578   code that is ex
-0000ecd0: 6563 7574 6564 2069 6620 7468 6520 6865  ecuted if the he
-0000ece0: 6164 6572 2061 626f 7665 2069 7420 7375  ader above it su
-0000ecf0: 6363 6565 6473 2e20 603c 7061 7474 6572  cceeds. `<patter
-0000ed00: 6e3e 6020 666f 6c6c 6f77 7320 6974 7320  n>` follows its 
-0000ed10: 6f77 6e2c 2073 7065 6369 616c 2073 796e  own, special syn
-0000ed20: 7461 782c 2064 6566 696e 6564 2072 6f75  tax, defined rou
-0000ed30: 6768 6c79 2061 7320 6265 6c6f 772e 2049  ghly as below. I
-0000ed40: 6e20 7468 6520 7379 6e74 6178 2073 7065  n the syntax spe
-0000ed50: 6369 6669 6361 7469 6f6e 2062 656c 6f77  cification below
-0000ed60: 2c20 6272 6163 6b65 7473 2064 656e 6f74  , brackets denot
-0000ed70: 6520 6f70 7469 6f6e 616c 2073 796e 7461  e optional synta
-0000ed80: 7820 616e 6420 7061 7265 6e74 6865 7365  x and parenthese
-0000ed90: 7320 666f 6c6c 6f77 6564 2062 7920 6120  s followed by a 
-0000eda0: 602a 6020 6465 6e6f 7465 2074 6861 7420  `*` denote that 
-0000edb0: 7468 6520 7379 6e74 6178 206d 6179 2061  the syntax may a
-0000edc0: 7070 6561 7220 7a65 726f 206f 7220 6d6f  ppear zero or mo
-0000edd0: 7265 2074 696d 6573 2e0d 0a0d 0a60 6060  re times.....```
-0000ede0: 636f 636f 6e75 740d 0a70 6174 7465 726e  coconut..pattern
-0000edf0: 203a 3a3d 2061 6e64 5f70 6174 7465 726e   ::= and_pattern
-0000ee00: 2028 226f 7222 2061 6e64 5f70 6174 7465   ("or" and_patte
-0000ee10: 726e 292a 2020 2320 6d61 7463 6820 616e  rn)*  # match an
-0000ee20: 790d 0a0d 0a61 6e64 5f70 6174 7465 726e  y....and_pattern
-0000ee30: 203a 3a3d 2061 735f 7061 7474 6572 6e20   ::= as_pattern 
-0000ee40: 2822 616e 6422 2061 735f 7061 7474 6572  ("and" as_patter
-0000ee50: 6e29 2a20 2023 206d 6174 6368 2061 6c6c  n)*  # match all
-0000ee60: 0d0a 0d0a 6173 5f70 6174 7465 726e 203a  ....as_pattern :
-0000ee70: 3a3d 2069 6e66 6978 5f70 6174 7465 726e  := infix_pattern
-0000ee80: 2028 2261 7322 206e 616d 6529 2a20 2023   ("as" name)*  #
-0000ee90: 2065 7870 6c69 6369 7420 6269 6e64 696e   explicit bindin
-0000eea0: 670d 0a0d 0a69 6e66 6978 5f70 6174 7465  g....infix_patte
-0000eeb0: 726e 203a 3a3d 2062 6172 5f6f 725f 7061  rn ::= bar_or_pa
-0000eec0: 7474 6572 6e20 2822 6022 2045 5850 5220  ttern ("`" EXPR 
-0000eed0: 2260 2220 5b45 5850 525d 292a 2020 2320  "`" [EXPR])*  # 
-0000eee0: 696e 6669 7820 6368 6563 6b0d 0a0d 0a62  infix check....b
-0000eef0: 6172 5f6f 725f 7061 7474 6572 6e20 3a3a  ar_or_pattern ::
-0000ef00: 3d20 7061 7474 6572 6e20 2822 7c22 2070  = pattern ("|" p
-0000ef10: 6174 7465 726e 292a 2020 2320 6d61 7463  attern)*  # matc
-0000ef20: 6820 616e 790d 0a0d 0a62 6173 655f 7061  h any....base_pa
-0000ef30: 7474 6572 6e20 3a3a 3d20 280d 0a20 2020  ttern ::= (..   
-0000ef40: 2022 2822 2070 6174 7465 726e 2022 2922   "(" pattern ")"
-0000ef50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ef60: 2020 2320 7061 7265 6e74 6865 7365 730d    # parentheses.
-0000ef70: 0a20 2020 207c 2022 4e6f 6e65 2220 7c20  .    | "None" | 
-0000ef80: 2254 7275 6522 207c 2022 4661 6c73 6522  "True" | "False"
-0000ef90: 2020 2020 2020 2320 636f 6e73 7461 6e74        # constant
-0000efa0: 730d 0a20 2020 207c 204e 554d 4245 5220  s..    | NUMBER 
-0000efb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000efc0: 2020 2020 2020 2020 2320 6e75 6d62 6572          # number
-0000efd0: 730d 0a20 2020 207c 2053 5452 494e 4720  s..    | STRING 
-0000efe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eff0: 2020 2020 2020 2020 2320 7374 7269 6e67          # string
-0000f000: 730d 0a20 2020 207c 205b 2261 7322 5d20  s..    | ["as"] 
-0000f010: 4e41 4d45 2020 2020 2020 2020 2020 2020  NAME            
-0000f020: 2020 2020 2020 2020 2320 7661 7269 6162          # variab
-0000f030: 6c65 2062 696e 6469 6e67 0d0a 2020 2020  le binding..    
-0000f040: 7c20 223d 3d22 2045 5850 5220 2020 2020  | "==" EXPR     
-0000f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f060: 2023 2065 7175 616c 6974 7920 6368 6563   # equality chec
-0000f070: 6b0d 0a20 2020 207c 2022 6973 2220 4558  k..    | "is" EX
-0000f080: 5052 2020 2020 2020 2020 2020 2020 2020  PR              
-0000f090: 2020 2020 2020 2020 2320 6964 656e 7469          # identi
-0000f0a0: 7479 2063 6865 636b 0d0a 2020 2020 7c20  ty check..    | 
-0000f0b0: 444f 5454 4544 5f4e 414d 4520 2020 2020  DOTTED_NAME     
-0000f0c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000f0d0: 2069 6d70 6c69 6369 7420 6571 7561 6c69   implicit equali
-0000f0e0: 7479 2063 6865 636b 2028 6469 7361 626c  ty check (disabl
-0000f0f0: 6564 2069 6e20 6465 7374 7275 6374 7572  ed in destructur
-0000f100: 696e 6720 6173 7369 676e 6d65 6e74 290d  ing assignment).
-0000f110: 0a20 2020 207c 204e 414d 4520 2228 2220  .    | NAME "(" 
-0000f120: 7061 7474 6572 6e73 2022 2922 2020 2020  patterns ")"    
-0000f130: 2020 2020 2020 2320 636c 6173 7365 7320        # classes 
-0000f140: 6f72 2064 6174 6120 7479 7065 730d 0a20  or data types.. 
-0000f150: 2020 207c 2022 6461 7461 2220 4e41 4d45     | "data" NAME
-0000f160: 2022 2822 2070 6174 7465 726e 7320 2229   "(" patterns ")
-0000f170: 2220 2020 2320 6461 7461 2074 7970 6573  "   # data types
-0000f180: 0d0a 2020 2020 7c20 2263 6c61 7373 2220  ..    | "class" 
-0000f190: 4e41 4d45 2022 2822 2070 6174 7465 726e  NAME "(" pattern
-0000f1a0: 7320 2229 2220 2023 2063 6c61 7373 6573  s ")"  # classes
-0000f1b0: 0d0a 2020 2020 7c20 227b 2220 7061 7474  ..    | "{" patt
-0000f1c0: 6572 6e5f 7061 6972 7320 2020 2020 2020  ern_pairs       
-0000f1d0: 2020 2020 2020 2023 2064 6963 7469 6f6e         # diction
-0000f1e0: 6172 6965 730d 0a20 2020 2020 2020 205b  aries..        [
-0000f1f0: 222c 2220 222a 2a22 2028 4e41 4d45 207c  "," "**" (NAME |
-0000f200: 2022 7b7d 2229 5d20 227d 2220 2320 2028   "{}")] "}" #  (
-0000f210: 6b65 7973 206d 7573 7420 6265 2063 6f6e  keys must be con
-0000f220: 7374 616e 7473 206f 7220 6571 7561 6c69  stants or equali
-0000f230: 7479 2063 6865 636b 7329 0d0a 2020 2020  ty checks)..    
-0000f240: 7c20 5b22 7322 207c 2022 6622 207c 2022  | ["s" | "f" | "
-0000f250: 6d22 5d20 227b 220d 0a20 2020 2020 2020  m"] "{"..       
-0000f260: 2070 6174 7465 726e 5f63 6f6e 7374 730d   pattern_consts.
-0000f270: 0a20 2020 2020 2020 205b 222c 2220 2822  .        ["," ("
-0000f280: 2a5f 2220 7c20 222a 2829 2229 5d0d 0a20  *_" | "*()")].. 
-0000f290: 2020 2020 2022 7d22 2020 2020 2020 2020       "}"        
-0000f2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f2b0: 2020 2020 2320 7365 7473 0d0a 2020 2020      # sets..    
-0000f2c0: 7c20 2845 5850 5229 202d 3e20 7061 7474  | (EXPR) -> patt
-0000f2d0: 6572 6e20 2020 2020 2020 2020 2020 2020  ern             
-0000f2e0: 2023 2076 6965 7720 7061 7474 6572 6e73   # view patterns
-0000f2f0: 0d0a 2020 2020 7c20 2228 2220 7061 7474  ..    | "(" patt
-0000f300: 6572 6e73 2022 2922 2020 2020 2020 2020  erns ")"        
-0000f310: 2020 2020 2020 2023 2073 6571 7565 6e63         # sequenc
-0000f320: 6573 2063 616e 2062 6520 696e 2074 7570  es can be in tup
-0000f330: 6c65 2066 6f72 6d0d 0a20 2020 207c 2022  le form..    | "
-0000f340: 5b22 2070 6174 7465 726e 7320 225d 2220  [" patterns "]" 
-0000f350: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000f360: 206f 7220 696e 206c 6973 7420 666f 726d   or in list form
-0000f370: 0d0a 2020 2020 7c20 2228 7c22 2070 6174  ..    | "(|" pat
-0000f380: 7465 726e 7320 227c 2922 2020 2020 2020  terns "|)"      
-0000f390: 2020 2020 2020 2023 206c 617a 7920 6c69         # lazy li
-0000f3a0: 7374 730d 0a20 2020 207c 2028 2228 2220  sts..    | ("(" 
-0000f3b0: 7c20 225b 2229 2020 2020 2020 2020 2020  | "[")          
-0000f3c0: 2020 2020 2020 2020 2020 2320 7374 6172            # star
-0000f3d0: 2073 706c 6974 730d 0a20 2020 2020 2020   splits..       
-0000f3e0: 205b 7061 7474 6572 6e73 2022 2c22 5d0d   [patterns ","].
-0000f3f0: 0a20 2020 2020 2020 2022 2a22 2070 6174  .        "*" pat
-0000f400: 7465 726e 0d0a 2020 2020 2020 2020 5b22  tern..        ["
-0000f410: 2c22 2070 6174 7465 726e 735d 0d0a 2020  ," patterns]..  
-0000f420: 2020 2020 2020 5b22 2a22 2070 6174 7465        ["*" patte
-0000f430: 726e 0d0a 2020 2020 2020 2020 5b22 2c22  rn..        [","
-0000f440: 2070 6174 7465 726e 735d 5d0d 0a20 2020   patterns]]..   
-0000f450: 2020 2028 2229 2220 7c20 225d 2229 0d0a     (")" | "]")..
-0000f460: 2020 2020 7c20 5b28 2020 2020 2020 2020      | [(        
-0000f470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f480: 2020 2020 2023 2073 6571 7565 6e63 6520       # sequence 
-0000f490: 7370 6c69 7473 0d0a 2020 2020 2020 2020  splits..        
-0000f4a0: 2228 2220 7061 7474 6572 6e73 2022 2922  "(" patterns ")"
-0000f4b0: 0d0a 2020 2020 2020 2020 7c20 225b 2220  ..        | "[" 
-0000f4c0: 7061 7474 6572 6e73 2022 5d22 0d0a 2020  patterns "]"..  
-0000f4d0: 2020 2020 2920 222b 225d 204e 414d 4520      ) "+"] NAME 
-0000f4e0: 5b22 2b22 2028 0d0a 2020 2020 2020 2020  ["+" (..        
-0000f4f0: 2228 2220 7061 7474 6572 6e73 2022 2922  "(" patterns ")"
-0000f500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f510: 2023 2074 6869 7320 6d61 7463 6820 6d75   # this match mu
-0000f520: 7374 2062 6520 7468 6520 7361 6d65 0d0a  st be the same..
-0000f530: 2020 2020 2020 2020 7c20 225b 2220 7061          | "[" pa
-0000f540: 7474 6572 6e73 2022 5d22 2020 2020 2020  tterns "]"      
-0000f550: 2020 2020 2020 2020 2023 2020 636f 6e73           #  cons
-0000f560: 7472 7563 7420 6173 2074 6865 2066 6972  truct as the fir
-0000f570: 7374 206d 6174 6368 0d0a 2020 2020 2020  st match..      
-0000f580: 295d 205b 222b 2220 4e41 4d45 205b 222b  )] ["+" NAME ["+
-0000f590: 2220 280d 0a20 2020 2020 2020 2022 2822  " (..        "("
-0000f5a0: 2070 6174 7465 726e 7320 2229 2220 2020   patterns ")"   
-0000f5b0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000f5c0: 616e 6420 7361 6d65 2068 6572 650d 0a20  and same here.. 
-0000f5d0: 2020 2020 2020 207c 2022 5b22 2070 6174         | "[" pat
-0000f5e0: 7465 726e 7320 225d 220d 0a20 2020 2020  terns "]"..     
-0000f5f0: 2029 5d5d 0d0a 2020 2020 7c20 5b28 2020   )]]..    | [(  
-0000f600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f610: 2020 2020 2020 2020 2020 2023 2069 7465             # ite
-0000f620: 7261 626c 6520 7370 6c69 7473 0d0a 2020  rable splits..  
-0000f630: 2020 2020 2020 2228 2220 7061 7474 6572        "(" patter
-0000f640: 6e73 2022 2922 0d0a 2020 2020 2020 2020  ns ")"..        
-0000f650: 7c20 225b 2220 7061 7474 6572 6e73 2022  | "[" patterns "
-0000f660: 5d22 0d0a 2020 2020 2020 2020 7c20 2228  ]"..        | "(
-0000f670: 7c22 2070 6174 7465 726e 7320 227c 2922  |" patterns "|)"
-0000f680: 0d0a 2020 2020 2020 2920 223a 3a22 5d20  ..      ) "::"] 
-0000f690: 4e41 4d45 205b 223a 3a22 2028 0d0a 2020  NAME ["::" (..  
-0000f6a0: 2020 2020 2020 2228 2220 7061 7474 6572        "(" patter
-0000f6b0: 6e73 2022 2922 0d0a 2020 2020 2020 2020  ns ")"..        
-0000f6c0: 7c20 225b 2220 7061 7474 6572 6e73 2022  | "[" patterns "
-0000f6d0: 5d22 0d0a 2020 2020 2020 2020 7c20 2228  ]"..        | "(
-0000f6e0: 7c22 2070 6174 7465 726e 7320 227c 2922  |" patterns "|)"
-0000f6f0: 0d0a 2020 2020 2020 295d 205b 2022 3a3a  ..      )] [ "::
-0000f700: 2220 4e41 4d45 205b 0d0a 2020 2020 2020  " NAME [..      
-0000f710: 2020 2228 2220 7061 7474 6572 6e73 2022    "(" patterns "
-0000f720: 2922 0d0a 2020 2020 2020 2020 7c20 225b  )"..        | "[
-0000f730: 2220 7061 7474 6572 6e73 2022 5d22 0d0a  " patterns "]"..
-0000f740: 2020 2020 2020 2020 7c20 2228 7c22 2070          | "(|" p
-0000f750: 6174 7465 726e 7320 227c 2922 0d0a 2020  atterns "|)"..  
-0000f760: 2020 2020 5d5d 0d0a 2020 2020 7c20 5b53      ]]..    | [S
-0000f770: 5452 494e 4720 222b 225d 204e 414d 4520  TRING "+"] NAME 
-0000f780: 2020 2020 2020 2020 2020 2020 2023 2063               # c
-0000f790: 6f6d 706c 6578 2073 7472 696e 6720 6d61  omplex string ma
-0000f7a0: 7463 6869 6e67 0d0a 2020 2020 2020 2020  tching..        
-0000f7b0: 5b22 2b22 2053 5452 494e 475d 0d0a 2020  ["+" STRING]..  
-0000f7c0: 2020 2020 2020 5b22 2b22 204e 414d 4520        ["+" NAME 
-0000f7d0: 5b22 2b22 2053 5452 494e 475d 5d0d 0a29  ["+" STRING]]..)
-0000f7e0: 0d0a 6060 600d 0a0d 0a23 2323 2323 2053  ..```....##### S
-0000f7f0: 656d 616e 7469 6373 2053 7065 6369 6669  emantics Specifi
-0000f800: 6361 7469 6f6e 0d0a 0d0a 606d 6174 6368  cation....`match
-0000f810: 6020 7374 6174 656d 656e 7473 2077 696c  ` statements wil
-0000f820: 6c20 7461 6b65 2074 6865 6972 2070 6174  l take their pat
-0000f830: 7465 726e 2061 6e64 2061 7474 656d 7074  tern and attempt
-0000f840: 2074 6f20 226d 6174 6368 2220 6167 6169   to "match" agai
-0000f850: 6e73 7420 6974 2c20 7065 7266 6f72 6d69  nst it, performi
-0000f860: 6e67 2074 6865 2063 6865 636b 7320 616e  ng the checks an
-0000f870: 6420 6465 636f 6e73 7472 7563 7469 6f6e  d deconstruction
-0000f880: 7320 6f6e 2074 6865 2061 7267 756d 656e  s on the argumen
-0000f890: 7473 2061 7320 7370 6563 6966 6965 6420  ts as specified 
-0000f8a0: 6279 2074 6865 2070 6174 7465 726e 2e20  by the pattern. 
-0000f8b0: 5468 6520 6469 6666 6572 656e 7420 636f  The different co
-0000f8c0: 6e73 7472 7563 7473 2074 6861 7420 6361  nstructs that ca
-0000f8d0: 6e20 6265 2073 7065 6369 6669 6564 2069  n be specified i
-0000f8e0: 6e20 6120 7061 7474 6572 6e2c 2061 6e64  n a pattern, and
-0000f8f0: 2074 6865 6972 2066 756e 6374 696f 6e2c   their function,
-0000f900: 2061 7265 3a0d 0a2d 2056 6172 6961 626c   are:..- Variabl
-0000f910: 6520 4269 6e64 696e 6773 3a0d 0a20 202d  e Bindings:..  -
-0000f920: 2049 6d70 6c69 6369 7420 4269 6e64 696e   Implicit Bindin
-0000f930: 6773 2028 603c 7661 723e 6029 3a20 7769  gs (`<var>`): wi
-0000f940: 6c6c 206d 6174 6368 2074 6f20 616e 7974  ll match to anyt
-0000f950: 6869 6e67 2c20 616e 6420 7769 6c6c 2062  hing, and will b
-0000f960: 6520 626f 756e 6420 746f 2077 6861 7465  e bound to whate
-0000f970: 7665 7220 7468 6579 206d 6174 6368 2074  ver they match t
-0000f980: 6f2c 2077 6974 6820 736f 6d65 2065 7863  o, with some exc
-0000f990: 6570 7469 6f6e 733a 0d0a 2020 2020 2a20  eptions:..    * 
-0000f9a0: 4966 2074 6865 2073 616d 6520 7661 7269  If the same vari
-0000f9b0: 6162 6c65 2069 7320 7573 6564 206d 756c  able is used mul
-0000f9c0: 7469 706c 6520 7469 6d65 732c 2061 2063  tiple times, a c
-0000f9d0: 6865 636b 2077 696c 6c20 6265 2070 6572  heck will be per
-0000f9e0: 666f 726d 6564 2074 6861 7420 6561 6368  formed that each
-0000f9f0: 2075 7365 206d 6174 6368 6573 2074 6f20   use matches to 
-0000fa00: 7468 6520 7361 6d65 2076 616c 7565 2e0d  the same value..
-0000fa10: 0a20 2020 202a 2049 6620 7468 6520 7661  .    * If the va
-0000fa20: 7269 6162 6c65 206e 616d 6520 605f 6020  riable name `_` 
-0000fa30: 6973 2075 7365 642c 206e 6f74 6869 6e67  is used, nothing
-0000fa40: 2077 696c 6c20 6265 2062 6f75 6e64 2061   will be bound a
-0000fa50: 6e64 2065 7665 7279 7468 696e 6720 7769  nd everything wi
-0000fa60: 6c6c 2061 6c77 6179 7320 6d61 7463 6820  ll always match 
-0000fa70: 746f 2069 7420 2860 5f60 2069 7320 436f  to it (`_` is Co
-0000fa80: 636f 6e75 7427 7320 2277 696c 6463 6172  conut's "wildcar
-0000fa90: 6422 292e 0d0a 2020 2d20 4578 706c 6963  d")...  - Explic
-0000faa0: 6974 2042 696e 6469 6e67 7320 2860 3c70  it Bindings (`<p
-0000fab0: 6174 7465 726e 3e20 6173 203c 7661 723e  attern> as <var>
-0000fac0: 6029 3a20 7769 6c6c 2062 696e 6420 603c  `): will bind `<
-0000fad0: 7661 723e 6020 746f 2060 3c70 6174 7465  var>` to `<patte
-0000fae0: 726e 3e60 2e0d 0a2d 2042 6173 6963 2043  rn>`...- Basic C
-0000faf0: 6865 636b 733a 0d0a 2020 2d20 436f 6e73  hecks:..  - Cons
-0000fb00: 7461 6e74 732c 204e 756d 6265 7273 2c20  tants, Numbers, 
-0000fb10: 616e 6420 5374 7269 6e67 733a 2077 696c  and Strings: wil
-0000fb20: 6c20 6f6e 6c79 206d 6174 6368 2074 6f20  l only match to 
-0000fb30: 7468 6520 7361 6d65 2063 6f6e 7374 616e  the same constan
-0000fb40: 742c 206e 756d 6265 722c 206f 7220 7374  t, number, or st
-0000fb50: 7269 6e67 2069 6e20 7468 6520 7361 6d65  ring in the same
-0000fb60: 2070 6f73 6974 696f 6e20 696e 2074 6865   position in the
-0000fb70: 2061 7267 756d 656e 7473 2e0d 0a20 202d   arguments...  -
-0000fb80: 2045 7175 616c 6974 7920 4368 6563 6b73   Equality Checks
-0000fb90: 2028 603d 3d3c 6578 7072 3e60 293a 2077   (`==<expr>`): w
-0000fba0: 696c 6c20 6368 6563 6b20 7468 6174 2077  ill check that w
-0000fbb0: 6861 7465 7665 7220 6973 2069 6e20 7468  hatever is in th
-0000fbc0: 6174 2070 6f73 6974 696f 6e20 6973 2060  at position is `
-0000fbd0: 3d3d 6020 746f 2074 6865 2065 7870 7265  ==` to the expre
-0000fbe0: 7373 696f 6e20 603c 6578 7072 3e60 2e0d  ssion `<expr>`..
-0000fbf0: 0a20 202d 2049 6465 6e74 6974 7920 4368  .  - Identity Ch
-0000fc00: 6563 6b73 2028 6069 7320 3c65 7870 723e  ecks (`is <expr>
-0000fc10: 6029 3a20 7769 6c6c 2063 6865 636b 2074  `): will check t
-0000fc20: 6861 7420 7768 6174 6576 6572 2069 7320  hat whatever is 
-0000fc30: 696e 2074 6861 7420 706f 7369 7469 6f6e  in that position
-0000fc40: 2060 6973 6020 7468 6520 6578 7072 6573   `is` the expres
-0000fc50: 7369 6f6e 2060 3c65 7870 723e 602e 0d0a  sion `<expr>`...
-0000fc60: 2d20 4172 6269 7472 6172 7920 4675 6e63  - Arbitrary Func
-0000fc70: 7469 6f6e 2050 6174 7465 726e 733a 0d0a  tion Patterns:..
-0000fc80: 2020 2d20 496e 6669 7820 4368 6563 6b73    - Infix Checks
-0000fc90: 2028 6060 203c 7061 7474 6572 6e3e 2060   (`` <pattern> `
-0000fca0: 3c6f 703e 6020 3c65 7870 723e 2060 6029  <op>` <expr> ``)
-0000fcb0: 3a20 7769 6c6c 2063 6865 636b 2074 6861  : will check tha
-0000fcc0: 7420 7468 6520 6f70 6572 6174 6f72 2060  t the operator `
-0000fcd0: 3c6f 703e 2428 3f2c 203c 6578 7072 3e29  <op>$(?, <expr>)
-0000fce0: 6020 7265 7475 726e 7320 6120 7472 7574  ` returns a trut
-0000fcf0: 6879 2076 616c 7565 2077 6865 6e20 6361  hy value when ca
-0000fd00: 6c6c 6564 206f 6e20 7768 6174 6576 6572  lled on whatever
-0000fd10: 2069 7320 696e 2074 6861 7420 706f 7369   is in that posi
-0000fd20: 7469 6f6e 2c20 7468 656e 206d 6174 6368  tion, then match
-0000fd30: 6573 2060 3c70 6174 7465 726e 3e60 2e20  es `<pattern>`. 
-0000fd40: 466f 7220 6578 616d 706c 652c 2060 6020  For example, `` 
-0000fd50: 7820 6069 7369 6e73 7461 6e63 6560 2069  x `isinstance` i
-0000fd60: 6e74 2060 6020 7769 6c6c 2063 6865 636b  nt `` will check
-0000fd70: 2074 6861 7420 7768 6174 6576 6572 2069   that whatever i
-0000fd80: 7320 696e 2074 6861 7420 706f 7369 7469  s in that positi
-0000fd90: 6f6e 2060 6973 696e 7374 616e 6365 2428  on `isinstance$(
-0000fda0: 3f2c 2069 6e74 2960 2061 6e64 2062 696e  ?, int)` and bin
-0000fdb0: 6420 6974 2074 6f20 6078 602e 2049 6620  d it to `x`. If 
-0000fdc0: 603c 6578 7072 3e60 2069 7320 6e6f 7420  `<expr>` is not 
-0000fdd0: 6769 7665 6e2c 2077 696c 6c20 7369 6d70  given, will simp
-0000fde0: 6c79 2063 6865 636b 2060 3c6f 703e 6020  ly check `<op>` 
-0000fdf0: 6469 7265 6374 6c79 2072 6174 6865 7220  directly rather 
-0000fe00: 7468 616e 2060 3c6f 703e 2428 3c65 7870  than `<op>$(<exp
-0000fe10: 723e 2960 2e20 4164 6469 7469 6f6e 616c  r>)`. Additional
-0000fe20: 6c79 2c20 6060 2060 3c6f 703e 6020 6060  ly, `` `<op>` ``
-0000fe30: 2063 616e 2069 6e73 7465 6164 2062 6520   can instead be 
-0000fe40: 6120 5b63 7573 746f 6d20 6f70 6572 6174  a [custom operat
-0000fe50: 6f72 5d28 2363 7573 746f 6d2d 6f70 6572  or](#custom-oper
-0000fe60: 6174 6f72 7329 2028 696e 2074 6861 7420  ators) (in that 
-0000fe70: 6361 7365 2c20 6e6f 2062 6163 6b74 6963  case, no backtic
-0000fe80: 6b73 2073 686f 756c 6420 6265 2075 7365  ks should be use
-0000fe90: 6429 2e0d 0a20 202d 2056 6965 7720 5061  d)...  - View Pa
-0000fea0: 7474 6572 6e73 2028 6028 3c65 7870 7265  tterns (`(<expre
-0000feb0: 7373 696f 6e3e 2920 2d3e 203c 7061 7474  ssion>) -> <patt
-0000fec0: 6572 6e3e 6029 3a20 6361 6c6c 7320 603c  ern>`): calls `<
-0000fed0: 6578 7072 6573 7369 6f6e 3e60 206f 6e20  expression>` on 
-0000fee0: 7468 6520 6974 656d 2062 6569 6e67 206d  the item being m
-0000fef0: 6174 6368 6564 2061 6e64 206d 6174 6368  atched and match
-0000ff00: 6573 2074 6865 2072 6573 756c 7420 746f  es the result to
-0000ff10: 2060 3c70 6174 7465 726e 3e60 2e20 5468   `<pattern>`. Th
-0000ff20: 6520 6d61 7463 6820 6661 696c 7320 6966  e match fails if
-0000ff30: 2061 205b 604d 6174 6368 4572 726f 7260   a [`MatchError`
-0000ff40: 5d28 236d 6174 6368 6572 726f 7229 2069  ](#matcherror) i
-0000ff50: 7320 7261 6973 6564 2e20 603c 6578 7072  s raised. `<expr
-0000ff60: 6573 7369 6f6e 3e60 206d 6179 2062 6520  ession>` may be 
-0000ff70: 756e 7061 7265 6e74 6865 7369 7a65 6420  unparenthesized 
-0000ff80: 6f6e 6c79 2077 6865 6e20 6974 2069 7320  only when it is 
-0000ff90: 6120 7369 6e67 6c65 2061 746f 6d2e 0d0a  a single atom...
-0000ffa0: 2d20 436c 6173 7320 616e 6420 4461 7461  - Class and Data
-0000ffb0: 2054 7970 6520 4d61 7463 6869 6e67 3a0d   Type Matching:.
-0000ffc0: 0a20 202d 2043 6c61 7373 6573 206f 7220  .  - Classes or 
-0000ffd0: 4461 7461 2054 7970 6573 2028 603c 6e61  Data Types (`<na
-0000ffe0: 6d65 3e28 3c61 7267 733e 2960 293a 2077  me>(<args>)`): w
-0000fff0: 696c 6c20 6d61 7463 6820 6173 2061 2064  ill match as a d
-00010000: 6174 6120 7479 7065 2069 6620 6769 7665  ata type if give
-00010010: 6e20 5b61 2043 6f63 6f6e 7574 2060 6461  n [a Coconut `da
-00010020: 7461 6020 7479 7065 5d28 2364 6174 6129  ta` type](#data)
-00010030: 2028 6f72 2061 2074 7570 6c65 206f 6620   (or a tuple of 
-00010040: 436f 636f 6e75 7420 6461 7461 2074 7970  Coconut data typ
-00010050: 6573 2920 616e 6420 6120 636c 6173 7320  es) and a class 
-00010060: 6f74 6865 7277 6973 652e 0d0a 2020 2d20  otherwise...  - 
-00010070: 4461 7461 2054 7970 6573 2028 6064 6174  Data Types (`dat
-00010080: 6120 3c6e 616d 653e 283c 6172 6773 3e29  a <name>(<args>)
-00010090: 6029 3a20 7769 6c6c 2063 6865 636b 2074  `): will check t
-000100a0: 6861 7420 7768 6174 6576 6572 2069 7320  hat whatever is 
-000100b0: 696e 2074 6861 7420 706f 7369 7469 6f6e  in that position
-000100c0: 2069 7320 6f66 2064 6174 6120 7479 7065   is of data type
-000100d0: 2060 3c6e 616d 653e 6020 616e 6420 7769   `<name>` and wi
-000100e0: 6c6c 206d 6174 6368 2074 6865 2061 7474  ll match the att
-000100f0: 7269 6275 7465 7320 746f 2060 3c61 7267  ributes to `<arg
-00010100: 733e 602e 2047 656e 6572 616c 6c79 2c20  s>`. Generally, 
-00010110: 6064 6174 6120 3c6e 616d 653e 283c 6172  `data <name>(<ar
-00010120: 6773 3e29 6020 7769 6c6c 206d 6174 6368  gs>)` will match
-00010130: 2061 6e79 2064 6174 6120 7479 7065 2074   any data type t
-00010140: 6861 7420 636f 756c 6420 6861 7665 2062  hat could have b
-00010150: 6565 6e20 636f 6e73 7472 7563 7465 6420  een constructed 
-00010160: 7769 7468 2060 6d61 6b65 6461 7461 283c  with `makedata(<
-00010170: 6e61 6d65 3e2c 203c 6172 6773 3e29 602e  name>, <args>)`.
-00010180: 2049 6e63 6c75 6465 7320 7375 7070 6f72   Includes suppor
-00010190: 7420 666f 7220 706f 7369 7469 6f6e 616c  t for positional
-000101a0: 2061 7267 756d 656e 7473 2c20 6e61 6d65   arguments, name
-000101b0: 6420 6172 6775 6d65 6e74 732c 2064 6566  d arguments, def
-000101c0: 6175 6c74 2061 7267 756d 656e 7473 2c20  ault arguments, 
-000101d0: 616e 6420 7374 6172 7265 6420 6172 6775  and starred argu
-000101e0: 6d65 6e74 732e 2041 6c73 6f20 7375 7070  ments. Also supp
-000101f0: 6f72 7473 2073 7472 6963 7420 6174 7472  orts strict attr
-00010200: 6962 7574 6573 2062 7920 7072 6570 656e  ibutes by prepen
-00010210: 6469 6e67 2061 2064 6f74 2074 6f20 7468  ding a dot to th
-00010220: 6520 6174 7472 6962 7574 6520 6e61 6d65  e attribute name
-00010230: 2074 6861 7420 7261 6973 6573 2060 4174   that raises `At
-00010240: 7472 6962 7574 4572 726f 7260 2069 6620  tributError` if 
-00010250: 7468 6520 6174 7472 6962 7574 6520 6973  the attribute is
-00010260: 206e 6f74 2070 7265 7365 6e74 2072 6174   not present rat
-00010270: 6865 7220 7468 616e 2066 6169 6c69 6e67  her than failing
-00010280: 2074 6865 206d 6174 6368 2028 652e 672e   the match (e.g.
-00010290: 2060 6461 7461 204d 7944 6174 6128 2e6d   `data MyData(.m
-000102a0: 795f 6174 7472 3d3c 736f 6d65 5f70 6174  y_attr=<some_pat
-000102b0: 7465 726e 3e29 6029 2e0d 0a20 202d 2043  tern>)`)...  - C
-000102c0: 6c61 7373 6573 2028 6063 6c61 7373 203c  lasses (`class <
-000102d0: 6e61 6d65 3e28 3c61 7267 733e 2960 293a  name>(<args>)`):
-000102e0: 2064 6f65 7320 5b50 4550 2d36 3334 2d73   does [PEP-634-s
-000102f0: 7479 6c65 2063 6c61 7373 206d 6174 6368  tyle class match
-00010300: 696e 675d 2868 7474 7073 3a2f 2f77 7777  ing](https://www
-00010310: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
-00010320: 7065 7073 2f70 6570 2d30 3633 342f 2363  peps/pep-0634/#c
-00010330: 6c61 7373 2d70 6174 7465 726e 7329 2e20  lass-patterns). 
-00010340: 416c 736f 2073 7570 706f 7274 7320 7374  Also supports st
-00010350: 7269 6374 2061 7474 7269 6275 7465 206d  rict attribute m
-00010360: 6174 6368 696e 6720 6173 2061 626f 7665  atching as above
-00010370: 2e0d 0a2d 204d 6170 7069 6e67 2044 6573  ...- Mapping Des
-00010380: 7472 7563 7475 7269 6e67 3a0d 0a20 202d  tructuring:..  -
-00010390: 2044 6963 7473 2028 607b 3c6b 6579 3e3a   Dicts (`{<key>:
-000103a0: 203c 7661 6c75 653e 2c20 2e2e 2e7d 6029   <value>, ...}`)
-000103b0: 3a20 7769 6c6c 206d 6174 6368 2061 6e79  : will match any
-000103c0: 206d 6170 7069 6e67 2028 6063 6f6c 6c65   mapping (`colle
-000103d0: 6374 696f 6e73 2e61 6263 2e4d 6170 7069  ctions.abc.Mappi
-000103e0: 6e67 6029 2077 6974 6820 7468 6520 6769  ng`) with the gi
-000103f0: 7665 6e20 6b65 7973 2061 6e64 2076 616c  ven keys and val
-00010400: 7565 7320 7468 6174 206d 6174 6368 2074  ues that match t
-00010410: 6865 2076 616c 7565 2070 6174 7465 726e  he value pattern
-00010420: 732e 204b 6579 7320 6d75 7374 2062 6520  s. Keys must be 
-00010430: 636f 6e73 7461 6e74 7320 6f72 2065 7175  constants or equ
-00010440: 616c 6974 7920 6368 6563 6b73 2e0d 0a20  ality checks... 
-00010450: 202d 2044 6963 7473 2057 6974 6820 5265   - Dicts With Re
-00010460: 7374 2028 607b 3c70 6169 7273 3e2c 202a  st (`{<pairs>, *
-00010470: 2a3c 7265 7374 3e7d 6029 3a20 7769 6c6c  *<rest>}`): will
-00010480: 206d 6174 6368 2061 206d 6170 7069 6e67   match a mapping
-00010490: 2028 6063 6f6c 6c65 6374 696f 6e73 2e61   (`collections.a
-000104a0: 6263 2e4d 6170 7069 6e67 6029 2063 6f6e  bc.Mapping`) con
-000104b0: 7461 696e 696e 6720 616c 6c20 7468 6520  taining all the 
-000104c0: 603c 7061 6972 733e 602c 2061 6e64 2077  `<pairs>`, and w
-000104d0: 696c 6c20 7075 7420 6120 6064 6963 7460  ill put a `dict`
-000104e0: 206f 6620 6576 6572 7974 6869 6e67 2065   of everything e
-000104f0: 6c73 6520 696e 746f 2060 3c72 6573 743e  lse into `<rest>
-00010500: 602e 2049 6620 603c 7265 7374 3e60 2069  `. If `<rest>` i
-00010510: 7320 607b 7d60 2c20 7769 6c6c 2065 6e66  s `{}`, will enf
-00010520: 6f72 6365 2074 6861 7420 7468 6520 6d61  orce that the ma
-00010530: 7070 696e 6720 6973 2065 7861 6374 6c79  pping is exactly
-00010540: 2074 6865 2073 616d 6520 6c65 6e67 7468   the same length
-00010550: 2061 7320 603c 7061 6972 733e 602e 0d0a   as `<pairs>`...
-00010560: 2d20 5365 7420 4465 7374 7275 6374 7572  - Set Destructur
-00010570: 696e 673a 0d0a 2020 2d20 5365 7473 2028  ing:..  - Sets (
-00010580: 6073 7b3c 636f 6e73 7461 6e74 733e 2c20  `s{<constants>, 
-00010590: 2a5f 7d60 293a 2077 696c 6c20 6d61 7463  *_}`): will matc
-000105a0: 6820 6120 7365 7420 2860 636f 6c6c 6563  h a set (`collec
-000105b0: 7469 6f6e 732e 6162 632e 5365 7460 2920  tions.abc.Set`) 
-000105c0: 7468 6174 2063 6f6e 7461 696e 7320 7468  that contains th
-000105d0: 6520 6769 7665 6e20 603c 636f 6e73 7461  e given `<consta
-000105e0: 6e74 733e 602c 2074 686f 7567 6820 6974  nts>`, though it
-000105f0: 206d 6179 2061 6c73 6f20 636f 6e74 6169   may also contai
-00010600: 6e20 6f74 6865 7220 6974 656d 732e 2054  n other items. T
-00010610: 6865 2060 7360 2070 7265 6669 7820 616e  he `s` prefix an
-00010620: 6420 7468 6520 602a 5f60 2061 7265 206f  d the `*_` are o
-00010630: 7074 696f 6e61 6c2e 0d0a 2020 2d20 4669  ptional...  - Fi
-00010640: 7865 642d 6c65 6e67 7468 2053 6574 7320  xed-length Sets 
-00010650: 2860 737b 3c63 6f6e 7374 616e 7473 3e2c  (`s{<constants>,
-00010660: 202a 2829 7d60 293a 2077 696c 6c20 6d61   *()}`): will ma
-00010670: 7463 6820 6120 6073 6574 6020 2860 636f  tch a `set` (`co
-00010680: 6c6c 6563 7469 6f6e 732e 6162 632e 5365  llections.abc.Se
-00010690: 7460 2920 7468 6174 2063 6f6e 7461 696e  t`) that contain
-000106a0: 7320 7468 6520 6769 7665 6e20 603c 636f  s the given `<co
-000106b0: 6e73 7461 6e74 733e 602c 2061 6e64 206e  nstants>`, and n
-000106c0: 6f74 6869 6e67 2065 6c73 652e 0d0a 2020  othing else...  
-000106d0: 2d20 4672 6f7a 656e 7365 7473 2028 6066  - Frozensets (`f
-000106e0: 7b3c 636f 6e73 7461 6e74 733e 7d60 293a  {<constants>}`):
-000106f0: 2077 696c 6c20 6d61 7463 6820 6120 6066   will match a `f
-00010700: 726f 7a65 6e73 6574 6020 2860 6672 6f7a  rozenset` (`froz
-00010710: 656e 7365 7460 2920 7468 6174 2063 6f6e  enset`) that con
-00010720: 7461 696e 7320 7468 6520 6769 7665 6e20  tains the given 
-00010730: 603c 636f 6e73 7461 6e74 733e 602e 204d  `<constants>`. M
-00010740: 6179 2075 7365 2065 6974 6865 7220 6e6f  ay use either no
-00010750: 726d 616c 206f 7220 6669 7865 642d 6c65  rmal or fixed-le
-00010760: 6e67 7468 2073 796e 7461 782e 0d0a 2020  ngth syntax...  
-00010770: 2d20 4d75 6c74 6973 6574 7320 2860 6d7b  - Multisets (`m{
-00010780: 3c63 6f6e 7374 616e 7473 3e7d 6029 3a20  <constants>}`): 
-00010790: 7769 6c6c 206d 6174 6368 2061 205b 606d  will match a [`m
-000107a0: 756c 7469 7365 7460 5d28 236d 756c 7469  ultiset`](#multi
-000107b0: 7365 7429 2028 6063 6f6c 6c65 6374 696f  set) (`collectio
-000107c0: 6e73 2e43 6f75 6e74 6572 6029 2074 6861  ns.Counter`) tha
-000107d0: 7420 636f 6e74 6169 6e73 2061 7420 6c65  t contains at le
-000107e0: 6173 7420 7468 6520 6769 7665 6e20 603c  ast the given `<
-000107f0: 636f 6e73 7461 6e74 733e 602e 204d 6179  constants>`. May
-00010800: 2075 7365 2065 6974 6865 7220 6e6f 726d   use either norm
-00010810: 616c 206f 7220 6669 7865 642d 6c65 6e67  al or fixed-leng
-00010820: 7468 2073 796e 7461 782e 0d0a 2d20 5365  th syntax...- Se
-00010830: 7175 656e 6365 2044 6573 7472 7563 7475  quence Destructu
-00010840: 7269 6e67 3a0d 0a20 202d 204c 6973 7473  ring:..  - Lists
-00010850: 2028 605b 3c70 6174 7465 726e 733e 5d60   (`[<patterns>]`
-00010860: 292c 2054 7570 6c65 7320 2860 283c 7061  ), Tuples (`(<pa
-00010870: 7474 6572 6e73 3e29 6029 3a20 7769 6c6c  tterns>)`): will
-00010880: 206f 6e6c 7920 6d61 7463 6820 6120 7365   only match a se
-00010890: 7175 656e 6365 2028 6063 6f6c 6c65 6374  quence (`collect
-000108a0: 696f 6e73 2e61 6263 2e53 6571 7565 6e63  ions.abc.Sequenc
-000108b0: 6560 2920 6f66 2074 6865 2073 616d 6520  e`) of the same 
-000108c0: 6c65 6e67 7468 2c20 616e 6420 7769 6c6c  length, and will
-000108d0: 2063 6865 636b 2074 6865 2063 6f6e 7465   check the conte
-000108e0: 6e74 7320 6167 6169 6e73 7420 603c 7061  nts against `<pa
-000108f0: 7474 6572 6e73 3e60 2028 436f 636f 6e75  tterns>` (Coconu
-00010900: 7420 6175 746f 6d61 7469 6361 6c6c 7920  t automatically 
-00010910: 7265 6769 7374 6572 7320 606e 756d 7079  registers `numpy
-00010920: 6020 6172 7261 7973 2061 6e64 2060 636f  ` arrays and `co
-00010930: 6c6c 6563 7469 6f6e 732e 6465 7175 6560  llections.deque`
-00010940: 206f 626a 6563 7473 2061 7320 7365 7175   objects as sequ
-00010950: 656e 6365 7329 2e0d 0a20 202d 204c 617a  ences)...  - Laz
-00010960: 7920 6c69 7374 7320 2860 287c 3c70 6174  y lists (`(|<pat
-00010970: 7465 726e 733e 7c29 6029 3a20 7361 6d65  terns>|)`): same
-00010980: 2061 7320 6c69 7374 206f 7220 7475 706c   as list or tupl
-00010990: 6520 6d61 7463 6869 6e67 2c20 6275 7420  e matching, but 
-000109a0: 6368 6563 6b73 2066 6f72 2061 6e20 4974  checks for an It
-000109b0: 6572 6162 6c65 2028 6063 6f6c 6c65 6374  erable (`collect
-000109c0: 696f 6e73 2e61 6263 2e49 7465 7261 626c  ions.abc.Iterabl
-000109d0: 6560 2920 696e 7374 6561 6420 6f66 2061  e`) instead of a
-000109e0: 2053 6571 7565 6e63 652e 0d0a 2020 2d20   Sequence...  - 
-000109f0: 4865 6164 2d54 6169 6c20 5370 6c69 7473  Head-Tail Splits
-00010a00: 2028 603c 6c69 7374 2f74 7570 6c65 3e20   (`<list/tuple> 
-00010a10: 2b20 3c76 6172 3e60 206f 7220 6028 3c70  + <var>` or `(<p
-00010a20: 6174 7465 726e 733e 2c20 2a3c 7661 723e  atterns>, *<var>
-00010a30: 2960 293a 2077 696c 6c20 6d61 7463 6820  )`): will match 
-00010a40: 7468 6520 6265 6769 6e6e 696e 6720 6f66  the beginning of
-00010a50: 2074 6865 2073 6571 7565 6e63 6520 6167   the sequence ag
-00010a60: 6169 6e73 7420 7468 6520 603c 6c69 7374  ainst the `<list
-00010a70: 2f74 7570 6c65 3e60 2f60 3c70 6174 7465  /tuple>`/`<patte
-00010a80: 726e 733e 602c 2074 6865 6e20 6269 6e64  rns>`, then bind
-00010a90: 2074 6865 2072 6573 7420 746f 2060 3c76   the rest to `<v
-00010aa0: 6172 3e60 2c20 616e 6420 6d61 6b65 2069  ar>`, and make i
-00010ab0: 7420 7468 6520 7479 7065 206f 6620 7468  t the type of th
-00010ac0: 6520 636f 6e73 7472 7563 7420 7573 6564  e construct used
-00010ad0: 2e0d 0a20 202d 2049 6e69 742d 4c61 7374  ...  - Init-Last
-00010ae0: 2053 706c 6974 7320 2860 3c76 6172 3e20   Splits (`<var> 
-00010af0: 2b20 3c6c 6973 742f 7475 706c 653e 6020  + <list/tuple>` 
-00010b00: 6f72 2060 282a 3c76 6172 3e2c 203c 7061  or `(*<var>, <pa
-00010b10: 7474 6572 6e73 3e29 6029 3a20 6578 6163  tterns>)`): exac
-00010b20: 746c 7920 7468 6520 7361 6d65 2061 7320  tly the same as 
-00010b30: 6865 6164 2d74 6169 6c20 7370 6c69 7473  head-tail splits
-00010b40: 2c20 6275 7420 6f6e 2074 6865 2065 6e64  , but on the end
-00010b50: 2069 6e73 7465 6164 206f 6620 7468 6520   instead of the 
-00010b60: 6265 6769 6e6e 696e 6720 6f66 2074 6865  beginning of the
-00010b70: 2073 6571 7565 6e63 652e 0d0a 2020 2d20   sequence...  - 
-00010b80: 4865 6164 2d4c 6173 7420 5370 6c69 7473  Head-Last Splits
-00010b90: 2028 603c 6c69 7374 2f74 7570 6c65 3e20   (`<list/tuple> 
-00010ba0: 2b20 3c76 6172 3e20 2b20 3c6c 6973 742f  + <var> + <list/
-00010bb0: 7475 706c 653e 6020 6f72 2060 283c 7061  tuple>` or `(<pa
-00010bc0: 7474 6572 6e73 3e2c 202a 3c76 6172 3e2c  tterns>, *<var>,
-00010bd0: 203c 7061 7474 6572 6e73 3e29 6029 3a20   <patterns>)`): 
-00010be0: 7468 6520 636f 6d62 696e 6174 696f 6e20  the combination 
-00010bf0: 6f66 2061 2068 6561 642d 7461 696c 2061  of a head-tail a
-00010c00: 6e64 2061 6e20 696e 6974 2d6c 6173 7420  nd an init-last 
-00010c10: 7370 6c69 742e 0d0a 2020 2d20 5365 6172  split...  - Sear
-00010c20: 6368 2053 706c 6974 7320 2860 3c76 6172  ch Splits (`<var
-00010c30: 313e 202b 203c 6c69 7374 2f74 7570 6c65  1> + <list/tuple
-00010c40: 3e20 2b20 3c76 6172 323e 6020 6f72 2060  > + <var2>` or `
-00010c50: 282a 3c76 6172 313e 2c20 3c70 6174 7465  (*<var1>, <patte
-00010c60: 726e 733e 2c20 2a3c 7661 7232 3e29 6029  rns>, *<var2>)`)
-00010c70: 3a20 7365 6172 6368 6573 2066 6f72 2074  : searches for t
-00010c80: 6865 2066 6972 7374 206f 6363 7572 7265  he first occurre
-00010c90: 6e63 6520 6f66 2074 6865 2060 3c6c 6973  nce of the `<lis
-00010ca0: 742f 7475 706c 653e 602f 603c 7061 7474  t/tuple>`/`<patt
-00010cb0: 6572 6e73 3e60 2069 6e20 7468 6520 7365  erns>` in the se
-00010cc0: 7175 656e 6365 2c20 7468 656e 2070 7574  quence, then put
-00010cd0: 7320 6576 6572 7974 6869 6e67 2062 6566  s everything bef
-00010ce0: 6f72 6520 696e 746f 2060 3c76 6172 313e  ore into `<var1>
-00010cf0: 6020 616e 6420 6576 6572 7974 6869 6e67  ` and everything
-00010d00: 2061 6674 6572 2069 6e74 6f20 603c 7661   after into `<va
-00010d10: 7232 3e60 2e0d 0a20 202d 2048 6561 642d  r2>`...  - Head-
-00010d20: 4c61 7374 2053 6561 7263 6820 5370 6c69  Last Search Spli
-00010d30: 7473 2028 603c 6c69 7374 2f74 7570 6c65  ts (`<list/tuple
-00010d40: 3e20 2b20 3c76 6172 3e20 2b20 3c6c 6973  > + <var> + <lis
-00010d50: 742f 7475 706c 653e 202b 203c 7661 723e  t/tuple> + <var>
-00010d60: 202b 203c 6c69 7374 2f74 7570 6c65 3e60   + <list/tuple>`
-00010d70: 206f 7220 6028 3c70 6174 7465 726e 733e   or `(<patterns>
-00010d80: 2c20 2a3c 7661 723e 2c20 3c70 6174 7465  , *<var>, <patte
-00010d90: 726e 733e 2c20 2a3c 7661 723e 2c20 3c70  rns>, *<var>, <p
-00010da0: 6174 7465 726e 733e 2960 293a 2074 6865  atterns>)`): the
-00010db0: 2063 6f6d 6269 6e61 7469 6f6e 206f 6620   combination of 
-00010dc0: 6120 6865 6164 2d74 6169 6c20 7370 6c69  a head-tail spli
-00010dd0: 7420 616e 6420 6120 7365 6172 6368 2073  t and a search s
-00010de0: 706c 6974 2e0d 0a20 202d 2049 7465 7261  plit...  - Itera
-00010df0: 626c 6520 5370 6c69 7473 2028 603c 6c69  ble Splits (`<li
-00010e00: 7374 2f74 7570 6c65 2f6c 617a 7920 6c69  st/tuple/lazy li
-00010e10: 7374 3e20 3a3a 203c 7661 723e 203a 3a20  st> :: <var> :: 
-00010e20: 3c6c 6973 742f 7475 706c 652f 6c61 7a79  <list/tuple/lazy
-00010e30: 206c 6973 743e 203a 3a20 3c76 6172 3e20   list> :: <var> 
-00010e40: 3a3a 203c 6c69 7374 2f74 7570 6c65 2f6c  :: <list/tuple/l
-00010e50: 617a 7920 6c69 7374 3e60 293a 2073 616d  azy list>`): sam
-00010e60: 6520 6173 206f 7468 6572 2073 6571 7565  e as other seque
-00010e70: 6e63 6520 6465 7374 7275 6374 7572 696e  nce destructurin
-00010e80: 672c 2062 7574 2077 6f72 6b73 206f 6e20  g, but works on 
-00010e90: 616e 7920 6974 6572 6162 6c65 2028 6063  any iterable (`c
-00010ea0: 6f6c 6c65 6374 696f 6e73 2e61 6263 2e49  ollections.abc.I
-00010eb0: 7465 7261 626c 6560 292c 2069 6e63 6c75  terable`), inclu
-00010ec0: 6469 6e67 2069 6e66 696e 6974 6520 6974  ding infinite it
-00010ed0: 6572 6174 6f72 7320 286e 6f74 6520 7468  erators (note th
-00010ee0: 6174 2069 6620 616e 2069 7465 7261 746f  at if an iterato
-00010ef0: 7220 6973 206d 6174 6368 6564 2061 6761  r is matched aga
-00010f00: 696e 7374 2069 7420 7769 6c6c 2062 6520  inst it will be 
-00010f10: 6d6f 6469 6669 6564 2075 6e6c 6573 7320  modified unless 
-00010f20: 6974 2069 7320 5b60 7265 6974 6572 6162  it is [`reiterab
-00010f30: 6c65 605d 2823 7265 6974 6572 6162 6c65  le`](#reiterable
-00010f40: 2929 2e0d 0a20 202d 2043 6f6d 706c 6578  ))...  - Complex
-00010f50: 2053 7472 696e 6720 4d61 7463 6869 6e67   String Matching
-00010f60: 2028 603c 7374 7269 6e67 3e20 2b20 3c76   (`<string> + <v
-00010f70: 6172 3e20 2b20 3c73 7472 696e 673e 202b  ar> + <string> +
-00010f80: 203c 7661 723e 202b 203c 7374 7269 6e67   <var> + <string
-00010f90: 3e60 293a 2073 7472 696e 6720 6d61 7463  >`): string matc
-00010fa0: 6869 6e67 2073 7570 706f 7274 7320 7468  hing supports th
-00010fb0: 6520 7361 6d65 2064 6573 7472 7563 7475  e same destructu
-00010fc0: 7269 6e67 206f 7074 696f 6e73 2061 7320  ring options as 
-00010fd0: 6162 6f76 652e 0d0a 0d0a 5f4e 6f74 653a  above....._Note:
-00010fe0: 204c 696b 6520 5b69 7465 7261 746f 7220   Like [iterator 
-00010ff0: 736c 6963 696e 675d 2823 6974 6572 6174  slicing](#iterat
-00011000: 6f72 2d73 6c69 6369 6e67 292c 2069 7465  or-slicing), ite
-00011010: 7261 746f 7220 616e 6420 6c61 7a79 206c  rator and lazy l
-00011020: 6973 7420 6d61 7463 6869 6e67 206d 616b  ist matching mak
-00011030: 6520 6e6f 2067 7561 7261 6e74 6565 2074  e no guarantee t
-00011040: 6861 7420 7468 6520 6f72 6967 696e 616c  hat the original
-00011050: 2069 7465 7261 746f 7220 6d61 7463 6865   iterator matche
-00011060: 6420 6167 6169 6e73 7420 6265 2070 7265  d against be pre
-00011070: 7365 7276 6564 2028 746f 2070 7265 7365  served (to prese
-00011080: 7276 6520 7468 6520 6974 6572 6174 6f72  rve the iterator
-00011090: 2c20 7573 6520 436f 636f 6e75 7427 7320  , use Coconut's 
-000110a0: 5b60 7265 6974 6572 6162 6c65 605d 2823  [`reiterable`](#
-000110b0: 7265 6974 6572 6162 6c65 2920 6275 696c  reiterable) buil
-000110c0: 742d 696e 292e 5f0d 0a0d 0a57 6865 6e20  t-in)._....When 
-000110d0: 6368 6563 6b69 6e67 2077 6865 7468 6572  checking whether
-000110e0: 206f 7220 6e6f 7420 616e 206f 626a 6563   or not an objec
-000110f0: 7420 6361 6e20 6265 206d 6174 6368 6564  t can be matched
-00011100: 2061 6761 696e 7374 2069 6e20 6120 7061   against in a pa
-00011110: 7274 6963 756c 6172 2066 6173 6869 6f6e  rticular fashion
-00011120: 2c20 436f 636f 6e75 7420 6d61 6b65 7320  , Coconut makes 
-00011130: 7573 6520 6f66 2050 7974 686f 6e27 7320  use of Python's 
-00011140: 6162 7374 7261 6374 2062 6173 6520 636c  abstract base cl
-00011150: 6173 7365 732e 2054 6865 7265 666f 7265  asses. Therefore
-00011160: 2c20 746f 2065 6e73 7572 6520 7072 6f70  , to ensure prop
-00011170: 6572 206d 6174 6368 696e 6720 666f 7220  er matching for 
-00011180: 6120 6375 7374 6f6d 206f 626a 6563 742c  a custom object,
-00011190: 2069 7427 7320 7265 636f 6d6d 656e 6465   it's recommende
-000111a0: 6420 746f 2072 6567 6973 7465 7220 6974  d to register it
-000111b0: 2077 6974 6820 7468 6520 7072 6f70 6572   with the proper
-000111c0: 2061 6273 7472 6163 7420 6261 7365 2063   abstract base c
-000111d0: 6c61 7373 6573 2e0d 0a0d 0a23 2323 2323  lasses.....#####
-000111e0: 2045 7861 6d70 6c65 730d 0a0d 0a2a 2a43   Examples....**C
-000111f0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-00011200: 636f 6e75 740d 0a64 6566 2066 6163 746f  conut..def facto
-00011210: 7269 616c 2876 616c 7565 293a 0d0a 2020  rial(value):..  
-00011220: 2020 6d61 7463 6820 3020 696e 2076 616c    match 0 in val
-00011230: 7565 3a0d 0a20 2020 2020 2020 2072 6574  ue:..        ret
-00011240: 7572 6e20 310d 0a20 2020 2065 6c73 653a  urn 1..    else:
-00011250: 206d 6174 6368 206e 2060 6973 696e 7374   match n `isinst
-00011260: 616e 6365 6020 696e 7420 696e 2076 616c  ance` int in val
-00011270: 7565 2069 6620 6e20 3e20 303a 2020 2320  ue if n > 0:  # 
-00011280: 436f 636f 6e75 7420 616c 6c6f 7773 206e  Coconut allows n
-00011290: 6573 7469 6e67 206f 6620 7374 6174 656d  esting of statem
-000112a0: 656e 7473 206f 6e20 7468 6520 7361 6d65  ents on the same
-000112b0: 206c 696e 650d 0a20 2020 2020 2020 2072   line..        r
-000112c0: 6574 7572 6e20 6e20 2a20 6661 6374 6f72  eturn n * factor
-000112d0: 6961 6c28 6e2d 3129 0d0a 2020 2020 656c  ial(n-1)..    el
-000112e0: 7365 3a0d 0a20 2020 2020 2020 2072 6169  se:..        rai
-000112f0: 7365 2054 7970 6545 7272 6f72 2822 696e  se TypeError("in
-00011300: 7661 6c69 6420 6172 6775 6d65 6e74 2074  valid argument t
-00011310: 6f20 6661 6374 6f72 6961 6c20 6f66 3a20  o factorial of: 
-00011320: 222b 7265 7072 2876 616c 7565 2929 0d0a  "+repr(value))..
-00011330: 0d0a 3320 7c3e 2066 6163 746f 7269 616c  ..3 |> factorial
-00011340: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
-00011350: 5f53 686f 7763 6173 6573 2060 656c 7365  _Showcases `else
-00011360: 6020 7374 6174 656d 656e 7473 2c20 7768  ` statements, wh
-00011370: 6963 6820 776f 726b 206d 7563 6820 6c69  ich work much li
-00011380: 6b65 2060 656c 7365 6020 7374 6174 656d  ke `else` statem
-00011390: 656e 7473 2069 6e20 5079 7468 6f6e 3a20  ents in Python: 
-000113a0: 7468 6520 636f 6465 2075 6e64 6572 2061  the code under a
-000113b0: 6e20 6065 6c73 6560 2073 7461 7465 6d65  n `else` stateme
-000113c0: 6e74 2069 7320 6f6e 6c79 2065 7865 6375  nt is only execu
-000113d0: 7465 6420 6966 2074 6865 2063 6f72 7265  ted if the corre
-000113e0: 7370 6f6e 6469 6e67 206d 6174 6368 2066  sponding match f
-000113f0: 6169 6c73 2e5f 0d0a 0d0a 6060 6063 6f63  ails._....```coc
-00011400: 6f6e 7574 0d0a 6461 7461 2070 6f69 6e74  onut..data point
-00011410: 2878 2c20 7929 3a0d 0a20 2020 2064 6566  (x, y):..    def
-00011420: 2074 7261 6e73 666f 726d 2873 656c 662c   transform(self,
-00011430: 206f 7468 6572 293a 0d0a 2020 2020 2020   other):..      
-00011440: 2020 6d61 7463 6820 706f 696e 7428 782c    match point(x,
-00011450: 2079 2920 696e 206f 7468 6572 3a0d 0a20   y) in other:.. 
-00011460: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00011470: 6e20 706f 696e 7428 7365 6c66 2e78 202b  n point(self.x +
-00011480: 2078 2c20 7365 6c66 2e79 202b 2079 290d   x, self.y + y).
-00011490: 0a20 2020 2020 2020 2065 6c73 653a 0d0a  .        else:..
-000114a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000114b0: 6520 5479 7065 4572 726f 7228 2261 7267  e TypeError("arg
-000114c0: 2074 6f20 7472 616e 7366 6f72 6d20 6d75   to transform mu
-000114d0: 7374 2062 6520 6120 706f 696e 7422 290d  st be a point").
-000114e0: 0a0d 0a70 6f69 6e74 2831 2c32 2920 7c3e  ...point(1,2) |>
-000114f0: 2070 6f69 6e74 2833 2c34 292e 7472 616e   point(3,4).tran
-00011500: 7366 6f72 6d20 7c3e 2070 7269 6e74 0d0a  sform |> print..
-00011510: 706f 696e 7428 312c 3229 207c 3e20 283d  point(1,2) |> (=
-00011520: 3d29 2428 706f 696e 7428 312c 3229 2920  =)$(point(1,2)) 
-00011530: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a5f  |> print..```.._
-00011540: 5368 6f77 6361 7365 7320 6d61 7463 6869  Showcases matchi
-00011550: 6e67 2074 6f20 6461 7461 2074 7970 6573  ng to data types
-00011560: 2061 6e64 2074 6865 2064 6566 6175 6c74   and the default
-00011570: 2065 7175 616c 6974 7920 6f70 6572 6174   equality operat
-00011580: 6f72 2e20 5661 6c75 6573 2064 6566 696e  or. Values defin
-00011590: 6564 2062 7920 7468 6520 7573 6572 2077  ed by the user w
-000115a0: 6974 6820 7468 6520 6064 6174 6160 2073  ith the `data` s
-000115b0: 7461 7465 6d65 6e74 2063 616e 2062 6520  tatement can be 
-000115c0: 6d61 7463 6865 6420 6167 6169 6e73 7420  matched against 
-000115d0: 616e 6420 7468 6569 7220 636f 6e74 656e  and their conten
-000115e0: 7473 2061 6363 6573 7365 6420 6279 2073  ts accessed by s
-000115f0: 7065 6369 6669 6361 6c6c 7920 7265 6665  pecifically refe
-00011600: 7265 6e63 696e 6720 6172 6775 6d65 6e74  rencing argument
-00011610: 7320 746f 2074 6865 2064 6174 6120 7479  s to the data ty
-00011620: 7065 2773 2063 6f6e 7374 7275 6374 6f72  pe's constructor
-00011630: 2e5f 0d0a 0d0a 6060 6063 6f63 6f6e 7574  ._....```coconut
-00011640: 0d0a 636c 6173 7320 5472 6565 0d0a 6461  ..class Tree..da
-00011650: 7461 2045 6d70 7479 2829 2066 726f 6d20  ta Empty() from 
-00011660: 5472 6565 0d0a 6461 7461 204c 6561 6628  Tree..data Leaf(
-00011670: 6e29 2066 726f 6d20 5472 6565 0d0a 6461  n) from Tree..da
-00011680: 7461 204e 6f64 6528 6c2c 2072 2920 6672  ta Node(l, r) fr
-00011690: 6f6d 2054 7265 650d 0a0d 0a64 6566 2064  om Tree....def d
-000116a0: 6570 7468 2854 7265 6528 2929 203d 2030  epth(Tree()) = 0
-000116b0: 0d0a 0d0a 6164 6470 6174 7465 726e 2064  ....addpattern d
-000116c0: 6566 2064 6570 7468 2854 7265 6528 6e29  ef depth(Tree(n)
-000116d0: 2920 3d20 310d 0a0d 0a61 6464 7061 7474  ) = 1....addpatt
-000116e0: 6572 6e20 6465 6620 6465 7074 6828 5472  ern def depth(Tr
-000116f0: 6565 286c 2c20 7229 2920 3d20 3120 2b20  ee(l, r)) = 1 + 
-00011700: 6d61 7828 5b64 6570 7468 286c 292c 2064  max([depth(l), d
-00011710: 6570 7468 2872 295d 290d 0a0d 0a45 6d70  epth(r)])....Emp
-00011720: 7479 2829 207c 3e20 6465 7074 6820 7c3e  ty() |> depth |>
-00011730: 2070 7269 6e74 0d0a 4c65 6166 2835 2920   print..Leaf(5) 
-00011740: 7c3e 2064 6570 7468 207c 3e20 7072 696e  |> depth |> prin
-00011750: 740d 0a4e 6f64 6528 4c65 6166 2832 292c  t..Node(Leaf(2),
-00011760: 204e 6f64 6528 456d 7074 7928 292c 204c   Node(Empty(), L
-00011770: 6561 6628 3329 2929 207c 3e20 6465 7074  eaf(3))) |> dept
-00011780: 6820 7c3e 2070 7269 6e74 0d0a 6060 600d  h |> print..```.
-00011790: 0a5f 5368 6f77 6361 7365 7320 686f 7720  ._Showcases how 
-000117a0: 7468 6520 636f 6d62 696e 6174 696f 6e20  the combination 
-000117b0: 6f66 2064 6174 6120 7479 7065 7320 616e  of data types an
-000117c0: 6420 6d61 7463 6820 7374 6174 656d 656e  d match statemen
-000117d0: 7473 2063 616e 2062 6520 7573 6564 2074  ts can be used t
-000117e0: 6f20 706f 7765 7266 756c 2065 6666 6563  o powerful effec
-000117f0: 7420 746f 2072 6570 6c69 6361 7465 2074  t to replicate t
-00011800: 6865 2075 7361 6765 206f 6620 616c 6765  he usage of alge
-00011810: 6272 6169 6320 6461 7461 2074 7970 6573  braic data types
-00011820: 2069 6e20 6f74 6865 7220 6675 6e63 7469   in other functi
-00011830: 6f6e 616c 2070 726f 6772 616d 6d69 6e67  onal programming
-00011840: 206c 616e 6775 6167 6573 2e5f 0d0a 0d0a   languages._....
-00011850: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
-00011860: 6475 706c 6963 6174 655f 6669 7273 7428  duplicate_first(
-00011870: 5b78 5d20 2b20 7873 2061 7320 6c29 203d  [x] + xs as l) =
-00011880: 0d0a 2020 2020 5b78 5d20 2b20 6c0d 0a0d  ..    [x] + l...
-00011890: 0a5b 312c 322c 335d 207c 3e20 6475 706c  .[1,2,3] |> dupl
-000118a0: 6963 6174 655f 6669 7273 7420 7c3e 2070  icate_first |> p
-000118b0: 7269 6e74 0d0a 6060 600d 0a5f 5368 6f77  rint..```.._Show
-000118c0: 6361 7365 7320 6865 6164 2d74 6169 6c20  cases head-tail 
-000118d0: 7370 6c69 7474 696e 672c 206f 6e65 206f  splitting, one o
-000118e0: 6620 7468 6520 6d6f 7374 2063 6f6d 6d6f  f the most commo
-000118f0: 6e20 7573 6573 206f 6620 7061 7474 6572  n uses of patter
-00011900: 6e2d 6d61 7463 6869 6e67 2c20 7768 6572  n-matching, wher
-00011910: 6520 6120 602b 203c 7661 723e 6020 286f  e a `+ <var>` (o
-00011920: 7220 603a 3a20 3c76 6172 3e60 2066 6f72  r `:: <var>` for
-00011930: 2061 6e79 2069 7465 7261 626c 6529 2061   any iterable) a
-00011940: 7420 7468 6520 656e 6420 6f66 2061 206c  t the end of a l
-00011950: 6973 7420 6f72 2074 7570 6c65 206c 6974  ist or tuple lit
-00011960: 6572 616c 2063 616e 2062 6520 7573 6564  eral can be used
-00011970: 2074 6f20 6d61 7463 6820 7468 6520 7265   to match the re
-00011980: 7374 206f 6620 7468 6520 7365 7175 656e  st of the sequen
-00011990: 6365 2e5f 0d0a 0d0a 6060 600d 0a64 6566  ce._....```..def
-000119a0: 2073 6965 7665 285b 6865 6164 5d20 3a3a   sieve([head] ::
-000119b0: 2074 6169 6c29 203d 0d0a 2020 2020 5b68   tail) =..    [h
-000119c0: 6561 645d 203a 3a20 7369 6576 6528 6e20  ead] :: sieve(n 
-000119d0: 666f 7220 6e20 696e 2074 6169 6c20 6966  for n in tail if
-000119e0: 206e 2025 2068 6561 6429 0d0a 0d0a 6164   n % head)....ad
-000119f0: 6470 6174 7465 726e 2064 6566 2073 6965  dpattern def sie
-00011a00: 7665 2828 7c7c 2929 203d 205b 5d0d 0a60  ve((||)) = []..`
-00011a10: 6060 0d0a 5f53 686f 7763 6173 6573 2068  ``.._Showcases h
-00011a20: 6f77 2074 6f20 6d61 7463 6820 6167 6169  ow to match agai
-00011a30: 6e73 7420 6974 6572 6174 6f72 732c 206e  nst iterators, n
-00011a40: 616d 656c 7920 7468 6174 2074 6865 2065  amely that the e
-00011a50: 6d70 7479 2069 7465 7261 746f 7220 6361  mpty iterator ca
-00011a60: 7365 2028 6028 7c7c 2960 2920 6d75 7374  se (`(||)`) must
-00011a70: 2063 6f6d 6520 6c61 7374 2c20 6f74 6865   come last, othe
-00011a80: 7277 6973 6520 7468 6174 2063 6173 6520  rwise that case 
-00011a90: 7769 6c6c 2065 7868 6175 7374 2074 6865  will exhaust the
-00011aa0: 2077 686f 6c65 2069 7465 7261 746f 7220   whole iterator 
-00011ab0: 6265 666f 7265 2061 6e79 206f 7468 6572  before any other
-00011ac0: 2070 6174 7465 726e 2068 6173 2061 2063   pattern has a c
-00011ad0: 6861 6e63 6520 746f 206d 6174 6368 2061  hance to match a
-00011ae0: 6761 696e 7374 2069 742e 5f0d 0a0d 0a60  gainst it._....`
-00011af0: 6060 0d0a 6465 6620 6f64 645f 7072 696d  ``..def odd_prim
-00011b00: 6573 2870 3d33 2920 3d0d 0a20 2020 2028  es(p=3) =..    (
-00011b10: 702c 2920 3a3a 2066 696c 7465 7228 2d3e  p,) :: filter(->
-00011b20: 205f 2025 2070 2021 3d20 302c 206f 6464   _ % p != 0, odd
-00011b30: 5f70 7269 6d65 7328 7020 2b20 3229 290d  _primes(p + 2)).
-00011b40: 0a0d 0a64 6566 2070 7269 6d65 7328 2920  ...def primes() 
-00011b50: 3d0d 0a20 2020 2028 322c 2920 3a3a 206f  =..    (2,) :: o
-00011b60: 6464 5f70 7269 6d65 7328 290d 0a0d 0a64  dd_primes()....d
-00011b70: 6566 2074 7769 6e5f 7072 696d 6573 285f  ef twin_primes(_
-00011b80: 203a 3a20 5b70 2c20 282e 2d32 2920 2d3e   :: [p, (.-2) ->
-00011b90: 2070 5d20 3a3a 2070 7329 203d 0d0a 2020   p] :: ps) =..  
-00011ba0: 2020 5b28 702c 2070 2b32 295d 203a 3a20    [(p, p+2)] :: 
-00011bb0: 7477 696e 5f70 7269 6d65 7328 5b70 202b  twin_primes([p +
-00011bc0: 2032 5d20 3a3a 2070 7329 0d0a 0d0a 6164   2] :: ps)....ad
-00011bd0: 6470 6174 7465 726e 2064 6566 2074 7769  dpattern def twi
-00011be0: 6e5f 7072 696d 6573 2829 203d 2020 2320  n_primes() =  # 
-00011bf0: 7479 7065 3a20 6967 6e6f 7265 0d0a 2020  type: ignore..  
-00011c00: 2020 7477 696e 5f70 7269 6d65 7328 7072    twin_primes(pr
-00011c10: 696d 6573 2829 290d 0a0d 0a74 7769 6e5f  imes())....twin_
-00011c20: 7072 696d 6573 2829 245b 3a35 5d20 7c3e  primes()$[:5] |>
-00011c30: 206c 6973 7420 7c3e 2070 7269 6e74 0d0a   list |> print..
-00011c40: 6060 600d 0a5f 5368 6f77 6361 7365 7320  ```.._Showcases 
-00011c50: 7468 6520 7573 6520 6f66 2061 6e20 6974  the use of an it
-00011c60: 6572 6162 6c65 2073 6561 7263 6820 7061  erable search pa
-00011c70: 7474 6572 6e20 616e 6420 6120 7669 6577  ttern and a view
-00011c80: 2070 6174 7465 726e 2074 6f20 636f 6e73   pattern to cons
-00011c90: 7472 7563 7420 616e 2069 7465 7261 746f  truct an iterato
-00011ca0: 7220 6f66 2061 6c6c 2074 7769 6e20 7072  r of all twin pr
-00011cb0: 696d 6573 2e5f 0d0a 0d0a 2a2a 5079 7468  imes._....**Pyth
-00011cc0: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
-00011cd0: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-00011ce0: 6c6f 6e67 2073 6572 6965 7320 6f66 2063  long series of c
-00011cf0: 6865 636b 7320 666f 7220 6561 6368 2060  hecks for each `
-00011d00: 6d61 7463 6860 2073 7461 7465 6d65 6e74  match` statement
-00011d10: 2e20 5365 6520 7468 6520 636f 6d70 696c  . See the compil
-00011d20: 6564 2063 6f64 6520 666f 7220 7468 6520  ed code for the 
-00011d30: 5079 7468 6f6e 2073 796e 7461 782e 5f0d  Python syntax._.
-00011d40: 0a0d 0a23 2323 2060 6361 7365 600d 0a0d  ...### `case`...
-00011d50: 0a43 6f63 6f6e 7574 2773 2060 6361 7365  .Coconut's `case
-00011d60: 6020 626c 6f63 6b73 2073 6572 7665 2061  ` blocks serve a
-00011d70: 7320 616e 2065 7874 656e 7369 6f6e 206f  s an extension o
-00011d80: 6620 436f 636f 6e75 7427 7320 606d 6174  f Coconut's `mat
-00011d90: 6368 6020 7374 6174 656d 656e 7420 666f  ch` statement fo
-00011da0: 7220 7065 7266 6f72 6d69 6e67 206d 756c  r performing mul
-00011db0: 7469 706c 6520 606d 6174 6368 6020 7374  tiple `match` st
-00011dc0: 6174 656d 656e 7473 2061 6761 696e 7374  atements against
-00011dd0: 2074 6865 2073 616d 6520 7661 6c75 652c   the same value,
-00011de0: 2077 6865 7265 206f 6e6c 7920 6f6e 6520   where only one 
-00011df0: 6f66 2074 6865 6d20 7368 6f75 6c64 2073  of them should s
-00011e00: 7563 6365 6564 2e20 556e 6c69 6b65 206c  ucceed. Unlike l
-00011e10: 6f6e 6520 606d 6174 6368 6020 7374 6174  one `match` stat
-00011e20: 656d 656e 7473 2c20 6f6e 6c79 206f 6e65  ements, only one
-00011e30: 206d 6174 6368 2073 7461 7465 6d65 6e74   match statement
-00011e40: 2069 6e73 6964 6520 6f66 2061 2060 6361   inside of a `ca
-00011e50: 7365 6020 626c 6f63 6b20 7769 6c6c 2065  se` block will e
-00011e60: 7665 7220 7375 6363 6565 642c 2061 6e64  ver succeed, and
-00011e70: 2074 6875 7320 6d6f 7265 2067 656e 6572   thus more gener
-00011e80: 616c 206d 6174 6368 6573 2073 686f 756c  al matches shoul
-00011e90: 6420 6265 2070 7574 2062 656c 6f77 206d  d be put below m
-00011ea0: 6f72 6520 7370 6563 6966 6963 206f 6e65  ore specific one
-00011eb0: 732e 0d0a 0d0a 436f 636f 6e75 7427 7320  s.....Coconut's 
-00011ec0: 6063 6173 6560 2062 6c6f 636b 7320 6172  `case` blocks ar
-00011ed0: 6520 616e 2065 7874 656e 7369 6f6e 206f  e an extension o
-00011ee0: 6620 5079 7468 6f6e 2033 2e31 3027 7320  f Python 3.10's 
-00011ef0: 5b60 6361 7365 6020 626c 6f63 6b73 5d28  [`case` blocks](
-00011f00: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-00011f10: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-00011f20: 7065 702d 3036 3334 2920 746f 2073 7570  pep-0634) to sup
-00011f30: 706f 7274 2061 6464 6974 696f 6e61 6c20  port additional 
-00011f40: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00011f50: 2063 6f6e 7374 7275 6374 7320 6164 6465   constructs adde
-00011f60: 6420 6279 2043 6f63 6f6e 7574 2028 616e  d by Coconut (an
-00011f70: 6420 436f 636f 6e75 7420 7769 6c6c 2065  d Coconut will e
-00011f80: 6e73 7572 6520 7468 6174 2074 6865 7920  nsure that they 
-00011f90: 776f 726b 206f 6e20 616c 6c20 5079 7468  work on all Pyth
-00011fa0: 6f6e 2076 6572 7369 6f6e 732c 206e 6f74  on versions, not
-00011fb0: 206a 7573 7420 332e 3130 2b29 2e0d 0a0d   just 3.10+)....
-00011fc0: 0a45 6163 6820 7061 7474 6572 6e20 696e  .Each pattern in
-00011fd0: 2061 2063 6173 6520 626c 6f63 6b20 6973   a case block is
-00011fe0: 2063 6865 636b 6564 2075 6e74 696c 2061   checked until a
-00011ff0: 206d 6174 6368 2069 7320 666f 756e 642c   match is found,
-00012000: 2061 6e64 2074 6865 6e20 7468 6520 636f   and then the co
-00012010: 7272 6573 706f 6e64 696e 6720 626f 6479  rresponding body
-00012020: 2069 7320 6578 6563 7574 6564 2c20 616e   is executed, an
-00012030: 6420 7468 6520 6361 7365 2062 6c6f 636b  d the case block
-00012040: 2074 6572 6d69 6e61 7465 642e 2054 6865   terminated. The
-00012050: 2073 796e 7461 7820 666f 7220 6361 7365   syntax for case
-00012060: 2062 6c6f 636b 7320 6973 0d0a 6060 6063   blocks is..```c
-00012070: 6f63 6f6e 7574 0d0a 6d61 7463 6820 3c76  oconut..match <v
-00012080: 616c 7565 3e3a 0d0a 2020 2020 6361 7365  alue>:..    case
-00012090: 203c 7061 7474 6572 6e3e 205b 6966 203c   <pattern> [if <
-000120a0: 636f 6e64 3e5d 3a0d 0a20 2020 2020 2020  cond>]:..       
-000120b0: 203c 626f 6479 3e0d 0a20 2020 2063 6173   <body>..    cas
-000120c0: 6520 3c70 6174 7465 726e 3e20 5b69 6620  e <pattern> [if 
-000120d0: 3c63 6f6e 643e 5d3a 0d0a 2020 2020 2020  <cond>]:..      
-000120e0: 2020 3c62 6f64 793e 0d0a 2020 2020 2e2e    <body>..    ..
-000120f0: 2e0d 0a5b 656c 7365 3a0d 0a20 2020 203c  ...[else:..    <
-00012100: 626f 6479 3e5d 0d0a 6060 600d 0a77 6865  body>]..```..whe
-00012110: 7265 2060 3c70 6174 7465 726e 3e60 2069  re `<pattern>` i
-00012120: 7320 616e 7920 606d 6174 6368 6020 7061  s any `match` pa
-00012130: 7474 6572 6e2c 2060 3c76 616c 7565 3e60  ttern, `<value>`
-00012140: 2069 7320 7468 6520 6974 656d 2074 6f20   is the item to 
-00012150: 6d61 7463 6820 6167 6169 6e73 742c 2060  match against, `
-00012160: 3c63 6f6e 643e 6020 6973 2061 6e20 6f70  <cond>` is an op
-00012170: 7469 6f6e 616c 2061 6464 6974 696f 6e61  tional additiona
-00012180: 6c20 6368 6563 6b2c 2061 6e64 2060 3c62  l check, and `<b
-00012190: 6f64 793e 6020 6973 2073 696d 706c 7920  ody>` is simply 
-000121a0: 636f 6465 2074 6861 7420 6973 2065 7865  code that is exe
-000121b0: 6375 7465 6420 6966 2074 6865 2068 6561  cuted if the hea
-000121c0: 6465 7220 6162 6f76 6520 6974 2073 7563  der above it suc
-000121d0: 6365 6564 732e 204e 6f74 6520 7468 6520  ceeds. Note the 
-000121e0: 6162 7365 6e63 6520 6f66 2061 6e20 6069  absence of an `i
-000121f0: 6e60 2069 6e20 7468 6520 606d 6174 6368  n` in the `match
-00012200: 6020 7374 6174 656d 656e 7473 3a20 7468  ` statements: th
-00012210: 6174 2773 2062 6563 6175 7365 2074 6865  at's because the
-00012220: 2060 3c76 616c 7565 3e60 2069 6e20 6063   `<value>` in `c
-00012230: 6173 6520 3c76 616c 7565 3e60 2069 7320  ase <value>` is 
-00012240: 7461 6b69 6e67 2069 7473 2070 6c61 6365  taking its place
-00012250: 2e20 4966 206e 6f20 6065 6c73 6560 2069  . If no `else` i
-00012260: 7320 7072 6573 656e 7420 616e 6420 6e6f  s present and no
-00012270: 206d 6174 6368 2073 7563 6365 6564 732c   match succeeds,
-00012280: 2074 6865 6e20 7468 6520 6063 6173 6560   then the `case`
-00012290: 2073 7461 7465 6d65 6e74 2069 7320 7369   statement is si
-000122a0: 6d70 6c79 2073 6b69 7070 6564 206f 7665  mply skipped ove
-000122b0: 7220 6173 2077 6974 6820 5b60 6d61 7463  r as with [`matc
-000122c0: 6860 2073 7461 7465 6d65 6e74 735d 2823  h` statements](#
-000122d0: 6d61 7463 6829 2028 7468 6f75 6768 2075  match) (though u
-000122e0: 6e6c 696b 6520 5b64 6573 7472 7563 7475  nlike [destructu
-000122f0: 7269 6e67 2061 7373 6967 6e6d 656e 7473  ring assignments
-00012300: 5d28 2364 6573 7472 7563 7475 7269 6e67  ](#destructuring
-00012310: 2d61 7373 6967 6e6d 656e 7429 292e 0d0a  -assignment))...
-00012320: 0d0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
-00012330: 6063 6173 6573 6020 6361 6e20 6265 2075  `cases` can be u
-00012340: 7365 6420 6173 2074 6865 2074 6f70 2d6c  sed as the top-l
-00012350: 6576 656c 206b 6579 776f 7264 2069 6e73  evel keyword ins
-00012360: 7465 6164 206f 6620 606d 6174 6368 602c  tead of `match`,
-00012370: 2061 6e64 2069 6e20 7375 6368 2061 2060   and in such a `
-00012380: 6361 7365 6020 626c 6f63 6b20 606d 6174  case` block `mat
-00012390: 6368 6020 6973 2061 6c6c 6f77 6564 2066  ch` is allowed f
-000123a0: 6f72 2065 6163 6820 6361 7365 2072 6174  or each case rat
-000123b0: 6865 7220 7468 616e 2060 6361 7365 602e  her than `case`.
-000123c0: 205f 4445 5052 4543 4154 4544 3a20 436f   _DEPRECATED: Co
-000123d0: 636f 6e75 7420 616c 736f 2073 7570 706f  conut also suppo
-000123e0: 7274 7320 6063 6173 6560 2069 6e73 7465  rts `case` inste
-000123f0: 6164 206f 6620 6063 6173 6573 6020 6173  ad of `cases` as
-00012400: 2074 6865 2074 6f70 2d6c 6576 656c 206b   the top-level k
-00012410: 6579 776f 7264 2066 6f72 2062 6163 6b77  eyword for backw
-00012420: 6172 6473 2d63 6f6d 7061 7469 6269 6c69  ards-compatibili
-00012430: 7479 2070 7572 706f 7365 732e 5f0d 0a0d  ty purposes._...
-00012440: 0a23 2323 2323 2045 7861 6d70 6c65 730d  .##### Examples.
-00012450: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-00012460: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-00012470: 2063 6c61 7373 6966 795f 7365 7175 656e   classify_sequen
-00012480: 6365 2876 616c 7565 293a 0d0a 2020 2020  ce(value):..    
-00012490: 6f75 7420 3d20 2222 2020 2020 2020 2020  out = ""        
-000124a0: 2320 756e 6c69 6b65 2077 6974 6820 6e6f  # unlike with no
-000124b0: 726d 616c 206d 6174 6368 6573 2c20 6f6e  rmal matches, on
-000124c0: 6c79 206f 6e65 206f 6620 7468 6520 7061  ly one of the pa
-000124d0: 7474 6572 6e73 0d0a 2020 2020 6d61 7463  tterns..    matc
-000124e0: 6820 7661 6c75 653a 2020 2020 2023 2020  h value:     #  
-000124f0: 7769 6c6c 206d 6174 6368 2c20 616e 6420  will match, and 
-00012500: 6f75 7420 7769 6c6c 206f 6e6c 7920 6765  out will only ge
-00012510: 7420 6170 7065 6e64 6564 2074 6f20 6f6e  t appended to on
-00012520: 6365 0d0a 2020 2020 2020 2020 6361 7365  ce..        case
-00012530: 2028 293a 0d0a 2020 2020 2020 2020 2020   ():..          
-00012540: 2020 6f75 7420 2b3d 2022 656d 7074 7922    out += "empty"
-00012550: 0d0a 2020 2020 2020 2020 6361 7365 2028  ..        case (
-00012560: 5f2c 293a 0d0a 2020 2020 2020 2020 2020  _,):..          
-00012570: 2020 6f75 7420 2b3d 2022 7369 6e67 6c65    out += "single
-00012580: 746f 6e22 0d0a 2020 2020 2020 2020 6361  ton"..        ca
-00012590: 7365 2028 782c 7829 3a0d 0a20 2020 2020  se (x,x):..     
-000125a0: 2020 2020 2020 206f 7574 202b 3d20 2264         out += "d
-000125b0: 7570 6c69 6361 7465 2070 6169 7220 6f66  uplicate pair of
-000125c0: 2022 2b73 7472 2878 290d 0a20 2020 2020   "+str(x)..     
-000125d0: 2020 2063 6173 6520 285f 2c5f 293a 0d0a     case (_,_):..
-000125e0: 2020 2020 2020 2020 2020 2020 6f75 7420              out 
-000125f0: 2b3d 2022 7061 6972 220d 0a20 2020 2020  += "pair"..     
-00012600: 2020 2063 6173 6520 5f20 6973 2028 7475     case _ is (tu
-00012610: 706c 652c 206c 6973 7429 3a0d 0a20 2020  ple, list):..   
-00012620: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
-00012630: 2273 6571 7565 6e63 6522 0d0a 2020 2020  "sequence"..    
-00012640: 656c 7365 3a0d 0a20 2020 2020 2020 2072  else:..        r
-00012650: 6169 7365 2054 7970 6545 7272 6f72 2829  aise TypeError()
-00012660: 0d0a 2020 2020 7265 7475 726e 206f 7574  ..    return out
-00012670: 0d0a 0d0a 5b5d 207c 3e20 636c 6173 7369  ....[] |> classi
-00012680: 6679 5f73 6571 7565 6e63 6520 7c3e 2070  fy_sequence |> p
-00012690: 7269 6e74 0d0a 2829 207c 3e20 636c 6173  rint..() |> clas
-000126a0: 7369 6679 5f73 6571 7565 6e63 6520 7c3e  sify_sequence |>
-000126b0: 2070 7269 6e74 0d0a 5b31 5d20 7c3e 2063   print..[1] |> c
-000126c0: 6c61 7373 6966 795f 7365 7175 656e 6365  lassify_sequence
-000126d0: 207c 3e20 7072 696e 740d 0a28 312c 3129   |> print..(1,1)
-000126e0: 207c 3e20 636c 6173 7369 6679 5f73 6571   |> classify_seq
-000126f0: 7565 6e63 6520 7c3e 2070 7269 6e74 0d0a  uence |> print..
-00012700: 2831 2c32 2920 7c3e 2063 6c61 7373 6966  (1,2) |> classif
-00012710: 795f 7365 7175 656e 6365 207c 3e20 7072  y_sequence |> pr
-00012720: 696e 740d 0a28 312c 312c 3129 207c 3e20  int..(1,1,1) |> 
-00012730: 636c 6173 7369 6679 5f73 6571 7565 6e63  classify_sequenc
-00012740: 6520 7c3e 2070 7269 6e74 0d0a 6060 600d  e |> print..```.
-00012750: 0a5f 4578 616d 706c 6520 6f66 2075 7369  ._Example of usi
-00012760: 6e67 2043 6f63 6f6e 7574 2773 2060 6361  ng Coconut's `ca
-00012770: 7365 6020 7379 6e74 6178 2e5f 0d0a 6060  se` syntax._..``
-00012780: 6063 6f63 6f6e 7574 0d0a 6361 7365 7320  `coconut..cases 
-00012790: 7b22 6122 3a20 312c 2022 6222 3a20 327d  {"a": 1, "b": 2}
-000127a0: 3a0d 0a20 2020 206d 6174 6368 207b 2261  :..    match {"a
-000127b0: 223a 2061 7d3a 0d0a 2020 2020 2020 2020  ": a}:..        
-000127c0: 7061 7373 0d0a 2020 2020 6d61 7463 6820  pass..    match 
-000127d0: 5f3a 0d0a 2020 2020 2020 2020 6173 7365  _:..        asse
-000127e0: 7274 2046 616c 7365 0d0a 6173 7365 7274  rt False..assert
-000127f0: 2061 203d 3d20 310d 0a60 6060 0d0a 5f45   a == 1..```.._E
-00012800: 7861 6d70 6c65 206f 6620 7468 6520 6063  xample of the `c
-00012810: 6173 6573 6020 6b65 7977 6f72 6420 696e  ases` keyword in
-00012820: 7374 6561 642e 5f0d 0a0d 0a2a 2a50 7974  stead._....**Pyt
-00012830: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
-00012840: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
-00012850: 206c 6f6e 6720 7365 7269 6573 206f 6620   long series of 
-00012860: 6368 6563 6b73 2066 6f72 2065 6163 6820  checks for each 
-00012870: 606d 6174 6368 6020 7374 6174 656d 656e  `match` statemen
-00012880: 742e 2053 6565 2074 6865 2063 6f6d 7069  t. See the compi
-00012890: 6c65 6420 636f 6465 2066 6f72 2074 6865  led code for the
-000128a0: 2050 7974 686f 6e20 7379 6e74 6178 2e5f   Python syntax._
-000128b0: 0d0a 0d0a 2323 2320 606d 6174 6368 2066  ....### `match f
-000128c0: 6f72 600d 0a0d 0a43 6f63 6f6e 7574 2073  or`....Coconut s
-000128d0: 7570 706f 7274 7320 7061 7474 6572 6e2d  upports pattern-
-000128e0: 6d61 7463 6869 6e67 2069 6e20 666f 7220  matching in for 
-000128f0: 6c6f 6f70 732c 2077 6865 7265 2074 6865  loops, where the
-00012900: 2070 6174 7465 726e 2069 7320 6d61 7463   pattern is matc
-00012910: 6865 6420 6167 6169 6e73 7420 6561 6368  hed against each
-00012920: 2069 7465 6d20 696e 2074 6865 2069 7465   item in the ite
-00012930: 7261 626c 652e 2054 6865 2073 796e 7461  rable. The synta
-00012940: 7820 6973 0d0a 6060 6063 6f63 6f6e 7574  x is..```coconut
-00012950: 0d0a 5b6d 6174 6368 5d20 666f 7220 3c70  ..[match] for <p
-00012960: 6174 7465 726e 3e20 696e 203c 6974 6572  attern> in <iter
-00012970: 6162 6c65 3e3a 0d0a 2020 2020 3c62 6f64  able>:..    <bod
-00012980: 793e 0d0a 6060 600d 0a77 6869 6368 2069  y>..```..which i
-00012990: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-000129a0: 7468 6520 5b64 6573 7472 7563 7475 7269  the [destructuri
-000129b0: 6e67 2061 7373 6967 6e6d 656e 745d 2823  ng assignment](#
-000129c0: 6465 7374 7275 6374 7572 696e 672d 6173  destructuring-as
-000129d0: 7369 676e 6d65 6e74 290d 0a60 6060 636f  signment)..```co
-000129e0: 636f 6e75 740d 0a66 6f72 2065 6c65 6d20  conut..for elem 
-000129f0: 696e 203c 6974 6572 6162 6c65 3e3a 0d0a  in <iterable>:..
-00012a00: 2020 2020 6d61 7463 6820 3c70 6174 7465      match <patte
-00012a10: 726e 3e20 3d20 656c 656d 0d0a 2020 2020  rn> = elem..    
-00012a20: 3c62 6f64 793e 0d0a 6060 600d 0a0d 0a50  <body>..```....P
-00012a30: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-00012a40: 6361 6e20 616c 736f 2062 6520 7573 6564  can also be used
-00012a50: 2069 6e20 6061 7379 6e63 2066 6f72 6020   in `async for` 
-00012a60: 6c6f 6f70 732c 2077 6974 6820 626f 7468  loops, with both
-00012a70: 2060 6173 796e 6320 6d61 7463 6820 666f   `async match fo
-00012a80: 7260 2061 6e64 2060 6d61 7463 6820 6173  r` and `match as
-00012a90: 796e 6320 666f 7260 2061 6c6c 6f77 6564  ync for` allowed
-00012aa0: 2061 7320 6578 706c 6963 6974 2073 796e   as explicit syn
-00012ab0: 7461 7865 732e 0d0a 0d0a 2323 2323 2320  taxes.....##### 
-00012ac0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-00012ad0: 6f6e 7574 3a2a 2a0d 0a60 6060 0d0a 666f  onut:**..```..fo
-00012ae0: 7220 7b22 7573 6572 223a 2075 6964 2c20  r {"user": uid, 
-00012af0: 2a2a 5f7d 2069 6e20 6765 745f 6461 7461  **_} in get_data
-00012b00: 2829 3a0d 0a20 2020 2070 7269 6e74 2875  ():..    print(u
-00012b10: 6964 290d 0a60 6060 0d0a 0d0a 2a2a 5079  id)..```....**Py
-00012b20: 7468 6f6e 3a2a 2a0d 0a60 6060 0d0a 666f  thon:**..```..fo
-00012b30: 7220 7573 6572 5f64 6174 6120 696e 2067  r user_data in g
-00012b40: 6574 5f64 6174 6128 293a 0d0a 2020 2020  et_data():..    
-00012b50: 7569 6420 3d20 7573 6572 5f64 6174 615b  uid = user_data[
-00012b60: 2275 7365 7222 5d0d 0a20 2020 2070 7269  "user"]..    pri
-00012b70: 6e74 2875 6964 290d 0a60 6060 0d0a 0d0a  nt(uid)..```....
-00012b80: 2323 2320 6064 6174 6160 0d0a 0d0a 436f  ### `data`....Co
-00012b90: 636f 6e75 7427 7320 6064 6174 6160 206b  conut's `data` k
-00012ba0: 6579 776f 7264 2069 7320 7573 6564 2074  eyword is used t
-00012bb0: 6f20 6372 6561 7465 2069 6d6d 7574 6162  o create immutab
-00012bc0: 6c65 2c20 616c 6765 6272 6169 6320 6461  le, algebraic da
-00012bd0: 7461 2074 7970 6573 2c20 696e 636c 7564  ta types, includ
-00012be0: 696e 6720 6275 696c 742d 696e 2073 7570  ing built-in sup
-00012bf0: 706f 7274 2066 6f72 2064 6573 7472 7563  port for destruc
-00012c00: 7475 7269 6e67 205b 7061 7474 6572 6e2d  turing [pattern-
-00012c10: 6d61 7463 6869 6e67 5d28 236d 6174 6368  matching](#match
-00012c20: 2920 616e 6420 5b60 666d 6170 605d 2823  ) and [`fmap`](#
-00012c30: 666d 6170 292e 0d0a 0d0a 5468 6520 7379  fmap).....The sy
-00012c40: 6e74 6178 2066 6f72 2060 6461 7461 6020  ntax for `data` 
-00012c50: 626c 6f63 6b73 2069 7320 6120 6372 6f73  blocks is a cros
-00012c60: 7320 6265 7477 6565 6e20 7468 6520 7379  s between the sy
-00012c70: 6e74 6178 2066 6f72 2066 756e 6374 696f  ntax for functio
-00012c80: 6e73 2061 6e64 2074 6865 2073 796e 7461  ns and the synta
-00012c90: 7820 666f 7220 636c 6173 7365 732e 2054  x for classes. T
-00012ca0: 6865 2066 6972 7374 206c 696e 6520 6c6f  he first line lo
-00012cb0: 6f6b 7320 6c69 6b65 2061 2066 756e 6374  oks like a funct
-00012cc0: 696f 6e20 6465 6669 6e69 7469 6f6e 2c20  ion definition, 
-00012cd0: 6275 7420 7468 6520 7265 7374 206f 6620  but the rest of 
-00012ce0: 7468 6520 626f 6479 206c 6f6f 6b73 206c  the body looks l
-00012cf0: 696b 6520 6120 636c 6173 732c 2075 7375  ike a class, usu
-00012d00: 616c 6c79 2063 6f6e 7461 696e 696e 6720  ally containing 
-00012d10: 6d65 7468 6f64 2064 6566 696e 6974 696f  method definitio
-00012d20: 6e73 2e20 5468 6973 2069 7320 6265 6361  ns. This is beca
-00012d30: 7573 6520 7768 696c 6520 6064 6174 6160  use while `data`
-00012d40: 2062 6c6f 636b 7320 6163 7475 616c 6c79   blocks actually
-00012d50: 2065 6e64 2075 7020 6173 2063 6c61 7373   end up as class
-00012d60: 6573 2069 6e20 5079 7468 6f6e 2c20 436f  es in Python, Co
-00012d70: 636f 6e75 7420 6175 746f 6d61 7469 6361  conut automatica
-00012d80: 6c6c 7920 6372 6561 7465 7320 6120 7370  lly creates a sp
-00012d90: 6563 6961 6c2c 2069 6d6d 7574 6162 6c65  ecial, immutable
-00012da0: 2063 6f6e 7374 7275 6374 6f72 2062 6173   constructor bas
-00012db0: 6564 206f 6e20 7468 6520 6769 7665 6e20  ed on the given 
-00012dc0: 6172 6775 6d65 6e74 732e 0d0a 0d0a 436f  arguments.....Co
-00012dd0: 636f 6e75 7420 6461 7461 2073 7461 7465  conut data state
-00012de0: 6d65 6e74 2073 796e 7461 7820 6c6f 6f6b  ment syntax look
-00012df0: 7320 6c69 6b65 3a0d 0a60 6060 636f 636f  s like:..```coco
-00012e00: 6e75 740d 0a64 6174 6120 3c6e 616d 653e  nut..data <name>
-00012e10: 283c 6172 6773 3e29 205b 6672 6f6d 203c  (<args>) [from <
-00012e20: 696e 6865 7269 7473 3e5d 3a0d 0a20 2020  inherits>]:..   
-00012e30: 203c 626f 6479 3e0d 0a60 6060 0d0a 603c   <body>..```..`<
-00012e40: 6e61 6d65 3e60 2069 7320 7468 6520 6e61  name>` is the na
-00012e50: 6d65 206f 6620 7468 6520 6e65 7720 6461  me of the new da
-00012e60: 7461 2074 7970 652c 2060 3c61 7267 733e  ta type, `<args>
-00012e70: 6020 6172 6520 7468 6520 6172 6775 6d65  ` are the argume
-00012e80: 6e74 7320 746f 2069 7473 2063 6f6e 7374  nts to its const
-00012e90: 7275 6374 6f72 2061 7320 7765 6c6c 2061  ructor as well a
-00012ea0: 7320 7468 6520 6e61 6d65 7320 6f66 2069  s the names of i
-00012eb0: 7473 2061 7474 7269 6275 7465 732c 2060  ts attributes, `
-00012ec0: 3c62 6f64 793e 6020 636f 6e74 6169 6e73  <body>` contains
-00012ed0: 2074 6865 2064 6174 6120 7479 7065 2773   the data type's
-00012ee0: 206d 6574 686f 6473 2c20 616e 6420 603c   methods, and `<
-00012ef0: 696e 6865 7269 7473 3e60 206f 7074 696f  inherits>` optio
-00012f00: 6e61 6c6c 7920 636f 6e74 6169 6e73 2061  nally contains a
-00012f10: 6e79 2064 6573 6972 6564 2062 6173 6520  ny desired base 
-00012f20: 636c 6173 7365 732e 0d0a 0d0a 436f 636f  classes.....Coco
-00012f30: 6e75 7420 616c 6c6f 7773 2064 6174 6120  nut allows data 
-00012f40: 6669 656c 6473 2069 6e20 603c 6172 6773  fields in `<args
-00012f50: 3e60 2074 6f20 6861 7665 2064 6566 6175  >` to have defau
-00012f60: 6c74 7320 616e 642f 6f72 205b 7479 7065  lts and/or [type
-00012f70: 2061 6e6e 6f74 6174 696f 6e73 5d28 2365   annotations](#e
-00012f80: 6e68 616e 6365 642d 7479 7065 2d61 6e6e  nhanced-type-ann
-00012f90: 6f74 6174 696f 6e29 2061 7474 6163 6865  otation) attache
-00012fa0: 6420 746f 2074 6865 6d2c 2061 6e64 2073  d to them, and s
-00012fb0: 7570 706f 7274 7320 6120 7374 6172 7265  upports a starre
-00012fc0: 6420 7061 7261 6d65 7465 7220 6174 2074  d parameter at t
-00012fd0: 6865 2065 6e64 2074 6f20 636f 6c6c 6563  he end to collec
-00012fe0: 7420 6578 7472 6120 6172 6775 6d65 6e74  t extra argument
-00012ff0: 732e 2041 6464 6974 696f 6e61 6c6c 792c  s. Additionally,
-00013000: 2043 6f63 6f6e 7574 2061 6c6c 6f77 7320   Coconut allows 
-00013010: 7479 7065 2070 6172 616d 6574 6572 7320  type parameters 
-00013020: 746f 2062 6520 7370 6563 6966 6965 6420  to be specified 
-00013030: 696e 2062 7261 636b 6574 7320 6166 7465  in brackets afte
-00013040: 7220 603c 6e61 6d65 3e60 2075 7369 6e67  r `<name>` using
-00013050: 2043 6f63 6f6e 7574 2773 205b 7479 7065   Coconut's [type
-00013060: 2070 6172 616d 6574 6572 2073 796e 7461   parameter synta
-00013070: 785d 2823 7479 7065 2d70 6172 616d 6574  x](#type-paramet
-00013080: 6572 2d73 796e 7461 7829 2e0d 0a0d 0a57  er-syntax).....W
-00013090: 7269 7469 6e67 2063 6f6e 7374 7275 6374  riting construct
-000130a0: 6f72 7320 666f 7220 6064 6174 6160 2074  ors for `data` t
-000130b0: 7970 6573 206d 7573 7420 6265 2064 6f6e  ypes must be don
-000130c0: 6520 7573 696e 6720 7468 6520 605f 5f6e  e using the `__n
-000130d0: 6577 5f5f 6020 6d65 7468 6f64 2069 6e73  ew__` method ins
-000130e0: 7465 6164 206f 6620 7468 6520 605f 5f69  tead of the `__i
-000130f0: 6e69 745f 5f60 206d 6574 686f 642e 2046  nit__` method. F
-00013100: 6f72 2068 656c 7069 6e67 2074 6f20 6561  or helping to ea
-00013110: 7369 6c79 2077 7269 7465 2060 5f5f 6e65  sily write `__ne
-00013120: 775f 5f60 206d 6574 686f 6473 2c20 436f  w__` methods, Co
-00013130: 636f 6e75 7420 7072 6f76 6964 6573 2074  conut provides t
-00013140: 6865 205b 6d61 6b65 6461 7461 5d28 236d  he [makedata](#m
-00013150: 616b 6564 6174 6129 2062 7569 6c74 2d69  akedata) built-i
-00013160: 6e2e 0d0a 0d0a 5375 6263 6c61 7373 696e  n.....Subclassin
-00013170: 6720 6064 6174 6160 2074 7970 6573 2063  g `data` types c
-00013180: 616e 2062 6520 646f 6e65 2065 6173 696c  an be done easil
-00013190: 7920 6279 2069 6e68 6572 6974 696e 6720  y by inheriting 
-000131a0: 6672 6f6d 2074 6865 6d20 6569 7468 6572  from them either
-000131b0: 2069 6e20 616e 6f74 6865 7220 6064 6174   in another `dat
-000131c0: 6160 2073 7461 7465 6d65 6e74 206f 7220  a` statement or 
-000131d0: 6120 6e6f 726d 616c 2050 7974 686f 6e20  a normal Python 
-000131e0: 6063 6c61 7373 602e 2049 6620 6120 6e6f  `class`. If a no
-000131f0: 726d 616c 2060 636c 6173 7360 2073 7461  rmal `class` sta
-00013200: 7465 6d65 6e74 2069 7320 7573 6564 2c20  tement is used, 
-00013210: 6d61 6b69 6e67 2074 6865 206e 6577 2073  making the new s
-00013220: 7562 636c 6173 7320 696d 6d75 7461 626c  ubclass immutabl
-00013230: 6520 7769 6c6c 2072 6571 7569 7265 2061  e will require a
-00013240: 6464 696e 6720 7468 6520 6c69 6e65 0d0a  dding the line..
-00013250: 6060 6063 6f63 6f6e 7574 0d0a 5f5f 736c  ```coconut..__sl
-00013260: 6f74 735f 5f20 3d20 2829 0d0a 6060 600d  ots__ = ()..```.
-00013270: 0a77 6869 6368 2077 696c 6c20 6e65 6564  .which will need
-00013280: 2074 6f20 6265 2070 7574 2069 6e20 7468   to be put in th
-00013290: 6520 7375 6263 6c61 7373 2062 6f64 7920  e subclass body 
-000132a0: 6265 666f 7265 2061 6e79 206d 6574 686f  before any metho
-000132b0: 6420 6f72 2061 7474 7269 6275 7465 2064  d or attribute d
-000132c0: 6566 696e 6974 696f 6e73 2e20 4966 2079  efinitions. If y
-000132d0: 6f75 206e 6565 6420 746f 2069 6e68 6572  ou need to inher
-000132e0: 6974 206d 6167 6963 206d 6574 686f 6473  it magic methods
-000132f0: 2066 726f 6d20 6120 6261 7365 2063 6c61   from a base cla
-00013300: 7373 2069 6e20 796f 7572 2060 6461 7461  ss in your `data
-00013310: 6020 7479 7065 2c20 7375 6368 2073 7562  ` type, such sub
-00013320: 636c 6173 7369 6e67 2069 7320 7468 6520  classing is the 
-00013330: 7265 636f 6d6d 656e 6465 6420 6d65 7468  recommended meth
-00013340: 6f64 2c20 6173 2074 6865 2060 6461 7461  od, as the `data
-00013350: 202e 2e2e 2066 726f 6d20 2e2e 2e60 2073   ... from ...` s
-00013360: 796e 7461 7820 7769 6c6c 206f 7665 7277  yntax will overw
-00013370: 7269 7465 2061 6e79 206d 6167 6963 206d  rite any magic m
-00013380: 6574 686f 6473 2069 6e20 7468 6520 6261  ethods in the ba
-00013390: 7365 2063 6c61 7373 2077 6974 6820 6d61  se class with ma
-000133a0: 6769 6320 6d65 7468 6f64 7320 6275 696c  gic methods buil
-000133b0: 7420 666f 7220 7468 6520 6e65 7720 6064  t for the new `d
-000133c0: 6174 6160 2074 7970 652e 0d0a 0d0a 436f  ata` type.....Co
-000133d0: 6d70 6172 6564 2074 6f20 5b60 6e61 6d65  mpared to [`name
-000133e0: 6474 7570 6c65 6073 5d28 2361 6e6f 6e79  dtuple`s](#anony
-000133f0: 6d6f 7573 2d6e 616d 6564 7475 706c 6573  mous-namedtuples
-00013400: 292c 2066 726f 6d20 7768 6963 6820 6064  ), from which `d
-00013410: 6174 6160 2074 7970 6573 2061 7265 2064  ata` types are d
-00013420: 6572 6976 6564 2c20 6064 6174 6160 2074  erived, `data` t
-00013430: 7970 6573 3a0d 0a0d 0a2d 2075 7365 2074  ypes:....- use t
-00013440: 7970 6564 2065 7175 616c 6974 792c 0d0a  yped equality,..
-00013450: 2d20 646f 6e27 7420 7375 7070 6f72 7420  - don't support 
-00013460: 7475 706c 6520 6164 6469 7469 6f6e 206f  tuple addition o
-00013470: 7220 6d75 6c74 6970 6c69 6361 7469 6f6e  r multiplication
-00013480: 2028 756e 6c65 7373 2065 7870 6c69 6369   (unless explici
-00013490: 746c 7920 6465 6669 6e65 6420 7669 6120  tly defined via 
-000134a0: 7370 6563 6961 6c20 6d65 7468 6f64 7320  special methods 
-000134b0: 696e 2074 6865 2060 6461 7461 6020 626f  in the `data` bo
-000134c0: 6479 292c 0d0a 2d20 7375 7070 6f72 7420  dy),..- support 
-000134d0: 7374 6172 7265 642c 2074 7970 6564 2c20  starred, typed, 
-000134e0: 616e 6420 5b70 6174 7465 726e 2d6d 6174  and [pattern-mat
-000134f0: 6368 696e 675d 2823 6d61 7463 682d 6461  ching](#match-da
-00013500: 7461 2920 6172 6775 6d65 6e74 732c 2061  ta) arguments, a
-00013510: 6e64 0d0a 2d20 6861 7665 2073 7065 6369  nd..- have speci
-00013520: 616c 205b 7061 7474 6572 6e2d 6d61 7463  al [pattern-matc
-00013530: 6869 6e67 5d28 236d 6174 6368 2920 6265  hing](#match) be
-00013540: 6861 7669 6f72 2e0d 0a0d 0a4c 696b 6520  havior.....Like 
-00013550: 5b60 6e61 6d65 6474 7570 6c65 6073 5d28  [`namedtuple`s](
-00013560: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-00013570: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-00013580: 792f 636f 6c6c 6563 7469 6f6e 732e 6874  y/collections.ht
-00013590: 6d6c 236e 616d 6564 7475 706c 652d 6661  ml#namedtuple-fa
-000135a0: 6374 6f72 792d 6675 6e63 7469 6f6e 2d66  ctory-function-f
-000135b0: 6f72 2d74 7570 6c65 732d 7769 7468 2d6e  or-tuples-with-n
-000135c0: 616d 6564 2d66 6965 6c64 7329 2c20 6064  amed-fields), `d
-000135d0: 6174 6160 2074 7970 6573 2061 6c73 6f20  ata` types also 
-000135e0: 7375 7070 6f72 7420 6120 7661 7269 6574  support a variet
-000135f0: 7920 6f66 2065 7874 7261 206d 6574 686f  y of extra metho
-00013600: 6473 2c20 7375 6368 2061 7320 5b60 2e5f  ds, such as [`._
-00013610: 6173 6469 6374 2829 605d 2868 7474 7073  asdict()`](https
-00013620: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
-00013630: 7267 2f33 2f6c 6962 7261 7279 2f63 6f6c  rg/3/library/col
-00013640: 6c65 6374 696f 6e73 2e68 746d 6c23 636f  lections.html#co
-00013650: 6c6c 6563 7469 6f6e 732e 736f 6d65 6e61  llections.somena
-00013660: 6d65 6474 7570 6c65 2e5f 6173 6469 6374  medtuple._asdict
-00013670: 2920 616e 6420 5b60 2e5f 7265 706c 6163  ) and [`._replac
-00013680: 6528 2a2a 6b77 6172 6773 2960 5d28 6874  e(**kwargs)`](ht
-00013690: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
-000136a0: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
-000136b0: 636f 6c6c 6563 7469 6f6e 732e 6874 6d6c  collections.html
-000136c0: 2363 6f6c 6c65 6374 696f 6e73 2e73 6f6d  #collections.som
-000136d0: 656e 616d 6564 7475 706c 652e 5f72 6570  enamedtuple._rep
-000136e0: 6c61 6365 292e 0d0a 0d0a 2323 2323 2320  lace).....##### 
-000136f0: 5261 7469 6f6e 616c 650d 0a0d 0a41 206d  Rationale....A m
-00013700: 6169 6e73 7461 7920 6f66 2066 756e 6374  ainstay of funct
-00013710: 696f 6e61 6c20 7072 6f67 7261 6d6d 696e  ional programmin
-00013720: 6720 7468 6174 2043 6f63 6f6e 7574 2069  g that Coconut i
-00013730: 6d70 726f 7665 7320 696e 2050 7974 686f  mproves in Pytho
-00013740: 6e20 6973 2074 6865 2075 7365 206f 6620  n is the use of 
-00013750: 7661 6c75 6573 2c20 6f72 2069 6d6d 7574  values, or immut
-00013760: 6162 6c65 2064 6174 6120 7479 7065 732e  able data types.
-00013770: 2049 6d6d 7574 6162 6c65 2064 6174 6120   Immutable data 
-00013780: 6361 6e20 6265 2076 6572 7920 7573 6566  can be very usef
-00013790: 756c 2062 6563 6175 7365 2069 7420 6775  ul because it gu
-000137a0: 6172 616e 7465 6573 2074 6861 7420 6f6e  arantees that on
-000137b0: 6365 2079 6f75 2068 6176 6520 736f 6d65  ce you have some
-000137c0: 2064 6174 6120 6974 2077 6f6e 2774 2063   data it won't c
-000137d0: 6861 6e67 652c 2062 7574 2069 6e20 5079  hange, but in Py
-000137e0: 7468 6f6e 2063 7265 6174 696e 6720 6375  thon creating cu
-000137f0: 7374 6f6d 2069 6d6d 7574 6162 6c65 2064  stom immutable d
-00013800: 6174 6120 7479 7065 7320 6973 2064 6966  ata types is dif
-00013810: 6669 6375 6c74 2e20 436f 636f 6e75 7420  ficult. Coconut 
-00013820: 6d61 6b65 7320 6974 2076 6572 7920 6561  makes it very ea
-00013830: 7379 2062 7920 7072 6f76 6964 696e 6720  sy by providing 
-00013840: 6064 6174 6160 2062 6c6f 636b 732e 0d0a  `data` blocks...
-00013850: 0d0a 2323 2323 2320 4578 616d 706c 6573  ..##### Examples
-00013860: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-00013870: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6461  ..```coconut..da
-00013880: 7461 2076 6563 746f 7232 2878 3a69 6e74  ta vector2(x:int
-00013890: 3d30 2c20 793a 696e 743d 3029 3a0d 0a20  =0, y:int=0):.. 
-000138a0: 2020 2064 6566 205f 5f61 6273 5f5f 2873     def __abs__(s
-000138b0: 656c 6629 3a0d 0a20 2020 2020 2020 2072  elf):..        r
-000138c0: 6574 7572 6e20 2873 656c 662e 782a 2a32  eturn (self.x**2
-000138d0: 202b 2073 656c 662e 792a 2a32 292a 2a2e   + self.y**2)**.
-000138e0: 350d 0a0d 0a76 203d 2076 6563 746f 7232  5....v = vector2
-000138f0: 2833 2c20 3429 0d0a 7620 7c3e 2070 7269  (3, 4)..v |> pri
-00013900: 6e74 2020 2320 616c 6c20 6461 7461 2074  nt  # all data t
-00013910: 7970 6573 2063 6f6d 6520 7769 7468 2061  ypes come with a
-00013920: 2062 7569 6c74 2d69 6e20 5f5f 7265 7072   built-in __repr
-00013930: 5f5f 0d0a 7620 7c3e 2061 6273 207c 3e20  __..v |> abs |> 
-00013940: 7072 696e 740d 0a76 2e78 203d 2032 2020  print..v.x = 2  
-00013950: 2320 7468 6973 2077 696c 6c20 6661 696c  # this will fail
-00013960: 2062 6563 6175 7365 2064 6174 6120 6f62   because data ob
-00013970: 6a65 6374 7320 6172 6520 696d 6d75 7461  jects are immuta
-00013980: 626c 650d 0a76 6563 746f 7232 2829 207c  ble..vector2() |
-00013990: 3e20 7072 696e 740d 0a60 6060 0d0a 5f53  > print..```.._S
-000139a0: 686f 7763 6173 6573 2074 6865 2073 796e  howcases the syn
-000139b0: 7461 782c 2066 6561 7475 7265 732c 2061  tax, features, a
-000139c0: 6e64 2069 6d6d 7574 6162 6c65 206e 6174  nd immutable nat
-000139d0: 7572 6520 6f66 2060 6461 7461 6020 7479  ure of `data` ty
-000139e0: 7065 732c 2061 7320 7765 6c6c 2061 7320  pes, as well as 
-000139f0: 7468 6520 7573 6520 6f66 2064 6566 6175  the use of defau
-00013a00: 6c74 2061 7267 756d 656e 7473 2061 6e64  lt arguments and
-00013a10: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
-00013a20: 732e 5f0d 0a0d 0a60 6060 636f 636f 6e75  s._....```coconu
-00013a30: 740d 0a64 6174 6120 456d 7074 7928 290d  t..data Empty().
-00013a40: 0a64 6174 6120 4c65 6166 286e 290d 0a64  .data Leaf(n)..d
-00013a50: 6174 6120 4e6f 6465 286c 2c20 7229 0d0a  ata Node(l, r)..
-00013a60: 0d0a 6465 6620 7369 7a65 2845 6d70 7479  ..def size(Empty
-00013a70: 2829 2920 3d20 300d 0a0d 0a61 6464 7061  ()) = 0....addpa
-00013a80: 7474 6572 6e20 6465 6620 7369 7a65 284c  ttern def size(L
-00013a90: 6561 6628 6e29 2920 3d20 310d 0a0d 0a61  eaf(n)) = 1....a
-00013aa0: 6464 7061 7474 6572 6e20 6465 6620 7369  ddpattern def si
-00013ab0: 7a65 284e 6f64 6528 6c2c 2072 2929 203d  ze(Node(l, r)) =
-00013ac0: 2073 697a 6528 6c29 202b 2073 697a 6528   size(l) + size(
-00013ad0: 7229 0d0a 0d0a 7369 7a65 284e 6f64 6528  r)....size(Node(
-00013ae0: 456d 7074 7928 292c 204c 6561 6628 3130  Empty(), Leaf(10
-00013af0: 2929 2920 3d3d 2031 0d0a 6060 600d 0a5f  ))) == 1..```.._
-00013b00: 5368 6f77 6361 7365 7320 7468 6520 616c  Showcases the al
-00013b10: 6765 6272 6169 6320 6e61 7475 7265 206f  gebraic nature o
-00013b20: 6620 6064 6174 6160 2074 7970 6573 2077  f `data` types w
-00013b30: 6865 6e20 636f 6d62 696e 6564 2077 6974  hen combined wit
-00013b40: 6820 7061 7474 6572 6e2d 6d61 7463 6869  h pattern-matchi
-00013b50: 6e67 2e5f 0d0a 0d0a 6060 6063 6f63 6f6e  ng._....```cocon
-00013b60: 7574 0d0a 6461 7461 2076 6563 746f 7228  ut..data vector(
-00013b70: 2a70 7473 293a 0d0a 2020 2020 2222 2249  *pts):..    """I
-00013b80: 6d6d 7574 6162 6c65 2061 7262 6974 7261  mmutable arbitra
-00013b90: 7279 2d6c 656e 6774 6820 7665 6374 6f72  ry-length vector
-00013ba0: 2e22 2222 0d0a 0d0a 2020 2020 6465 6620  ."""....    def 
-00013bb0: 5f5f 6162 735f 5f28 7365 6c66 2920 3d0d  __abs__(self) =.
-00013bc0: 0a20 2020 2020 2020 2073 656c 662e 7074  .        self.pt
-00013bd0: 7320 7c3e 206d 6170 2428 706f 7724 283f  s |> map$(pow$(?
-00013be0: 2c20 3229 2920 7c3e 2073 756d 207c 3e20  , 2)) |> sum |> 
-00013bf0: 706f 7724 283f 2c20 302e 3529 0d0a 0d0a  pow$(?, 0.5)....
-00013c00: 2020 2020 6465 6620 5f5f 6164 645f 5f28      def __add__(
-00013c10: 7365 6c66 2c20 6f74 6865 7229 203d 0d0a  self, other) =..
-00013c20: 2020 2020 2020 2020 7665 6374 6f72 282a          vector(*
-00013c30: 6f74 6865 725f 7074 7329 203d 206f 7468  other_pts) = oth
-00013c40: 6572 0d0a 2020 2020 2020 2020 6173 7365  er..        asse
-00013c50: 7274 206c 656e 286f 7468 6572 5f70 7473  rt len(other_pts
-00013c60: 2920 3d3d 206c 656e 2873 656c 662e 7074  ) == len(self.pt
-00013c70: 7329 0d0a 2020 2020 2020 2020 6d61 7028  s)..        map(
-00013c80: 282b 292c 2073 656c 662e 7074 732c 206f  (+), self.pts, o
-00013c90: 7468 6572 5f70 7473 2920 7c2a 3e20 7665  ther_pts) |*> ve
-00013ca0: 6374 6f72 0d0a 0d0a 2020 2020 6465 6620  ctor....    def 
-00013cb0: 5f5f 6e65 675f 5f28 7365 6c66 2920 3d0d  __neg__(self) =.
-00013cc0: 0a20 2020 2020 2020 2073 656c 662e 7074  .        self.pt
-00013cd0: 7320 7c3e 206d 6170 2428 282d 2929 207c  s |> map$((-)) |
-00013ce0: 2a3e 2076 6563 746f 720d 0a0d 0a20 2020  *> vector....   
-00013cf0: 2064 6566 205f 5f73 7562 5f5f 2873 656c   def __sub__(sel
-00013d00: 662c 206f 7468 6572 2920 3d0d 0a20 2020  f, other) =..   
-00013d10: 2020 2020 2073 656c 6620 2b20 2d6f 7468       self + -oth
-00013d20: 6572 0d0a 6060 600d 0a5f 5368 6f77 6361  er..```.._Showca
-00013d30: 7365 7320 7374 6172 7265 6420 6064 6174  ses starred `dat
-00013d40: 6160 2064 6563 6c61 7261 7469 6f6e 2e5f  a` declaration._
-00013d50: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00013d60: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-00013d70: 7769 7468 6f75 7420 6120 7365 7269 6573  without a series
-00013d80: 206f 6620 6d65 7468 6f64 2064 6566 696e   of method defin
-00013d90: 6974 696f 6e73 2066 6f72 2065 6163 6820  itions for each 
-00013da0: 6461 7461 2074 7970 652e 2053 6565 2074  data type. See t
-00013db0: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
-00013dc0: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
-00013dd0: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2323  syntax._....####
-00013de0: 2060 6d61 7463 6820 6461 7461 600d 0a0d   `match data`...
-00013df0: 0a49 6e20 6164 6469 7469 6f6e 2074 6f20  .In addition to 
-00013e00: 6e6f 726d 616c 2060 6461 7461 6020 7374  normal `data` st
-00013e10: 6174 656d 656e 7473 2c20 436f 636f 6e75  atements, Coconu
-00013e20: 7420 616c 736f 2073 7570 706f 7274 7320  t also supports 
-00013e30: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00013e40: 2064 6174 6120 7374 6174 656d 656e 7473   data statements
-00013e50: 2074 6861 7420 656e 6162 6c65 2074 6865   that enable the
-00013e60: 2075 7365 206f 6620 436f 636f 6e75 7427   use of Coconut'
-00013e70: 7320 7061 7474 6572 6e2d 6d61 7463 6869  s pattern-matchi
-00013e80: 6e67 2073 796e 7461 7820 746f 2064 6566  ng syntax to def
-00013e90: 696e 6520 7468 6520 6461 7461 2074 7970  ine the data typ
-00013ea0: 6527 7320 636f 6e73 7472 7563 746f 722e  e's constructor.
-00013eb0: 2050 6174 7465 726e 2d6d 6174 6368 696e   Pattern-matchin
-00013ec0: 6720 6461 7461 2074 7970 6573 206c 6f6f  g data types loo
-00013ed0: 6b20 6c69 6b65 0d0a 6060 600d 0a5b 6d61  k like..```..[ma
-00013ee0: 7463 685d 2064 6174 6120 3c6e 616d 653e  tch] data <name>
-00013ef0: 283c 7061 7474 6572 6e73 3e29 205b 6672  (<patterns>) [fr
-00013f00: 6f6d 203c 6261 7365 2063 6c61 7373 3e5d  om <base class>]
-00013f10: 3a0d 0a20 2020 203c 626f 6479 3e0d 0a60  :..    <body>..`
-00013f20: 6060 0d0a 7768 6572 6520 603c 7061 7474  ``..where `<patt
-00013f30: 6572 6e73 3e60 2061 7265 2065 7861 6374  erns>` are exact
-00013f40: 6c79 2061 7320 696e 205b 7061 7474 6572  ly as in [patter
-00013f50: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-00013f60: 696f 6e73 5d28 2370 6174 7465 726e 2d6d  ions](#pattern-m
-00013f70: 6174 6368 696e 672d 6675 6e63 7469 6f6e  atching-function
-00013f80: 7329 2e0d 0a0d 0a49 7420 6973 2069 6d70  s).....It is imp
-00013f90: 6f72 7461 6e74 2074 6f20 6b65 6570 2069  ortant to keep i
-00013fa0: 6e20 6d69 6e64 2074 6861 7420 7061 7474  n mind that patt
-00013fb0: 6572 6e2d 6d61 7463 6869 6e67 2064 6174  ern-matching dat
-00013fc0: 6120 7479 7065 7320 7661 7279 2066 726f  a types vary fro
-00013fd0: 6d20 6e6f 726d 616c 2064 6174 6120 7479  m normal data ty
-00013fe0: 7065 7320 696e 2061 2076 6172 6965 7479  pes in a variety
-00013ff0: 206f 6620 7761 7973 2e20 4669 7273 742c   of ways. First,
-00014000: 206c 696b 6520 7061 7474 6572 6e2d 6d61   like pattern-ma
-00014010: 7463 6869 6e67 2066 756e 6374 696f 6e73  tching functions
-00014020: 2c20 7468 6579 2072 6169 7365 205b 604d  , they raise [`M
-00014030: 6174 6368 4572 726f 7260 5d28 236d 6174  atchError`](#mat
-00014040: 6368 6572 726f 7229 2069 6e73 7465 6164  cherror) instead
-00014050: 206f 6620 6054 7970 6545 7272 6f72 6020   of `TypeError` 
-00014060: 7768 656e 2070 6173 7365 6420 7468 6520  when passed the 
-00014070: 7772 6f6e 6720 6172 6775 6d65 6e74 732e  wrong arguments.
-00014080: 2053 6563 6f6e 642c 2070 6174 7465 726e   Second, pattern
-00014090: 2d6d 6174 6368 696e 6720 6461 7461 2074  -matching data t
-000140a0: 7970 6573 2077 696c 6c20 6e6f 7420 646f  ypes will not do
-000140b0: 2061 6e79 2073 7065 6369 616c 2068 616e   any special han
-000140c0: 646c 696e 6720 6f66 2073 7461 7272 6564  dling of starred
-000140d0: 2061 7267 756d 656e 7473 2e20 5468 7573   arguments. Thus
-000140e0: 2c0d 0a60 6060 0d0a 6461 7461 2076 6563  ,..```..data vec
-000140f0: 282a 7873 290d 0a60 6060 0d0a 7768 656e  (*xs)..```..when
-00014100: 2069 7465 7261 7465 6420 6f76 6572 2077   iterated over w
-00014110: 696c 6c20 6974 6572 6174 6520 6f76 6572  ill iterate over
-00014120: 2061 6c6c 2074 6865 2065 6c65 6d65 6e74   all the element
-00014130: 7320 6f66 2060 7873 602c 2062 7574 0d0a  s of `xs`, but..
-00014140: 6060 600d 0a6d 6174 6368 2064 6174 6120  ```..match data 
-00014150: 7665 6328 2a78 7329 0d0a 6060 600d 0a77  vec(*xs)..```..w
-00014160: 6865 6e20 6974 6572 6174 6564 206f 7665  hen iterated ove
-00014170: 7220 7769 6c6c 206f 6e6c 7920 6769 7665  r will only give
-00014180: 2074 6865 2073 696e 676c 6520 656c 656d   the single elem
-00014190: 656e 7420 6078 7360 2e0d 0a0d 0a23 2323  ent `xs`.....###
-000141a0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-000141b0: 436f 636f 6e75 743a 2a2a 0d0a 6060 600d  Coconut:**..```.
-000141c0: 0a64 6174 6120 6e61 6d65 6470 7428 6e61  .data namedpt(na
-000141d0: 6d65 2060 6973 696e 7374 616e 6365 6020  me `isinstance` 
-000141e0: 7374 722c 2078 2060 6973 696e 7374 616e  str, x `isinstan
-000141f0: 6365 6020 696e 742c 2079 2060 6973 696e  ce` int, y `isin
-00014200: 7374 616e 6365 6020 696e 7429 3a0d 0a20  stance` int):.. 
-00014210: 2020 2064 6566 206d 6167 2873 656c 6629     def mag(self)
-00014220: 203d 2028 7365 6c66 2e78 2a2a 3220 2b20   = (self.x**2 + 
-00014230: 7365 6c66 2e79 2a2a 3229 2a2a 302e 350d  self.y**2)**0.5.
-00014240: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-00014250: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
-00014260: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
-00014270: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
-00014280: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
-00014290: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
-000142a0: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
-000142b0: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
-000142c0: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
-000142d0: 2323 2320 6077 6865 7265 600d 0a0d 0a43  ### `where`....C
-000142e0: 6f63 6f6e 7574 2773 2060 7768 6572 6560  oconut's `where`
-000142f0: 2073 7461 7465 6d65 6e74 2069 7320 6578   statement is ex
-00014300: 7472 656d 656c 7920 7374 7261 6967 6874  tremely straight
-00014310: 666f 7277 6172 642e 2054 6865 2073 796e  forward. The syn
-00014320: 7461 7820 666f 7220 6120 6077 6865 7265  tax for a `where
-00014330: 6020 7374 6174 656d 656e 7420 6973 206a  ` statement is j
-00014340: 7573 740d 0a60 6060 0d0a 3c73 746d 743e  ust..```..<stmt>
-00014350: 2077 6865 7265 3a0d 0a20 2020 203c 626f   where:..    <bo
-00014360: 6479 3e0d 0a60 6060 0d0a 7768 6963 6820  dy>..```..which 
-00014370: 6a75 7374 2065 7865 6375 7465 7320 603c  just executes `<
-00014380: 626f 6479 3e60 2066 6f6c 6c6f 7765 6420  body>` followed 
-00014390: 6279 2060 3c73 746d 743e 602e 0d0a 0d0a  by `<stmt>`.....
-000143a0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-000143b0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-000143c0: 6060 636f 636f 6e75 740d 0a63 203d 2061  ``coconut..c = a
-000143d0: 202b 2062 2077 6865 7265 3a0d 0a20 2020   + b where:..   
-000143e0: 2061 203d 2031 0d0a 2020 2020 6220 3d20   a = 1..    b = 
-000143f0: 320d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  2..```....**Pyth
-00014400: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
-00014410: 745f 7079 7468 6f6e 0d0a 6120 3d20 310d  t_python..a = 1.
-00014420: 0a62 203d 2032 0d0a 6320 3d20 6120 2b20  .b = 2..c = a + 
-00014430: 620d 0a60 6060 0d0a 0d0a 2323 2320 6061  b..```....### `a
-00014440: 7379 6e63 2077 6974 6820 666f 7260 0d0a  sync with for`..
-00014450: 0d0a 496e 206d 6f64 6572 6e20 5079 7468  ..In modern Pyth
-00014460: 6f6e 2060 6173 796e 6360 2063 6f64 652c  on `async` code,
-00014470: 2073 7563 6820 6173 2077 6865 6e20 7573   such as when us
-00014480: 696e 6720 5b60 636f 6e74 6578 746c 6962  ing [`contextlib
-00014490: 2e61 636c 6f73 696e 6760 5d28 6874 7470  .aclosing`](http
-000144a0: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
-000144b0: 6f72 672f 332f 6c69 6272 6172 792f 636f  org/3/library/co
-000144c0: 6e74 6578 746c 6962 2e68 746d 6c23 636f  ntextlib.html#co
-000144d0: 6e74 6578 746c 6962 2e61 636c 6f73 696e  ntextlib.aclosin
-000144e0: 6729 2c20 6974 2069 7320 6f66 7465 6e20  g), it is often 
-000144f0: 7265 636f 6d6d 656e 6465 6420 746f 2075  recommended to u
-00014500: 7365 2061 2070 6174 7465 726e 206c 696b  se a pattern lik
-00014510: 650d 0a60 6060 636f 636f 6e75 745f 7079  e..```coconut_py
-00014520: 7468 6f6e 0d0a 6173 796e 6320 7769 7468  thon..async with
-00014530: 2061 636c 6f73 696e 6728 6d79 5f67 656e   aclosing(my_gen
-00014540: 6572 6174 6f72 2829 2920 6173 2076 616c  erator()) as val
-00014550: 7565 733a 0d0a 2020 2020 6173 796e 6320  ues:..    async 
-00014560: 666f 7220 7661 6c75 6520 696e 2076 616c  for value in val
-00014570: 7565 733a 0d0a 2020 2020 2020 2020 2e2e  ues:..        ..
-00014580: 2e0d 0a60 6060 0d0a 7369 6e63 6520 6974  ...```..since it
-00014590: 2069 7320 7375 6273 7461 6e74 6961 6c6c   is substantiall
-000145a0: 7920 7361 6665 7220 7468 616e 2074 6865  y safer than the
-000145b0: 206d 6f72 6520 7379 6e74 6163 7469 6361   more syntactica
-000145c0: 6c6c 7920 7374 7261 6967 6874 666f 7277  lly straightforw
-000145d0: 6172 640d 0a60 6060 636f 636f 6e75 745f  ard..```coconut_
-000145e0: 7079 7468 6f6e 0d0a 6173 796e 6320 666f  python..async fo
-000145f0: 7220 7661 6c75 6520 696e 206d 795f 6765  r value in my_ge
-00014600: 6e65 7261 746f 7228 293a 0d0a 2020 2020  nerator():..    
-00014610: 2e2e 2e0d 0a60 6060 0d0a 0d0a 5468 6973  .....```....This
-00014620: 2069 7320 6573 7065 6369 616c 6c79 2074   is especially t
-00014630: 7275 6520 7768 656e 2075 7369 6e67 205b  rue when using [
-00014640: 6074 7269 6f60 5d28 6874 7470 733a 2f2f  `trio`](https://
-00014650: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00014660: 6e2d 7472 696f 2f74 7269 6f29 2c20 7768  n-trio/trio), wh
-00014670: 6963 6820 5b63 6f6d 706c 6574 656c 7920  ich [completely 
-00014680: 6469 7361 6c6c 6f77 7320 6974 6572 6174  disallows iterat
-00014690: 696e 6720 6f76 6572 2060 6173 796e 6360  ing over `async`
-000146a0: 2067 656e 6572 6174 6f72 7320 7769 7468   generators with
-000146b0: 2060 6173 796e 6320 666f 7260 5d28 6874   `async for`](ht
-000146c0: 7470 733a 2f2f 6469 7363 7573 732e 7079  tps://discuss.py
-000146d0: 7468 6f6e 2e6f 7267 2f74 2f70 7265 7665  thon.org/t/preve
-000146e0: 6e74 696e 672d 7969 656c 642d 696e 7369  nting-yield-insi
-000146f0: 6465 2d63 6572 7461 696e 2d63 6f6e 7465  de-certain-conte
-00014700: 7874 2d6d 616e 6167 6572 732f 3130 3931  xt-managers/1091
-00014710: 292c 2069 6e73 7465 6164 2072 6571 7569  ), instead requi
-00014720: 7269 6e67 2074 6865 2061 626f 7665 2060  ring the above `
-00014730: 6173 796e 6320 7769 7468 202e 2e2e 2061  async with ... a
-00014740: 7379 6e63 2066 6f72 6020 7061 7474 6572  sync for` patter
-00014750: 6e20 7573 696e 6720 7574 696c 6974 6965  n using utilitie
-00014760: 7320 7375 6368 2061 7320 5b60 7472 696f  s such as [`trio
-00014770: 5f75 7469 6c2e 7472 696f 5f61 7379 6e63  _util.trio_async
-00014780: 5f67 656e 6572 6174 6f72 605d 2868 7474  _generator`](htt
-00014790: 7073 3a2f 2f74 7269 6f2d 7574 696c 2e72  ps://trio-util.r
-000147a0: 6561 6474 6865 646f 6373 2e69 6f2f 656e  eadthedocs.io/en
-000147b0: 2f6c 6174 6573 742f 2374 7269 6f5f 7574  /latest/#trio_ut
-000147c0: 696c 2e74 7269 6f5f 6173 796e 635f 6765  il.trio_async_ge
-000147d0: 6e65 7261 746f 7229 2e0d 0a0d 0a53 696e  nerator).....Sin
-000147e0: 6365 2074 6869 7320 7061 7474 6572 6e20  ce this pattern 
-000147f0: 6361 6e20 6f66 7465 6e20 6265 2071 7569  can often be qui
-00014800: 7465 2073 796e 7461 6374 6963 616c 6c79  te syntactically
-00014810: 2063 756d 6265 7273 6f6d 652c 2043 6f63   cumbersome, Coc
-00014820: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
-00014830: 6520 7368 6f72 7463 7574 2073 796e 7461  e shortcut synta
-00014840: 780d 0a60 6060 0d0a 6173 796e 6320 7769  x..```..async wi
-00014850: 7468 2066 6f72 2061 636c 6f73 696e 6728  th for aclosing(
-00014860: 6d79 5f67 656e 6572 6174 6f72 2829 2920  my_generator()) 
-00014870: 6173 2076 616c 7565 733a 0d0a 2020 2020  as values:..    
-00014880: 2e2e 2e0d 0a60 6060 0d0a 7768 6963 6820  .....```..which 
-00014890: 636f 6d70 696c 6573 2074 6f20 6578 6163  compiles to exac
-000148a0: 746c 7920 7468 6520 7061 7474 6572 6e20  tly the pattern 
-000148b0: 6162 6f76 652e 0d0a 0d0a 6061 7379 6e63  above.....`async
-000148c0: 2077 6974 6820 666f 7260 2061 6c73 6f20   with for` also 
-000148d0: 5b73 7570 706f 7274 7320 7061 7474 6572  [supports patter
-000148e0: 6e2d 6d61 7463 6869 6e67 2c20 6a75 7374  n-matching, just
-000148f0: 206c 696b 6520 6e6f 726d 616c 2043 6f63   like normal Coc
-00014900: 6f6e 7574 2060 666f 7260 206c 6f6f 7073  onut `for` loops
-00014910: 5d28 236d 6174 6368 2d66 6f72 292e 0d0a  ](#match-for)...
-00014920: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-00014930: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-00014940: 0a60 6060 636f 636f 6e75 740d 0a66 726f  .```coconut..fro
-00014950: 6d20 7472 696f 5f75 7469 6c20 696d 706f  m trio_util impo
-00014960: 7274 2074 7269 6f5f 6173 796e 635f 6765  rt trio_async_ge
-00014970: 6e65 7261 746f 720d 0a0d 0a40 7472 696f  nerator....@trio
-00014980: 5f61 7379 6e63 5f67 656e 6572 6174 6f72  _async_generator
-00014990: 0d0a 6173 796e 6320 6465 6620 6d79 5f67  ..async def my_g
-000149a0: 656e 6572 6174 6f72 2829 3a0d 0a20 2020  enerator():..   
-000149b0: 2023 2079 6965 6c64 2076 616c 7565 732c   # yield values,
-000149c0: 2070 6f73 7369 626c 7920 6672 6f6d 2061   possibly from a
-000149d0: 206e 7572 7365 7279 206f 7220 6361 6e63   nursery or canc
-000149e0: 656c 2073 636f 7065 0d0a 2020 2020 2320  el scope..    # 
-000149f0: 2e2e 2e0d 0a0d 0a61 7379 6e63 2077 6974  .......async wit
-00014a00: 6820 666f 7220 7661 6c75 6520 696e 206d  h for value in m
-00014a10: 795f 6765 6e65 7261 746f 7228 293a 0d0a  y_generator():..
-00014a20: 2020 2020 7072 696e 7428 7661 6c75 6529      print(value)
-00014a30: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00014a40: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-00014a50: 5f70 7974 686f 6e0d 0a66 726f 6d20 7472  _python..from tr
-00014a60: 696f 5f75 7469 6c20 696d 706f 7274 2074  io_util import t
-00014a70: 7269 6f5f 6173 796e 635f 6765 6e65 7261  rio_async_genera
-00014a80: 746f 720d 0a0d 0a40 7472 696f 5f61 7379  tor....@trio_asy
-00014a90: 6e63 5f67 656e 6572 6174 6f72 0d0a 6173  nc_generator..as
-00014aa0: 796e 6320 6465 6620 6d79 5f67 656e 6572  ync def my_gener
-00014ab0: 6174 6f72 2829 3a0d 0a20 2020 2023 2079  ator():..    # y
-00014ac0: 6965 6c64 2076 616c 7565 732c 2070 6f73  ield values, pos
-00014ad0: 7369 626c 7920 6672 6f6d 2061 206e 7572  sibly from a nur
-00014ae0: 7365 7279 206f 7220 6361 6e63 656c 2073  sery or cancel s
-00014af0: 636f 7065 0d0a 2020 2020 2320 2e2e 2e0d  cope..    # ....
-00014b00: 0a0d 0a61 7379 6e63 2077 6974 6820 6d79  ...async with my
-00014b10: 5f67 656e 6572 6174 6f72 2829 2061 7320  _generator() as 
-00014b20: 6167 656e 3a0d 0a20 2020 2061 7379 6e63  agen:..    async
-00014b30: 2066 6f72 2076 616c 7565 2069 6e20 6167   for value in ag
-00014b40: 656e 3a0d 0a20 2020 2020 2020 2070 7269  en:..        pri
-00014b50: 6e74 2876 616c 7565 290d 0a60 6060 0d0a  nt(value)..```..
-00014b60: 0d0a 2323 2320 4861 6e64 6c69 6e67 204b  ..### Handling K
-00014b70: 6579 776f 7264 2f56 6172 6961 626c 6520  eyword/Variable 
-00014b80: 4e61 6d65 204f 7665 726c 6170 0d0a 0d0a  Name Overlap....
-00014b90: 496e 2043 6f63 6f6e 7574 2c20 7468 6520  In Coconut, the 
-00014ba0: 666f 6c6c 6f77 696e 6720 6b65 7977 6f72  following keywor
-00014bb0: 6473 2061 7265 2061 6c73 6f20 7661 6c69  ds are also vali
-00014bc0: 6420 7661 7269 6162 6c65 206e 616d 6573  d variable names
-00014bd0: 3a0d 0a2d 2060 6461 7461 600d 0a2d 2060  :..- `data`..- `
-00014be0: 6d61 7463 6860 0d0a 2d20 6063 6173 6560  match`..- `case`
-00014bf0: 0d0a 2d20 6063 6173 6573 600d 0a2d 2060  ..- `cases`..- `
-00014c00: 6164 6470 6174 7465 726e 600d 0a2d 2060  addpattern`..- `
-00014c10: 7768 6572 6560 0d0a 2d20 606f 7065 7261  where`..- `opera
-00014c20: 746f 7260 0d0a 2d20 6074 6865 6e60 0d0a  tor`..- `then`..
-00014c30: 2d20 60ce bb60 2028 6120 5b55 6e69 636f  - `..` (a [Unico
-00014c40: 6465 2061 6c74 6572 6e61 7469 7665 5d28  de alternative](
-00014c50: 2375 6e69 636f 6465 2d61 6c74 6572 6e61  #unicode-alterna
-00014c60: 7469 7665 7329 2066 6f72 2060 6c61 6d62  tives) for `lamb
-00014c70: 6461 6029 0d0a 0d0a 5768 696c 6520 436f  da`)....While Co
-00014c80: 636f 6e75 7420 6361 6e20 7573 7561 6c6c  conut can usuall
-00014c90: 7920 6469 7361 6d62 6967 7561 7465 2074  y disambiguate t
-00014ca0: 6865 7365 2074 776f 2075 7365 2063 6173  hese two use cas
-00014cb0: 6573 2c20 7370 6563 6961 6c20 7379 6e74  es, special synt
-00014cc0: 6178 2069 7320 6176 6169 6c61 626c 6520  ax is available 
-00014cd0: 666f 7220 6469 7361 6d62 6967 7561 7469  for disambiguati
-00014ce0: 6e67 2074 6865 6d20 6966 206e 6563 6573  ng them if neces
-00014cf0: 7361 7279 2e20 4e6f 7465 2074 6861 742c  sary. Note that,
-00014d00: 2069 6620 7768 6174 2079 6f75 2772 6520   if what you're 
-00014d10: 7772 6974 696e 6720 6361 6e20 6265 2069  writing can be i
-00014d20: 6e74 6572 7072 6574 6564 2061 7320 7661  nterpreted as va
-00014d30: 6c69 6420 5079 7468 6f6e 2033 2c20 436f  lid Python 3, Co
-00014d40: 636f 6e75 7420 7769 6c6c 2061 6c77 6179  conut will alway
-00014d50: 7320 7072 6566 6572 2074 6861 7420 696e  s prefer that in
-00014d60: 7465 7270 7265 7461 7469 6f6e 2062 7920  terpretation by 
-00014d70: 6465 6661 756c 742e 0d0a 0d0a 546f 2073  default.....To s
-00014d80: 7065 6369 6679 2074 6861 7420 796f 7520  pecify that you 
-00014d90: 7761 6e74 2061 205f 7661 7269 6162 6c65  want a _variable
-00014da0: 5f2c 2070 7265 6669 7820 7468 6520 6e61  _, prefix the na
-00014db0: 6d65 2077 6974 6820 6120 6261 636b 736c  me with a backsl
-00014dc0: 6173 6820 6173 2069 6e20 605c 6461 7461  ash as in `\data
-00014dd0: 602c 2061 6e64 2074 6f20 7370 6563 6966  `, and to specif
-00014de0: 7920 7468 6174 2079 6f75 2077 616e 7420  y that you want 
-00014df0: 6120 5f6b 6579 776f 7264 5f2c 2070 7265  a _keyword_, pre
-00014e00: 6669 7820 7468 6520 6e61 6d65 2077 6974  fix the name wit
-00014e10: 6820 6120 636f 6c6f 6e20 6173 2069 6e20  h a colon as in 
-00014e20: 603a 6d61 7463 6860 2e0d 0a0d 0a41 6464  `:match`.....Add
-00014e30: 6974 696f 6e61 6c6c 792c 2062 6163 6b73  itionally, backs
-00014e40: 6c61 7368 2073 796e 7461 7820 666f 7220  lash syntax for 
-00014e50: 6573 6361 7069 6e67 2076 6172 6961 626c  escaping variabl
-00014e60: 6520 6e61 6d65 7320 6361 6e20 616c 736f  e names can also
-00014e70: 2062 6520 7573 6564 2074 6f20 6469 7374   be used to dist
-00014e80: 696e 6775 6973 6820 6265 7477 6565 6e20  inguish between 
-00014e90: 7661 7269 6162 6c65 206e 616d 6573 2061  variable names a
-00014ea0: 6e64 205b 6375 7374 6f6d 206f 7065 7261  nd [custom opera
-00014eb0: 746f 7273 5d28 2363 7573 746f 6d2d 6f70  tors](#custom-op
-00014ec0: 6572 6174 6f72 7329 2061 7320 7765 6c6c  erators) as well
-00014ed0: 2061 7320 6578 706c 6963 6974 6c79 2073   as explicitly s
-00014ee0: 6967 6e69 6679 2074 6861 7420 616e 2061  ignify that an a
-00014ef0: 7373 6967 6e6d 656e 7420 746f 2061 2062  ssignment to a b
-00014f00: 7569 6c74 2d69 6e20 6973 2064 6573 6972  uilt-in is desir
-00014f10: 6162 6c65 2074 6f20 6469 736d 6973 7320  able to dismiss 
-00014f20: 5b60 2d2d 7374 7269 6374 6020 7761 726e  [`--strict` warn
-00014f30: 696e 6773 5d28 2373 7472 6963 742d 6d6f  ings](#strict-mo
-00014f40: 6465 292e 0d0a 0d0a 4669 6e61 6c6c 792c  de).....Finally,
-00014f50: 2073 7563 6820 6469 7361 6d62 6967 7561   such disambigua
-00014f60: 7469 6f6e 2073 796e 7461 7820 6361 6e20  tion syntax can 
-00014f70: 616c 736f 2062 6520 6865 6c70 6675 6c20  also be helpful 
-00014f80: 666f 7220 6c65 7474 696e 6720 7379 6e74  for letting synt
-00014f90: 6178 2068 6967 686c 6967 6874 6572 7320  ax highlighters 
-00014fa0: 6b6e 6f77 2077 6861 7420 796f 7527 7265  know what you're
-00014fb0: 2064 6f69 6e67 2e0d 0a0d 0a23 2323 2323   doing.....#####
-00014fc0: 2045 7861 6d70 6c65 730d 0a0d 0a2a 2a43   Examples....**C
-00014fd0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-00014fe0: 636f 6e75 740d 0a5c 6461 7461 203d 2035  conut..\data = 5
-00014ff0: 0d0a 7072 696e 7428 5c64 6174 6129 0d0a  ..print(\data)..
-00015000: 6060 600d 0a0d 0a60 6060 636f 636f 6e75  ```....```coconu
-00015010: 740d 0a23 2077 6974 686f 7574 2074 6865  t..# without the
-00015020: 2063 6f6c 6f6e 2c20 436f 636f 6e75 7420   colon, Coconut 
-00015030: 7769 6c6c 2069 6e74 6572 7072 6574 2074  will interpret t
-00015040: 6869 7320 6173 2074 6865 2076 616c 6964  his as the valid
-00015050: 2050 7974 686f 6e20 6d61 7463 685b 782c   Python match[x,
-00015060: 2079 5d20 3d20 696e 7075 745f 6c69 7374   y] = input_list
-00015070: 0d0a 3a6d 6174 6368 205b 782c 2079 5d20  ..:match [x, y] 
-00015080: 3d20 696e 7075 745f 6c69 7374 0d0a 6060  = input_list..``
-00015090: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-000150a0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-000150b0: 686f 6e0d 0a64 6174 6120 3d20 350d 0a70  hon..data = 5..p
-000150c0: 7269 6e74 2864 6174 6129 0d0a 6060 600d  rint(data)..```.
-000150d0: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
-000150e0: 7468 6f6e 0d0a 782c 2079 203d 2069 6e70  thon..x, y = inp
-000150f0: 7574 5f6c 6973 740d 0a60 6060 0d0a 0d0a  ut_list..```....
-00015100: 2323 2045 7870 7265 7373 696f 6e73 0d0a  ## Expressions..
-00015110: 0d0a 6060 607b 636f 6e74 656e 7473 7d0d  ..```{contents}.
-00015120: 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465  .---..local:..de
-00015130: 7074 683a 2031 0d0a 2d2d 2d0d 0a60 6060  pth: 1..---..```
-00015140: 0d0a 0d0a 2323 2320 5374 6174 656d 656e  ....### Statemen
-00015150: 7420 4c61 6d62 6461 730d 0a0d 0a54 6865  t Lambdas....The
-00015160: 2073 7461 7465 6d65 6e74 206c 616d 6264   statement lambd
-00015170: 6120 7379 6e74 6178 2069 7320 616e 2065  a syntax is an e
-00015180: 7874 656e 7369 6f6e 206f 6620 7468 6520  xtension of the 
-00015190: 5b6e 6f72 6d61 6c20 6c61 6d62 6461 2073  [normal lambda s
-000151a0: 796e 7461 785d 2823 6c61 6d62 6461 7329  yntax](#lambdas)
-000151b0: 2074 6f20 7375 7070 6f72 7420 7374 6174   to support stat
-000151c0: 656d 656e 7473 2c20 6e6f 7420 6a75 7374  ements, not just
-000151d0: 2065 7870 7265 7373 696f 6e73 2e0d 0a0d   expressions....
-000151e0: 0a54 6865 2073 796e 7461 7820 666f 7220  .The syntax for 
-000151f0: 6120 7374 6174 656d 656e 7420 6c61 6d62  a statement lamb
-00015200: 6461 2069 730d 0a60 6060 0d0a 5b61 7379  da is..```..[asy
-00015210: 6e63 7c6d 6174 6368 7c63 6f70 7963 6c6f  nc|match|copyclo
-00015220: 7375 7265 5d20 6465 6620 2861 7267 756d  sure] def (argum
-00015230: 656e 7473 2920 2d3e 2073 7461 7465 6d65  ents) -> stateme
-00015240: 6e74 3b20 7374 6174 656d 656e 743b 202e  nt; statement; .
-00015250: 2e2e 0d0a 6060 600d 0a77 6865 7265 2060  ....```..where `
-00015260: 6172 6775 6d65 6e74 7360 2063 616e 2062  arguments` can b
-00015270: 6520 7374 616e 6461 7264 2066 756e 6374  e standard funct
-00015280: 696f 6e20 6172 6775 6d65 6e74 7320 6f72  ion arguments or
-00015290: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
-000152a0: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
-000152b0: 6e69 7469 6f6e 5d28 2370 6174 7465 726e  nition](#pattern
-000152c0: 2d6d 6174 6368 696e 672d 6675 6e63 7469  -matching-functi
-000152d0: 6f6e 7329 2061 7267 756d 656e 7473 2061  ons) arguments a
-000152e0: 6e64 2060 7374 6174 656d 656e 7460 2063  nd `statement` c
-000152f0: 616e 2062 6520 616e 2061 7373 6967 6e6d  an be an assignm
-00015300: 656e 7420 7374 6174 656d 656e 7420 6f72  ent statement or
-00015310: 2061 206b 6579 776f 7264 2073 7461 7465   a keyword state
-00015320: 6d65 6e74 2e20 4e6f 7465 2074 6861 7420  ment. Note that 
-00015330: 7468 6520 6061 7379 6e63 602c 2060 6d61  the `async`, `ma
-00015340: 7463 6860 2c20 616e 6420 5b60 636f 7079  tch`, and [`copy
-00015350: 636c 6f73 7572 6560 5d28 2363 6f70 7963  closure`](#copyc
-00015360: 6c6f 7375 7265 2d66 756e 6374 696f 6e73  losure-functions
-00015370: 2920 6b65 7977 6f72 6473 2063 616e 2062  ) keywords can b
-00015380: 6520 636f 6d62 696e 6564 2061 6e64 2063  e combined and c
-00015390: 616e 2062 6520 696e 2061 6e79 206f 7264  an be in any ord
-000153a0: 6572 2e0d 0a0d 0a49 6620 7468 6520 6c61  er.....If the la
-000153b0: 7374 2060 7374 6174 656d 656e 7460 2028  st `statement` (
-000153c0: 6e6f 7420 666f 6c6c 6f77 6564 2062 7920  not followed by 
-000153d0: 6120 7365 6d69 636f 6c6f 6e29 2069 6e20  a semicolon) in 
-000153e0: 6120 7374 6174 656d 656e 7420 6c61 6d62  a statement lamb
-000153f0: 6461 2069 7320 616e 2060 6578 7072 6573  da is an `expres
-00015400: 7369 6f6e 602c 2069 7420 7769 6c6c 2061  sion`, it will a
-00015410: 7574 6f6d 6174 6963 616c 6c79 2062 6520  utomatically be 
-00015420: 7265 7475 726e 6564 2e0d 0a0d 0a53 7461  returned.....Sta
-00015430: 7465 6d65 6e74 206c 616d 6264 6173 2061  tement lambdas a
-00015440: 6c73 6f20 7375 7070 6f72 7420 696d 706c  lso support impl
-00015450: 6963 6974 206c 616d 6264 6120 7379 6e74  icit lambda synt
-00015460: 6178 2073 7563 6820 7468 6174 2060 6465  ax such that `de
-00015470: 6620 2d3e 205f 6020 6973 2065 7175 6976  f -> _` is equiv
-00015480: 616c 656e 7420 746f 2060 6465 6620 285f  alent to `def (_
-00015490: 3d4e 6f6e 6529 202d 3e20 5f60 2061 7320  =None) -> _` as 
-000154a0: 7765 6c6c 2061 7320 6578 706c 6963 6974  well as explicit
-000154b0: 6c79 206d 6172 6b69 6e67 2074 6865 6d20  ly marking them 
-000154c0: 6173 2070 6174 7465 726e 2d6d 6174 6368  as pattern-match
-000154d0: 696e 6720 7375 6368 2074 6861 7420 606d  ing such that `m
-000154e0: 6174 6368 2064 6566 2028 7829 202d 3e20  atch def (x) -> 
-000154f0: 7860 2077 696c 6c20 6265 2061 2070 6174  x` will be a pat
-00015500: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-00015510: 6e63 7469 6f6e 2e0d 0a0d 0a4e 6f74 6520  nction.....Note 
-00015520: 7468 6174 2073 7461 7465 6d65 6e74 206c  that statement l
-00015530: 616d 6264 6173 2068 6176 6520 6120 6c6f  ambdas have a lo
-00015540: 7765 7220 7072 6563 6564 656e 6365 2074  wer precedence t
-00015550: 6861 6e20 6e6f 726d 616c 206c 616d 6264  han normal lambd
-00015560: 6173 2061 6e64 2074 6875 7320 6361 7074  as and thus capt
-00015570: 7572 6520 7468 696e 6773 206c 696b 6520  ure things like 
-00015580: 7472 6169 6c69 6e67 2063 6f6d 6d61 732e  trailing commas.
-00015590: 2054 6f20 6176 6f69 6420 636f 6e66 7573   To avoid confus
-000155a0: 696f 6e2c 2073 7461 7465 6d65 6e74 206c  ion, statement l
-000155b0: 616d 6264 6173 2073 686f 756c 6420 616c  ambdas should al
-000155c0: 7761 7973 2062 6520 7772 6170 7065 6420  ways be wrapped 
-000155d0: 696e 2074 6865 6972 206f 776e 2073 6574  in their own set
-000155e0: 206f 6620 7061 7265 6e74 6865 7365 732e   of parentheses.
-000155f0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-00015600: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-00015610: 2a0d 0a60 6060 636f 636f 6e75 740d 0a4c  *..```coconut..L
-00015620: 207c 3e20 6d61 7024 2864 6566 2028 7829   |> map$(def (x)
-00015630: 202d 3e0d 0a20 2020 2079 203d 2031 2f78   ->..    y = 1/x
-00015640: 3b0d 0a20 2020 2079 2a28 3120 2d20 7929  ;..    y*(1 - y)
-00015650: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
-00015660: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
-00015670: 745f 7079 7468 6f6e 0d0a 6465 6620 5f6c  t_python..def _l
-00015680: 616d 6264 6128 7829 3a0d 0a20 2020 2079  ambda(x):..    y
-00015690: 203d 2031 2f78 0d0a 2020 2020 7265 7475   = 1/x..    retu
-000156a0: 726e 2079 2a28 3120 2d20 7929 0d0a 6d61  rn y*(1 - y)..ma
-000156b0: 7028 5f6c 616d 6264 612c 204c 290d 0a60  p(_lambda, L)..`
-000156c0: 6060 0d0a 0d0a 2323 2323 2054 7970 6520  ``....#### Type 
-000156d0: 616e 6e6f 7461 7469 6f6e 730d 0a0d 0a41  annotations....A
-000156e0: 6e6f 7468 6572 2063 6173 6520 7768 6572  nother case wher
-000156f0: 6520 7374 6174 656d 656e 7420 6c61 6d62  e statement lamb
-00015700: 6461 7320 776f 756c 6420 6265 2075 7365  das would be use
-00015710: 6420 6f76 6572 2073 7461 6e64 6172 6420  d over standard 
-00015720: 6c61 6d62 6461 7320 6973 2077 6865 6e20  lambdas is when 
-00015730: 7468 6520 7061 7261 6d65 7465 7273 2074  the parameters t
-00015740: 6f20 7468 6520 6c61 6d62 6461 2061 7265  o the lambda are
-00015750: 2074 7970 6564 2077 6974 6820 7479 7065   typed with type
-00015760: 2061 6e6e 6f74 6174 696f 6e73 2e20 5374   annotations. St
-00015770: 6174 656d 656e 7420 6c61 6d62 6461 7320  atement lambdas 
-00015780: 7573 6520 7468 6520 7374 616e 6461 7264  use the standard
-00015790: 2050 7974 686f 6e20 7379 6e74 6178 2066   Python syntax f
-000157a0: 6f72 2061 6464 696e 6720 7479 7065 2061  or adding type a
-000157b0: 6e6e 6f74 6174 696f 6e73 2074 6f20 7468  nnotations to th
-000157c0: 6569 7220 7061 7261 6d65 7465 7273 3a0d  eir parameters:.
-000157d0: 0a0d 0a60 6060 636f 636f 6e75 740d 0a66  ...```coconut..f
-000157e0: 203d 2064 6566 2028 633a 2073 7472 2920   = def (c: str) 
-000157f0: 2d3e 2070 7269 6e74 2863 290d 0a0d 0a67  -> print(c)....g
-00015800: 203d 2064 6566 2028 613a 2069 6e74 2c20   = def (a: int, 
-00015810: 623a 2069 6e74 2920 2d3e 2061 202a 2a20  b: int) -> a ** 
-00015820: 620d 0a60 6060 0d0a 0d0a 486f 7765 7665  b..```....Howeve
-00015830: 722c 2073 7461 7465 6d65 6e74 206c 616d  r, statement lam
-00015840: 6264 6173 2064 6f20 6e6f 7420 7375 7070  bdas do not supp
-00015850: 6f72 7420 7265 7475 726e 2074 7970 6520  ort return type 
-00015860: 616e 6e6f 7461 7469 6f6e 732e 0d0a 0d0a  annotations.....
-00015870: 2323 2320 4f70 6572 6174 6f72 2046 756e  ### Operator Fun
-00015880: 6374 696f 6e73 0d0a 0d0a 436f 636f 6e75  ctions....Coconu
-00015890: 7420 7573 6573 2061 2073 696d 706c 6520  t uses a simple 
-000158a0: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-000158b0: 6e20 7368 6f72 742d 6861 6e64 3a20 7375  n short-hand: su
-000158c0: 7272 6f75 6e64 2061 6e20 6f70 6572 6174  rround an operat
-000158d0: 6f72 2077 6974 6820 7061 7265 6e74 6865  or with parenthe
-000158e0: 7365 7320 746f 2072 6574 7269 6576 6520  ses to retrieve 
-000158f0: 6974 7320 6675 6e63 7469 6f6e 2e20 5369  its function. Si
-00015900: 6d69 6c61 726c 7920 746f 2069 7465 7261  milarly to itera
-00015910: 746f 7220 636f 6d70 7265 6865 6e73 696f  tor comprehensio
-00015920: 6e73 2c20 6966 2074 6865 206f 7065 7261  ns, if the opera
-00015930: 746f 7220 6675 6e63 7469 6f6e 2069 7320  tor function is 
-00015940: 7468 6520 6f6e 6c79 2061 7267 756d 656e  the only argumen
-00015950: 7420 746f 2061 2066 756e 6374 696f 6e2c  t to a function,
-00015960: 2074 6865 2070 6172 656e 7468 6573 6573   the parentheses
-00015970: 206f 6620 7468 6520 6675 6e63 7469 6f6e   of the function
-00015980: 2063 616c 6c20 6361 6e20 616c 736f 2073   call can also s
-00015990: 6572 7665 2061 7320 7468 6520 7061 7265  erve as the pare
-000159a0: 6e74 6865 7365 7320 666f 7220 7468 6520  ntheses for the 
-000159b0: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-000159c0: 6e2e 0d0a 0d0a 2323 2323 2320 5261 7469  n.....##### Rati
-000159d0: 6f6e 616c 650d 0a0d 0a41 2076 6572 7920  onale....A very 
-000159e0: 636f 6d6d 6f6e 2074 6869 6e67 2074 6f20  common thing to 
-000159f0: 646f 2069 6e20 6675 6e63 7469 6f6e 616c  do in functional
-00015a00: 2070 726f 6772 616d 6d69 6e67 2069 7320   programming is 
-00015a10: 746f 206d 616b 6520 7573 6520 6f66 2066  to make use of f
-00015a20: 756e 6374 696f 6e20 7665 7273 696f 6e73  unction versions
-00015a30: 206f 6620 6275 696c 742d 696e 206f 7065   of built-in ope
-00015a40: 7261 746f 7273 3a20 6375 7272 7969 6e67  rators: currying
-00015a50: 2074 6865 6d2c 2063 6f6d 706f 7369 6e67   them, composing
-00015a60: 2074 6865 6d2c 2061 6e64 2070 6970 696e   them, and pipin
-00015a70: 6720 7468 656d 2e20 546f 206d 616b 6520  g them. To make 
-00015a80: 7468 6973 2065 6173 792c 2043 6f63 6f6e  this easy, Cocon
-00015a90: 7574 2070 726f 7669 6465 7320 6120 7368  ut provides a sh
-00015aa0: 6f72 742d 6861 6e64 2073 796e 7461 7820  ort-hand syntax 
-00015ab0: 746f 2061 6363 6573 7320 6f70 6572 6174  to access operat
-00015ac0: 6f72 2066 756e 6374 696f 6e73 2e0d 0a0d  or functions....
-00015ad0: 0a23 2323 2323 2046 756c 6c20 4c69 7374  .##### Full List
-00015ae0: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ....```coconut..
-00015af0: 283a 3a29 2020 2020 2020 2020 3d3e 2028  (::)        => (
-00015b00: 6974 6572 746f 6f6c 732e 6368 6169 6e29  itertools.chain)
-00015b10: 2020 2320 7769 6c6c 206e 6f74 2065 7661    # will not eva
-00015b20: 6c75 6174 6520 6974 7320 6172 6775 6d65  luate its argume
-00015b30: 6e74 7320 6c61 7a69 6c79 0d0a 2824 2920  nts lazily..($) 
-00015b40: 2020 2020 2020 2020 3d3e 2028 6675 6e63          => (func
-00015b50: 746f 6f6c 732e 7061 7274 6961 6c29 0d0a  tools.partial)..
-00015b60: 282e 2920 2020 2020 2020 2020 3d3e 2028  (.)         => (
-00015b70: 6765 7461 7474 7229 0d0a 282c 2920 2020  getattr)..(,)   
-00015b80: 2020 2020 2020 3d3e 2028 2a61 7267 7329        => (*args)
-00015b90: 202d 3e20 6172 6773 2020 2320 2862 7574   -> args  # (but
-00015ba0: 2070 6963 6b6c 6561 626c 6529 0d0a 282b   pickleable)..(+
-00015bb0: 2920 2020 2020 2020 2020 3d3e 2028 6f70  )         => (op
-00015bc0: 6572 6174 6f72 2e61 6464 290d 0a28 2d29  erator.add)..(-)
-00015bd0: 2020 2020 2020 2020 203d 3e20 2320 3120           => # 1 
-00015be0: 6172 673a 206f 7065 7261 746f 722e 6e65  arg: operator.ne
-00015bf0: 672c 2032 2061 7267 733a 206f 7065 7261  g, 2 args: opera
-00015c00: 746f 722e 7375 620d 0a28 2a29 2020 2020  tor.sub..(*)    
-00015c10: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-00015c20: 722e 6d75 6c29 0d0a 282a 2a29 2020 2020  r.mul)..(**)    
-00015c30: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
-00015c40: 2e70 6f77 290d 0a28 2f29 2020 2020 2020  .pow)..(/)      
-00015c50: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00015c60: 7472 7565 6469 7629 0d0a 282f 2f29 2020  truediv)..(//)  
-00015c70: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
-00015c80: 6f72 2e66 6c6f 6f72 6469 7629 0d0a 2825  or.floordiv)..(%
-00015c90: 2920 2020 2020 2020 2020 3d3e 2028 6f70  )         => (op
-00015ca0: 6572 6174 6f72 2e6d 6f64 290d 0a28 2629  erator.mod)..(&)
-00015cb0: 2020 2020 2020 2020 203d 3e20 286f 7065           => (ope
-00015cc0: 7261 746f 722e 616e 645f 290d 0a28 5e29  rator.and_)..(^)
-00015cd0: 2020 2020 2020 2020 203d 3e20 286f 7065           => (ope
-00015ce0: 7261 746f 722e 786f 7229 0d0a 287c 2920  rator.xor)..(|) 
-00015cf0: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
-00015d00: 6174 6f72 2e6f 725f 290d 0a28 3c3c 2920  ator.or_)..(<<) 
-00015d10: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-00015d20: 746f 722e 6c73 6869 6674 290d 0a28 3e3e  tor.lshift)..(>>
-00015d30: 2920 2020 2020 2020 203d 3e20 286f 7065  )        => (ope
-00015d40: 7261 746f 722e 7273 6869 6674 290d 0a28  rator.rshift)..(
-00015d50: 3c29 2020 2020 2020 2020 203d 3e20 286f  <)         => (o
-00015d60: 7065 7261 746f 722e 6c74 290d 0a28 3e29  perator.lt)..(>)
-00015d70: 2020 2020 2020 2020 203d 3e20 286f 7065           => (ope
-00015d80: 7261 746f 722e 6774 290d 0a28 3d3d 2920  rator.gt)..(==) 
-00015d90: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
-00015da0: 746f 722e 6571 290d 0a28 3c3d 2920 2020  tor.eq)..(<=)   
-00015db0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
-00015dc0: 722e 6c65 290d 0a28 3e3d 2920 2020 2020  r.le)..(>=)     
-00015dd0: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
-00015de0: 6765 290d 0a28 213d 2920 2020 2020 2020  ge)..(!=)       
-00015df0: 203d 3e20 286f 7065 7261 746f 722e 6e65   => (operator.ne
-00015e00: 290d 0a28 7e29 2020 2020 2020 2020 203d  )..(~)         =
-00015e10: 3e20 286f 7065 7261 746f 722e 696e 7629  > (operator.inv)
-00015e20: 0d0a 2840 2920 2020 2020 2020 2020 3d3e  ..(@)         =>
-00015e30: 2028 6f70 6572 6174 6f72 2e6d 6174 6d75   (operator.matmu
-00015e40: 6c29 0d0a 287c 3e29 2020 2020 2020 2020  l)..(|>)        
-00015e50: 3d3e 2023 2070 6970 6520 666f 7277 6172  => # pipe forwar
-00015e60: 640d 0a28 7c2a 3e29 2020 2020 2020 203d  d..(|*>)       =
-00015e70: 3e20 2320 6d75 6c74 692d 6172 6720 7069  > # multi-arg pi
-00015e80: 7065 2066 6f72 7761 7264 0d0a 287c 2a2a  pe forward..(|**
-00015e90: 3e29 2020 2020 2020 3d3e 2023 206b 6579  >)      => # key
-00015ea0: 776f 7264 2061 7267 2070 6970 6520 666f  word arg pipe fo
-00015eb0: 7277 6172 640d 0a28 3c7c 2920 2020 2020  rward..(<|)     
-00015ec0: 2020 203d 3e20 2320 7069 7065 2062 6163     => # pipe bac
-00015ed0: 6b77 6172 640d 0a28 3c2a 7c29 2020 2020  kward..(<*|)    
-00015ee0: 2020 203d 3e20 2320 6d75 6c74 692d 6172     => # multi-ar
-00015ef0: 6720 7069 7065 2062 6163 6b77 6172 640d  g pipe backward.
-00015f00: 0a28 3c2a 2a7c 2920 2020 2020 203d 3e20  .(<**|)      => 
-00015f10: 2320 6b65 7977 6f72 6420 6172 6720 7069  # keyword arg pi
-00015f20: 7065 2062 6163 6b77 6172 640d 0a28 7c3f  pe backward..(|?
-00015f30: 3e29 2020 2020 2020 203d 3e20 2320 4e6f  >)       => # No
-00015f40: 6e65 2d61 7761 7265 2070 6970 6520 666f  ne-aware pipe fo
-00015f50: 7277 6172 640d 0a28 7c3f 2a3e 2920 2020  rward..(|?*>)   
-00015f60: 2020 203d 3e20 2320 4e6f 6e65 2d61 7761     => # None-awa
-00015f70: 7265 206d 756c 7469 2d61 7267 2070 6970  re multi-arg pip
-00015f80: 6520 666f 7277 6172 640d 0a28 7c3f 2a2a  e forward..(|?**
-00015f90: 3e29 2020 2020 203d 3e20 2320 4e6f 6e65  >)     => # None
-00015fa0: 2d61 7761 7265 206b 6579 776f 7264 2061  -aware keyword a
-00015fb0: 7267 2070 6970 6520 666f 7277 6172 640d  rg pipe forward.
-00015fc0: 0a28 3c3f 7c29 2020 2020 2020 203d 3e20  .(<?|)       => 
-00015fd0: 2320 4e6f 6e65 2d61 7761 7265 2070 6970  # None-aware pip
-00015fe0: 6520 6261 636b 7761 7264 0d0a 283c 2a3f  e backward..(<*?
-00015ff0: 7c29 2020 2020 2020 3d3e 2023 204e 6f6e  |)      => # Non
-00016000: 652d 6177 6172 6520 6d75 6c74 692d 6172  e-aware multi-ar
-00016010: 6720 7069 7065 2062 6163 6b77 6172 640d  g pipe backward.
-00016020: 0a28 3c2a 2a3f 7c29 2020 2020 203d 3e20  .(<**?|)     => 
-00016030: 2320 4e6f 6e65 2d61 7761 7265 206b 6579  # None-aware key
-00016040: 776f 7264 2061 7267 2070 6970 6520 6261  word arg pipe ba
-00016050: 636b 7761 7264 0d0a 282e 2e29 2c20 283c  ckward..(..), (<
-00016060: 2e2e 2920 3d3e 2023 2062 6163 6b77 6172  ..) => # backwar
-00016070: 6420 6675 6e63 7469 6f6e 2063 6f6d 706f  d function compo
-00016080: 7369 7469 6f6e 0d0a 282e 2e3e 2920 2020  sition..(..>)   
-00016090: 2020 2020 3d3e 2023 2066 6f72 7761 7264      => # forward
-000160a0: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
-000160b0: 6974 696f 6e0d 0a28 3c2a 2e2e 2920 2020  ition..(<*..)   
-000160c0: 2020 203d 3e20 2320 6d75 6c74 692d 6172     => # multi-ar
-000160d0: 6720 6261 636b 7761 7264 2066 756e 6374  g backward funct
-000160e0: 696f 6e20 636f 6d70 6f73 6974 696f 6e0d  ion composition.
-000160f0: 0a28 2e2e 2a3e 2920 2020 2020 203d 3e20  .(..*>)      => 
-00016100: 2320 6d75 6c74 692d 6172 6720 666f 7277  # multi-arg forw
-00016110: 6172 6420 6675 6e63 7469 6f6e 2063 6f6d  ard function com
-00016120: 706f 7369 7469 6f6e 0d0a 283c 2a2a 2e2e  position..(<**..
-00016130: 2920 2020 2020 3d3e 2023 206b 6579 776f  )     => # keywo
-00016140: 7264 2061 7267 2062 6163 6b77 6172 6420  rd arg backward 
-00016150: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
-00016160: 7469 6f6e 0d0a 282e 2e2a 2a3e 2920 2020  tion..(..**>)   
-00016170: 2020 3d3e 2023 206b 6579 776f 7264 2061    => # keyword a
-00016180: 7267 2066 6f72 7761 7264 2066 756e 6374  rg forward funct
-00016190: 696f 6e20 636f 6d70 6f73 6974 696f 6e0d  ion composition.
-000161a0: 0a28 6e6f 7429 2020 2020 2020 203d 3e20  .(not)       => 
-000161b0: 286f 7065 7261 746f 722e 6e6f 745f 290d  (operator.not_).
-000161c0: 0a28 616e 6429 2020 2020 2020 203d 3e20  .(and)       => 
-000161d0: 2320 626f 6f6c 6561 6e20 616e 640d 0a28  # boolean and..(
-000161e0: 6f72 2920 2020 2020 2020 203d 3e20 2320  or)        => # 
-000161f0: 626f 6f6c 6561 6e20 6f72 0d0a 2869 7329  boolean or..(is)
-00016200: 2020 2020 2020 2020 3d3e 2028 6f70 6572          => (oper
-00016210: 6174 6f72 2e69 735f 290d 0a28 6973 206e  ator.is_)..(is n
-00016220: 6f74 2920 2020 203d 3e20 286f 7065 7261  ot)    => (opera
-00016230: 746f 722e 6973 5f6e 6f74 290d 0a28 696e  tor.is_not)..(in
-00016240: 2920 2020 2020 2020 203d 3e20 286f 7065  )        => (ope
-00016250: 7261 746f 722e 636f 6e74 6169 6e73 290d  rator.contains).
-00016260: 0a28 6e6f 7420 696e 2920 2020 203d 3e20  .(not in)    => 
-00016270: 2320 6e65 6761 7469 7665 2063 6f6e 7461  # negative conta
-00016280: 696e 6d65 6e74 0d0a 2861 7373 6572 7429  inment..(assert)
-00016290: 2020 2020 3d3e 2064 6566 2028 636f 6e64      => def (cond
-000162a0: 2c20 6d73 673d 4e6f 6e65 2920 2d3e 2061  , msg=None) -> a
-000162b0: 7373 6572 7420 636f 6e64 2c20 6d73 6720  ssert cond, msg 
-000162c0: 2023 2028 6275 7420 6120 6265 7474 6572   # (but a better
-000162d0: 206d 7367 2069 6620 6d73 6720 6973 204e   msg if msg is N
-000162e0: 6f6e 6529 0d0a 2872 6169 7365 2920 2020  one)..(raise)   
-000162f0: 2020 3d3e 2064 6566 2028 6578 633d 4e6f    => def (exc=No
-00016300: 6e65 2c20 6672 6f6d 5f65 7863 3d4e 6f6e  ne, from_exc=Non
-00016310: 6529 202d 3e20 7261 6973 6520 6578 6320  e) -> raise exc 
-00016320: 6672 6f6d 2066 726f 6d5f 6578 6320 2023  from from_exc  #
-00016330: 206f 7220 6a75 7374 2072 6169 7365 2069   or just raise i
-00016340: 6620 6578 6320 6973 204e 6f6e 650d 0a23  f exc is None..#
-00016350: 2074 6865 7265 2061 7265 2074 776f 206f   there are two o
-00016360: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
-00016370: 7320 7468 6174 2064 6f6e 2774 2072 6571  s that don't req
-00016380: 7569 7265 2070 6172 656e 7468 6573 6573  uire parentheses
-00016390: 3a0d 0a2e 5b5d 2020 2020 2020 2020 203d  :...[]         =
-000163a0: 3e20 286f 7065 7261 746f 722e 6765 7469  > (operator.geti
-000163b0: 7465 6d29 0d0a 2e24 5b5d 2020 2020 2020  tem)...$[]      
-000163c0: 2020 3d3e 2023 2069 7465 7261 746f 7220    => # iterator 
-000163d0: 736c 6963 696e 6720 6f70 6572 6174 6f72  slicing operator
-000163e0: 0d0a 6060 600d 0a0d 0a46 6f72 2061 6e20  ..```....For an 
-000163f0: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-00016400: 6e20 666f 7220 6675 6e63 7469 6f6e 2061  n for function a
-00016410: 7070 6c69 6361 7469 6f6e 2c20 7365 6520  pplication, see 
-00016420: 5b60 6361 6c6c 605d 2823 6361 6c6c 292e  [`call`](#call).
-00016430: 0d0a 0d0a 5468 6f75 6768 206e 6f20 6f70  ....Though no op
-00016440: 6572 6174 6f72 2066 756e 6374 696f 6e20  erator function 
-00016450: 6973 2061 7661 696c 6162 6c65 2066 6f72  is available for
-00016460: 2060 6177 6169 7460 2c20 616e 2065 7175   `await`, an equ
-00016470: 6976 616c 656e 7420 7379 6e74 6178 2069  ivalent syntax i
-00016480: 7320 6176 6169 6c61 626c 6520 666f 7220  s available for 
-00016490: 5b70 6970 6573 5d28 2370 6970 6573 2920  [pipes](#pipes) 
-000164a0: 696e 2074 6865 2066 6f72 6d20 6f66 2060  in the form of `
-000164b0: 6177 6169 7461 626c 6520 7c3e 2061 7761  awaitable |> awa
-000164c0: 6974 602e 0d0a 0d0a 2323 2323 2320 4578  it`.....##### Ex
-000164d0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-000164e0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-000164f0: 740d 0a28 7261 6e67 6528 302c 2035 292c  t..(range(0, 5),
-00016500: 2072 616e 6765 2835 2c20 3130 2929 207c   range(5, 10)) |
-00016510: 2a3e 206d 6170 2428 2b29 207c 3e20 6c69  *> map$(+) |> li
-00016520: 7374 207c 3e20 7072 696e 740d 0a60 6060  st |> print..```
-00016530: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00016540: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00016550: 6f6e 0d0a 696d 706f 7274 206f 7065 7261  on..import opera
-00016560: 746f 720d 0a70 7269 6e74 286c 6973 7428  tor..print(list(
-00016570: 6d61 7028 6f70 6572 6174 6f72 2e61 6464  map(operator.add
-00016580: 2c20 7261 6e67 6528 302c 2035 292c 2072  , range(0, 5), r
-00016590: 616e 6765 2835 2c20 3130 2929 2929 0d0a  ange(5, 10))))..
-000165a0: 6060 600d 0a0d 0a23 2323 2049 6d70 6c69  ```....### Impli
-000165b0: 6369 7420 5061 7274 6961 6c20 4170 706c  cit Partial Appl
-000165c0: 6963 6174 696f 6e0d 0a0d 0a43 6f63 6f6e  ication....Cocon
-000165d0: 7574 2073 7570 706f 7274 7320 6120 6e75  ut supports a nu
-000165e0: 6d62 6572 206f 6620 6469 6666 6572 656e  mber of differen
-000165f0: 7420 7379 6e74 6163 7469 6361 6c20 616c  t syntactical al
-00016600: 6961 7365 7320 666f 7220 636f 6d6d 6f6e  iases for common
-00016610: 2070 6172 7469 616c 2061 7070 6c69 6361   partial applica
-00016620: 7469 6f6e 2075 7365 2063 6173 6573 2e20  tion use cases. 
-00016630: 5468 6573 6520 6172 653a 0d0a 6060 6063  These are:..```c
-00016640: 6f63 6f6e 7574 0d0a 2e61 7474 7220 2020  oconut...attr   
-00016650: 2020 2020 2020 2020 3d3e 2020 2020 2020          =>      
-00016660: 6f70 6572 6174 6f72 2e61 7474 7267 6574  operator.attrget
-00016670: 7465 7228 2261 7474 7222 290d 0a2e 6d65  ter("attr")...me
-00016680: 7468 6f64 2861 7267 7329 2020 203d 3e20  thod(args)   => 
-00016690: 2020 2020 206f 7065 7261 746f 722e 6d65       operator.me
-000166a0: 7468 6f64 6361 6c6c 6572 2822 6d65 7468  thodcaller("meth
-000166b0: 6f64 222c 2061 7267 7329 0d0a 6675 6e63  od", args)..func
-000166c0: 2420 2020 2020 2020 2020 2020 3d3e 2020  $           =>  
-000166d0: 2020 2020 2824 2924 2866 756e 6329 0d0a      ($)$(func)..
-000166e0: 7365 715b 5d20 2020 2020 2020 2020 2020  seq[]           
-000166f0: 3d3e 2020 2020 2020 6f70 6572 6174 6f72  =>      operator
-00016700: 2e67 6574 6974 656d 2428 7365 7129 0d0a  .getitem$(seq)..
-00016710: 6974 6572 245b 5d20 2020 2020 2020 2020  iter$[]         
-00016720: 3d3e 2020 2020 2020 2320 7468 6520 6571  =>      # the eq
-00016730: 7569 7661 6c65 6e74 206f 6620 7365 715b  uivalent of seq[
-00016740: 5d20 666f 7220 6974 6572 6174 6f72 730d  ] for iterators.
-00016750: 0a2e 5b61 3a62 3a63 5d20 2020 2020 2020  ..[a:b:c]       
-00016760: 203d 3e20 2020 2020 206f 7065 7261 746f   =>      operato
-00016770: 722e 6974 656d 6765 7474 6572 2873 6c69  r.itemgetter(sli
-00016780: 6365 2861 2c20 622c 2063 2929 0d0a 2e24  ce(a, b, c))...$
-00016790: 5b61 3a62 3a63 5d20 2020 2020 2020 3d3e  [a:b:c]       =>
-000167a0: 2020 2020 2020 2320 7468 6520 6571 7569        # the equi
-000167b0: 7661 6c65 6e74 206f 6620 2e5b 613a 623a  valent of .[a:b:
-000167c0: 635d 2066 6f72 2069 7465 7261 746f 7273  c] for iterators
-000167d0: 0d0a 6060 600d 0a0d 0a41 6464 6974 696f  ..```....Additio
-000167e0: 6e61 6c6c 792c 2060 2e61 7474 722e 6d65  nally, `.attr.me
-000167f0: 7468 6f64 2861 7267 7329 602c 2060 2e5b  thod(args)`, `.[
-00016800: 785d 5b79 5d60 2c20 616e 6420 602e 245b  x][y]`, and `.$[
-00016810: 785d 245b 795d 6020 6172 6520 616c 736f  x]$[y]` are also
-00016820: 2073 7570 706f 7274 6564 2e0d 0a0d 0a49   supported.....I
-00016830: 6e20 6164 6469 7469 6f6e 2c20 666f 7220  n addition, for 
-00016840: 6576 6572 7920 436f 636f 6e75 7420 5b6f  every Coconut [o
-00016850: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
-00016860: 5d28 236f 7065 7261 746f 722d 6675 6e63  ](#operator-func
-00016870: 7469 6f6e 7329 2c20 436f 636f 6e75 7420  tions), Coconut 
-00016880: 7375 7070 6f72 7473 2073 796e 7461 7820  supports syntax 
-00016890: 666f 7220 696d 706c 6963 6974 6c79 2070  for implicitly p
-000168a0: 6172 7469 616c 6c79 2061 7070 6c79 696e  artially applyin
-000168b0: 6720 7468 6174 206f 7065 7261 746f 7220  g that operator 
-000168c0: 6675 6e63 7469 6f6e 2061 730d 0a60 6060  function as..```
-000168d0: 0d0a 282e 203c 6f70 3e20 3c61 7267 3e29  ..(. <op> <arg>)
-000168e0: 0d0a 283c 6172 673e 203c 6f70 3e20 2e29  ..(<arg> <op> .)
-000168f0: 0d0a 6060 600d 0a77 6865 7265 2060 3c6f  ..```..where `<o
-00016900: 703e 6020 6973 2074 6865 206f 7065 7261  p>` is the opera
-00016910: 746f 7220 6675 6e63 7469 6f6e 2061 6e64  tor function and
-00016920: 2060 3c61 7267 3e60 2069 7320 616e 7920   `<arg>` is any 
-00016930: 6578 7072 6573 7369 6f6e 2e20 4e6f 7465  expression. Note
-00016940: 2074 6861 742c 2061 7320 7769 7468 206f   that, as with o
-00016950: 7065 7261 746f 7220 6675 6e63 7469 6f6e  perator function
-00016960: 7320 7468 656d 7365 6c76 6573 2c20 7468  s themselves, th
-00016970: 6520 7061 7265 6e74 6865 7365 7320 6172  e parentheses ar
-00016980: 6520 6e65 6365 7373 6172 7920 666f 7220  e necessary for 
-00016990: 7468 6973 2074 7970 6520 6f66 2069 6d70  this type of imp
-000169a0: 6c69 6369 7420 7061 7274 6961 6c20 6170  licit partial ap
-000169b0: 706c 6963 6174 696f 6e2e 0d0a 0d0a 4164  plication.....Ad
-000169c0: 6469 7469 6f6e 616c 6c79 2c20 436f 636f  ditionally, Coco
-000169d0: 6e75 7420 616c 736f 2073 7570 706f 7274  nut also support
-000169e0: 7320 696d 706c 6963 6974 206f 7065 7261  s implicit opera
-000169f0: 746f 7220 6675 6e63 7469 6f6e 2070 6172  tor function par
-00016a00: 7469 616c 7320 666f 7220 6172 6269 7472  tials for arbitr
-00016a10: 6172 7920 6675 6e63 7469 6f6e 7320 6173  ary functions as
-00016a20: 0d0a 6060 600d 0a28 2e20 603c 6e61 6d65  ..```..(. `<name
-00016a30: 3e60 203c 6172 673e 290d 0a28 3c61 7267  >` <arg>)..(<arg
-00016a40: 3e20 603c 6e61 6d65 3e60 202e 290d 0a60  > `<name>` .)..`
-00016a50: 6060 0d0a 6261 7365 6420 6f6e 2043 6f63  ``..based on Coc
-00016a60: 6f6e 7574 2773 205b 696e 6669 7820 6e6f  onut's [infix no
-00016a70: 7461 7469 6f6e 5d28 2369 6e66 6978 2d66  tation](#infix-f
-00016a80: 756e 6374 696f 6e73 2920 7768 6572 6520  unctions) where 
-00016a90: 603c 6e61 6d65 3e60 2069 7320 7468 6520  `<name>` is the 
-00016aa0: 6e61 6d65 206f 6620 7468 6520 6675 6e63  name of the func
-00016ab0: 7469 6f6e 2e20 4164 6469 7469 6f6e 616c  tion. Additional
-00016ac0: 6c79 2c20 6060 2060 3c6e 616d 653e 6020  ly, `` `<name>` 
-00016ad0: 6060 2063 616e 2069 6e73 7465 6164 2062  `` can instead b
-00016ae0: 6520 6120 5b63 7573 746f 6d20 6f70 6572  e a [custom oper
-00016af0: 6174 6f72 5d28 2363 7573 746f 6d2d 6f70  ator](#custom-op
-00016b00: 6572 6174 6f72 7329 2028 696e 2074 6861  erators) (in tha
-00016b10: 7420 6361 7365 2c20 6e6f 2062 6163 6b74  t case, no backt
-00016b20: 6963 6b73 2073 686f 756c 6420 6265 2075  icks should be u
-00016b30: 7365 6429 2e0d 0a0d 0a5f 4445 5052 4543  sed)....._DEPREC
-00016b40: 4154 4544 3a20 436f 636f 6e75 7420 616c  ATED: Coconut al
-00016b50: 736f 2073 7570 706f 7274 7320 606f 626a  so supports `obj
-00016b60: 2e60 2061 7320 616e 2069 6d70 6c69 6369  .` as an implici
-00016b70: 7420 7061 7274 6961 6c20 666f 7220 6067  t partial for `g
-00016b80: 6574 6174 7472 2428 6f62 6a29 602c 2062  etattr$(obj)`, b
-00016b90: 7574 2069 7473 2075 7361 6765 2069 7320  ut its usage is 
-00016ba0: 6465 7072 6563 6174 6564 2061 6e64 2077  deprecated and w
-00016bb0: 696c 6c20 7368 6f77 2061 2077 6172 6e69  ill show a warni
-00016bc0: 6e67 2074 6f20 7377 6974 6368 2074 6f20  ng to switch to 
-00016bd0: 6067 6574 6174 7472 2428 6f62 6a29 6020  `getattr$(obj)` 
-00016be0: 696e 7374 6561 642e 5f0d 0a0d 0a23 2323  instead._....###
-00016bf0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-00016c00: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-00016c10: 6f63 6f6e 7574 0d0a 3120 7c3e 2022 3132  oconut..1 |> "12
-00016c20: 3322 5b5d 0d0a 6d6f 6424 203c 7c20 3520  3"[]..mod$ <| 5 
-00016c30: 3c7c 2033 0d0a 3320 7c3e 2028 2e2a 3229  <| 3..3 |> (.*2)
-00016c40: 207c 3e20 282e 2b31 290d 0a60 6060 0d0a   |> (.+1)..```..
-00016c50: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00016c60: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00016c70: 0d0a 2231 3233 225b 315d 0d0a 6d6f 6428  .."123"[1]..mod(
-00016c80: 352c 2033 290d 0a28 3320 2a20 3229 202b  5, 3)..(3 * 2) +
-00016c90: 2031 0d0a 6060 600d 0a0d 0a23 2323 2045   1..```....### E
-00016ca0: 6e68 616e 6365 6420 5479 7065 2041 6e6e  nhanced Type Ann
-00016cb0: 6f74 6174 696f 6e0d 0a0d 0a53 696e 6365  otation....Since
-00016cc0: 2043 6f63 6f6e 7574 2073 796e 7461 7820   Coconut syntax 
-00016cd0: 6973 2061 2073 7570 6572 7365 7420 6f66  is a superset of
-00016ce0: 2050 7974 686f 6e20 3320 7379 6e74 6178   Python 3 syntax
-00016cf0: 2c20 6974 2073 7570 706f 7274 7320 5b50  , it supports [P
-00016d00: 7974 686f 6e20 3320 6675 6e63 7469 6f6e  ython 3 function
-00016d10: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
-00016d20: 2073 796e 7461 785d 2868 7474 7073 3a2f   syntax](https:/
-00016d30: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
-00016d40: 6465 762f 7065 7073 2f70 6570 2d30 3438  dev/peps/pep-048
-00016d50: 342f 2920 616e 6420 5b50 7974 686f 6e20  4/) and [Python 
-00016d60: 332e 3620 7661 7269 6162 6c65 2074 7970  3.6 variable typ
-00016d70: 6520 616e 6e6f 7461 7469 6f6e 2073 796e  e annotation syn
-00016d80: 7461 785d 2868 7474 7073 3a2f 2f77 7777  tax](https://www
-00016d90: 2e70 7974 686f 6e2e 6f72 672f 6465 762f  .python.org/dev/
-00016da0: 7065 7073 2f70 6570 2d30 3532 362f 292e  peps/pep-0526/).
-00016db0: 2042 7920 6465 6661 756c 742c 2043 6f63   By default, Coc
-00016dc0: 6f6e 7574 2063 6f6d 7069 6c65 7320 616c  onut compiles al
-00016dd0: 6c20 7479 7065 2061 6e6e 6f74 6174 696f  l type annotatio
-00016de0: 6e73 2069 6e74 6f20 5079 7468 6f6e 2d32  ns into Python-2
-00016df0: 2d63 6f6d 7061 7469 626c 6520 7479 7065  -compatible type
-00016e00: 2063 6f6d 6d65 6e74 732e 2049 6620 796f   comments. If yo
-00016e10: 7520 7761 6e74 2074 6f20 6b65 6570 2074  u want to keep t
-00016e20: 6865 2074 7970 6520 616e 6e6f 7461 7469  he type annotati
-00016e30: 6f6e 7320 696e 7374 6561 642c 2073 696d  ons instead, sim
-00016e40: 706c 7920 7061 7373 2061 2060 2d2d 7461  ply pass a `--ta
-00016e50: 7267 6574 6020 7468 6174 2073 7570 706f  rget` that suppo
-00016e60: 7274 7320 7468 656d 2e0d 0a0d 0a53 696e  rts them.....Sin
-00016e70: 6365 206e 6f74 2061 6c6c 2073 7570 706f  ce not all suppo
-00016e80: 7274 6564 2050 7974 686f 6e20 7665 7273  rted Python vers
-00016e90: 696f 6e73 2073 7570 706f 7274 2074 6865  ions support the
-00016ea0: 205b 6074 7970 696e 6760 5d28 6874 7470   [`typing`](http
-00016eb0: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
-00016ec0: 6f72 672f 332f 6c69 6272 6172 792f 7479  org/3/library/ty
-00016ed0: 7069 6e67 2e68 746d 6c29 206d 6f64 756c  ping.html) modul
-00016ee0: 652c 2043 6f63 6f6e 7574 2070 726f 7669  e, Coconut provi
-00016ef0: 6465 7320 7468 6520 5b60 5459 5045 5f43  des the [`TYPE_C
-00016f00: 4845 434b 494e 4760 5d28 2374 7970 655f  HECKING`](#type_
-00016f10: 6368 6563 6b69 6e67 2920 6275 696c 742d  checking) built-
-00016f20: 696e 2066 6f72 2068 6964 696e 6720 796f  in for hiding yo
-00016f30: 7572 2060 7479 7069 6e67 6020 696d 706f  ur `typing` impo
-00016f40: 7274 7320 616e 6420 6054 7970 6556 6172  rts and `TypeVar
-00016f50: 6020 6465 6669 6e69 7469 6f6e 7320 6672  ` definitions fr
-00016f60: 6f6d 2062 6569 6e67 2065 7865 6375 7465  om being execute
-00016f70: 6420 6174 2072 756e 7469 6d65 2e20 436f  d at runtime. Co
-00016f80: 636f 6e75 7420 7769 6c6c 2061 6c73 6f20  conut will also 
-00016f90: 6175 746f 6d61 7469 6361 6c6c 7920 7573  automatically us
-00016fa0: 6520 5b60 7479 7069 6e67 5f65 7874 656e  e [`typing_exten
-00016fb0: 7369 6f6e 7360 5d28 6874 7470 733a 2f2f  sions`](https://
-00016fc0: 7079 7069 2e6f 7267 2f70 726f 6a65 6374  pypi.org/project
-00016fd0: 2f74 7970 696e 672d 6578 7465 6e73 696f  /typing-extensio
-00016fe0: 6e73 2f29 206f 7665 7220 6074 7970 696e  ns/) over `typin
-00016ff0: 6760 206f 626a 6563 7473 2061 7420 7275  g` objects at ru
-00017000: 6e74 696d 6520 7768 656e 2069 6d70 6f72  ntime when impor
-00017010: 7469 6e67 2074 6865 6d20 6672 6f6d 2060  ting them from `
-00017020: 7479 7069 6e67 602c 2065 7665 6e20 7768  typing`, even wh
-00017030: 656e 2074 6865 7920 6172 656e 2774 206e  en they aren't n
-00017040: 6174 6976 656c 7920 7375 7070 6f72 7465  atively supporte
-00017050: 6420 6f6e 2074 6865 2063 7572 7265 6e74  d on the current
-00017060: 2050 7974 686f 6e20 7665 7273 696f 6e20   Python version 
-00017070: 2874 6869 7320 776f 726b 7320 6576 656e  (this works even
-00017080: 2069 6620 796f 7520 6a75 7374 2064 6f20   if you just do 
-00017090: 6069 6d70 6f72 7420 7479 7069 6e67 6020  `import typing` 
-000170a0: 616e 6420 7468 656e 2060 7479 7069 6e67  and then `typing
-000170b0: 2e3c 4f62 6a65 6374 3e60 292e 0d0a 0d0a  .<Object>`).....
-000170c0: 4675 7274 6865 726d 6f72 652c 2077 6865  Furthermore, whe
-000170d0: 6e20 636f 6d70 696c 696e 6720 7479 7065  n compiling type
-000170e0: 2061 6e6e 6f74 6174 696f 6e73 2074 6f20   annotations to 
-000170f0: 5079 7468 6f6e 2033 2076 6572 7369 6f6e  Python 3 version
-00017100: 7320 7769 7468 6f75 7420 5b50 4550 2035  s without [PEP 5
-00017110: 3633 5d28 6874 7470 733a 2f2f 7777 772e  63](https://www.
-00017120: 7079 7468 6f6e 2e6f 7267 2f64 6576 2f70  python.org/dev/p
-00017130: 6570 732f 7065 702d 3035 3633 2f29 2073  eps/pep-0563/) s
-00017140: 7570 706f 7274 2c20 436f 636f 6e75 7420  upport, Coconut 
-00017150: 7772 6170 7320 616e 6e6f 7461 7469 6f6e  wraps annotation
-00017160: 2069 6e20 7374 7269 6e67 7320 746f 2070   in strings to p
-00017170: 7265 7665 6e74 2074 6865 6d20 6672 6f6d  revent them from
-00017180: 2062 6569 6e67 2065 7661 6c75 6174 6564   being evaluated
-00017190: 2061 7420 7275 6e74 696d 6520 286e 6f74   at runtime (not
-000171a0: 6520 7468 6174 2060 2d2d 6e6f 2d77 7261  e that `--no-wra
-000171b0: 702d 7479 7065 7360 2064 6973 6162 6c65  p-types` disable
-000171c0: 7320 616c 6c20 7772 6170 7069 6e67 2c20  s all wrapping, 
-000171d0: 696e 636c 7564 696e 6720 7669 6120 5045  including via PE
-000171e0: 5020 3536 3320 7375 7070 6f72 7429 2e0d  P 563 support)..
-000171f0: 0a0d 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
-00017200: 2043 6f63 6f6e 7574 2061 6464 7320 7370   Coconut adds sp
-00017210: 6563 6961 6c20 7379 6e74 6178 2066 6f72  ecial syntax for
-00017220: 206d 616b 696e 6720 7479 7065 2061 6e6e   making type ann
-00017230: 6f74 6174 696f 6e73 2065 6173 6965 7220  otations easier 
-00017240: 616e 6420 7369 6d70 6c65 7220 746f 2077  and simpler to w
-00017250: 7269 7465 2e20 5768 656e 2069 6e73 6964  rite. When insid
-00017260: 6520 6f66 2061 2074 7970 6520 616e 6e6f  e of a type anno
-00017270: 7461 7469 6f6e 2c20 436f 636f 6e75 7420  tation, Coconut 
-00017280: 7472 6561 7473 2063 6572 7461 696e 2073  treats certain s
-00017290: 796e 7461 7820 636f 6e73 7472 7563 7473  yntax constructs
-000172a0: 2064 6966 6665 7265 6e74 6c79 2c20 636f   differently, co
-000172b0: 6d70 696c 696e 6720 7468 656d 2074 6f20  mpiling them to 
-000172c0: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
-000172d0: 2069 6e73 7465 6164 206f 6620 7768 6174   instead of what
-000172e0: 2074 6865 7920 776f 756c 6420 6e6f 726d   they would norm
-000172f0: 616c 6c79 2072 6570 7265 7365 6e74 2e20  ally represent. 
-00017300: 5370 6563 6966 6963 616c 6c79 2c20 436f  Specifically, Co
-00017310: 636f 6e75 7420 6170 706c 6965 7320 7468  conut applies th
-00017320: 6520 666f 6c6c 6f77 696e 6720 7472 616e  e following tran
-00017330: 7366 6f72 6d61 7469 6f6e 733a 0d0a 6060  sformations:..``
-00017340: 6063 6f63 6f6e 7574 0d0a 4120 7c20 420d  `coconut..A | B.
-00017350: 0a20 2020 203d 3e20 7479 7069 6e67 2e55  .    => typing.U
-00017360: 6e69 6f6e 5b41 2c20 425d 0d0a 2841 3b20  nion[A, B]..(A; 
-00017370: 4229 0d0a 2020 2020 3d3e 2074 7970 696e  B)..    => typin
-00017380: 672e 5475 706c 655b 412c 2042 5d0d 0a41  g.Tuple[A, B]..A
-00017390: 3f0d 0a20 2020 203d 3e20 7479 7069 6e67  ?..    => typing
-000173a0: 2e4f 7074 696f 6e61 6c5b 415d 0d0a 415b  .Optional[A]..A[
-000173b0: 5d0d 0a20 2020 203d 3e20 7479 7069 6e67  ]..    => typing
-000173c0: 2e53 6571 7565 6e63 655b 415d 0d0a 4124  .Sequence[A]..A$
-000173d0: 5b5d 0d0a 2020 2020 3d3e 2074 7970 696e  []..    => typin
-000173e0: 672e 4974 6572 6162 6c65 5b41 5d0d 0a28  g.Iterable[A]..(
-000173f0: 2920 2d3e 203c 7265 743e 0d0a 2020 2020  ) -> <ret>..    
-00017400: 3d3e 2074 7970 696e 672e 4361 6c6c 6162  => typing.Callab
-00017410: 6c65 5b5b 5d2c 203c 7265 743e 5d0d 0a3c  le[[], <ret>]..<
-00017420: 6172 673e 202d 3e20 3c72 6574 3e0d 0a20  arg> -> <ret>.. 
-00017430: 2020 203d 3e20 7479 7069 6e67 2e43 616c     => typing.Cal
-00017440: 6c61 626c 655b 5b3c 6172 673e 5d2c 203c  lable[[<arg>], <
-00017450: 7265 743e 5d0d 0a28 3c61 7267 733e 2920  ret>]..(<args>) 
-00017460: 2d3e 203c 7265 743e 0d0a 2020 2020 3d3e  -> <ret>..    =>
-00017470: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
-00017480: 5b5b 3c61 7267 733e 5d2c 203c 7265 743e  [[<args>], <ret>
-00017490: 5d0d 0a2d 3e20 3c72 6574 3e0d 0a20 2020  ]..-> <ret>..   
-000174a0: 203d 3e20 7479 7069 6e67 2e43 616c 6c61   => typing.Calla
-000174b0: 626c 655b 2e2e 2e2c 203c 7265 743e 5d0d  ble[..., <ret>].
-000174c0: 0a28 3c61 7267 733e 2c20 2a2a 3c50 6172  .(<args>, **<Par
-000174d0: 616d 5370 6563 3e29 202d 3e20 3c72 6574  amSpec>) -> <ret
-000174e0: 3e0d 0a20 2020 203d 3e20 7479 7069 6e67  >..    => typing
-000174f0: 2e43 616c 6c61 626c 655b 7479 7069 6e67  .Callable[typing
-00017500: 2e43 6f6e 6361 7465 6e61 7465 5b3c 6172  .Concatenate[<ar
-00017510: 6773 3e2c 203c 5061 7261 6d53 7065 633e  gs>, <ParamSpec>
-00017520: 5d2c 203c 7265 743e 5d0d 0a61 7379 6e63  ], <ret>]..async
-00017530: 2028 3c61 7267 733e 2920 2d3e 203c 7265   (<args>) -> <re
-00017540: 743e 0d0a 2020 2020 3d3e 2074 7970 696e  t>..    => typin
-00017550: 672e 4361 6c6c 6162 6c65 5b5b 3c61 7267  g.Callable[[<arg
-00017560: 733e 5d2c 2074 7970 696e 672e 4177 6169  s>], typing.Awai
-00017570: 7461 626c 655b 3c72 6574 3e5d 5d0d 0a60  table[<ret>]]..`
-00017580: 6060 0d0a 7768 6572 6520 6074 7970 696e  ``..where `typin
-00017590: 6760 2069 7320 7468 6520 5079 7468 6f6e  g` is the Python
-000175a0: 2033 2e35 2062 7569 6c74 2d69 6e20 5b60   3.5 built-in [`
-000175b0: 7479 7069 6e67 6020 6d6f 6475 6c65 5d28  typing` module](
-000175c0: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-000175d0: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-000175e0: 792f 7479 7069 6e67 2e68 746d 6c29 2e20  y/typing.html). 
-000175f0: 466f 7220 6d6f 7265 2069 6e66 6f72 6d61  For more informa
-00017600: 7469 6f6e 206f 6e20 7468 6520 4361 6c6c  tion on the Call
-00017610: 6162 6c65 2073 796e 7461 782c 2073 6565  able syntax, see
-00017620: 205b 5045 5020 3637 375d 2868 7474 7073   [PEP 677](https
-00017630: 3a2f 2f70 6570 732e 7079 7468 6f6e 2e6f  ://peps.python.o
-00017640: 7267 2f70 6570 2d30 3637 3729 2c20 7768  rg/pep-0677), wh
-00017650: 6963 6820 436f 636f 6e75 7420 6675 6c6c  ich Coconut full
-00017660: 7920 7375 7070 6f72 7473 2e0d 0a0d 0a41  y supports.....A
-00017670: 6464 6974 696f 6e61 6c6c 792c 206d 616e  dditionally, man
-00017680: 7920 6f66 2043 6f63 6f6e 7574 2773 205b  y of Coconut's [
-00017690: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
-000176a0: 6e73 5d28 236f 7065 7261 746f 722d 6675  ns](#operator-fu
-000176b0: 6e63 7469 6f6e 7329 2077 696c 6c20 636f  nctions) will co
-000176c0: 6d70 696c 6520 696e 746f 2065 7175 6976  mpile into equiv
-000176d0: 616c 656e 7420 5b60 5072 6f74 6f63 6f6c  alent [`Protocol
-000176e0: 6073 5d28 6874 7470 733a 2f2f 646f 6373  `s](https://docs
-000176f0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-00017700: 6272 6172 792f 7479 7069 6e67 2e68 746d  brary/typing.htm
-00017710: 6c23 7479 7069 6e67 2e50 726f 746f 636f  l#typing.Protoco
-00017720: 6c29 2069 6e73 7465 6164 2077 6865 6e20  l) instead when 
-00017730: 696e 7369 6465 2061 2074 7970 6520 616e  inside a type an
-00017740: 6e6f 7461 7469 6f6e 2e20 5365 6520 6265  notation. See be
-00017750: 6c6f 7720 666f 7220 7468 6520 6675 6c6c  low for the full
-00017760: 206c 6973 7420 616e 6420 7370 6563 6966   list and specif
-00017770: 6963 6174 696f 6e2e 0d0a 0d0a 5f4e 6f74  ication....._Not
-00017780: 653a 2054 6865 2074 7261 6e73 666f 726d  e: The transform
-00017790: 6174 696f 6e20 746f 2060 556e 696f 6e60  ation to `Union`
-000177a0: 2069 7320 6e6f 7420 646f 6e65 206f 6e20   is not done on 
-000177b0: 5079 7468 6f6e 2033 2e31 3020 6173 2050  Python 3.10 as P
-000177c0: 7974 686f 6e20 332e 3130 2068 6173 206e  ython 3.10 has n
-000177d0: 6174 6976 6520 5b50 4550 2036 3034 5d28  ative [PEP 604](
-000177e0: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-000177f0: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-00017800: 7065 702d 3036 3034 2920 7375 7070 6f72  pep-0604) suppor
-00017810: 742e 5f0d 0a0d 0a54 6f20 7573 6520 7468  t._....To use th
-00017820: 6573 6520 7472 616e 7366 6f72 6d61 7469  ese transformati
-00017830: 6f6e 7320 696e 2061 205b 7479 7065 2061  ons in a [type a
-00017840: 6c69 6173 5d28 6874 7470 733a 2f2f 7065  lias](https://pe
-00017850: 7073 2e70 7974 686f 6e2e 6f72 672f 7065  ps.python.org/pe
-00017860: 702d 3034 3834 2f23 7479 7065 2d61 6c69  p-0484/#type-ali
-00017870: 6173 6573 292c 2075 7365 2074 6865 2073  ases), use the s
-00017880: 796e 7461 780d 0a60 6060 0d0a 7479 7065  yntax..```..type
-00017890: 203c 6e61 6d65 3e20 3d20 3c74 7970 653e   <name> = <type>
-000178a0: 0d0a 6060 600d 0a77 6869 6368 2077 696c  ..```..which wil
-000178b0: 6c20 616c 6c6f 7720 603c 7479 7065 3e60  l allow `<type>`
-000178c0: 2074 6f20 696e 636c 7564 6520 436f 636f   to include Coco
-000178d0: 6e75 7427 7320 7370 6563 6961 6c20 7479  nut's special ty
-000178e0: 7065 2061 6e6e 6f74 6174 696f 6e20 7379  pe annotation sy
-000178f0: 6e74 6178 2061 6e64 2074 7970 6520 603c  ntax and type `<
-00017900: 6e61 6d65 3e60 2061 7320 6120 5b60 7479  name>` as a [`ty
-00017910: 7069 6e67 2e54 7970 6541 6c69 6173 605d  ping.TypeAlias`]
-00017920: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
-00017930: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
-00017940: 7279 2f74 7970 696e 672e 6874 6d6c 2374  ry/typing.html#t
-00017950: 7970 696e 672e 5479 7065 416c 6961 7329  yping.TypeAlias)
-00017960: 2e20 4966 2079 6f75 2074 7279 2074 6f20  . If you try to 
-00017970: 696e 7374 6561 6420 6a75 7374 2064 6f20  instead just do 
-00017980: 6120 6e61 6b65 6420 603c 6e61 6d65 3e20  a naked `<name> 
-00017990: 3d20 3c74 7970 653e 6020 7479 7065 2061  = <type>` type a
-000179a0: 6c69 6173 2c20 436f 636f 6e75 7420 776f  lias, Coconut wo
-000179b0: 6e27 7420 6265 2061 626c 6520 746f 2074  n't be able to t
-000179c0: 656c 6c20 796f 7527 7265 2061 7474 656d  ell you're attem
-000179d0: 7074 696e 6720 6120 7479 7065 2061 6c69  pting a type ali
-000179e0: 6173 2061 6e64 2074 6875 7320 776f 6e27  as and thus won'
-000179f0: 7420 6170 706c 7920 616e 7920 6f66 2074  t apply any of t
-00017a00: 6865 2061 626f 7665 2074 7261 6e73 666f  he above transfo
-00017a10: 726d 6174 696f 6e73 2e0d 0a0d 0a53 7563  rmations.....Suc
-00017a20: 6820 7479 7065 2061 6c69 6173 2073 7461  h type alias sta
-00017a30: 7465 6d65 6e74 73e2 8094 6173 2077 656c  tements...as wel
-00017a40: 6c20 6173 2061 6c6c 2060 636c 6173 7360  l as all `class`
-00017a50: 2c20 6064 6174 6160 2c20 616e 6420 6675  , `data`, and fu
-00017a60: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-00017a70: 6e73 2069 6e20 436f 636f 6e75 74e2 8094  ns in Coconut...
-00017a80: 616c 736f 2073 7570 706f 7274 2043 6f63  also support Coc
-00017a90: 6f6e 7574 2773 205b 7479 7065 2070 6172  onut's [type par
-00017aa0: 616d 6574 6572 2073 796e 7461 785d 2823  ameter syntax](#
-00017ab0: 7479 7065 2d70 6172 616d 6574 6572 2d73  type-parameter-s
-00017ac0: 796e 7461 7829 2c20 616c 6c6f 7769 6e67  yntax), allowing
-00017ad0: 2079 6f75 2074 6f20 646f 2074 6869 6e67   you to do thing
-00017ae0: 7320 6c69 6b65 2060 7479 7065 204f 7253  s like `type OrS
-00017af0: 7472 5b54 5d20 3d20 5420 7c20 7374 7260  tr[T] = T | str`
-00017b00: 2e0d 0a0d 0a23 2323 2323 2053 7570 706f  .....##### Suppo
-00017b10: 7274 6564 2050 726f 746f 636f 6c73 0d0a  rted Protocols..
-00017b20: 0d0a 5573 696e 6720 436f 636f 6e75 7427  ..Using Coconut'
-00017b30: 7320 5b6f 7065 7261 746f 7220 6675 6e63  s [operator func
-00017b40: 7469 6f6e 5d28 236f 7065 7261 746f 722d  tion](#operator-
-00017b50: 6675 6e63 7469 6f6e 7329 2073 796e 7461  functions) synta
-00017b60: 7820 696e 7369 6465 206f 6620 6120 7479  x inside of a ty
-00017b70: 7065 2061 6e6e 6f74 6174 696f 6e20 7769  pe annotation wi
-00017b80: 6c6c 2069 6e73 7465 6164 2070 726f 6475  ll instead produ
-00017b90: 6365 2061 205b 6050 726f 746f 636f 6c60  ce a [`Protocol`
-00017ba0: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
-00017bb0: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-00017bc0: 6172 792f 7479 7069 6e67 2e68 746d 6c23  ary/typing.html#
-00017bd0: 7479 7069 6e67 2e50 726f 746f 636f 6c29  typing.Protocol)
-00017be0: 2063 6f72 7265 7370 6f6e 6469 6e67 2074   corresponding t
-00017bf0: 6f20 7468 6174 206f 7065 7261 746f 7220  o that operator 
-00017c00: 286f 7220 7261 6973 6520 6120 7379 6e74  (or raise a synt
-00017c10: 6178 2065 7272 6f72 2069 6620 6e6f 2073  ax error if no s
-00017c20: 7563 6820 6050 726f 746f 636f 6c60 2069  uch `Protocol` i
-00017c30: 7320 6176 6169 6c61 626c 6529 2e20 416c  s available). Al
-00017c40: 6c20 6176 6169 6c61 626c 6520 6050 726f  l available `Pro
-00017c50: 746f 636f 6c60 7320 6172 6520 6c69 7374  tocol`s are list
-00017c60: 6564 2062 656c 6f77 2e0d 0a0d 0a46 6f72  ed below.....For
-00017c70: 2074 6865 206f 7065 7261 746f 7220 6675   the operator fu
-00017c80: 6e63 7469 6f6e 730d 0a60 6060 0d0a 282b  nctions..```..(+
-00017c90: 290d 0a28 2a29 0d0a 282a 2a29 0d0a 282f  )..(*)..(**)..(/
-00017ca0: 290d 0a28 2f2f 290d 0a28 2529 0d0a 2826  )..(//)..(%)..(&
-00017cb0: 290d 0a28 5e29 0d0a 287c 290d 0a28 3c3c  )..(^)..(|)..(<<
-00017cc0: 290d 0a28 3e3e 290d 0a28 4029 0d0a 6060  )..(>>)..(@)..``
-00017cd0: 600d 0a74 6865 2072 6573 756c 7469 6e67  `..the resulting
-00017ce0: 2060 5072 6f74 6f63 6f6c 6020 6973 0d0a   `Protocol` is..
-00017cf0: 6060 6063 6f63 6f6e 7574 0d0a 636c 6173  ```coconut..clas
-00017d00: 7320 5375 7070 6f72 7473 4f70 5b54 2c20  s SupportsOp[T, 
-00017d10: 552c 2056 5d28 5072 6f74 6f63 6f6c 293a  U, V](Protocol):
-00017d20: 0d0a 2020 2020 6465 6620 5f5f 6f70 5f5f  ..    def __op__
-00017d30: 2873 656c 663a 2054 2c20 6f74 6865 723a  (self: T, other:
-00017d40: 2055 2920 2d3e 2056 3a0d 0a20 2020 2020   U) -> V:..     
-00017d50: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-00017d60: 656d 656e 7465 6445 7272 6f72 282e 2e2e  ementedError(...
-00017d70: 290d 0a60 6060 0d0a 7768 6572 6520 605f  )..```..where `_
-00017d80: 5f6f 705f 5f60 2069 7320 7468 6520 6d61  _op__` is the ma
-00017d90: 6769 6320 6d65 7468 6f64 2063 6f72 7265  gic method corre
-00017da0: 7370 6f6e 6469 6e67 2074 6f20 7468 6174  sponding to that
-00017db0: 206f 7065 7261 746f 722e 0d0a 0d0a 466f   operator.....Fo
-00017dc0: 7220 7468 6520 6f70 6572 6174 6f72 2066  r the operator f
-00017dd0: 756e 6374 696f 6e20 6028 2d29 602c 2074  unction `(-)`, t
-00017de0: 6865 2072 6573 756c 7469 6e67 2060 5072  he resulting `Pr
-00017df0: 6f74 6f63 6f6c 6020 6973 3a0d 0a60 6060  otocol` is:..```
-00017e00: 636f 636f 6e75 740d 0a63 6c61 7373 2053  coconut..class S
-00017e10: 7570 706f 7274 734d 696e 7573 5b54 2c20  upportsMinus[T, 
-00017e20: 552c 2056 5d28 5072 6f74 6f63 6f6c 293a  U, V](Protocol):
-00017e30: 0d0a 2020 2020 6465 6620 5f5f 7375 625f  ..    def __sub_
-00017e40: 5f28 7365 6c66 3a20 542c 206f 7468 6572  _(self: T, other
-00017e50: 3a20 5529 202d 3e20 563a 0d0a 2020 2020  : U) -> V:..    
-00017e60: 2020 2020 7261 6973 6520 4e6f 7449 6d70      raise NotImp
-00017e70: 6c65 6d65 6e74 6564 4572 726f 720d 0a20  lementedError.. 
-00017e80: 2020 2064 6566 205f 5f6e 6567 5f5f 2873     def __neg__(s
-00017e90: 656c 663a 2054 2920 2d3e 2056 3a0d 0a20  elf: T) -> V:.. 
-00017ea0: 2020 2020 2020 2072 6169 7365 204e 6f74         raise Not
-00017eb0: 496d 706c 656d 656e 7465 6445 7272 6f72  ImplementedError
-00017ec0: 0d0a 6060 600d 0a0d 0a46 6f72 2074 6865  ..```....For the
-00017ed0: 206f 7065 7261 746f 7220 6675 6e63 7469   operator functi
-00017ee0: 6f6e 2060 287e 2960 2c20 7468 6520 7265  on `(~)`, the re
-00017ef0: 7375 6c74 696e 6720 6050 726f 746f 636f  sulting `Protoco
-00017f00: 6c60 2069 733a 0d0a 6060 6063 6f63 6f6e  l` is:..```cocon
-00017f10: 7574 0d0a 636c 6173 7320 5375 7070 6f72  ut..class Suppor
-00017f20: 7473 496e 765b 542c 2056 5d28 5072 6f74  tsInv[T, V](Prot
-00017f30: 6f63 6f6c 293a 0d0a 2020 2020 6465 6620  ocol):..    def 
-00017f40: 5f5f 696e 7665 7274 5f5f 2873 656c 663a  __invert__(self:
-00017f50: 2054 2920 2d3e 2056 3a0d 0a20 2020 2020   T) -> V:..     
-00017f60: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-00017f70: 656d 656e 7465 6445 7272 6f72 282e 2e2e  ementedError(...
-00017f80: 290d 0a60 6060 0d0a 0d0a 2323 2323 2320  )..```....##### 
-00017f90: 604c 6973 7460 2076 732e 2060 5365 7175  `List` vs. `Sequ
-00017fa0: 656e 6365 600d 0a0d 0a49 6d70 6f72 7461  ence`....Importa
-00017fb0: 6e74 6c79 2c20 6e6f 7465 2074 6861 7420  ntly, note that 
-00017fc0: 6054 5b5d 6020 646f 6573 206e 6f74 206d  `T[]` does not m
-00017fd0: 6170 206f 6e74 6f20 6074 7970 696e 672e  ap onto `typing.
-00017fe0: 4c69 7374 5b54 5d60 2062 7574 206f 6e74  List[T]` but ont
-00017ff0: 6f20 6074 7970 696e 672e 5365 7175 656e  o `typing.Sequen
-00018000: 6365 5b54 5d60 2e20 5468 6973 2061 6c6c  ce[T]`. This all
-00018010: 6f77 7320 7468 6520 7265 7375 6c74 696e  ows the resultin
-00018020: 6720 7479 7065 2074 6f20 6265 2063 6f76  g type to be cov
-00018030: 6172 6961 6e74 2c20 7375 6368 2074 6861  ariant, such tha
-00018040: 7420 6966 2060 5560 2069 7320 6120 7375  t if `U` is a su
-00018050: 6274 7970 6520 6f66 2060 5460 2c20 7468  btype of `T`, th
-00018060: 656e 2060 555b 5d60 2069 7320 6120 7375  en `U[]` is a su
-00018070: 6274 7970 6520 6f66 2060 545b 5d60 2e20  btype of `T[]`. 
-00018080: 4164 6469 7469 6f6e 616c 6c79 2c20 6053  Additionally, `S
-00018090: 6571 7565 6e63 655b 545d 6020 616c 6c6f  equence[T]` allo
-000180a0: 7773 2066 6f72 2074 7570 6c65 732c 2061  ws for tuples, a
-000180b0: 6e64 2077 6865 6e20 7772 6974 696e 6720  nd when writing 
-000180c0: 696e 2061 6e20 6964 696f 6d61 7469 6320  in an idiomatic 
-000180d0: 6675 6e63 7469 6f6e 616c 2073 7479 6c65  functional style
-000180e0: 2c20 6173 7369 676e 6d65 6e74 2073 686f  , assignment sho
-000180f0: 756c 6420 6265 2072 6172 6520 616e 6420  uld be rare and 
-00018100: 7475 706c 6573 2073 686f 756c 6420 6265  tuples should be
-00018110: 2063 6f6d 6d6f 6e2e 2055 7369 6e67 2060   common. Using `
-00018120: 5365 7175 656e 6365 6020 636f 7665 7273  Sequence` covers
-00018130: 2062 6f74 6820 6361 7365 732c 2061 6363   both cases, acc
-00018140: 6f6d 6d6f 6461 7469 6e67 2074 7570 6c65  ommodating tuple
-00018150: 7320 616e 6420 6c69 7374 7320 616e 6420  s and lists and 
-00018160: 7072 6576 656e 7469 6e67 2069 6e64 6578  preventing index
-00018170: 6564 2061 7373 6967 6e6d 656e 742e 2057  ed assignment. W
-00018180: 6865 6e20 616e 2069 6e64 6578 6564 2061  hen an indexed a
-00018190: 7373 6967 6e6d 656e 7420 6973 2061 7474  ssignment is att
-000181a0: 656d 7074 6564 2069 6e74 6f20 6120 7661  empted into a va
-000181b0: 7269 6162 6c65 2074 7970 6564 2077 6974  riable typed wit
-000181c0: 6820 6053 6571 7565 6e63 6560 2c20 4d79  h `Sequence`, My
-000181d0: 5079 2077 696c 6c20 6765 6e65 7261 7465  Py will generate
-000181e0: 2061 6e20 6572 726f 723a 0d0a 0d0a 6060   an error:....``
-000181f0: 6063 6f63 6f6e 7574 0d0a 666f 6f3a 2069  `coconut..foo: i
-00018200: 6e74 5b5d 203d 205b 302c 2031 2c20 322c  nt[] = [0, 1, 2,
-00018210: 2033 2c20 342c 2035 5d0d 0a66 6f6f 5b30   3, 4, 5]..foo[0
-00018220: 5d20 3d20 3120 2020 2320 4d79 5079 2065  ] = 1   # MyPy e
-00018230: 7272 6f72 3a20 2255 6e73 7570 706f 7274  rror: "Unsupport
-00018240: 6564 2074 6172 6765 7420 666f 7220 696e  ed target for in
-00018250: 6465 7865 6420 6173 7369 676e 6d65 6e74  dexed assignment
-00018260: 220d 0a60 6060 0d0a 0d0a 4966 2079 6f75  "..```....If you
-00018270: 2077 616e 7420 746f 2075 7365 2060 4c69   want to use `Li
-00018280: 7374 6020 696e 7374 6561 6420 2865 2e67  st` instead (e.g
-00018290: 2e20 6966 2079 6f75 2077 616e 7420 746f  . if you want to
-000182a0: 2073 7570 706f 7274 2069 6e64 6578 6564   support indexed
-000182b0: 2061 7373 6967 6e6d 656e 7429 2c20 7573   assignment), us
-000182c0: 6520 7468 6520 7374 616e 6461 7264 2050  e the standard P
-000182d0: 7974 686f 6e20 332e 3520 7661 7269 6162  ython 3.5 variab
-000182e0: 6c65 2074 7970 6520 616e 6e6f 7461 7469  le type annotati
-000182f0: 6f6e 2073 796e 7461 783a 2060 666f 6f3a  on syntax: `foo:
-00018300: 204c 6973 745b 3c74 7970 653e 5d60 2e0d   List[<type>]`..
-00018310: 0a0d 0a5f 4e6f 7465 3a20 546f 2065 6173  ..._Note: To eas
-00018320: 696c 7920 7669 6577 2079 6f75 7220 6465  ily view your de
-00018330: 6669 6e65 6420 7479 7065 732c 2073 6565  fined types, see
-00018340: 205b 6072 6576 6561 6c5f 7479 7065 6020   [`reveal_type` 
-00018350: 616e 6420 6072 6576 6561 6c5f 6c6f 6361  and `reveal_loca
-00018360: 6c73 605d 2823 7265 7665 616c 2d74 7970  ls`](#reveal-typ
-00018370: 652d 616e 642d 7265 7665 616c 2d6c 6f63  e-and-reveal-loc
-00018380: 616c 7329 2e5f 0d0a 0d0a 2323 2323 2320  als)._....##### 
-00018390: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-000183a0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-000183b0: 6e75 740d 0a64 6566 2069 6e74 5f6d 6170  nut..def int_map
-000183c0: 280d 0a20 2020 2066 3a20 696e 7420 2d3e  (..    f: int ->
-000183d0: 2069 6e74 2c0d 0a20 2020 2078 733a 2069   int,..    xs: i
-000183e0: 6e74 5b5d 2c0d 0a29 202d 3e20 696e 745b  nt[],..) -> int[
-000183f0: 5d20 3d0d 0a20 2020 2078 7320 7c3e 206d  ] =..    xs |> m
-00018400: 6170 2428 6629 207c 3e20 6c69 7374 0d0a  ap$(f) |> list..
-00018410: 0d0a 7479 7065 2043 616e 4164 6441 6e64  ..type CanAddAnd
-00018420: 5375 6220 3d20 282b 2920 263a 2028 2d29  Sub = (+) &: (-)
-00018430: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-00018440: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-00018450: 5f70 7974 686f 6e0d 0a69 6d70 6f72 7420  _python..import 
-00018460: 7479 7069 6e67 2020 2320 756e 6c69 6b65  typing  # unlike
-00018470: 2074 6869 7320 7479 7069 6e67 2069 6d70   this typing imp
-00018480: 6f72 742c 2043 6f63 6f6e 7574 2070 726f  ort, Coconut pro
-00018490: 6475 6365 7320 756e 6976 6572 7361 6c20  duces universal 
-000184a0: 636f 6465 0d0a 0d0a 6465 6620 696e 745f  code....def int_
-000184b0: 6d61 7028 0d0a 2020 2020 662c 2020 2320  map(..    f,  # 
-000184c0: 7479 7065 3a20 7479 7069 6e67 2e43 616c  type: typing.Cal
-000184d0: 6c61 626c 655b 5b69 6e74 5d2c 2069 6e74  lable[[int], int
-000184e0: 5d0d 0a20 2020 2078 732c 2020 2320 7479  ]..    xs,  # ty
-000184f0: 7065 3a20 7479 7069 6e67 2e53 6571 7565  pe: typing.Seque
-00018500: 6e63 655b 696e 745d 0d0a 293a 0d0a 2020  nce[int]..):..  
-00018510: 2020 2320 7479 7065 3a20 282e 2e2e 2920    # type: (...) 
-00018520: 2d3e 2074 7970 696e 672e 5365 7175 656e  -> typing.Sequen
-00018530: 6365 5b69 6e74 5d0d 0a20 2020 2072 6574  ce[int]..    ret
-00018540: 7572 6e20 6c69 7374 286d 6170 2866 2c20  urn list(map(f, 
-00018550: 7873 2929 0d0a 0d0a 5420 3d20 7479 7069  xs))....T = typi
-00018560: 6e67 2e54 7970 6556 6172 2822 5422 2c20  ng.TypeVar("T", 
-00018570: 696e 6665 725f 7661 7269 616e 6365 3d54  infer_variance=T
-00018580: 7275 6529 0d0a 5520 3d20 7479 7069 6e67  rue)..U = typing
-00018590: 2e54 7970 6556 6172 2822 5522 2c20 696e  .TypeVar("U", in
-000185a0: 6665 725f 7661 7269 616e 6365 3d54 7275  fer_variance=Tru
-000185b0: 6529 0d0a 5620 3d20 7479 7069 6e67 2e54  e)..V = typing.T
-000185c0: 7970 6556 6172 2822 5622 2c20 696e 6665  ypeVar("V", infe
-000185d0: 725f 7661 7269 616e 6365 3d54 7275 6529  r_variance=True)
-000185e0: 0d0a 636c 6173 7320 4361 6e41 6464 416e  ..class CanAddAn
-000185f0: 6453 7562 2874 7970 696e 672e 5072 6f74  dSub(typing.Prot
-00018600: 6f63 6f6c 2c20 7479 7069 6e67 2e47 656e  ocol, typing.Gen
-00018610: 6572 6963 5b54 2c20 552c 2056 5d29 3a0d  eric[T, U, V]):.
-00018620: 0a20 2020 2064 6566 205f 5f61 6464 5f5f  .    def __add__
-00018630: 2873 656c 663a 2054 2c20 6f74 6865 723a  (self: T, other:
-00018640: 2055 2920 2d3e 2056 3a0d 0a20 2020 2020   U) -> V:..     
-00018650: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-00018660: 656d 656e 7465 6445 7272 6f72 0d0a 2020  ementedError..  
-00018670: 2020 6465 6620 5f5f 7375 625f 5f28 7365    def __sub__(se
-00018680: 6c66 3a20 542c 206f 7468 6572 3a20 5529  lf: T, other: U)
-00018690: 202d 3e20 563a 0d0a 2020 2020 2020 2020   -> V:..        
-000186a0: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
-000186b0: 6e74 6564 4572 726f 720d 0a20 2020 2064  ntedError..    d
-000186c0: 6566 205f 5f6e 6567 5f5f 2873 656c 663a  ef __neg__(self:
-000186d0: 2054 2920 2d3e 2056 3a0d 0a20 2020 2020   T) -> V:..     
-000186e0: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-000186f0: 656d 656e 7465 6445 7272 6f72 0d0a 6060  ementedError..``
-00018700: 600d 0a0d 0a23 2323 204d 756c 7469 6469  `....### Multidi
-00018710: 6d65 6e73 696f 6e61 6c20 4172 7261 7920  mensional Array 
-00018720: 4c69 7465 7261 6c2f 436f 6e63 6174 656e  Literal/Concaten
-00018730: 6174 696f 6e20 5379 6e74 6178 0d0a 0d0a  ation Syntax....
-00018740: 436f 636f 6e75 7420 7375 7070 6f72 7473  Coconut supports
-00018750: 206d 756c 7469 6469 6d65 6e73 696f 6e61   multidimensiona
-00018760: 6c20 6172 7261 7920 6c69 7465 7261 6c20  l array literal 
-00018770: 616e 6420 6172 7261 7920 5b63 6f6e 6361  and array [conca
-00018780: 7465 6e61 7469 6f6e 5d28 6874 7470 733a  tenation](https:
-00018790: 2f2f 6e75 6d70 792e 6f72 672f 646f 632f  //numpy.org/doc/
-000187a0: 7374 6162 6c65 2f72 6566 6572 656e 6365  stable/reference
-000187b0: 2f67 656e 6572 6174 6564 2f6e 756d 7079  /generated/numpy
-000187c0: 2e63 6f6e 6361 7465 6e61 7465 2e68 746d  .concatenate.htm
-000187d0: 6c29 2f5b 7374 6163 6b5d 2868 7474 7073  l)/[stack](https
-000187e0: 3a2f 2f6e 756d 7079 2e6f 7267 2f64 6f63  ://numpy.org/doc
-000187f0: 2f73 7461 626c 652f 7265 6665 7265 6e63  /stable/referenc
-00018800: 652f 6765 6e65 7261 7465 642f 6e75 6d70  e/generated/nump
-00018810: 792e 7374 6163 6b2e 6874 6d6c 2920 7379  y.stack.html) sy
-00018820: 6e74 6178 2e0d 0a0d 0a42 7920 6465 6661  ntax.....By defa
-00018830: 756c 742c 2061 6c6c 206d 756c 7469 6469  ult, all multidi
-00018840: 6d65 6e73 696f 6e61 6c20 6172 7261 7920  mensional array 
-00018850: 7379 6e74 6178 2077 696c 6c20 7369 6d70  syntax will simp
-00018860: 6c79 206f 7065 7261 7465 206f 6e20 5079  ly operate on Py
-00018870: 7468 6f6e 206c 6973 7473 206f 6620 6c69  thon lists of li
-00018880: 7374 7320 286f 7220 616e 7920 6e6f 6e2d  sts (or any non-
-00018890: 6073 7472 6020 6053 6571 7565 6e63 6560  `str` `Sequence`
-000188a0: 292e 2048 6f77 6576 6572 2c20 6966 205b  ). However, if [
-000188b0: 606e 756d 7079 605d 2823 6e75 6d70 792d  `numpy`](#numpy-
-000188c0: 696e 7465 6772 6174 696f 6e29 206f 626a  integration) obj
-000188d0: 6563 7473 2061 7265 2075 7365 642c 2074  ects are used, t
-000188e0: 6865 2061 7070 726f 7072 6961 7465 2060  he appropriate `
-000188f0: 6e75 6d70 7960 2063 616c 6c73 2077 696c  numpy` calls wil
-00018900: 6c20 6265 206d 6164 6520 696e 7374 6561  l be made instea
-00018910: 642e 2054 6f20 6769 7665 2063 7573 746f  d. To give custo
-00018920: 6d20 6f62 6a65 6374 7320 6d75 6c74 6964  m objects multid
-00018930: 696d 656e 7369 6f6e 616c 2061 7272 6179  imensional array
-00018940: 2063 6f6e 6361 7465 6e61 7469 6f6e 2073   concatenation s
-00018950: 7570 706f 7274 2c20 6465 6669 6e65 2060  upport, define `
-00018960: 7479 7065 286f 626a 292e 5f5f 6d61 7463  type(obj).__matc
-00018970: 6f6e 6361 745f 5f60 2028 7368 6f75 6c64  oncat__` (should
-00018980: 2062 6568 6176 6520 6173 2060 6e70 2e63   behave as `np.c
-00018990: 6f6e 6361 7460 292c 2060 6f62 6a2e 6e64  oncat`), `obj.nd
-000189a0: 696d 6020 2873 686f 756c 6420 6265 6861  im` (should beha
-000189b0: 7665 2061 7320 606e 702e 6e64 6172 7261  ve as `np.ndarra
-000189c0: 792e 6e64 696d 6029 2c20 616e 6420 606f  y.ndim`), and `o
-000189d0: 626a 2e72 6573 6861 7065 6020 2873 686f  bj.reshape` (sho
-000189e0: 756c 6420 6265 6861 7665 2061 7320 606e  uld behave as `n
-000189f0: 702e 6e64 6172 7261 792e 7265 7368 6170  p.ndarray.reshap
-00018a00: 6560 292e 0d0a 0d0a 4173 2061 2073 696d  e`).....As a sim
-00018a10: 706c 6520 6578 616d 706c 652c 2032 4420  ple example, 2D 
-00018a20: 6d61 7472 6963 6573 2063 616e 2062 6520  matrices can be 
-00018a30: 636f 6e73 7472 7563 7465 6420 6279 2073  constructed by s
-00018a40: 6570 6172 6174 696e 6720 7468 6520 726f  eparating the ro
-00018a50: 7773 2077 6974 6820 603b 3b60 2069 6e73  ws with `;;` ins
-00018a60: 6964 6520 6f66 2061 206c 6973 7420 6c69  ide of a list li
-00018a70: 7465 7261 6c3a 0d0a 6060 6063 6f63 6f6e  teral:..```cocon
-00018a80: 7574 5f70 7963 6f6e 0d0a 3e3e 3e20 5b31  ut_pycon..>>> [1
-00018a90: 2c20 3220 3b3b 0d0a 2020 2020 2033 2c20  , 2 ;;..     3, 
-00018aa0: 345d 0d0a 0d0a 5b5b 312c 2032 5d2c 205b  4]....[[1, 2], [
-00018ab0: 332c 2034 5d5d 0d0a 3e3e 3e20 696d 706f  3, 4]]..>>> impo
-00018ac0: 7274 206e 756d 7079 2061 7320 6e70 0d0a  rt numpy as np..
-00018ad0: 3e3e 3e20 6e70 2e61 7272 6179 285b 312c  >>> np.array([1,
-00018ae0: 2032 203b 3b20 332c 2034 5d29 0d0a 6172   2 ;; 3, 4])..ar
-00018af0: 7261 7928 5b5b 312c 2032 5d2c 0d0a 2020  ray([[1, 2],..  
-00018b00: 2020 2020 205b 332c 2034 5d5d 290d 0a60       [3, 4]])..`
-00018b10: 6060 0d0a 4173 2063 616e 2062 6520 7365  ``..As can be se
-00018b20: 656e 2c20 606e 702e 6172 7261 7960 2028  en, `np.array` (
-00018b30: 6f72 2065 7175 6976 616c 656e 7429 2063  or equivalent) c
-00018b40: 616e 2062 6520 7573 6564 2074 6f20 7475  an be used to tu
-00018b50: 726e 2074 6865 2072 6573 756c 7469 6e67  rn the resulting
-00018b60: 206c 6973 7420 6f66 206c 6973 7473 2069   list of lists i
-00018b70: 6e74 6f20 616e 2061 6374 7561 6c20 6172  nto an actual ar
-00018b80: 7261 792e 2054 6869 7320 7379 6e74 6178  ray. This syntax
-00018b90: 2077 6f72 6b73 2062 6563 6175 7365 2060   works because `
-00018ba0: 3b3b 6020 696e 7369 6465 206f 6620 6120  ;;` inside of a 
-00018bb0: 6c69 7374 206c 6974 6572 616c 2066 756e  list literal fun
-00018bc0: 6374 696f 6e73 2061 7320 6120 636f 6e63  ctions as a conc
-00018bd0: 6174 656e 6174 696f 6e2f 7374 6163 6b20  atenation/stack 
-00018be0: 616c 6f6e 6720 7468 6520 602d 3260 2061  along the `-2` a
-00018bf0: 7869 7320 2877 6974 6820 7468 6520 696e  xis (with the in
-00018c00: 6e65 7220 6172 7261 7973 2062 6569 6e67  ner arrays being
-00018c10: 2062 726f 6164 6361 7374 2074 6f20 6028   broadcast to `(
-00018c20: 312c 2032 2960 2061 7272 6179 7320 6265  1, 2)` arrays be
-00018c30: 666f 7265 2063 6f6e 6361 7465 6e61 7469  fore concatenati
-00018c40: 6f6e 292e 204e 6f74 6520 7468 6174 2074  on). Note that t
-00018c50: 6869 7320 636f 6e63 6174 656e 6174 696f  his concatenatio
-00018c60: 6e20 6973 2064 6f6e 6520 656e 7469 7265  n is done entire
-00018c70: 6c79 2069 6e20 5079 7468 6f6e 206c 6973  ly in Python lis
-00018c80: 7473 206f 6620 6c69 7374 7320 6865 7265  ts of lists here
-00018c90: 2c20 7369 6e63 6520 7468 6520 606e 702e  , since the `np.
-00018ca0: 6172 7261 7960 2063 616c 6c20 636f 6d65  array` call come
-00018cb0: 7320 6f6e 6c79 2061 7420 7468 6520 656e  s only at the en
-00018cc0: 642e 0d0a 0d0a 496e 2067 656e 6572 616c  d.....In general
-00018cd0: 2c20 7468 6520 6e75 6d62 6572 206f 6620  , the number of 
-00018ce0: 7365 6d69 636f 6c6f 6e73 2069 6e64 6963  semicolons indic
-00018cf0: 6174 6573 2074 6865 2064 696d 656e 7369  ates the dimensi
-00018d00: 6f6e 2066 726f 6d20 7468 6520 656e 6420  on from the end 
-00018d10: 6f6e 2077 6869 6368 2074 6f20 636f 6e63  on which to conc
-00018d20: 6174 656e 6174 652e 2054 6875 732c 2060  atenate. Thus, `
-00018d30: 3b60 2069 6e64 6963 6174 6573 2063 6f6e  ;` indicates con
-00018d40: 6174 656e 6174 696f 6e20 616c 6f6e 6720  atenation along 
-00018d50: 7468 6520 602d 3160 2061 7869 732c 2060  the `-1` axis, `
-00018d60: 3b3b 6020 616c 6f6e 6720 7468 6520 602d  ;;` along the `-
-00018d70: 3260 2061 7869 732c 2061 6e64 2073 6f20  2` axis, and so 
-00018d80: 6f6e 2e20 4265 666f 7265 2063 6f6e 6361  on. Before conca
-00018d90: 7465 6e61 7469 6f6e 2c20 6172 7261 7973  tenation, arrays
-00018da0: 2061 7265 2061 6c77 6179 7320 6272 6f61   are always broa
-00018db0: 6463 6173 7420 746f 2061 2073 6861 7065  dcast to a shape
-00018dc0: 2077 6869 6368 2069 7320 6c61 7267 6520   which is large 
-00018dd0: 656e 6f75 6768 2074 6f20 616c 6c6f 7720  enough to allow 
-00018de0: 7468 6520 636f 6e63 6174 656e 6174 696f  the concatenatio
-00018df0: 6e2e 0d0a 0d0a 5468 7573 2c20 6966 2060  n.....Thus, if `
-00018e00: 6160 2069 7320 6120 606e 756d 7079 6020  a` is a `numpy` 
-00018e10: 6172 7261 792c 2060 5b61 3b20 615d 6020  array, `[a; a]` 
-00018e20: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00018e30: 2060 6e70 2e63 6f6e 6361 7465 6e61 7465   `np.concatenate
-00018e40: 2828 612c 2061 292c 2061 7869 733d 2d31  ((a, a), axis=-1
-00018e50: 2960 2c20 7768 696c 6520 605b 6120 3b3b  )`, while `[a ;;
-00018e60: 2061 5d60 2077 6f75 6c64 2062 6520 6571   a]` would be eq
-00018e70: 7569 7661 6c65 6e74 2074 6f20 6120 7665  uivalent to a ve
-00018e80: 7273 696f 6e20 6f66 2060 6e70 2e63 6f6e  rsion of `np.con
-00018e90: 6361 7465 6e61 7465 2828 612c 2061 292c  catenate((a, a),
-00018ea0: 2061 7869 733d 2d32 2960 2074 6861 7420   axis=-2)` that 
-00018eb0: 616c 736f 2065 6e73 7572 6573 2074 6861  also ensures tha
-00018ec0: 7420 6061 6020 6973 2061 7420 6c65 6173  t `a` is at leas
-00018ed0: 7420 7477 6f20 6469 6d65 6e73 696f 6e61  t two dimensiona
-00018ee0: 6c2e 2046 6f72 206e 6f72 6d61 6c20 6c69  l. For normal li
-00018ef0: 7374 7320 6f66 206c 6973 7473 2c20 7468  sts of lists, th
-00018f00: 6520 6265 6861 7669 6f72 2069 7320 7468  e behavior is th
-00018f10: 6520 7361 6d65 2c20 6275 7420 6973 2069  e same, but is i
-00018f20: 6d70 6c65 6d65 6e74 6564 2077 6974 686f  mplemented witho
-00018f30: 7574 2061 6e79 2060 6e75 6d70 7960 2063  ut any `numpy` c
-00018f40: 616c 6c73 2e0d 0a0d 0a49 6620 6d75 6c74  alls.....If mult
-00018f50: 6970 6c65 2064 6966 6665 7265 6e74 2063  iple different c
-00018f60: 6f6e 6361 7465 6e61 7469 6f6e 206f 7065  oncatenation ope
-00018f70: 7261 746f 7273 2061 7265 2075 7365 642c  rators are used,
-00018f80: 2074 6865 206f 7065 7261 746f 7273 2077   the operators w
-00018f90: 6974 6820 7468 6520 6c65 6173 7420 6e75  ith the least nu
-00018fa0: 6d62 6572 206f 6620 7365 6d69 636f 6c6f  mber of semicolo
-00018fb0: 6e73 2077 696c 6c20 6269 6e64 206d 6f73  ns will bind mos
-00018fc0: 7420 7469 6768 746c 792e 2054 6875 732c  t tightly. Thus,
-00018fd0: 2079 6f75 2063 616e 2077 7269 7465 2061   you can write a
-00018fe0: 2033 4420 6172 7261 7920 6c69 7465 7261   3D array litera
-00018ff0: 6c20 6173 3a0d 0a60 6060 636f 636f 6e75  l as:..```coconu
-00019000: 745f 7079 636f 6e0d 0a3e 3e3e 205b 312c  t_pycon..>>> [1,
-00019010: 2032 203b 3b0d 0a20 2020 2020 332c 2034   2 ;;..     3, 4
-00019020: 0d0a 2020 2020 203b 3b3b 0d0a 2020 2020  ..     ;;;..    
-00019030: 2035 2c20 3620 3b3b 0d0a 2020 2020 2037   5, 6 ;;..     7
-00019040: 2c20 385d 0d0a 0d0a 5b5b 5b31 2c20 325d  , 8]....[[[1, 2]
-00019050: 2c20 5b33 2c20 345d 5d2c 205b 5b35 2c20  , [3, 4]], [[5, 
-00019060: 365d 2c20 5b37 2c20 385d 5d5d 0d0a 6060  6], [7, 8]]]..``
-00019070: 600d 0a0d 0a23 2323 2323 2043 6f6d 7061  `....##### Compa
-00019080: 7269 736f 6e20 746f 204a 756c 6961 0d0a  rison to Julia..
-00019090: 0d0a 436f 636f 6e75 7427 7320 6d75 6c74  ..Coconut's mult
-000190a0: 6964 696d 656e 7369 6f6e 616c 2061 7272  idimensional arr
-000190b0: 6179 2073 796e 7461 7820 6973 2062 6173  ay syntax is bas
-000190c0: 6564 206f 6e20 7468 6174 206f 6620 5b4a  ed on that of [J
-000190d0: 756c 6961 5d28 6874 7470 733a 2f2f 646f  ulia](https://do
-000190e0: 6373 2e6a 756c 6961 6c61 6e67 2e6f 7267  cs.julialang.org
-000190f0: 2f65 6e2f 7631 2f6d 616e 7561 6c2f 6172  /en/v1/manual/ar
-00019100: 7261 7973 2f23 6d61 6e2d 6172 7261 792d  rays/#man-array-
-00019110: 6c69 7465 7261 6c73 292e 2054 6865 2070  literals). The p
-00019120: 7269 6d61 7279 2064 6966 6665 7265 6e63  rimary differenc
-00019130: 6520 6265 7477 6565 6e20 436f 636f 6e75  e between Coconu
-00019140: 7427 7320 7379 6e74 6178 2061 6e64 204a  t's syntax and J
-00019150: 756c 6961 2773 2073 796e 7461 7820 6973  ulia's syntax is
-00019160: 2074 6861 7420 6d75 6c74 6964 696d 656e   that multidimen
-00019170: 7369 6f6e 616c 2061 7272 6179 7320 6172  sional arrays ar
-00019180: 6520 726f 772d 6669 7273 7420 696e 2043  e row-first in C
-00019190: 6f63 6f6e 7574 2028 666f 6c6c 6f77 696e  oconut (followin
-000191a0: 6720 606e 756d 7079 6029 2c20 6275 7420  g `numpy`), but 
-000191b0: 636f 6c75 6d6e 2d66 6972 7374 2069 6e20  column-first in 
-000191c0: 4a75 6c69 612e 2054 6875 732c 2060 3b60  Julia. Thus, `;`
-000191d0: 2069 7320 7665 7274 6963 616c 2063 6f6e   is vertical con
-000191e0: 6361 7465 6e61 7469 6f6e 2069 6e20 4a75  catenation in Ju
-000191f0: 6c69 6120 6275 7420 2a2a 686f 7269 7a6f  lia but **horizo
-00019200: 6e74 616c 2063 6f6e 6361 7465 6e61 7469  ntal concatenati
-00019210: 6f6e 2a2a 2069 6e20 436f 636f 6e75 7420  on** in Coconut 
-00019220: 616e 6420 603b 3b60 2069 7320 686f 7269  and `;;` is hori
-00019230: 7a6f 6e74 616c 2063 6f6e 6361 7465 6e61  zontal concatena
-00019240: 7469 6f6e 2069 6e20 4a75 6c69 6120 6275  tion in Julia bu
-00019250: 7420 2a2a 7665 7274 6963 616c 2063 6f6e  t **vertical con
-00019260: 6361 7465 6e61 7469 6f6e 2a2a 2069 6e20  catenation** in 
-00019270: 436f 636f 6e75 742e 0d0a 0d0a 2323 2323  Coconut.....####
-00019280: 2320 4578 616d 706c 6573 0d0a 0d0a 2a2a  # Examples....**
-00019290: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-000192a0: 6f63 6f6e 7574 5f70 7963 6f6e 0d0a 3e3e  oconut_pycon..>>
-000192b0: 3e20 5b5b 313b 3b32 5d20 3b20 5b33 3b3b  > [[1;;2] ; [3;;
-000192c0: 345d 5d0d 0a5b 5b31 2c20 335d 2c20 5b32  4]]..[[1, 3], [2
-000192d0: 2c20 345d 5d0d 0a60 6060 0d0a 5f41 7272  , 4]]..```.._Arr
-000192e0: 6179 206c 6974 6572 616c 7320 6361 6e20  ay literals can 
-000192f0: 6265 2077 7269 7474 656e 2069 6e20 636f  be written in co
-00019300: 6c75 6d6e 2d66 6972 7374 206f 7264 6572  lumn-first order
-00019310: 2069 6620 7468 6520 636f 6c75 6d6e 7320   if the columns 
-00019320: 6172 6520 6669 7273 7420 6372 6561 7465  are first create
-00019330: 6420 7669 6120 7665 7274 6963 616c 2063  d via vertical c
-00019340: 6f6e 6361 7465 6e61 7469 6f6e 2028 603b  oncatenation (`;
-00019350: 3b60 2920 616e 6420 7468 656e 206a 6f69  ;`) and then joi
-00019360: 6e65 6420 7669 6120 686f 7269 7a6f 6e74  ned via horizont
-00019370: 616c 2063 6f6e 6361 7465 6e61 7469 6f6e  al concatenation
-00019380: 2028 603b 6029 2e5f 0d0a 0d0a 6060 6063   (`;`)._....```c
-00019390: 6f63 6f6e 7574 5f70 7963 6f6e 0d0a 3e3e  oconut_pycon..>>
-000193a0: 3e20 5b72 616e 6765 2833 2920 7c3e 206c  > [range(3) |> l
-000193b0: 6973 7420 3b3b 2078 2b31 2066 6f72 2078  ist ;; x+1 for x
-000193c0: 2069 6e20 7261 6e67 6528 3329 5d0d 0a5b   in range(3)]..[
-000193d0: 5b30 2c20 312c 2032 5d2c 205b 312c 2032  [0, 1, 2], [1, 2
-000193e0: 2c20 335d 5d0d 0a60 6060 0d0a 5f41 7262  , 3]]..```.._Arb
-000193f0: 6974 7261 7279 2065 7870 7265 7373 696f  itrary expressio
-00019400: 6e73 2c20 696e 636c 7564 696e 6720 636f  ns, including co
-00019410: 6d70 7265 6865 6e73 696f 6e73 2c20 6172  mprehensions, ar
-00019420: 6520 616c 6c6f 7765 6420 696e 206d 756c  e allowed in mul
-00019430: 7469 6469 6d65 6e73 696f 6e61 6c20 6172  tidimensional ar
-00019440: 7261 7920 6c69 7465 7261 6c73 2e5f 0d0a  ray literals._..
-00019450: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7963  ..```coconut_pyc
-00019460: 6f6e 0d0a 3e3e 3e20 696d 706f 7274 206e  on..>>> import n
-00019470: 756d 7079 2061 7320 6e70 0d0a 3e3e 3e20  umpy as np..>>> 
-00019480: 6120 3d20 6e70 2e61 7272 6179 285b 312c  a = np.array([1,
-00019490: 2032 203b 3b20 332c 2034 5d29 0d0a 3e3e   2 ;; 3, 4])..>>
-000194a0: 3e20 5b61 203b 2061 5d0d 0a61 7272 6179  > [a ; a]..array
-000194b0: 285b 5b31 2c20 322c 2031 2c20 325d 2c0d  ([[1, 2, 1, 2],.
-000194c0: 0a20 2020 2020 2020 5b33 2c20 342c 2033  .       [3, 4, 3
-000194d0: 2c20 345d 5d29 0d0a 3e3e 3e20 5b61 203b  , 4]])..>>> [a ;
-000194e0: 3b20 615d 0d0a 6172 7261 7928 5b5b 312c  ; a]..array([[1,
-000194f0: 2032 5d2c 0d0a 2020 2020 2020 205b 332c   2],..       [3,
-00019500: 2034 5d2c 0d0a 2020 2020 2020 205b 312c   4],..       [1,
-00019510: 2032 5d2c 0d0a 2020 2020 2020 205b 332c   2],..       [3,
-00019520: 2034 5d5d 290d 0a3e 3e3e 205b 6120 3b3b   4]])..>>> [a ;;
-00019530: 3b20 615d 0d0a 6172 7261 7928 5b5b 5b31  ; a]..array([[[1
-00019540: 2c20 325d 2c0d 0a20 2020 2020 2020 205b  , 2],..        [
-00019550: 332c 2034 5d5d 2c0d 0a0d 0a20 2020 2020  3, 4]],....     
-00019560: 2020 5b5b 312c 2032 5d2c 0d0a 2020 2020    [[1, 2],..    
-00019570: 2020 2020 5b33 2c20 345d 5d5d 290d 0a60      [3, 4]]])..`
-00019580: 6060 0d0a 5f47 656e 6572 616c 2073 686f  ``.._General sho
-00019590: 7763 6173 6520 6f66 2068 6f77 2074 6865  wcase of how the
-000195a0: 2064 6966 6665 7265 6e74 2063 6f6e 6361   different conca
-000195b0: 7465 6e61 7469 6f6e 206f 7065 7261 746f  tenation operato
-000195c0: 7273 2077 6f72 6b20 7573 696e 6720 606e  rs work using `n
-000195d0: 756d 7079 6020 6172 7261 7973 2e5f 0d0a  umpy` arrays._..
-000195e0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a20 5f54  ..**Python:** _T
-000195f0: 6865 2065 7175 6976 616c 656e 7420 5079  he equivalent Py
-00019600: 7468 6f6e 2061 7272 6179 206c 6974 6572  thon array liter
-00019610: 616c 7320 6361 6e20 6265 2073 6565 6e20  als can be seen 
-00019620: 696e 2074 6865 2070 7269 6e74 6564 2072  in the printed r
-00019630: 6570 7265 7365 6e74 6174 696f 6e73 2069  epresentations i
-00019640: 6e20 6561 6368 2065 7861 6d70 6c65 2e5f  n each example._
-00019650: 0d0a 0d0a 2323 2320 4c61 7a79 204c 6973  ....### Lazy Lis
-00019660: 7473 0d0a 0d0a 436f 636f 6e75 7420 7375  ts....Coconut su
-00019670: 7070 6f72 7473 2074 6865 2063 7265 6174  pports the creat
-00019680: 696f 6e20 6f66 206c 617a 7920 6c69 7374  ion of lazy list
-00019690: 732c 2077 6865 7265 2074 6865 2063 6f6e  s, where the con
-000196a0: 7465 6e74 7320 696e 2074 6865 206c 6973  tents in the lis
-000196b0: 7420 7769 6c6c 2062 6520 7472 6561 7465  t will be treate
-000196c0: 6420 6173 2061 6e20 6974 6572 6174 6f72  d as an iterator
-000196d0: 2061 6e64 206e 6f74 2065 7661 6c75 6174   and not evaluat
-000196e0: 6564 2075 6e74 696c 2074 6865 7920 6172  ed until they ar
-000196f0: 6520 6e65 6564 6564 2e20 556e 6c69 6b65  e needed. Unlike
-00019700: 206e 6f72 6d61 6c20 6974 6572 6174 6f72   normal iterator
-00019710: 732c 2068 6f77 6576 6572 2c20 6c61 7a79  s, however, lazy
-00019720: 206c 6973 7473 2063 616e 2062 6520 6974   lists can be it
-00019730: 6572 6174 6564 206f 7665 7220 6d75 6c74  erated over mult
-00019740: 6970 6c65 2074 696d 6573 2061 6e64 2073  iple times and s
-00019750: 7469 6c6c 2072 6574 7572 6e20 7468 6520  till return the 
-00019760: 7361 6d65 2072 6573 756c 742e 204c 617a  same result. Laz
-00019770: 7920 6c69 7374 7320 6361 6e20 6265 2063  y lists can be c
-00019780: 7265 6174 6564 2069 6e20 436f 636f 6e75  reated in Coconu
-00019790: 7420 7369 6d70 6c79 2062 7920 7375 7272  t simply by surr
-000197a0: 6f75 6e64 696e 6720 6120 636f 6d6d 612d  ounding a comma-
-000197b0: 7365 7061 7261 7465 6420 6c69 7374 206f  separated list o
-000197c0: 6620 6974 656d 7320 7769 7468 2060 287c  f items with `(|
-000197d0: 6020 616e 6420 607c 2960 2028 736f 2d63  ` and `|)` (so-c
-000197e0: 616c 6c65 6420 2262 616e 616e 6120 6272  alled "banana br
-000197f0: 6163 6b65 7473 2229 2069 6e73 7465 6164  ackets") instead
-00019800: 206f 6620 605b 6020 616e 6420 605d 6020   of `[` and `]` 
-00019810: 666f 7220 6120 6c69 7374 206f 7220 6028  for a list or `(
-00019820: 6020 616e 6420 6029 6020 666f 7220 6120  ` and `)` for a 
-00019830: 7475 706c 652e 0d0a 0d0a 4c61 7a79 206c  tuple.....Lazy l
-00019840: 6973 7473 2075 7365 205b 7265 6974 6572  ists use [reiter
-00019850: 6162 6c65 5d28 2372 6569 7465 7261 626c  able](#reiterabl
-00019860: 6529 2075 6e64 6572 2074 6865 2068 6f6f  e) under the hoo
-00019870: 6420 746f 2065 6e61 626c 6520 7468 656d  d to enable them
-00019880: 2074 6f20 6265 2069 7465 7261 7465 6420   to be iterated 
-00019890: 6f76 6572 206d 756c 7469 706c 6520 7469  over multiple ti
-000198a0: 6d65 732e 204c 617a 7920 6c69 7374 7320  mes. Lazy lists 
-000198b0: 7769 6c6c 2065 7665 6e20 636f 6e74 696e  will even contin
-000198c0: 7565 2074 6f20 6265 2072 6569 7465 7261  ue to be reitera
-000198d0: 626c 6520 7768 656e 2063 6f6d 6269 6e65  ble when combine
-000198e0: 6420 7769 7468 205b 6c61 7a79 2063 6861  d with [lazy cha
-000198f0: 696e 696e 675d 2823 6974 6572 6174 6f72  ining](#iterator
-00019900: 2d63 6861 696e 696e 6729 2e0d 0a0d 0a23  -chaining).....#
-00019910: 2323 2323 2052 6174 696f 6e61 6c65 0d0a  #### Rationale..
-00019920: 0d0a 4c61 7a79 206c 6973 7473 2c20 7768  ..Lazy lists, wh
-00019930: 6572 6520 7365 7175 656e 6365 7320 6172  ere sequences ar
-00019940: 6520 6f6e 6c79 2065 7661 6c75 6174 6564  e only evaluated
-00019950: 2077 6865 6e20 7468 6569 7220 636f 6e74   when their cont
-00019960: 656e 7473 2061 7265 2072 6571 7565 7374  ents are request
-00019970: 6564 2c20 6172 6520 6120 6d61 696e 7374  ed, are a mainst
-00019980: 6179 206f 6620 6675 6e63 7469 6f6e 616c  ay of functional
-00019990: 2070 726f 6772 616d 6d69 6e67 2c20 616c   programming, al
-000199a0: 6c6f 7769 6e67 2066 6f72 2064 796e 616d  lowing for dynam
-000199b0: 6963 2065 7661 6c75 6174 696f 6e20 6f66  ic evaluation of
-000199c0: 2074 6865 206c 6973 7427 7320 636f 6e74   the list's cont
-000199d0: 656e 7473 2e0d 0a0d 0a23 2323 2323 2045  ents.....##### E
-000199e0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-000199f0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-00019a00: 7574 0d0a 287c 2070 7269 6e74 2822 6865  ut..(| print("he
-00019a10: 6c6c 6f2c 2229 2c20 7072 696e 7428 2277  llo,"), print("w
-00019a20: 6f72 6c64 2122 2920 7c29 207c 3e20 636f  orld!") |) |> co
-00019a30: 6e73 756d 650d 0a60 6060 0d0a 0d0a 2a2a  nsume..```....**
-00019a40: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
-00019a50: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
-00019a60: 7420 6120 636f 6d70 6c69 6361 7465 6420  t a complicated 
-00019a70: 6974 6572 6174 6f72 2063 6f6d 7072 6568  iterator compreh
-00019a80: 656e 7369 6f6e 2069 6e20 706c 6163 6520  ension in place 
-00019a90: 6f66 2074 6865 206c 617a 7920 6c69 7374  of the lazy list
-00019aa0: 2e20 5365 6520 7468 6520 636f 6d70 696c  . See the compil
-00019ab0: 6564 2063 6f64 6520 666f 7220 7468 6520  ed code for the 
-00019ac0: 5079 7468 6f6e 2073 796e 7461 782e 5f0d  Python syntax._.
-00019ad0: 0a0d 0a23 2323 2049 6d70 6c69 6369 7420  ...### Implicit 
-00019ae0: 4675 6e63 7469 6f6e 2041 7070 6c69 6361  Function Applica
-00019af0: 7469 6f6e 2061 6e64 2043 6f65 6666 6963  tion and Coeffic
-00019b00: 6965 6e74 730d 0a0d 0a43 6f63 6f6e 7574  ients....Coconut
-00019b10: 2073 7570 706f 7274 7320 696d 706c 6963   supports implic
-00019b20: 6974 2066 756e 6374 696f 6e20 6170 706c  it function appl
-00019b30: 6963 6174 696f 6e20 6f66 2074 6865 2066  ication of the f
-00019b40: 6f72 6d20 6066 2078 2079 602c 2077 6869  orm `f x y`, whi
-00019b50: 6368 2069 7320 636f 6d70 696c 6564 2074  ch is compiled t
-00019b60: 6f20 6066 2878 2c20 7929 6020 286e 6f74  o `f(x, y)` (not
-00019b70: 653a 202a 2a6e 6f74 2a2a 2060 6628 7829  e: **not** `f(x)
-00019b80: 2879 2960 2061 7320 6973 2063 6f6d 6d6f  (y)` as is commo
-00019b90: 6e20 696e 206d 616e 7920 6c61 6e67 7561  n in many langua
-00019ba0: 6765 7320 7769 7468 2061 7574 6f6d 6174  ges with automat
-00019bb0: 6963 2063 7572 7279 696e 6729 2e0d 0a0d  ic currying)....
-00019bc0: 0a41 6464 6974 696f 6e61 6c6c 792c 2069  .Additionally, i
-00019bd0: 6620 7468 6520 6669 7273 7420 6172 6775  f the first argu
-00019be0: 6d65 6e74 2069 7320 6e6f 7420 6361 6c6c  ment is not call
-00019bf0: 6162 6c65 2c20 616e 6420 6973 2069 6e73  able, and is ins
-00019c00: 7465 6164 2061 6e20 6069 6e74 602c 2060  tead an `int`, `
-00019c10: 666c 6f61 7460 2c20 6063 6f6d 706c 6578  float`, `complex
-00019c20: 602c 206f 7220 5b60 6e75 6d70 7960 5d28  `, or [`numpy`](
-00019c30: 236e 756d 7079 2d69 6e74 6567 7261 7469  #numpy-integrati
-00019c40: 6f6e 2920 6f62 6a65 6374 2c20 7468 656e  on) object, then
-00019c50: 2074 6865 2072 6573 756c 7420 6973 206d   the result is m
-00019c60: 756c 7469 706c 6963 6174 696f 6e20 7261  ultiplication ra
-00019c70: 7468 6572 2074 6861 6e20 6675 6e63 7469  ther than functi
-00019c80: 6f6e 2061 7070 6c69 6361 7469 6f6e 2c20  on application, 
-00019c90: 7375 6368 2074 6861 7420 6032 2078 6020  such that `2 x` 
-00019ca0: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00019cb0: 2060 322a 7860 2e0d 0a0d 0a54 686f 7567   `2*x`.....Thoug
-00019cc0: 6820 7468 6520 6669 7273 7420 6974 656d  h the first item
-00019cd0: 206d 6179 2062 6520 616e 7920 6174 6f6d   may be any atom
-00019ce0: 2c20 666f 6c6c 6f77 696e 6720 6172 6775  , following argu
-00019cf0: 6d65 6e74 7320 6172 6520 6869 6768 6c79  ments are highly
-00019d00: 2072 6573 7472 6963 7465 642c 2061 6e64   restricted, and
-00019d10: 206d 7573 7420 6265 3a0d 0a2d 2076 6172   must be:..- var
-00019d20: 6961 626c 6573 2f61 7474 7269 6275 7465  iables/attribute
-00019d30: 7320 2865 2e67 2e20 6061 2e62 6029 2c0d  s (e.g. `a.b`),.
-00019d40: 0a2d 206c 6974 6572 616c 2063 6f6e 7374  .- literal const
-00019d50: 616e 7473 2028 652e 672e 2060 5472 7565  ants (e.g. `True
-00019d60: 6029 2c0d 0a2d 206e 756d 6265 7220 6c69  `),..- number li
-00019d70: 7465 7261 6c73 2028 652e 672e 2060 312e  terals (e.g. `1.
-00019d80: 3560 292c 206f 720d 0a2d 206f 6e65 206f  5`), or..- one o
-00019d90: 6620 7468 6520 6162 6f76 6520 666f 6c6c  f the above foll
-00019da0: 6f77 6564 2062 7920 616e 2065 7870 6f6e  owed by an expon
-00019db0: 656e 7420 2865 2e67 2e20 6061 2a2a 2d35  ent (e.g. `a**-5
-00019dc0: 6029 2e0d 0a0d 0a46 6f72 2065 7861 6d70  `).....For examp
-00019dd0: 6c65 2c20 6028 6620 2e2e 2067 2920 7820  le, `(f .. g) x 
-00019de0: 3160 2077 696c 6c20 776f 726b 2c20 6275  1` will work, bu
-00019df0: 7420 6066 2078 205b 315d 602c 2060 6620  t `f x [1]`, `f 
-00019e00: 7820 2831 2b32 2960 2c20 616e 6420 6066  x (1+2)`, and `f
-00019e10: 2022 6162 6322 6020 7769 6c6c 206e 6f74   "abc"` will not
-00019e20: 2e0d 0a0d 0a49 6d70 6c69 6369 7420 6675  .....Implicit fu
-00019e30: 6e63 7469 6f6e 2061 7070 6c69 6361 7469  nction applicati
-00019e40: 6f6e 2061 6e64 2063 6f65 6666 6963 6965  on and coefficie
-00019e50: 6e74 2073 796e 7461 7820 6973 206f 6e6c  nt syntax is onl
-00019e60: 7920 696e 7465 6e64 6564 2066 6f72 2073  y intended for s
-00019e70: 696d 706c 6520 7573 6520 6361 7365 732e  imple use cases.
-00019e80: 2046 6f72 206d 6f72 6520 636f 6d70 6c65   For more comple
-00019e90: 7820 6361 7365 732c 2075 7365 2074 6865  x cases, use the
-00019ea0: 2073 7461 6e64 6172 6420 6d75 6c74 6970   standard multip
-00019eb0: 6c69 6361 7469 6f6e 206f 7065 7261 746f  lication operato
-00019ec0: 7220 602a 602c 2073 7461 6e64 6172 6420  r `*`, standard 
-00019ed0: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
-00019ee0: 7469 6f6e 2c20 6f72 205b 7069 7065 735d  tion, or [pipes]
-00019ef0: 2823 7069 7065 7329 2e0d 0a0d 0a49 6d70  (#pipes).....Imp
-00019f00: 6c69 6369 7420 6675 6e63 7469 6f6e 2061  licit function a
-00019f10: 7070 6c69 6361 7469 6f6e 2061 6e64 2063  pplication and c
-00019f20: 6f65 6666 6963 6965 6e74 2073 796e 7461  oefficient synta
-00019f30: 7820 6861 7320 6120 6c6f 7765 7220 7072  x has a lower pr
-00019f40: 6563 6564 656e 6365 2074 6861 6e20 602a  ecedence than `*
-00019f50: 2a60 2062 7574 2061 2068 6967 6865 7220  *` but a higher 
-00019f60: 7072 6563 6564 656e 6365 2074 6861 6e20  precedence than 
-00019f70: 756e 6172 7920 6f70 6572 6174 6f72 732e  unary operators.
-00019f80: 2041 7320 6120 7265 7375 6c74 2c20 6032   As a result, `2
-00019f90: 2078 2a2a 3220 2b20 3320 7860 2069 7320   x**2 + 3 x` is 
-00019fa0: 6571 7569 7661 6c65 6e74 2074 6f20 6032  equivalent to `2
-00019fb0: 202a 2078 2a2a 3220 2b20 3320 2a20 7860   * x**2 + 3 * x`
-00019fc0: 2e0d 0a0d 0a44 7565 2074 6f20 706f 7465  .....Due to pote
-00019fd0: 6e74 6961 6c20 636f 6e66 7573 696f 6e2c  ntial confusion,
-00019fe0: 2073 6f6d 6520 7379 6e74 6163 7469 6320   some syntactic 
-00019ff0: 636f 6e73 7472 7563 7473 2061 7265 2065  constructs are e
-0001a000: 7870 6c69 6369 746c 7920 6469 7361 6c6c  xplicitly disall
-0001a010: 6f77 6564 2069 6e20 696d 706c 6963 6974  owed in implicit
-0001a020: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
-0001a030: 6174 696f 6e20 616e 6420 636f 6566 6669  ation and coeffi
-0001a040: 6369 656e 7420 7379 6e74 6178 2e20 5370  cient syntax. Sp
-0001a050: 6563 6966 6963 616c 6c79 3a0d 0a2d 2053  ecifically:..- S
-0001a060: 7472 696e 6773 2061 7265 2061 6c77 6179  trings are alway
-0001a070: 7320 6469 7361 6c6c 6f77 6564 2065 7665  s disallowed eve
-0001a080: 7279 7768 6572 6520 696e 2069 6d70 6c69  rywhere in impli
-0001a090: 6369 7420 6675 6e63 7469 6f6e 2061 7070  cit function app
-0001a0a0: 6c69 6361 7469 6f6e 202f 2063 6f65 6666  lication / coeff
-0001a0b0: 6963 6965 6e74 2073 796e 7461 7820 6475  icient syntax du
-0001a0c0: 6520 746f 2063 6f6e 666c 6963 7469 6e67  e to conflicting
-0001a0d0: 2077 6974 6820 5b50 7974 686f 6e27 7320   with [Python's 
-0001a0e0: 696d 706c 6963 6974 2073 7472 696e 6720  implicit string 
-0001a0f0: 636f 6e63 6174 656e 6174 696f 6e5d 2868  concatenation](h
-0001a100: 7474 7073 3a2f 2f73 7461 636b 6f76 6572  ttps://stackover
-0001a110: 666c 6f77 2e63 6f6d 2f71 7565 7374 696f  flow.com/questio
-0001a120: 6e73 2f31 3838 3432 3737 392f 7374 7269  ns/18842779/stri
-0001a130: 6e67 2d63 6f6e 6361 7465 6e61 7469 6f6e  ng-concatenation
-0001a140: 2d77 6974 686f 7574 2d6f 7065 7261 746f  -without-operato
-0001a150: 7229 2e0d 0a2d 204d 756c 7469 706c 7969  r)...- Multiplyi
-0001a160: 6e67 2074 776f 206f 7220 6d6f 7265 206e  ng two or more n
-0001a170: 756d 6572 6963 206c 6974 6572 616c 7320  umeric literals 
-0001a180: 7769 7468 2069 6d70 6c69 6369 7420 636f  with implicit co
-0001a190: 6566 6669 6369 656e 7420 7379 6e74 6178  efficient syntax
-0001a1a0: 2069 7320 7072 6f68 6962 6974 6564 2c20   is prohibited, 
-0001a1b0: 736f 2060 3130 2032 3060 2069 7320 6e6f  so `10 20` is no
-0001a1c0: 7420 616c 6c6f 7765 642e 0d0a 2d20 6061  t allowed...- `a
-0001a1d0: 7761 6974 6020 6973 206e 6f74 2061 6c6c  wait` is not all
-0001a1e0: 6f77 6564 2069 6e20 6672 6f6e 7420 6f66  owed in front of
-0001a1f0: 2069 6d70 6c69 6369 7420 6675 6e63 7469   implicit functi
-0001a200: 6f6e 2061 7070 6c69 6361 7469 6f6e 2061  on application a
-0001a210: 6e64 2063 6f65 6666 6963 6965 6e74 2073  nd coefficient s
-0001a220: 796e 7461 782e 2054 6f20 7573 6520 6061  yntax. To use `a
-0001a230: 7761 6974 602c 2073 696d 706c 7920 7061  wait`, simply pa
-0001a240: 7265 6e74 6865 7369 7a65 2074 6865 2065  renthesize the e
-0001a250: 7870 7265 7373 696f 6e2c 2061 7320 696e  xpression, as in
-0001a260: 2060 6177 6169 7420 2866 2078 2960 2e0d   `await (f x)`..
-0001a270: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0001a280: 730d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  s....**Coconut:*
-0001a290: 2a0d 0a60 6060 636f 636f 6e75 740d 0a64  *..```coconut..d
-0001a2a0: 6566 2066 2878 2c20 7929 203d 2028 782c  ef f(x, y) = (x,
-0001a2b0: 2079 290d 0a70 7269 6e74 2866 2035 2031   y)..print(f 5 1
-0001a2c0: 3029 0d0a 6060 600d 0a0d 0a60 6060 636f  0)..```....```co
-0001a2d0: 636f 6e75 740d 0a64 6566 2070 3128 7829  conut..def p1(x)
-0001a2e0: 203d 2078 202b 2031 0d0a 7072 696e 7420   = x + 1..print 
-0001a2f0: 3c7c 2070 3120 350d 0a60 6060 0d0a 0d0a  <| p1 5..```....
-0001a300: 6060 6063 6f63 6f6e 7574 0d0a 7175 6164  ```coconut..quad
-0001a310: 203d 2035 2078 2a2a 3220 2b20 3320 7820   = 5 x**2 + 3 x 
-0001a320: 2b20 310d 0a60 6060 0d0a 0d0a 2a2a 5079  + 1..```....**Py
-0001a330: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-0001a340: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-0001a350: 6628 782c 2079 293a 2072 6574 7572 6e20  f(x, y): return 
-0001a360: 2878 2c20 7929 0d0a 7072 696e 7428 6628  (x, y)..print(f(
-0001a370: 3130 302c 2035 2b36 2929 0d0a 6060 600d  100, 5+6))..```.
-0001a380: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
-0001a390: 7468 6f6e 0d0a 6465 6620 7031 2878 293a  thon..def p1(x):
-0001a3a0: 2072 6574 7572 6e20 7820 2b20 310d 0a70   return x + 1..p
-0001a3b0: 7269 6e74 2870 3128 3529 290d 0a60 6060  rint(p1(5))..```
-0001a3c0: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 5f70  ....```coconut_p
-0001a3d0: 7974 686f 6e0d 0a71 7561 6420 3d20 3520  ython..quad = 5 
-0001a3e0: 2a20 782a 2a32 202b 2033 202a 2078 202b  * x**2 + 3 * x +
-0001a3f0: 2031 0d0a 6060 600d 0a0d 0a23 2323 204b   1..```....### K
-0001a400: 6579 776f 7264 2041 7267 756d 656e 7420  eyword Argument 
-0001a410: 4e61 6d65 2045 6c69 7369 6f6e 0d0a 0d0a  Name Elision....
-0001a420: 5768 656e 2070 6173 7369 6e67 2069 6e20  When passing in 
-0001a430: 6c6f 6e67 2076 6172 6961 626c 6520 6e61  long variable na
-0001a440: 6d65 7320 6173 206b 6579 776f 7264 2061  mes as keyword a
-0001a450: 7267 756d 656e 7473 206f 6620 7468 6520  rguments of the 
-0001a460: 7361 6d65 206e 616d 652c 2043 6f63 6f6e  same name, Cocon
-0001a470: 7574 2073 7570 706f 7274 7320 7468 6520  ut supports the 
-0001a480: 7379 6e74 6178 0d0a 6060 600d 0a66 282e  syntax..```..f(.
-0001a490: 2e2e 3d6c 6f6e 675f 7661 7269 6162 6c65  ..=long_variable
-0001a4a0: 5f6e 616d 6529 0d0a 6060 600d 0a61 7320  _name)..```..as 
-0001a4b0: 6120 7368 6f72 7468 616e 6420 666f 720d  a shorthand for.
-0001a4c0: 0a60 6060 0d0a 6628 6c6f 6e67 5f76 6172  .```..f(long_var
-0001a4d0: 6961 626c 655f 6e61 6d65 3d6c 6f6e 675f  iable_name=long_
-0001a4e0: 7661 7269 6162 6c65 5f6e 616d 6529 0d0a  variable_name)..
-0001a4f0: 6060 600d 0a0d 0a53 7563 6820 7379 6e74  ```....Such synt
-0001a500: 6178 2069 7320 616c 736f 2073 7570 706f  ax is also suppo
-0001a510: 7274 6564 2069 6e20 5b70 6172 7469 616c  rted in [partial
-0001a520: 2061 7070 6c69 6361 7469 6f6e 5d28 2370   application](#p
-0001a530: 6172 7469 616c 2d61 7070 6c69 6361 7469  artial-applicati
-0001a540: 6f6e 2920 616e 6420 5b61 6e6f 6e79 6d6f  on) and [anonymo
-0001a550: 7573 2060 6e61 6d65 6474 7570 6c65 6073  us `namedtuple`s
-0001a560: 5d28 2361 6e6f 6e79 6d6f 7573 2d6e 616d  ](#anonymous-nam
-0001a570: 6564 7475 706c 6573 292e 0d0a 0d0a 2323  edtuples).....##
-0001a580: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0001a590: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0001a5a0: 636f 636f 6e75 740d 0a72 6561 6c6c 795f  coconut..really_
-0001a5b0: 6c6f 6e67 5f76 6172 6961 626c 655f 6e61  long_variable_na
-0001a5c0: 6d65 5f31 203d 2067 6574 5f31 2829 0d0a  me_1 = get_1()..
-0001a5d0: 7265 616c 6c79 5f6c 6f6e 675f 7661 7269  really_long_vari
-0001a5e0: 6162 6c65 5f6e 616d 655f 3220 3d20 6765  able_name_2 = ge
-0001a5f0: 745f 3228 290d 0a6d 6169 6e5f 6675 6e63  t_2()..main_func
-0001a600: 280d 0a20 2020 202e 2e2e 3d72 6561 6c6c  (..    ...=reall
-0001a610: 795f 6c6f 6e67 5f76 6172 6961 626c 655f  y_long_variable_
-0001a620: 6e61 6d65 5f31 2c0d 0a20 2020 202e 2e2e  name_1,..    ...
-0001a630: 3d72 6561 6c6c 795f 6c6f 6e67 5f76 6172  =really_long_var
-0001a640: 6961 626c 655f 6e61 6d65 5f32 2c0d 0a29  iable_name_2,..)
-0001a650: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-0001a660: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-0001a670: 5f70 7974 686f 6e0d 0a72 6561 6c6c 795f  _python..really_
-0001a680: 6c6f 6e67 5f76 6172 6961 626c 655f 6e61  long_variable_na
-0001a690: 6d65 5f31 203d 2067 6574 5f31 2829 0d0a  me_1 = get_1()..
-0001a6a0: 7265 616c 6c79 5f6c 6f6e 675f 7661 7269  really_long_vari
-0001a6b0: 6162 6c65 5f6e 616d 655f 3220 3d20 6765  able_name_2 = ge
-0001a6c0: 745f 3228 290d 0a6d 6169 6e5f 6675 6e63  t_2()..main_func
-0001a6d0: 280d 0a20 2020 2072 6561 6c6c 795f 6c6f  (..    really_lo
-0001a6e0: 6e67 5f76 6172 6961 626c 655f 6e61 6d65  ng_variable_name
-0001a6f0: 5f31 3d72 6561 6c6c 795f 6c6f 6e67 5f76  _1=really_long_v
-0001a700: 6172 6961 626c 655f 6e61 6d65 5f31 2c0d  ariable_name_1,.
-0001a710: 0a20 2020 2072 6561 6c6c 795f 6c6f 6e67  .    really_long
-0001a720: 5f76 6172 6961 626c 655f 6e61 6d65 5f32  _variable_name_2
-0001a730: 3d72 6561 6c6c 795f 6c6f 6e67 5f76 6172  =really_long_var
-0001a740: 6961 626c 655f 6e61 6d65 5f32 2c0d 0a29  iable_name_2,..)
-0001a750: 0d0a 6060 600d 0a0d 0a23 2323 2041 6e6f  ..```....### Ano
-0001a760: 6e79 6d6f 7573 204e 616d 6564 7475 706c  nymous Namedtupl
-0001a770: 6573 0d0a 0d0a 436f 636f 6e75 7420 7375  es....Coconut su
-0001a780: 7070 6f72 7473 2061 6e6f 6e79 6d6f 7573  pports anonymous
-0001a790: 205b 606e 616d 6564 7475 706c 6560 5d28   [`namedtuple`](
-0001a7a0: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-0001a7b0: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-0001a7c0: 792f 636f 6c6c 6563 7469 6f6e 732e 6874  y/collections.ht
-0001a7d0: 6d6c 2363 6f6c 6c65 6374 696f 6e73 2e6e  ml#collections.n
-0001a7e0: 616d 6564 7475 706c 6529 206c 6974 6572  amedtuple) liter
-0001a7f0: 616c 732c 2073 7563 6820 7468 6174 2060  als, such that `
-0001a800: 2861 3d31 2c20 623d 3229 6020 6361 6e20  (a=1, b=2)` can 
-0001a810: 6265 2075 7365 6420 6a75 7374 2061 7320  be used just as 
-0001a820: 6028 312c 2032 2960 2c20 6275 7420 7769  `(1, 2)`, but wi
-0001a830: 7468 2061 6464 6564 206e 616d 6573 2e20  th added names. 
-0001a840: 416e 6f6e 796d 6f75 7320 606e 616d 6564  Anonymous `named
-0001a850: 7475 706c 6560 7320 6172 6520 616c 7761  tuple`s are alwa
-0001a860: 7973 2070 6963 6b6c 6561 626c 652e 0d0a  ys pickleable...
-0001a870: 0d0a 5468 6520 7379 6e74 6178 2066 6f72  ..The syntax for
-0001a880: 2061 6e6f 6e79 6d6f 7573 206e 616d 6564   anonymous named
-0001a890: 7475 706c 6520 6c69 7465 7261 6c73 2069  tuple literals i
-0001a8a0: 733a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  s:..```coconut..
-0001a8b0: 283c 6e61 6d65 3e20 5b3a 203c 7479 7065  (<name> [: <type
-0001a8c0: 3e5d 203d 203c 7661 6c75 653e 2c20 2e2e  >] = <value>, ..
-0001a8d0: 2e29 0d0a 6060 600d 0a77 6865 7265 2c20  .)..```..where, 
-0001a8e0: 6966 2060 3c74 7970 653e 6020 6973 2067  if `<type>` is g
-0001a8f0: 6976 656e 2066 6f72 2061 6e79 2066 6965  iven for any fie
-0001a900: 6c64 2c20 5b60 7479 7069 6e67 2e4e 616d  ld, [`typing.Nam
-0001a910: 6564 5475 706c 6560 5d28 6874 7470 733a  edTuple`](https:
-0001a920: 2f2f 646f 6373 2e70 7974 686f 6e2e 6f72  //docs.python.or
-0001a930: 672f 332f 6c69 6272 6172 792f 7479 7069  g/3/library/typi
-0001a940: 6e67 2e68 746d 6c23 7479 7069 6e67 2e4e  ng.html#typing.N
-0001a950: 616d 6564 5475 706c 6529 2069 7320 7573  amedTuple) is us
-0001a960: 6564 2069 6e73 7465 6164 206f 6620 6063  ed instead of `c
-0001a970: 6f6c 6c65 6374 696f 6e73 2e6e 616d 6564  ollections.named
-0001a980: 7475 706c 6560 2e0d 0a0d 0a41 6e6f 6e79  tuple`.....Anony
-0001a990: 6d6f 7573 2060 6e61 6d65 6474 7570 6c65  mous `namedtuple
-0001a9a0: 6073 2061 6c73 6f20 7375 7070 6f72 7420  `s also support 
-0001a9b0: 5b6b 6579 776f 7264 2061 7267 756d 656e  [keyword argumen
-0001a9c0: 7420 6e61 6d65 2065 6c69 7369 6f6e 5d28  t name elision](
-0001a9d0: 236b 6579 776f 7264 2d61 7267 756d 656e  #keyword-argumen
-0001a9e0: 742d 6e61 6d65 2d65 6c69 7369 6f6e 292e  t-name-elision).
-0001a9f0: 0d0a 0d0a 2323 2323 2320 605f 6e61 6d65  ....##### `_name
-0001aa00: 6474 7570 6c65 5f6f 6660 0d0a 0d0a 4f6e  dtuple_of`....On
-0001aa10: 2050 7974 686f 6e20 7665 7273 696f 6e73   Python versions
-0001aa20: 2060 3e3d 332e 3660 2c20 605f 6e61 6d65   `>=3.6`, `_name
-0001aa30: 6474 7570 6c65 5f6f 6660 2069 7320 7072  dtuple_of` is pr
-0001aa40: 6f76 6964 6564 2061 7320 6120 6275 696c  ovided as a buil
-0001aa50: 742d 696e 2074 6861 7420 6361 6e20 6d69  t-in that can mi
-0001aa60: 6d69 6320 7468 6520 6265 6861 7669 6f72  mic the behavior
-0001aa70: 206f 6620 616e 6f6e 796d 6f75 7320 6e61   of anonymous na
-0001aa80: 6d65 6474 7570 6c65 206c 6974 6572 616c  medtuple literal
-0001aa90: 7320 7375 6368 2074 6861 7420 605f 6e61  s such that `_na
-0001aaa0: 6d65 6474 7570 6c65 5f6f 6628 613d 312c  medtuple_of(a=1,
-0001aab0: 2062 3d32 2960 2069 7320 6571 7569 7661   b=2)` is equiva
-0001aac0: 6c65 6e74 2074 6f20 6028 613d 312c 2062  lent to `(a=1, b
-0001aad0: 3d32 2960 2e20 5369 6e63 6520 605f 6e61  =2)`. Since `_na
-0001aae0: 6d65 6474 7570 6c65 5f6f 6660 2069 7320  medtuple_of` is 
-0001aaf0: 6f6e 6c79 2061 7661 696c 6162 6c65 206f  only available o
-0001ab00: 6e20 5079 7468 6f6e 2033 2e36 2061 6e64  n Python 3.6 and
-0001ab10: 2061 626f 7665 2c20 686f 7765 7665 722c   above, however,
-0001ab20: 2069 7420 6973 2067 656e 6572 616c 6c79   it is generally
-0001ab30: 2072 6563 6f6d 6d65 6e64 6564 2074 6f20   recommended to 
-0001ab40: 7573 6520 616e 6f6e 796d 6f75 7320 6e61  use anonymous na
-0001ab50: 6d65 6474 7570 6c65 206c 6974 6572 616c  medtuple literal
-0001ab60: 7320 696e 7374 6561 642c 2061 7320 7468  s instead, as th
-0001ab70: 6579 2077 6f72 6b20 6f6e 2061 6e79 2050  ey work on any P
-0001ab80: 7974 686f 6e20 7665 7273 696f 6e2e 0d0a  ython version...
-0001ab90: 0d0a 5f60 5f6e 616d 6564 7475 706c 655f  .._`_namedtuple_
-0001aba0: 6f66 6020 6973 206a 7573 7420 7072 6f76  of` is just prov
-0001abb0: 6964 6564 2074 6f20 6769 7665 206e 616d  ided to give nam
-0001abc0: 6564 7475 706c 6520 6c69 7465 7261 6c73  edtuple literals
-0001abd0: 2061 2072 6570 7265 7365 6e74 6174 696f   a representatio
-0001abe0: 6e20 7468 6174 2063 6f72 7265 7370 6f6e  n that correspon
-0001abf0: 6473 2074 6f20 616e 2065 7870 7265 7373  ds to an express
-0001ac00: 696f 6e20 7468 6174 2063 616e 2062 6520  ion that can be 
-0001ac10: 7573 6564 2074 6f20 7265 6372 6561 7465  used to recreate
-0001ac20: 2074 6865 6d2e 5f0d 0a0d 0a23 2323 2323   them._....#####
-0001ac30: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0001ac40: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0001ac50: 6f6e 7574 0d0a 7573 6572 7320 3d20 5b0d  onut..users = [.
-0001ac60: 0a20 2020 2028 6964 3d31 2c20 6e61 6d65  .    (id=1, name
-0001ac70: 3d22 416c 6963 6522 292c 0d0a 2020 2020  ="Alice"),..    
-0001ac80: 2869 643d 322c 206e 616d 653d 2242 6f62  (id=2, name="Bob
-0001ac90: 2229 2c0d 0a5d 0d0a 6060 600d 0a0d 0a2a  "),..]..```....*
-0001aca0: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
-0001acb0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a66  oconut_python..f
-0001acc0: 726f 6d20 636f 6c6c 6563 7469 6f6e 7320  rom collections 
-0001acd0: 696d 706f 7274 206e 616d 6564 7475 706c  import namedtupl
-0001ace0: 650d 0a0d 0a75 7365 7273 203d 205b 0d0a  e....users = [..
-0001acf0: 2020 2020 6e61 6d65 6474 7570 6c65 2822      namedtuple("
-0001ad00: 5f22 2c20 2269 642c 206e 616d 6522 2928  _", "id, name")(
-0001ad10: 312c 2022 416c 6963 6522 292c 0d0a 2020  1, "Alice"),..  
-0001ad20: 2020 6e61 6d65 6474 7570 6c65 2822 5f22    namedtuple("_"
-0001ad30: 2c20 2269 642c 206e 616d 6522 2928 322c  , "id, name")(2,
-0001ad40: 2022 426f 6222 292c 0d0a 5d0d 0a60 6060   "Bob"),..]..```
-0001ad50: 0d0a 0d0a 2323 2320 5365 7420 4c69 7465  ....### Set Lite
-0001ad60: 7261 6c73 0d0a 0d0a 436f 636f 6e75 7420  rals....Coconut 
-0001ad70: 616c 6c6f 7773 2061 6e20 6f70 7469 6f6e  allows an option
-0001ad80: 616c 2060 7360 2074 6f20 6265 2070 7265  al `s` to be pre
-0001ad90: 7065 6e64 6564 2069 6e20 6672 6f6e 7420  pended in front 
-0001ada0: 6f66 2050 7974 686f 6e20 7365 7420 6c69  of Python set li
-0001adb0: 7465 7261 6c73 2e20 5768 696c 6520 696e  terals. While in
-0001adc0: 206d 6f73 7420 6361 7365 7320 7468 6973   most cases this
-0001add0: 2064 6f65 7320 6e6f 7468 696e 672c 2069   does nothing, i
-0001ade0: 6e20 7468 6520 6361 7365 206f 6620 7468  n the case of th
-0001adf0: 6520 656d 7074 7920 7365 7420 6974 206c  e empty set it l
-0001ae00: 6574 7320 436f 636f 6e75 7420 6b6e 6f77  ets Coconut know
-0001ae10: 2074 6861 7420 6974 2069 7320 616e 2065   that it is an e
-0001ae20: 6d70 7479 2073 6574 2061 6e64 206e 6f74  mpty set and not
-0001ae30: 2061 6e20 656d 7074 7920 6469 6374 696f   an empty dictio
-0001ae40: 6e61 7279 2e20 5365 7420 6c69 7465 7261  nary. Set litera
-0001ae50: 6c73 2061 6c73 6f20 7375 7070 6f72 7420  ls also support 
-0001ae60: 756e 7061 636b 696e 6720 7379 6e74 6178  unpacking syntax
-0001ae70: 2028 652e 672e 2060 737b 2a78 737d 6029   (e.g. `s{*xs}`)
-0001ae80: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
-0001ae90: 792c 2043 6f63 6f6e 7574 2061 6c73 6f20  y, Coconut also 
-0001aea0: 7375 7070 6f72 7473 2072 6570 6c61 6369  supports replaci
-0001aeb0: 6e67 2074 6865 2060 7360 2077 6974 6820  ng the `s` with 
-0001aec0: 616e 2060 6660 2074 6f20 6765 6e65 7261  an `f` to genera
-0001aed0: 7465 2061 2060 6672 6f7a 656e 7365 7460  te a `frozenset`
-0001aee0: 206f 7220 616e 2060 6d60 2074 6f20 6765   or an `m` to ge
-0001aef0: 6e65 7261 7465 2061 2043 6f63 6f6e 7574  nerate a Coconut
-0001af00: 205b 606d 756c 7469 7365 7460 5d28 236d   [`multiset`](#m
-0001af10: 756c 7469 7365 7429 2e0d 0a0d 0a23 2323  ultiset).....###
-0001af20: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-0001af30: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-0001af40: 6f63 6f6e 7574 0d0a 656d 7074 795f 6672  oconut..empty_fr
-0001af50: 6f7a 656e 5f73 6574 203d 2066 7b7d 0d0a  ozen_set = f{}..
-0001af60: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-0001af70: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
-0001af80: 7974 686f 6e0d 0a65 6d70 7479 5f66 726f  ython..empty_fro
-0001af90: 7a65 6e5f 7365 7420 3d20 6672 6f7a 656e  zen_set = frozen
-0001afa0: 7365 7428 290d 0a60 6060 0d0a 0d0a 2323  set()..```....##
-0001afb0: 2320 496d 6167 696e 6172 7920 4c69 7465  # Imaginary Lite
-0001afc0: 7261 6c73 0d0a 0d0a 496e 2061 6464 6974  rals....In addit
-0001afd0: 696f 6e20 746f 2050 7974 686f 6e27 7320  ion to Python's 
-0001afe0: 603c 6e75 6d3e 6a60 206f 7220 603c 6e75  `<num>j` or `<nu
-0001aff0: 6d3e 4a60 206e 6f74 6174 696f 6e20 666f  m>J` notation fo
-0001b000: 7220 696d 6167 696e 6172 7920 6c69 7465  r imaginary lite
-0001b010: 7261 6c73 2c20 436f 636f 6e75 7420 616c  rals, Coconut al
-0001b020: 736f 2073 7570 706f 7274 7320 603c 6e75  so supports `<nu
-0001b030: 6d3e 6960 206f 7220 603c 6e75 6d3e 4960  m>i` or `<num>I`
-0001b040: 2c20 746f 206d 616b 6520 696d 6167 696e  , to make imagin
-0001b050: 6172 7920 6c69 7465 7261 6c73 206d 6f72  ary literals mor
-0001b060: 6520 7265 6164 6162 6c65 2069 6620 7573  e readable if us
-0001b070: 6564 2069 6e20 6120 6d61 7468 656d 6174  ed in a mathemat
-0001b080: 6963 616c 2063 6f6e 7465 7874 2e0d 0a0d  ical context....
-0001b090: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
-0001b0a0: 6373 0d0a 0d0a 496d 6167 696e 6172 7920  cs....Imaginary 
-0001b0b0: 6c69 7465 7261 6c73 2061 7265 2064 6573  literals are des
-0001b0c0: 6372 6962 6564 2062 7920 7468 6520 666f  cribed by the fo
-0001b0d0: 6c6c 6f77 696e 6720 6c65 7869 6361 6c20  llowing lexical 
-0001b0e0: 6465 6669 6e69 7469 6f6e 733a 0d0a 6060  definitions:..``
-0001b0f0: 6063 6f63 6f6e 7574 0d0a 696d 6167 6e75  `coconut..imagnu
-0001b100: 6d62 6572 203a 3a3d 2028 666c 6f61 746e  mber ::= (floatn
-0001b110: 756d 6265 7220 7c20 696e 7470 6172 7429  umber | intpart)
-0001b120: 2028 226a 2220 7c20 224a 2220 7c20 2269   ("j" | "J" | "i
-0001b130: 2220 7c20 2249 2229 0d0a 6060 600d 0a41  " | "I")..```..A
-0001b140: 6e20 696d 6167 696e 6172 7920 6c69 7465  n imaginary lite
-0001b150: 7261 6c20 7969 656c 6473 2061 2063 6f6d  ral yields a com
-0001b160: 706c 6578 206e 756d 6265 7220 7769 7468  plex number with
-0001b170: 2061 2072 6561 6c20 7061 7274 206f 6620   a real part of 
-0001b180: 302e 302e 2043 6f6d 706c 6578 206e 756d  0.0. Complex num
-0001b190: 6265 7273 2061 7265 2072 6570 7265 7365  bers are represe
-0001b1a0: 6e74 6564 2061 7320 6120 7061 6972 206f  nted as a pair o
-0001b1b0: 6620 666c 6f61 7469 6e67 2070 6f69 6e74  f floating point
-0001b1c0: 206e 756d 6265 7273 2061 6e64 2068 6176   numbers and hav
-0001b1d0: 6520 7468 6520 7361 6d65 2072 6573 7472  e the same restr
-0001b1e0: 6963 7469 6f6e 7320 6f6e 2074 6865 6972  ictions on their
-0001b1f0: 2072 616e 6765 2e20 546f 2063 7265 6174   range. To creat
-0001b200: 6520 6120 636f 6d70 6c65 7820 6e75 6d62  e a complex numb
-0001b210: 6572 2077 6974 6820 6120 6e6f 6e7a 6572  er with a nonzer
-0001b220: 6f20 7265 616c 2070 6172 742c 2061 6464  o real part, add
-0001b230: 2061 2066 6c6f 6174 696e 6720 706f 696e   a floating poin
-0001b240: 7420 6e75 6d62 6572 2074 6f20 6974 2c20  t number to it, 
-0001b250: 652e 672e 2c20 6028 332b 3469 2960 2e20  e.g., `(3+4i)`. 
-0001b260: 536f 6d65 2065 7861 6d70 6c65 7320 6f66  Some examples of
-0001b270: 2069 6d61 6769 6e61 7279 206c 6974 6572   imaginary liter
-0001b280: 616c 733a 0d0a 6060 6063 6f63 6f6e 7574  als:..```coconut
-0001b290: 0d0a 332e 3134 6920 2020 3130 2e69 2020  ..3.14i   10.i  
-0001b2a0: 2020 3130 6920 2020 2020 2e30 3031 6920    10i     .001i 
-0001b2b0: 2020 3165 3130 3069 2020 332e 3134 652d    1e100i  3.14e-
-0001b2c0: 3130 690d 0a60 6060 0d0a 0d0a 2323 2323  10i..```....####
-0001b2d0: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-0001b2e0: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-0001b2f0: 636f 6e75 740d 0a33 202b 2034 6920 7c3e  conut..3 + 4i |>
-0001b300: 2061 6273 207c 3e20 7072 696e 740d 0a60   abs |> print..`
-0001b310: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0001b320: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0001b330: 7468 6f6e 0d0a 7072 696e 7428 6162 7328  thon..print(abs(
-0001b340: 3320 2b20 346a 2929 0d0a 6060 600d 0a0d  3 + 4j))..```...
-0001b350: 0a23 2323 2041 6c74 6572 6e61 7469 7665  .### Alternative
-0001b360: 2054 6572 6e61 7279 204f 7065 7261 746f   Ternary Operato
-0001b370: 720d 0a0d 0a50 7974 686f 6e20 7375 7070  r....Python supp
-0001b380: 6f72 7473 2074 6865 2074 6572 6e61 7279  orts the ternary
-0001b390: 206f 7065 7261 746f 7220 7379 6e74 6178   operator syntax
-0001b3a0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0001b3b0: 686f 6e0d 0a72 6573 756c 7420 3d20 6966  hon..result = if
-0001b3c0: 5f74 7275 6520 6966 2063 6f6e 6469 7469  _true if conditi
-0001b3d0: 6f6e 2065 6c73 6520 6966 5f66 616c 7365  on else if_false
-0001b3e0: 0d0a 6060 600d 0a77 6869 6368 2c20 7369  ..```..which, si
-0001b3f0: 6e63 6520 436f 636f 6e75 7420 6973 2061  nce Coconut is a
-0001b400: 2073 7570 6572 7365 7420 6f66 2050 7974   superset of Pyt
-0001b410: 686f 6e2c 2043 6f63 6f6e 7574 2061 6c73  hon, Coconut als
-0001b420: 6f20 7375 7070 6f72 7473 2e0d 0a0d 0a48  o supports.....H
-0001b430: 6f77 6576 6572 2c20 436f 636f 6e75 7420  owever, Coconut 
-0001b440: 616c 736f 2070 726f 7669 6465 7320 616e  also provides an
-0001b450: 2061 6c74 6572 6e61 7469 7665 2073 796e   alternative syn
-0001b460: 7461 7820 7468 6174 2075 7365 7320 7468  tax that uses th
-0001b470: 6520 6d6f 7265 2063 6f6e 7665 6e74 696f  e more conventio
-0001b480: 6e61 6c20 6172 6775 6d65 6e74 206f 7264  nal argument ord
-0001b490: 6572 696e 6720 6173 0d0a 6060 600d 0a72  ering as..```..r
-0001b4a0: 6573 756c 7420 3d20 6966 2063 6f6e 6469  esult = if condi
-0001b4b0: 7469 6f6e 2074 6865 6e20 6966 5f74 7275  tion then if_tru
-0001b4c0: 6520 656c 7365 2069 665f 6661 6c73 650d  e else if_false.
-0001b4d0: 0a60 6060 0d0a 6d61 6b69 6e67 2075 7365  .```..making use
-0001b4e0: 206f 6620 7468 6520 436f 636f 6e75 742d   of the Coconut-
-0001b4f0: 7370 6563 6966 6963 2060 7468 656e 6020  specific `then` 
-0001b500: 6b65 7977 6f72 6420 285b 7468 6f75 6768  keyword ([though
-0001b510: 2043 6f63 6f6e 7574 2073 7469 6c6c 2061   Coconut still a
-0001b520: 6c6c 6f77 7320 6074 6865 6e60 2061 7320  llows `then` as 
-0001b530: 6120 7661 7269 6162 6c65 206e 616d 655d  a variable name]
-0001b540: 2823 6861 6e64 6c69 6e67 2d6b 6579 776f  (#handling-keywo
-0001b550: 7264 2d76 6172 6961 626c 652d 6e61 6d65  rd-variable-name
-0001b560: 2d6f 7665 726c 6170 2929 2e0d 0a0d 0a23  -overlap)).....#
-0001b570: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-0001b580: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-0001b590: 6063 6f63 6f6e 7574 0d0a 7661 6c75 6520  `coconut..value 
-0001b5a0: 3d20 280d 0a20 2020 2069 6620 7368 6f75  = (..    if shou
-0001b5b0: 6c64 5f75 7365 5f61 2829 2074 6865 6e20  ld_use_a() then 
-0001b5c0: 610d 0a20 2020 2065 6c73 6520 6966 2073  a..    else if s
-0001b5d0: 686f 756c 645f 7573 655f 6228 2920 7468  hould_use_b() th
-0001b5e0: 656e 2062 0d0a 2020 2020 656c 7365 2069  en b..    else i
-0001b5f0: 6620 7368 6f75 6c64 5f75 7365 5f63 2829  f should_use_c()
-0001b600: 2074 6865 6e20 630d 0a20 2020 2065 6c73   then c..    els
-0001b610: 6520 6661 6c6c 6261 636b 0d0a 290d 0a60  e fallback..)..`
-0001b620: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0001b630: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0001b640: 7468 6f6e 0d0a 7661 6c75 6520 3d20 280d  thon..value = (.
-0001b650: 0a20 2020 2061 2069 6620 7368 6f75 6c64  .    a if should
-0001b660: 5f75 7365 5f61 2829 2065 6c73 650d 0a20  _use_a() else.. 
-0001b670: 2020 2062 2069 6620 7368 6f75 6c64 5f75     b if should_u
-0001b680: 7365 5f62 2829 2065 6c73 650d 0a20 2020  se_b() else..   
-0001b690: 2063 2069 6620 7368 6f75 6c64 5f75 7365   c if should_use
-0001b6a0: 5f63 2829 2065 6c73 650d 0a20 2020 2066  _c() else..    f
-0001b6b0: 616c 6c62 6163 6b0d 0a29 0d0a 6060 600d  allback..)..```.
-0001b6c0: 0a0d 0a23 2320 4675 6e63 7469 6f6e 2044  ...## Function D
-0001b6d0: 6566 696e 6974 696f 6e0d 0a0d 0a60 6060  efinition....```
-0001b6e0: 7b63 6f6e 7465 6e74 737d 0d0a 2d2d 2d0d  {contents}..---.
-0001b6f0: 0a6c 6f63 616c 3a0d 0a64 6570 7468 3a20  .local:..depth: 
-0001b700: 310d 0a2d 2d2d 0d0a 6060 600d 0a0d 0a23  1..---..```....#
-0001b710: 2323 2054 6169 6c20 4361 6c6c 204f 7074  ## Tail Call Opt
-0001b720: 696d 697a 6174 696f 6e0d 0a0d 0a43 6f63  imization....Coc
-0001b730: 6f6e 7574 2077 696c 6c20 7065 7266 6f72  onut will perfor
-0001b740: 6d20 6175 746f 6d61 7469 6320 5b74 6169  m automatic [tai
-0001b750: 6c20 6361 6c6c 5d28 6874 7470 733a 2f2f  l call](https://
-0001b760: 656e 2e77 696b 6970 6564 6961 2e6f 7267  en.wikipedia.org
-0001b770: 2f77 696b 692f 5461 696c 5f63 616c 6c29  /wiki/Tail_call)
-0001b780: 206f 7074 696d 697a 6174 696f 6e20 616e   optimization an
-0001b790: 6420 7461 696c 2072 6563 7572 7369 6f6e  d tail recursion
-0001b7a0: 2065 6c69 6d69 6e61 7469 6f6e 206f 6e20   elimination on 
-0001b7b0: 616e 7920 6675 6e63 7469 6f6e 2074 6861  any function tha
-0001b7c0: 7420 6d65 6574 7320 7468 6520 666f 6c6c  t meets the foll
-0001b7d0: 6f77 696e 6720 6372 6974 6572 6961 3a0d  owing criteria:.
-0001b7e0: 0a0d 0a31 2e20 6974 206d 7573 7420 6469  ...1. it must di
-0001b7f0: 7265 6374 6c79 2072 6574 7572 6e20 2875  rectly return (u
-0001b800: 7369 6e67 2065 6974 6865 7220 6072 6574  sing either `ret
-0001b810: 7572 6e60 206f 7220 5b61 7373 6967 6e6d  urn` or [assignm
-0001b820: 656e 7420 6675 6e63 7469 6f6e 206e 6f74  ent function not
-0001b830: 6174 696f 6e5d 2823 6173 7369 676e 6d65  ation](#assignme
-0001b840: 6e74 2d66 756e 6374 696f 6e73 2929 2061  nt-functions)) a
-0001b850: 2063 616c 6c20 746f 2069 7473 656c 6620   call to itself 
-0001b860: 2874 6169 6c20 7265 6375 7273 696f 6e20  (tail recursion 
-0001b870: 656c 696d 696e 6174 696f 6e2c 2074 6865  elimination, the
-0001b880: 206d 6f73 7420 706f 7765 7266 756c 206f   most powerful o
-0001b890: 7074 696d 697a 6174 696f 6e29 206f 7220  ptimization) or 
-0001b8a0: 616e 6f74 6865 7220 6675 6e63 7469 6f6e  another function
-0001b8b0: 2028 7461 696c 2063 616c 6c20 6f70 7469   (tail call opti
-0001b8c0: 6d69 7a61 7469 6f6e 292c 0d0a 322e 2069  mization),..2. i
-0001b8d0: 7420 6d75 7374 206e 6f74 2062 6520 6120  t must not be a 
-0001b8e0: 6765 6e65 7261 746f 7220 2875 7365 7320  generator (uses 
-0001b8f0: 6079 6965 6c64 6029 206f 7220 616e 2061  `yield`) or an a
-0001b900: 7379 6e63 6872 6f6e 6f75 7320 6675 6e63  synchronous func
-0001b910: 7469 6f6e 2028 7573 6573 2060 6173 796e  tion (uses `asyn
-0001b920: 6360 292e 0d0a 0d0a 5461 696c 2063 616c  c`).....Tail cal
-0001b930: 6c20 6f70 7469 6d69 7a61 7469 6f6e 2028  l optimization (
-0001b940: 7468 6f75 6768 206e 6f74 2074 6169 6c20  though not tail 
-0001b950: 7265 6375 7273 696f 6e20 656c 696d 696e  recursion elimin
-0001b960: 6174 696f 6e29 2077 696c 6c20 776f 726b  ation) will work
-0001b970: 2065 7665 6e20 666f 7220 3129 206d 7574   even for 1) mut
-0001b980: 7561 6c20 7265 6375 7273 696f 6e20 616e  ual recursion an
-0001b990: 6420 3229 2070 6174 7465 726e 2d6d 6174  d 2) pattern-mat
-0001b9a0: 6368 696e 6720 6675 6e63 7469 6f6e 7320  ching functions 
-0001b9b0: 7370 6c69 7420 6163 726f 7373 206d 756c  split across mul
-0001b9c0: 7469 706c 6520 6465 6669 6e69 7469 6f6e  tiple definition
-0001b9d0: 7320 7573 696e 6720 5b60 6164 6470 6174  s using [`addpat
-0001b9e0: 7465 726e 605d 2823 6164 6470 6174 7465  tern`](#addpatte
-0001b9f0: 726e 292e 0d0a 0d0a 4966 2079 6f75 2061  rn).....If you a
-0001ba00: 7265 2065 6e63 6f75 6e74 6572 696e 6720  re encountering 
-0001ba10: 6120 6052 756e 7469 6d65 4572 726f 7260  a `RuntimeError`
-0001ba20: 2064 7565 2074 6f20 6d61 7869 6d75 6d20   due to maximum 
-0001ba30: 7265 6375 7273 696f 6e20 6465 7074 682c  recursion depth,
-0001ba40: 2069 7420 6973 2068 6967 686c 7920 7265   it is highly re
-0001ba50: 636f 6d6d 656e 6465 6420 7468 6174 2079  commended that y
-0001ba60: 6f75 2072 6577 7269 7465 2079 6f75 7220  ou rewrite your 
-0001ba70: 6675 6e63 7469 6f6e 2074 6f20 6d65 6574  function to meet
-0001ba80: 2065 6974 6865 7220 7468 6520 6372 6974   either the crit
-0001ba90: 6572 6961 2061 626f 7665 2066 6f72 2074  eria above for t
-0001baa0: 6169 6c20 6361 6c6c 206f 7074 696d 697a  ail call optimiz
-0001bab0: 6174 696f 6e2c 206f 7220 7468 6520 636f  ation, or the co
-0001bac0: 7272 6573 706f 6e64 696e 6720 6372 6974  rresponding crit
-0001bad0: 6572 6961 2066 6f72 205b 6072 6563 7572  eria for [`recur
-0001bae0: 7369 7665 5f69 7465 7261 746f 7260 5d28  sive_iterator`](
-0001baf0: 2372 6563 7572 7369 7665 2d69 7465 7261  #recursive-itera
-0001bb00: 746f 7229 2c20 6569 7468 6572 206f 6620  tor), either of 
-0001bb10: 7768 6963 6820 7368 6f75 6c64 2070 7265  which should pre
-0001bb20: 7665 6e74 2073 7563 6820 6572 726f 7273  vent such errors
-0001bb30: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-0001bb40: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-0001bb50: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-0001bb60: 2320 756e 6c69 6b65 2069 6e20 5079 7468  # unlike in Pyth
-0001bb70: 6f6e 2c20 7468 6973 2066 756e 6374 696f  on, this functio
-0001bb80: 6e20 7769 6c6c 206e 6576 6572 2068 6974  n will never hit
-0001bb90: 2061 206d 6178 696d 756d 2072 6563 7572   a maximum recur
-0001bba0: 7369 6f6e 2064 6570 7468 2065 7272 6f72  sion depth error
-0001bbb0: 0d0a 6465 6620 6661 6374 6f72 6961 6c28  ..def factorial(
-0001bbc0: 6e2c 2061 6363 3d31 293a 0d0a 2020 2020  n, acc=1):..    
-0001bbd0: 6d61 7463 6820 6e3a 0d0a 2020 2020 2020  match n:..      
-0001bbe0: 2020 6361 7365 2030 3a0d 0a20 2020 2020    case 0:..     
-0001bbf0: 2020 2020 2020 2072 6574 7572 6e20 6163         return ac
-0001bc00: 630d 0a20 2020 2020 2020 2063 6173 6520  c..        case 
-0001bc10: 696e 7428 2920 6966 206e 203e 2030 3a0d  int() if n > 0:.
-0001bc20: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001bc30: 7572 6e20 6661 6374 6f72 6961 6c28 6e2d  urn factorial(n-
-0001bc40: 312c 2061 6363 2a6e 290d 0a60 6060 0d0a  1, acc*n)..```..
-0001bc50: 5f53 686f 7763 6173 6573 2074 6169 6c20  _Showcases tail 
-0001bc60: 7265 6375 7273 696f 6e20 656c 696d 696e  recursion elimin
-0001bc70: 6174 696f 6e2e 5f0d 0a0d 0a60 6060 636f  ation._....```co
-0001bc80: 636f 6e75 740d 0a23 2075 6e6c 696b 6520  conut..# unlike 
-0001bc90: 696e 2050 7974 686f 6e2c 206e 6569 7468  in Python, neith
-0001bca0: 6572 206f 6620 7468 6573 6520 6675 6e63  er of these func
-0001bcb0: 7469 6f6e 7320 7769 6c6c 2065 7665 7220  tions will ever 
-0001bcc0: 6869 7420 6120 6d61 7869 6d75 6d20 7265  hit a maximum re
-0001bcd0: 6375 7273 696f 6e20 6465 7074 6820 6572  cursion depth er
-0001bce0: 726f 720d 0a64 6566 2069 735f 6576 656e  ror..def is_even
-0001bcf0: 2830 2920 3d20 5472 7565 0d0a 6164 6470  (0) = True..addp
-0001bd00: 6174 7465 726e 2064 6566 2069 735f 6576  attern def is_ev
-0001bd10: 656e 286e 2060 6973 696e 7374 616e 6365  en(n `isinstance
-0001bd20: 6020 696e 7420 6966 206e 203e 2030 2920  ` int if n > 0) 
-0001bd30: 3d20 6973 5f6f 6464 286e 2d31 290d 0a0d  = is_odd(n-1)...
-0001bd40: 0a64 6566 2069 735f 6f64 6428 3029 203d  .def is_odd(0) =
-0001bd50: 2046 616c 7365 0d0a 6164 6470 6174 7465   False..addpatte
-0001bd60: 726e 2064 6566 2069 735f 6f64 6428 6e20  rn def is_odd(n 
-0001bd70: 6069 7369 6e73 7461 6e63 6560 2069 6e74  `isinstance` int
-0001bd80: 2069 6620 6e20 3e20 3029 203d 2069 735f   if n > 0) = is_
-0001bd90: 6576 656e 286e 2d31 290d 0a60 6060 0d0a  even(n-1)..```..
-0001bda0: 5f53 686f 7763 6173 6573 2074 6169 6c20  _Showcases tail 
-0001bdb0: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
-0001bdc0: 6e2e 5f0d 0a0d 0a2a 2a50 7974 686f 6e3a  n._....**Python:
-0001bdd0: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
-0001bde0: 6e65 2077 6974 686f 7574 2072 6577 7269  ne without rewri
-0001bdf0: 7469 6e67 2074 6865 2066 756e 6374 696f  ting the functio
-0001be00: 6e28 7329 2e5f 0d0a 0d0a 2323 2323 2060  n(s)._....#### `
-0001be10: 2d2d 6e6f 2d74 636f 6020 666c 6167 0d0a  --no-tco` flag..
-0001be20: 0d0a 5461 696c 2063 616c 6c20 6f70 7469  ..Tail call opti
-0001be30: 6d69 7a61 7469 6f6e 2077 696c 6c20 6265  mization will be
-0001be40: 2074 7572 6e65 6420 6f66 6620 6966 2079   turned off if y
-0001be50: 6f75 2070 6173 7320 7468 6520 602d 2d6e  ou pass the `--n
-0001be60: 6f2d 7463 6f60 2063 6f6d 6d61 6e64 2d6c  o-tco` command-l
-0001be70: 696e 6520 6f70 7469 6f6e 2c20 7768 6963  ine option, whic
-0001be80: 6820 6973 2075 7365 6675 6c20 6966 2079  h is useful if y
-0001be90: 6f75 2061 7265 2068 6176 696e 6720 7472  ou are having tr
-0001bea0: 6f75 626c 6520 7265 6164 696e 6720 796f  ouble reading yo
-0001beb0: 7572 2074 7261 6365 6261 636b 7320 616e  ur tracebacks an
-0001bec0: 642f 6f72 206e 6565 6420 6d61 7869 6d75  d/or need maximu
-0001bed0: 6d20 7065 7266 6f72 6d61 6e63 652e 0d0a  m performance...
-0001bee0: 0d0a 602d 2d6e 6f2d 7463 6f60 2064 6f65  ..`--no-tco` doe
-0001bef0: 7320 6e6f 7420 6469 7361 626c 6520 7461  s not disable ta
-0001bf00: 696c 2072 6563 7572 7369 6f6e 2065 6c69  il recursion eli
-0001bf10: 6d69 6e61 7469 6f6e 2e0d 0a54 6869 7320  mination...This 
-0001bf20: 6973 2062 6563 6175 7365 2074 6169 6c20  is because tail 
-0001bf30: 7265 6375 7273 696f 6e20 656c 696d 696e  recursion elimin
-0001bf40: 6174 696f 6e20 6973 2075 7375 616c 6c79  ation is usually
-0001bf50: 2066 6173 7465 7220 7468 616e 2064 6f69   faster than doi
-0001bf60: 6e67 206e 6f74 6869 6e67 2c20 7768 696c  ng nothing, whil
-0001bf70: 6520 6f74 6865 7220 7479 7065 7320 6f66  e other types of
-0001bf80: 2074 6169 6c20 6361 6c6c 206f 7074 696d   tail call optim
-0001bf90: 697a 6174 696f 6e20 6172 6520 7573 7561  ization are usua
-0001bfa0: 6c6c 7920 736c 6f77 6572 2074 6861 6e20  lly slower than 
-0001bfb0: 646f 696e 6720 6e6f 7468 696e 672e 0d0a  doing nothing...
-0001bfc0: 5461 696c 2072 6563 7572 7369 6f6e 2065  Tail recursion e
-0001bfd0: 6c69 6d69 6e61 7469 6f6e 2072 6573 756c  limination resul
-0001bfe0: 7473 2069 6e20 6120 6269 6720 7065 7266  ts in a big perf
-0001bff0: 6f72 6d61 6e63 6520 7769 6e20 6265 6361  ormance win beca
-0001c000: 7573 6520 5079 7468 6f6e 2068 6173 2061  use Python has a
-0001c010: 2066 6169 726c 7920 6c61 7267 6520 6675   fairly large fu
-0001c020: 6e63 7469 6f6e 2063 616c 6c20 6f76 6572  nction call over
-0001c030: 6865 6164 2e20 4279 2075 6e77 696e 6469  head. By unwindi
-0001c040: 6e67 2061 2072 6563 7572 7369 7665 2066  ng a recursive f
-0001c050: 756e 6374 696f 6e2c 2066 6172 2066 6577  unction, far few
-0001c060: 6572 2066 756e 6374 696f 6e20 6361 6c6c  er function call
-0001c070: 7320 6e65 6564 2074 6f20 6265 206d 6164  s need to be mad
-0001c080: 652e 0d0a 5768 656e 2074 6865 2060 2d2d  e...When the `--
-0001c090: 6e6f 2d74 636f 6020 666c 6167 2069 7320  no-tco` flag is 
-0001c0a0: 6469 7361 626c 6564 2c20 436f 636f 6e75  disabled, Coconu
-0001c0b0: 7420 7769 6c6c 2061 7474 656d 7074 2074  t will attempt t
-0001c0c0: 6f20 646f 2061 6c6c 2074 7970 6573 206f  o do all types o
-0001c0d0: 6620 7461 696c 2063 616c 6c20 6f70 7469  f tail call opti
-0001c0e0: 6d69 7a61 7469 6f6e 732c 2068 616e 646c  mizations, handl
-0001c0f0: 696e 6720 6e6f 6e2d 7265 6375 7273 6976  ing non-recursiv
-0001c100: 6520 7461 696c 2063 616c 6c73 2c20 7370  e tail calls, sp
-0001c110: 6c69 7420 7061 7474 6572 6e2d 6d61 7463  lit pattern-matc
-0001c120: 6869 6e67 2066 756e 6374 696f 6e73 2c20  hing functions, 
-0001c130: 6d75 7475 616c 2072 6563 7572 7369 6f6e  mutual recursion
-0001c140: 2c20 616e 6420 7461 696c 2072 6563 7572  , and tail recur
-0001c150: 7369 6f6e 2e20 5768 656e 2074 6865 2060  sion. When the `
-0001c160: 2d2d 6e6f 2d74 636f 6020 666c 6167 2069  --no-tco` flag i
-0001c170: 7320 656e 6162 6c65 642c 2043 6f63 6f6e  s enabled, Cocon
-0001c180: 7574 2077 696c 6c20 6e6f 206c 6f6e 6765  ut will no longe
-0001c190: 7220 7065 7266 6f72 6d20 616e 7920 7461  r perform any ta
-0001c1a0: 696c 2063 616c 6c20 6f70 7469 6d69 7a61  il call optimiza
-0001c1b0: 7469 6f6e 7320 6f74 6865 7220 7468 616e  tions other than
-0001c1c0: 2074 6169 6c20 7265 6375 7273 696f 6e20   tail recursion 
-0001c1d0: 656c 696d 696e 6174 696f 6e2e 0d0a 0d0a  elimination.....
-0001c1e0: 2323 2323 2054 6169 6c20 5265 6375 7273  #### Tail Recurs
-0001c1f0: 696f 6e20 456c 696d 696e 6174 696f 6e20  ion Elimination 
-0001c200: 616e 6420 5079 7468 6f6e 206c 616d 6264  and Python lambd
-0001c210: 6173 0d0a 0d0a 436f 636f 6e75 7420 646f  as....Coconut do
-0001c220: 6573 206e 6f74 2070 6572 666f 726d 2074  es not perform t
-0001c230: 6169 6c20 7265 6375 7273 696f 6e20 656c  ail recursion el
-0001c240: 696d 696e 6174 696f 6e20 696e 2066 756e  imination in fun
-0001c250: 6374 696f 6e73 2074 6861 7420 7574 696c  ctions that util
-0001c260: 697a 6520 6c61 6d62 6461 7320 6f72 2069  ize lambdas or i
-0001c270: 6e6e 6572 2066 756e 6374 696f 6e73 2e20  nner functions. 
-0001c280: 5468 6973 2069 7320 6265 6361 7573 6520  This is because 
-0001c290: 6f66 2074 6865 2077 6179 2074 6861 7420  of the way that 
-0001c2a0: 5079 7468 6f6e 2068 616e 646c 6573 206c  Python handles l
-0001c2b0: 616d 6264 6173 2e0d 0a0d 0a45 6163 6820  ambdas.....Each 
-0001c2c0: 6c61 6d62 6461 2073 746f 7265 7320 6120  lambda stores a 
-0001c2d0: 706f 696e 7465 7220 746f 2074 6865 206e  pointer to the n
-0001c2e0: 616d 6573 7061 6365 2065 6e63 6c6f 7369  amespace enclosi
-0001c2f0: 6e67 2069 742c 2072 6174 6865 7220 7468  ng it, rather th
-0001c300: 616e 2061 2063 6f70 7920 6f66 2074 6865  an a copy of the
-0001c310: 206e 616d 6573 7061 6365 2e20 5468 7573   namespace. Thus
-0001c320: 2c20 6966 2074 6865 2043 6f63 6f6e 7574  , if the Coconut
-0001c330: 2063 6f6d 7069 6c65 7220 7472 6965 7320   compiler tries 
-0001c340: 746f 2072 6563 7963 6c65 2061 6e79 7468  to recycle anyth
-0001c350: 696e 6720 696e 2074 6865 206e 616d 6573  ing in the names
-0001c360: 7061 6365 2074 6861 7420 7072 6f64 7563  pace that produc
-0001c370: 6564 2074 6865 206c 616d 6264 612c 2077  ed the lambda, w
-0001c380: 6869 6368 206e 6565 6473 2074 6f20 6265  hich needs to be
-0001c390: 2064 6f6e 6520 666f 7220 5452 452c 2074   done for TRE, t
-0001c3a0: 6865 206c 616d 6264 6120 6361 6e20 6265  he lambda can be
-0001c3b0: 2063 6861 6e67 6564 2072 6574 726f 6163   changed retroac
-0001c3c0: 7469 7665 6c79 2e0d 0a0d 0a41 2073 696d  tively.....A sim
-0001c3d0: 706c 6520 6578 616d 706c 6520 6465 6d6f  ple example demo
-0001c3e0: 6e73 7472 6174 696e 6720 7468 6973 2062  nstrating this b
-0001c3f0: 6568 6176 696f 7220 696e 2050 7974 686f  ehavior in Pytho
-0001c400: 6e3a 0d0a 0d0a 6060 6070 7974 686f 6e0d  n:....```python.
-0001c410: 0a78 203d 2031 0d0a 666f 6f20 3d20 6c61  .x = 1..foo = la
-0001c420: 6d62 6461 3a20 780d 0a70 7269 6e74 2866  mbda: x..print(f
-0001c430: 6f6f 2829 2920 2023 2031 0d0a 7820 3d20  oo())  # 1..x = 
-0001c440: 3220 2020 2020 2020 2020 2320 4469 7265  2         # Dire
-0001c450: 6374 6c79 2061 6c74 6572 2074 6865 2076  ctly alter the v
-0001c460: 616c 7565 7320 696e 2074 6865 206e 616d  alues in the nam
-0001c470: 6573 7061 6365 2065 6e63 6c6f 7369 6e67  espace enclosing
-0001c480: 2066 6f6f 0d0a 7072 696e 7428 666f 6f28   foo..print(foo(
-0001c490: 2929 2020 2320 3220 2821 290d 0a60 6060  ))  # 2 (!)..```
-0001c4a0: 0d0a 0d0a 4265 6361 7573 6520 7468 6973  ....Because this
-0001c4b0: 2063 6f75 6c64 2068 6176 6520 756e 696e   could have unin
-0001c4c0: 7465 6e64 6564 2061 6e64 2070 6f74 656e  tended and poten
-0001c4d0: 7469 616c 6c79 2064 616d 6167 696e 6720  tially damaging 
-0001c4e0: 636f 6e73 6571 7565 6e63 6573 2c20 436f  consequences, Co
-0001c4f0: 636f 6e75 7420 6f70 7473 2074 6f20 6e6f  conut opts to no
-0001c500: 7420 7065 7266 6f72 6d20 5452 4520 6f6e  t perform TRE on
-0001c510: 2061 6e79 2066 756e 6374 696f 6e20 7769   any function wi
-0001c520: 7468 2061 206c 616d 6264 6120 6f72 2069  th a lambda or i
-0001c530: 6e6e 6572 2066 756e 6374 696f 6e2e 0d0a  nner function...
-0001c540: 0d0a 2323 2320 4173 7369 676e 6d65 6e74  ..### Assignment
-0001c550: 2046 756e 6374 696f 6e73 0d0a 0d0a 436f   Functions....Co
-0001c560: 636f 6e75 7420 616c 6c6f 7773 2066 6f72  conut allows for
-0001c570: 2061 7373 6967 6e6d 656e 7420 6675 6e63   assignment func
-0001c580: 7469 6f6e 2064 6566 696e 6974 696f 6e20  tion definition 
-0001c590: 7468 6174 2061 7574 6f6d 6174 6963 616c  that automatical
-0001c5a0: 6c79 2072 6574 7572 6e73 2074 6865 206c  ly returns the l
-0001c5b0: 6173 7420 6c69 6e65 206f 6620 7468 6520  ast line of the 
-0001c5c0: 6675 6e63 7469 6f6e 2062 6f64 792e 2041  function body. A
-0001c5d0: 6e20 6173 7369 676e 6d65 6e74 2066 756e  n assignment fun
-0001c5e0: 6374 696f 6e20 6973 2063 6f6e 7374 7275  ction is constru
-0001c5f0: 6374 6564 2062 7920 7375 6273 7469 7475  cted by substitu
-0001c600: 7469 6e67 2060 3d60 2066 6f72 2060 3a60  ting `=` for `:`
-0001c610: 2061 6674 6572 2074 6865 2066 756e 6374   after the funct
-0001c620: 696f 6e20 6465 6669 6e69 7469 6f6e 206c  ion definition l
-0001c630: 696e 652e 2054 6875 732c 2074 6865 2073  ine. Thus, the s
-0001c640: 796e 7461 7820 666f 7220 6173 7369 676e  yntax for assign
-0001c650: 6d65 6e74 2066 756e 6374 696f 6e20 6465  ment function de
-0001c660: 6669 6e69 7469 6f6e 2069 7320 6569 7468  finition is eith
-0001c670: 6572 0d0a 6060 6063 6f63 6f6e 7574 0d0a  er..```coconut..
-0001c680: 5b61 7379 6e63 5d20 6465 6620 3c6e 616d  [async] def <nam
-0001c690: 653e 283c 6172 6773 3e29 203d 203c 6578  e>(<args>) = <ex
-0001c6a0: 7072 3e0d 0a60 6060 0d0a 666f 7220 6f6e  pr>..```..for on
-0001c6b0: 652d 6c69 6e65 7273 206f 720d 0a60 6060  e-liners or..```
-0001c6c0: 636f 636f 6e75 740d 0a5b 6173 796e 635d  coconut..[async]
-0001c6d0: 2064 6566 203c 6e61 6d65 3e28 3c61 7267   def <name>(<arg
-0001c6e0: 733e 2920 3d0d 0a20 2020 203c 7374 6d74  s>) =..    <stmt
-0001c6f0: 733e 0d0a 2020 2020 3c65 7870 723e 0d0a  s>..    <expr>..
-0001c700: 6060 600d 0a66 6f72 2066 756c 6c20 6675  ```..for full fu
-0001c710: 6e63 7469 6f6e 732c 2077 6865 7265 2060  nctions, where `
-0001c720: 3c6e 616d 653e 6020 6973 2074 6865 206e  <name>` is the n
-0001c730: 616d 6520 6f66 2074 6865 2066 756e 6374  ame of the funct
-0001c740: 696f 6e2c 2060 3c61 7267 733e 6020 6172  ion, `<args>` ar
-0001c750: 6520 7468 6520 6675 6e63 7469 6f6e 7320  e the functions 
-0001c760: 6172 6775 6d65 6e74 732c 2060 3c73 746d  arguments, `<stm
-0001c770: 7473 3e60 2061 7265 2061 6e79 2073 7461  ts>` are any sta
-0001c780: 7465 6d65 6e74 7320 7468 6174 2074 6865  tements that the
-0001c790: 2066 756e 6374 696f 6e20 7368 6f75 6c64   function should
-0001c7a0: 2065 7865 6375 7465 2c20 616e 6420 603c   execute, and `<
-0001c7b0: 6578 7072 3e60 2069 7320 7468 6520 7661  expr>` is the va
-0001c7c0: 6c75 6520 7468 6174 2074 6865 2066 756e  lue that the fun
-0001c7d0: 6374 696f 6e20 7368 6f75 6c64 2072 6574  ction should ret
-0001c7e0: 7572 6e2e 0d0a 0d0a 5f4e 6f74 653a 2041  urn....._Note: A
-0001c7f0: 7373 6967 6e6d 656e 7420 6675 6e63 7469  ssignment functi
-0001c800: 6f6e 2064 6566 696e 6974 696f 6e20 6361  on definition ca
-0001c810: 6e20 6265 2063 6f6d 6269 6e65 6420 7769  n be combined wi
-0001c820: 7468 2069 6e66 6978 2061 6e64 2f6f 7220  th infix and/or 
-0001c830: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001c840: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001c850: 7469 6f6e 2e5f 0d0a 0d0a 2323 2323 2320  tion._....##### 
-0001c860: 5261 7469 6f6e 616c 650d 0a0d 0a43 6f63  Rationale....Coc
-0001c870: 6f6e 7574 2773 2041 7373 6967 6e6d 656e  onut's Assignmen
-0001c880: 7420 6675 6e63 7469 6f6e 2064 6566 696e  t function defin
-0001c890: 6974 696f 6e20 6973 2061 7320 6561 7379  ition is as easy
-0001c8a0: 2074 6f20 7772 6974 6520 6173 2061 7373   to write as ass
-0001c8b0: 6967 6e6d 656e 7420 746f 2061 206c 616d  ignment to a lam
-0001c8c0: 6264 612c 2062 7574 2077 696c 6c20 6170  bda, but will ap
-0001c8d0: 7065 6172 206e 616d 6564 2069 6e20 7472  pear named in tr
-0001c8e0: 6163 6562 6163 6b73 2c20 6173 2069 7420  acebacks, as it 
-0001c8f0: 636f 6d70 696c 6573 2074 6f20 6e6f 726d  compiles to norm
-0001c900: 616c 2050 7974 686f 6e20 6675 6e63 7469  al Python functi
-0001c910: 6f6e 2064 6566 696e 6974 696f 6e2e 0d0a  on definition...
-0001c920: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0001c930: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0001c940: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-0001c950: 2062 696e 6578 7028 7829 203d 2032 2a2a   binexp(x) = 2**
-0001c960: 780d 0a35 207c 3e20 6269 6e65 7870 207c  x..5 |> binexp |
-0001c970: 3e20 7072 696e 740d 0a60 6060 0d0a 0d0a  > print..```....
-0001c980: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0001c990: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0001c9a0: 6465 6620 6269 6e65 7870 2878 293a 2072  def binexp(x): r
-0001c9b0: 6574 7572 6e20 322a 2a78 0d0a 7072 696e  eturn 2**x..prin
-0001c9c0: 7428 6269 6e65 7870 2835 2929 0d0a 6060  t(binexp(5))..``
-0001c9d0: 600d 0a0d 0a23 2323 2050 6174 7465 726e  `....### Pattern
-0001c9e0: 2d4d 6174 6368 696e 6720 4675 6e63 7469  -Matching Functi
-0001c9f0: 6f6e 730d 0a0d 0a43 6f63 6f6e 7574 2070  ons....Coconut p
-0001ca00: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-0001ca10: 6675 6e63 7469 6f6e 7320 6172 6520 6a75  functions are ju
-0001ca20: 7374 206e 6f72 6d61 6c20 6675 6e63 7469  st normal functi
-0001ca30: 6f6e 732c 2065 7863 6570 7420 7768 6572  ons, except wher
-0001ca40: 6520 7468 6520 6172 6775 6d65 6e74 7320  e the arguments 
-0001ca50: 6172 6520 7061 7474 6572 6e73 2074 6f20  are patterns to 
-0001ca60: 6265 206d 6174 6368 6564 2061 6761 696e  be matched again
-0001ca70: 7374 2069 6e73 7465 6164 206f 6620 7661  st instead of va
-0001ca80: 7269 6162 6c65 7320 746f 2062 6520 6173  riables to be as
-0001ca90: 7369 676e 6564 2074 6f2e 2054 6865 2073  signed to. The s
-0001caa0: 796e 7461 7820 666f 7220 7061 7474 6572  yntax for patter
-0001cab0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-0001cac0: 696f 6e20 6465 6669 6e69 7469 6f6e 2069  ion definition i
-0001cad0: 730d 0a60 6060 636f 636f 6e75 740d 0a5b  s..```coconut..[
-0001cae0: 6d61 7463 685d 2064 6566 203c 6e61 6d65  match] def <name
-0001caf0: 3e28 3c61 7267 3e2c 203c 6172 673e 2c20  >(<arg>, <arg>, 
-0001cb00: 2e2e 2e20 5b69 6620 3c63 6f6e 643e 5d29  ... [if <cond>])
-0001cb10: 205b 2d3e 203c 7265 7475 726e 5f74 7970   [-> <return_typ
-0001cb20: 653e 5d3a 0d0a 2020 2020 3c62 6f64 793e  e>]:..    <body>
-0001cb30: 0d0a 6060 600d 0a77 6865 7265 2060 3c61  ..```..where `<a
-0001cb40: 7267 3e60 2069 7320 6465 6669 6e65 6420  rg>` is defined 
-0001cb50: 6173 0d0a 6060 6063 6f63 6f6e 7574 0d0a  as..```coconut..
-0001cb60: 5b2a 7c2a 2a5d 203c 7061 7474 6572 6e3e  [*|**] <pattern>
-0001cb70: 205b 3d20 3c64 6566 6175 6c74 3e5d 0d0a   [= <default>]..
-0001cb80: 6060 600d 0a77 6865 7265 2060 3c6e 616d  ```..where `<nam
-0001cb90: 653e 6020 6973 2074 6865 206e 616d 6520  e>` is the name 
-0001cba0: 6f66 2074 6865 2066 756e 6374 696f 6e2c  of the function,
-0001cbb0: 2060 3c63 6f6e 643e 6020 6973 2061 6e20   `<cond>` is an 
-0001cbc0: 6f70 7469 6f6e 616c 2061 6464 6974 696f  optional additio
-0001cbd0: 6e61 6c20 6368 6563 6b2c 2060 3c62 6f64  nal check, `<bod
-0001cbe0: 793e 6020 6973 2074 6865 2062 6f64 7920  y>` is the body 
-0001cbf0: 6f66 2074 6865 2066 756e 6374 696f 6e2c  of the function,
-0001cc00: 2060 3c70 6174 7465 726e 3e60 2069 7320   `<pattern>` is 
-0001cc10: 6465 6669 6e65 6420 6279 2043 6f63 6f6e  defined by Cocon
-0001cc20: 7574 2773 205b 606d 6174 6368 6020 7374  ut's [`match` st
-0001cc30: 6174 656d 656e 745d 2823 6d61 7463 6829  atement](#match)
-0001cc40: 2c20 603c 6465 6661 756c 743e 6020 6973  , `<default>` is
-0001cc50: 2074 6865 206f 7074 696f 6e61 6c20 6465   the optional de
-0001cc60: 6661 756c 7420 6966 206e 6f20 6172 6775  fault if no argu
-0001cc70: 6d65 6e74 2069 7320 7061 7373 6564 2c20  ment is passed, 
-0001cc80: 616e 6420 603c 7265 7475 726e 5f74 7970  and `<return_typ
-0001cc90: 653e 6020 6973 2074 6865 206f 7074 696f  e>` is the optio
-0001cca0: 6e61 6c20 7265 7475 726e 2074 7970 6520  nal return type 
-0001ccb0: 616e 6e6f 7461 7469 6f6e 2028 6e6f 7465  annotation (note
-0001ccc0: 2074 6861 7420 6172 6775 6d65 6e74 2074   that argument t
-0001ccd0: 7970 6520 616e 6e6f 7461 7469 6f6e 7320  ype annotations 
-0001cce0: 6172 6520 6e6f 7420 7375 7070 6f72 7465  are not supporte
-0001ccf0: 6420 666f 7220 7061 7474 6572 6e2d 6d61  d for pattern-ma
-0001cd00: 7463 6869 6e67 2066 756e 6374 696f 6e73  tching functions
-0001cd10: 292e 2054 6865 2060 6d61 7463 6860 206b  ). The `match` k
-0001cd20: 6579 776f 7264 2061 7420 7468 6520 6265  eyword at the be
-0001cd30: 6769 6e6e 696e 6720 6973 206f 7074 696f  ginning is optio
-0001cd40: 6e61 6c2c 2062 7574 2069 7320 736f 6d65  nal, but is some
-0001cd50: 7469 6d65 7320 6e65 6365 7373 6172 7920  times necessary 
-0001cd60: 746f 2064 6973 616d 6269 6775 6174 6520  to disambiguate 
-0001cd70: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001cd80: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001cd90: 7469 6f6e 2066 726f 6d20 6e6f 726d 616c  tion from normal
-0001cda0: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001cdb0: 7469 6f6e 2c20 7369 6e63 6520 5079 7468  tion, since Pyth
-0001cdc0: 6f6e 2066 756e 6374 696f 6e20 6465 6669  on function defi
-0001cdd0: 6e69 7469 6f6e 2077 696c 6c20 616c 7761  nition will alwa
-0001cde0: 7973 2074 616b 6520 7072 6563 6564 656e  ys take preceden
-0001cdf0: 6365 2e20 4e6f 7465 2074 6861 7420 7468  ce. Note that th
-0001ce00: 6520 6061 7379 6e63 6020 616e 6420 606d  e `async` and `m
-0001ce10: 6174 6368 6020 6b65 7977 6f72 6473 2063  atch` keywords c
-0001ce20: 616e 2062 6520 696e 2061 6e79 206f 7264  an be in any ord
-0001ce30: 6572 2e0d 0a0d 0a49 6620 603c 7061 7474  er.....If `<patt
-0001ce40: 6572 6e3e 6020 6861 7320 6120 7661 7269  ern>` has a vari
-0001ce50: 6162 6c65 206e 616d 6520 2865 6974 6865  able name (eithe
-0001ce60: 7220 6469 7265 6374 6c79 206f 7220 7769  r directly or wi
-0001ce70: 7468 2060 6173 6029 2c20 7468 6520 7265  th `as`), the re
-0001ce80: 7375 6c74 696e 6720 7061 7474 6572 6e2d  sulting pattern-
-0001ce90: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-0001cea0: 6e20 7769 6c6c 2073 7570 706f 7274 206b  n will support k
-0001ceb0: 6579 776f 7264 2061 7267 756d 656e 7473  eyword arguments
-0001cec0: 2075 7369 6e67 2074 6861 7420 7661 7269   using that vari
-0001ced0: 6162 6c65 206e 616d 652e 0d0a 0d0a 496e  able name.....In
-0001cee0: 2061 6464 6974 696f 6e20 746f 2073 7570   addition to sup
-0001cef0: 706f 7274 696e 6720 7061 7474 6572 6e2d  porting pattern-
-0001cf00: 6d61 7463 6869 6e67 2069 6e20 7468 6569  matching in thei
-0001cf10: 7220 6172 6775 6d65 6e74 732c 2070 6174  r arguments, pat
-0001cf20: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-0001cf30: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-0001cf40: 6e73 2061 6c73 6f20 6861 7665 2061 2063  ns also have a c
-0001cf50: 6f75 706c 6520 6f66 206e 6f74 6162 6c65  ouple of notable
-0001cf60: 2064 6966 6665 7265 6e63 6573 2063 6f6d   differences com
-0001cf70: 7061 7265 6420 746f 2050 7974 686f 6e20  pared to Python 
-0001cf80: 6675 6e63 7469 6f6e 732e 2053 7065 6369  functions. Speci
-0001cf90: 6669 6361 6c6c 793a 0d0a 2d20 4966 2070  fically:..- If p
-0001cfa0: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
-0001cfb0: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
-0001cfc0: 696f 6e20 6661 696c 732c 2069 7420 7769  ion fails, it wi
-0001cfd0: 6c6c 2072 6169 7365 2061 205b 604d 6174  ll raise a [`Mat
-0001cfe0: 6368 4572 726f 7260 5d28 236d 6174 6368  chError`](#match
-0001cff0: 6572 726f 7229 2028 6a75 7374 206c 696b  error) (just lik
-0001d000: 6520 5b64 6573 7472 7563 7475 7269 6e67  e [destructuring
-0001d010: 2061 7373 6967 6e6d 656e 745d 2823 6465   assignment](#de
-0001d020: 7374 7275 6374 7572 696e 672d 6173 7369  structuring-assi
-0001d030: 676e 6d65 6e74 2929 2069 6e73 7465 6164  gnment)) instead
-0001d040: 206f 6620 6120 6054 7970 6545 7272 6f72   of a `TypeError
-0001d050: 602e 0d0a 2d20 416c 6c20 6465 6661 756c  `...- All defaul
-0001d060: 7473 2069 6e20 7061 7474 6572 6e2d 6d61  ts in pattern-ma
-0001d070: 7463 6869 6e67 2066 756e 6374 696f 6e20  tching function 
-0001d080: 6465 6669 6e69 7469 6f6e 2061 7265 206c  definition are l
-0001d090: 6174 652d 626f 756e 6420 7261 7468 6572  ate-bound rather
-0001d0a0: 2074 6861 6e20 6561 726c 792d 626f 756e   than early-boun
-0001d0b0: 642e 2054 6875 732c 2060 6d61 7463 6820  d. Thus, `match 
-0001d0c0: 6465 6620 6628 7873 3d5b 5d29 203d 2078  def f(xs=[]) = x
-0001d0d0: 7360 2077 696c 6c20 696e 7374 616e 7469  s` will instanti
-0001d0e0: 6174 6520 6120 6e65 7720 6c69 7374 2066  ate a new list f
-0001d0f0: 6f72 2065 6163 6820 6361 6c6c 2077 6865  or each call whe
-0001d100: 7265 2060 7873 6020 6973 206e 6f74 2067  re `xs` is not g
-0001d110: 6976 656e 2c20 756e 6c69 6b65 2060 6465  iven, unlike `de
-0001d120: 6620 6628 7873 3d5b 5d29 203d 2078 7360  f f(xs=[]) = xs`
-0001d130: 2c20 7768 6963 6820 7769 6c6c 2075 7365  , which will use
-0001d140: 2074 6865 2073 616d 6520 6c69 7374 2066   the same list f
-0001d150: 6f72 2061 6c6c 2063 616c 6c73 2077 6865  or all calls whe
-0001d160: 7265 2060 7873 6020 6973 2075 6e73 7065  re `xs` is unspe
-0001d170: 6369 6669 6564 2e0d 0a0d 0a50 6174 7465  cified.....Patte
-0001d180: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
-0001d190: 7469 6f6e 2064 6566 696e 6974 696f 6e20  tion definition 
-0001d1a0: 6361 6e20 616c 736f 2062 6520 636f 6d62  can also be comb
-0001d1b0: 696e 6564 2077 6974 6820 6061 7379 6e63  ined with `async
-0001d1c0: 6020 6675 6e63 7469 6f6e 732c 205b 6063  ` functions, [`c
-0001d1d0: 6f70 7963 6c6f 7375 7265 6020 6675 6e63  opyclosure` func
-0001d1e0: 7469 6f6e 735d 2823 636f 7079 636c 6f73  tions](#copyclos
-0001d1f0: 7572 652d 6675 6e63 7469 6f6e 7329 2c20  ure-functions), 
-0001d200: 5b60 7969 656c 6460 2066 756e 6374 696f  [`yield` functio
-0001d210: 6e73 5d28 2365 7870 6c69 6369 742d 6765  ns](#explicit-ge
-0001d220: 6e65 7261 746f 7273 292c 205b 696e 6669  nerators), [infi
-0001d230: 7820 6675 6e63 7469 6f6e 2064 6566 696e  x function defin
-0001d240: 6974 696f 6e5d 2823 696e 6669 782d 6675  ition](#infix-fu
-0001d250: 6e63 7469 6f6e 7329 2c20 616e 6420 5b61  nctions), and [a
-0001d260: 7373 6967 6e6d 656e 7420 6675 6e63 7469  ssignment functi
-0001d270: 6f6e 2073 796e 7461 785d 2823 6173 7369  on syntax](#assi
-0001d280: 676e 6d65 6e74 2d66 756e 6374 696f 6e73  gnment-functions
-0001d290: 292e 2054 6865 2076 6172 696f 7573 206b  ). The various k
-0001d2a0: 6579 776f 7264 7320 696e 2066 726f 6e74  eywords in front
-0001d2b0: 206f 6620 7468 6520 6064 6566 6020 6361   of the `def` ca
-0001d2c0: 6e20 6265 2070 7574 2069 6e20 616e 7920  n be put in any 
-0001d2d0: 6f72 6465 722e 0d0a 0d0a 2323 2323 2320  order.....##### 
-0001d2e0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0001d2f0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0001d300: 6e75 740d 0a64 6566 206c 6173 745f 7477  nut..def last_tw
-0001d310: 6f28 5f20 2b20 5b61 2c20 625d 293a 0d0a  o(_ + [a, b]):..
-0001d320: 2020 2020 7265 7475 726e 2061 2c20 620d      return a, b.
-0001d330: 0a64 6566 2078 7964 6963 745f 746f 5f78  .def xydict_to_x
-0001d340: 7974 7570 6c65 287b 2278 223a 2078 2060  ytuple({"x": x `
-0001d350: 6973 696e 7374 616e 6365 6020 696e 742c  isinstance` int,
-0001d360: 2022 7922 3a20 7920 6069 7369 6e73 7461   "y": y `isinsta
-0001d370: 6e63 6560 2069 6e74 7d29 3a0d 0a20 2020  nce` int}):..   
-0001d380: 2072 6574 7572 6e20 782c 2079 0d0a 0d0a   return x, y....
-0001d390: 7261 6e67 6528 3529 207c 3e20 6c61 7374  range(5) |> last
-0001d3a0: 5f74 776f 207c 3e20 7072 696e 740d 0a7b  _two |> print..{
-0001d3b0: 2278 223a 312c 2022 7922 3a32 7d20 7c3e  "x":1, "y":2} |>
-0001d3c0: 2078 7964 6963 745f 746f 5f78 7974 7570   xydict_to_xytup
-0001d3d0: 6c65 207c 3e20 7072 696e 740d 0a60 6060  le |> print..```
-0001d3e0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0001d3f0: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0001d400: 7769 7468 6f75 7420 6120 6c6f 6e67 2073  without a long s
-0001d410: 6572 6965 7320 6f66 2063 6865 636b 7320  eries of checks 
-0001d420: 6174 2074 6865 2074 6f70 206f 6620 7468  at the top of th
-0001d430: 6520 6675 6e63 7469 6f6e 2e20 5365 6520  e function. See 
-0001d440: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
-0001d450: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
-0001d460: 2073 796e 7461 782e 5f0d 0a0d 0a23 2323   syntax._....###
-0001d470: 2060 6164 6470 6174 7465 726e 6020 4675   `addpattern` Fu
-0001d480: 6e63 7469 6f6e 730d 0a0d 0a43 6f63 6f6e  nctions....Cocon
-0001d490: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
-0001d4a0: 6061 6464 7061 7474 6572 6e20 6465 6660  `addpattern def`
-0001d4b0: 2073 796e 7461 7820 6173 2061 2073 686f   syntax as a sho
-0001d4c0: 7274 6375 7420 666f 7220 7468 6520 6675  rtcut for the fu
-0001d4d0: 6c6c 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ll..```coconut..
-0001d4e0: 4061 6464 7061 7474 6572 6e28 6675 6e63  @addpattern(func
-0001d4f0: 290d 0a6d 6174 6368 2064 6566 2066 756e  )..match def fun
-0001d500: 6328 2e2e 2e29 3a0d 0a20 202e 2e2e 0d0a  c(...):..  .....
-0001d510: 6060 600d 0a73 796e 7461 7820 7573 696e  ```..syntax usin
-0001d520: 6720 7468 6520 5b60 6164 6470 6174 7465  g the [`addpatte
-0001d530: 726e 605d 2823 6164 6470 6174 7465 726e  rn`](#addpattern
-0001d540: 2920 6465 636f 7261 746f 722e 0d0a 0d0a  ) decorator.....
-0001d550: 4164 6469 7469 6f6e 616c 6c79 2c20 6061  Additionally, `a
-0001d560: 6464 7061 7474 6572 6e20 6465 6660 2077  ddpattern def` w
-0001d570: 696c 6c20 6163 7420 6a75 7374 206c 696b  ill act just lik
-0001d580: 6520 6120 6e6f 726d 616c 205b 606d 6174  e a normal [`mat
-0001d590: 6368 2064 6566 605d 2823 7061 7474 6572  ch def`](#patter
-0001d5a0: 6e2d 6d61 7463 6869 6e67 2d66 756e 6374  n-matching-funct
-0001d5b0: 696f 6e73 2920 6966 2074 6865 2066 756e  ions) if the fun
-0001d5c0: 6374 696f 6e20 6861 7320 6e6f 7420 7072  ction has not pr
-0001d5d0: 6576 696f 7573 6c79 2062 6565 6e20 6465  eviously been de
-0001d5e0: 6669 6e65 642c 2061 6c6c 6f77 696e 6720  fined, allowing 
-0001d5f0: 666f 7220 6061 6464 7061 7474 6572 6e20  for `addpattern 
-0001d600: 6465 6660 2074 6f20 6265 2075 7365 6420  def` to be used 
-0001d610: 666f 7220 6561 6368 2063 6173 6520 7261  for each case ra
-0001d620: 7468 6572 2074 6861 6e20 7265 7175 6972  ther than requir
-0001d630: 696e 6720 606d 6174 6368 2064 6566 6020  ing `match def` 
-0001d640: 666f 7220 7468 6520 6669 7273 7420 6361  for the first ca
-0001d650: 7365 2061 6e64 2060 6164 6470 6174 7465  se and `addpatte
-0001d660: 726e 2064 6566 6020 666f 7220 6675 7475  rn def` for futu
-0001d670: 7265 2063 6173 6573 2e0d 0a0d 0a49 6620  re cases.....If 
-0001d680: 796f 7520 7761 6e74 2074 6f20 7075 7420  you want to put 
-0001d690: 6120 6465 636f 7261 746f 7220 6f6e 2061  a decorator on a
-0001d6a0: 6e20 6061 6464 7061 7474 6572 6e20 6465  n `addpattern de
-0001d6b0: 6660 2066 756e 6374 696f 6e2c 206d 616b  f` function, mak
-0001d6c0: 6520 7375 7265 2074 6f20 7075 7420 6974  e sure to put it
-0001d6d0: 206f 6e20 7468 6520 5f6c 6173 745f 2070   on the _last_ p
-0001d6e0: 6174 7465 726e 2066 756e 6374 696f 6e2e  attern function.
-0001d6f0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-0001d700: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-0001d710: 2a0d 0a60 6060 636f 636f 6e75 740d 0a61  *..```coconut..a
-0001d720: 6464 7061 7474 6572 6e20 6465 6620 6661  ddpattern def fa
-0001d730: 6374 6f72 6961 6c28 3029 203d 2031 0d0a  ctorial(0) = 1..
-0001d740: 6164 6470 6174 7465 726e 2064 6566 2066  addpattern def f
-0001d750: 6163 746f 7269 616c 286e 2920 3d20 6e20  actorial(n) = n 
-0001d760: 2a20 6661 6374 6f72 6961 6c28 6e20 2d20  * factorial(n - 
-0001d770: 3129 0d0a 6060 600d 0a0d 0a2a 2a50 7974  1)..```....**Pyt
-0001d780: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
-0001d790: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
-0001d7a0: 2063 6f6d 706c 6963 6174 6564 2064 6563   complicated dec
-0001d7b0: 6f72 6174 6f72 2064 6566 696e 6974 696f  orator definitio
-0001d7c0: 6e20 616e 6420 6120 6c6f 6e67 2073 6572  n and a long ser
-0001d7d0: 6965 7320 6f66 2063 6865 636b 7320 666f  ies of checks fo
-0001d7e0: 7220 6561 6368 2070 6174 7465 726e 2d6d  r each pattern-m
-0001d7f0: 6174 6368 696e 672e 2053 6565 2074 6865  atching. See the
-0001d800: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
-0001d810: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
-0001d820: 6e74 6178 2e5f 0d0a 0d0a 2323 2320 6063  ntax._....### `c
-0001d830: 6f70 7963 6c6f 7375 7265 6020 4675 6e63  opyclosure` Func
-0001d840: 7469 6f6e 730d 0a0d 0a43 6f63 6f6e 7574  tions....Coconut
-0001d850: 2073 7570 706f 7274 7320 7468 6520 7379   supports the sy
-0001d860: 6e74 6178 0d0a 6060 600d 0a63 6f70 7963  ntax..```..copyc
-0001d870: 6c6f 7375 7265 2064 6566 203c 6e61 6d65  losure def <name
-0001d880: 3e28 3c61 7267 733e 293a 0d0a 2020 2020  >(<args>):..    
-0001d890: 3c62 6f64 793e 0d0a 6060 600d 0a74 6f20  <body>..```..to 
-0001d8a0: 6465 6669 6e65 2061 2066 756e 6374 696f  define a functio
-0001d8b0: 6e20 7468 6174 2075 7365 7320 6173 2069  n that uses as i
-0001d8c0: 7473 2063 6c6f 7375 7265 2061 2073 6861  ts closure a sha
-0001d8d0: 6c6c 6f77 2063 6f70 7920 6f66 2069 7473  llow copy of its
-0001d8e0: 2065 6e63 6c6f 7369 6e67 2073 636f 7065   enclosing scope
-0001d8f0: 7320 6174 2074 6865 2074 696d 6520 7468  s at the time th
-0001d900: 6174 2074 6865 2066 756e 6374 696f 6e20  at the function 
-0001d910: 6973 2064 6566 696e 6564 2c20 7261 7468  is defined, rath
-0001d920: 6572 2074 6861 6e20 6120 7265 6665 7265  er than a refere
-0001d930: 6e63 6520 746f 2074 686f 7365 2073 636f  nce to those sco
-0001d940: 7065 7320 2861 7320 7769 7468 206e 6f72  pes (as with nor
-0001d950: 6d61 6c20 5079 7468 6f6e 2066 756e 6374  mal Python funct
-0001d960: 696f 6e73 292e 0d0a 0d0a 466f 7220 6578  ions).....For ex
-0001d970: 616d 706c 652c 6069 6e0d 0a60 6060 636f  ample,`in..```co
-0001d980: 636f 6e75 740d 0a64 6566 206f 7574 6572  conut..def outer
-0001d990: 5f66 756e 6328 293a 0d0a 2020 2020 6675  _func():..    fu
-0001d9a0: 6e63 7320 3d20 5b5d 0d0a 2020 2020 666f  ncs = []..    fo
-0001d9b0: 7220 7820 696e 2072 616e 6765 2831 3029  r x in range(10)
-0001d9c0: 3a0d 0a20 2020 2020 2020 2063 6f70 7963  :..        copyc
-0001d9d0: 6c6f 7375 7265 2064 6566 2069 6e6e 6572  losure def inner
-0001d9e0: 5f66 756e 6328 293a 0d0a 2020 2020 2020  _func():..      
-0001d9f0: 2020 2020 2020 7265 7475 726e 2078 0d0a        return x..
-0001da00: 2020 2020 2020 2020 6675 6e63 732e 6170          funcs.ap
-0001da10: 7065 6e64 2869 6e6e 6572 5f66 756e 6329  pend(inner_func)
-0001da20: 0d0a 2020 2020 7265 7475 726e 2066 756e  ..    return fun
-0001da30: 6373 0d0a 6060 600d 0a74 6865 2072 6573  cs..```..the res
-0001da40: 756c 7469 6e67 2060 696e 6e65 725f 6675  ulting `inner_fu
-0001da50: 6e63 6073 2077 696c 6c20 6561 6368 2072  nc`s will each r
-0001da60: 6574 7572 6e20 6120 5f64 6966 6665 7265  eturn a _differe
-0001da70: 6e74 5f20 6078 6020 7661 6c75 6520 7261  nt_ `x` value ra
-0001da80: 7468 6572 2074 6861 6e20 616c 6c20 7468  ther than all th
-0001da90: 6520 7361 6d65 2060 7860 2076 616c 7565  e same `x` value
-0001daa0: 2c20 7369 6e63 6520 7468 6579 206c 6f6f  , since they loo
-0001dab0: 6b20 6174 2077 6861 7420 6078 6020 7761  k at what `x` wa
-0001dac0: 7320 626f 756e 6420 746f 2061 7420 6675  s bound to at fu
-0001dad0: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
-0001dae0: 6e20 7469 6d65 2072 6174 6865 7220 7468  n time rather th
-0001daf0: 616e 2064 7572 696e 6720 6675 6e63 7469  an during functi
-0001db00: 6f6e 2065 7865 6375 7469 6f6e 2e0d 0a0d  on execution....
-0001db10: 0a60 636f 7079 636c 6f73 7572 6560 2066  .`copyclosure` f
-0001db20: 756e 6374 696f 6e73 2063 616e 2061 6c73  unctions can als
-0001db30: 6f20 6265 2063 6f6d 6269 6e65 6420 7769  o be combined wi
-0001db40: 7468 2060 6173 796e 6360 2066 756e 6374  th `async` funct
-0001db50: 696f 6e73 2c20 5b60 7969 656c 6460 2066  ions, [`yield` f
-0001db60: 756e 6374 696f 6e73 5d28 2365 7870 6c69  unctions](#expli
-0001db70: 6369 742d 6765 6e65 7261 746f 7273 292c  cit-generators),
-0001db80: 205b 7061 7474 6572 6e2d 6d61 7463 6869   [pattern-matchi
-0001db90: 6e67 2066 756e 6374 696f 6e73 5d28 2370  ng functions](#p
-0001dba0: 6174 7465 726e 2d6d 6174 6368 696e 672d  attern-matching-
-0001dbb0: 6675 6e63 7469 6f6e 7329 2c20 5b69 6e66  functions), [inf
-0001dbc0: 6978 2066 756e 6374 696f 6e20 6465 6669  ix function defi
-0001dbd0: 6e69 7469 6f6e 5d28 2369 6e66 6978 2d66  nition](#infix-f
-0001dbe0: 756e 6374 696f 6e73 292c 2061 6e64 205b  unctions), and [
-0001dbf0: 6173 7369 676e 6d65 6e74 2066 756e 6374  assignment funct
-0001dc00: 696f 6e20 7379 6e74 6178 5d28 2361 7373  ion syntax](#ass
-0001dc10: 6967 6e6d 656e 742d 6675 6e63 7469 6f6e  ignment-function
-0001dc20: 7329 2e20 5468 6520 7661 7269 6f75 7320  s). The various 
-0001dc30: 6b65 7977 6f72 6473 2069 6e20 6672 6f6e  keywords in fron
-0001dc40: 7420 6f66 2074 6865 2060 6465 6660 2063  t of the `def` c
-0001dc50: 616e 2062 6520 7075 7420 696e 2061 6e79  an be put in any
-0001dc60: 206f 7264 6572 2e0d 0a0d 0a49 6620 6067   order.....If `g
-0001dc70: 6c6f 6261 6c60 206f 7220 606e 6f6e 6c6f  lobal` or `nonlo
-0001dc80: 6361 6c60 2061 7265 2075 7365 6420 696e  cal` are used in
-0001dc90: 2061 2060 636f 7079 636c 6f73 7572 6560   a `copyclosure`
-0001dca0: 2066 756e 6374 696f 6e2c 2074 6865 7920   function, they 
-0001dcb0: 7769 6c6c 206e 6f74 2062 6520 6162 6c65  will not be able
-0001dcc0: 2074 6f20 6d6f 6469 6679 2076 6172 6961   to modify varia
-0001dcd0: 626c 6573 2069 6e20 656e 636c 6f73 696e  bles in enclosin
-0001dce0: 6720 7363 6f70 6573 2e20 486f 7765 7665  g scopes. Howeve
-0001dcf0: 722c 2074 6865 7920 7769 6c6c 2061 6c6c  r, they will all
-0001dd00: 6f77 2073 7461 7465 2074 6f20 6265 2070  ow state to be p
-0001dd10: 7265 7365 7276 6564 2061 6363 726f 7373  reserved accross
-0001dd20: 206d 756c 7469 706c 6520 6361 6c6c 7320   multiple calls 
-0001dd30: 746f 2074 6865 2060 636f 7079 636c 6f73  to the `copyclos
-0001dd40: 7572 6560 2066 756e 6374 696f 6e2e 0d0a  ure` function...
-0001dd50: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0001dd60: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0001dd70: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
-0001dd80: 206f 7574 6572 5f66 756e 6328 293a 0d0a   outer_func():..
-0001dd90: 2020 2020 6675 6e63 7320 3d20 5b5d 0d0a      funcs = []..
-0001dda0: 2020 2020 666f 7220 7820 696e 2072 616e      for x in ran
-0001ddb0: 6765 2831 3029 3a0d 0a20 2020 2020 2020  ge(10):..       
-0001ddc0: 2063 6f70 7963 6c6f 7375 7265 2064 6566   copyclosure def
-0001ddd0: 2069 6e6e 6572 5f66 756e 6328 293a 0d0a   inner_func():..
-0001dde0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0001ddf0: 726e 2078 0d0a 2020 2020 2020 2020 6675  rn x..        fu
-0001de00: 6e63 732e 6170 7065 6e64 2869 6e6e 6572  ncs.append(inner
-0001de10: 5f66 756e 6329 0d0a 2020 2020 7265 7475  _func)..    retu
-0001de20: 726e 2066 756e 6373 0d0a 6060 600d 0a0d  rn funcs..```...
-0001de30: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-0001de40: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0001de50: 0a66 726f 6d20 6675 6e63 746f 6f6c 7320  .from functools 
-0001de60: 696d 706f 7274 2070 6172 7469 616c 0d0a  import partial..
-0001de70: 0d0a 6465 6620 6f75 7465 725f 6675 6e63  ..def outer_func
-0001de80: 2829 3a0d 0a20 2020 2066 756e 6373 203d  ():..    funcs =
-0001de90: 205b 5d0d 0a20 2020 2066 6f72 2078 2069   []..    for x i
-0001dea0: 6e20 7261 6e67 6528 3130 293a 0d0a 2020  n range(10):..  
-0001deb0: 2020 2020 2020 6465 6620 696e 6e65 725f        def inner_
-0001dec0: 6675 6e63 285f 7829 3a0d 0a20 2020 2020  func(_x):..     
-0001ded0: 2020 2020 2020 2072 6574 7572 6e20 5f78         return _x
-0001dee0: 0d0a 2020 2020 2020 2020 6675 6e63 732e  ..        funcs.
-0001def0: 6170 7065 6e64 2870 6172 7469 616c 2869  append(partial(i
-0001df00: 6e6e 6572 5f66 756e 632c 2078 2929 0d0a  nner_func, x))..
-0001df10: 2020 2020 7265 7475 726e 2066 756e 6373      return funcs
-0001df20: 0d0a 6060 600d 0a0d 0a23 2323 2045 7870  ..```....### Exp
-0001df30: 6c69 6369 7420 4765 6e65 7261 746f 7273  licit Generators
-0001df40: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
-0001df50: 6f72 7473 2074 6865 2073 796e 7461 780d  orts the syntax.
-0001df60: 0a60 6060 0d0a 7969 656c 6420 6465 6620  .```..yield def 
-0001df70: 3c6e 616d 653e 283c 6172 6773 3e29 3a0d  <name>(<args>):.
-0001df80: 0a20 2020 203c 626f 6479 3e0d 0a60 6060  .    <body>..```
-0001df90: 0d0a 746f 2064 656e 6f74 6520 7468 6174  ..to denote that
-0001dfa0: 2079 6f75 2061 7265 2065 7870 6c69 6369   you are explici
-0001dfb0: 746c 7920 6465 6669 6e69 6e67 2061 2067  tly defining a g
-0001dfc0: 656e 6572 6174 6f72 2066 756e 6374 696f  enerator functio
-0001dfd0: 6e2e 2054 6869 7320 6973 2075 7365 6675  n. This is usefu
-0001dfe0: 6c20 746f 2065 6e73 7572 6520 7468 6174  l to ensure that
-0001dff0: 2c20 6576 656e 2069 6620 616c 6c20 7468  , even if all th
-0001e000: 6520 6079 6965 6c64 6073 2069 6e20 796f  e `yield`s in yo
-0001e010: 7572 2066 756e 6374 696f 6e20 6172 6520  ur function are 
-0001e020: 7265 6d6f 7665 642c 2069 7427 6c6c 2061  removed, it'll a
-0001e030: 6c77 6179 7320 6265 2061 2067 656e 6572  lways be a gener
-0001e040: 6174 6f72 2066 756e 6374 696f 6e2e 0d0a  ator function...
-0001e050: 0d0a 4578 706c 6963 6974 2067 656e 6572  ..Explicit gener
-0001e060: 6174 6f72 2066 756e 6374 696f 6e73 2063  ator functions c
-0001e070: 616e 2061 6c73 6f20 6265 2063 6f6d 6269  an also be combi
-0001e080: 6e65 6420 7769 7468 2060 6173 796e 6360  ned with `async`
-0001e090: 2066 756e 6374 696f 6e73 2c20 5b60 636f   functions, [`co
-0001e0a0: 7079 636c 6f73 7572 6560 2066 756e 6374  pyclosure` funct
-0001e0b0: 696f 6e73 5d28 2363 6f70 7963 6c6f 7375  ions](#copyclosu
-0001e0c0: 7265 2d66 756e 6374 696f 6e73 292c 205b  re-functions), [
-0001e0d0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-0001e0e0: 2066 756e 6374 696f 6e73 5d28 2370 6174   functions](#pat
-0001e0f0: 7465 726e 2d6d 6174 6368 696e 672d 6675  tern-matching-fu
-0001e100: 6e63 7469 6f6e 7329 2c20 5b69 6e66 6978  nctions), [infix
-0001e110: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
-0001e120: 7469 6f6e 5d28 2369 6e66 6978 2d66 756e  tion](#infix-fun
-0001e130: 6374 696f 6e73 292c 2061 6e64 205b 6173  ctions), and [as
-0001e140: 7369 676e 6d65 6e74 2066 756e 6374 696f  signment functio
-0001e150: 6e20 7379 6e74 6178 5d28 2361 7373 6967  n syntax](#assig
-0001e160: 6e6d 656e 742d 6675 6e63 7469 6f6e 7329  nment-functions)
-0001e170: 2028 7468 6f75 6768 206e 6f74 6520 7468   (though note th
-0001e180: 6174 2061 7373 6967 6e6d 656e 7420 6675  at assignment fu
-0001e190: 6e63 7469 6f6e 2073 796e 7461 7820 6865  nction syntax he
-0001e1a0: 7265 2063 7265 6174 6573 2061 2067 656e  re creates a gen
-0001e1b0: 6572 6174 6f72 2072 6574 7572 6e29 2e20  erator return). 
-0001e1c0: 5468 6520 7661 7269 6f75 7320 6b65 7977  The various keyw
-0001e1d0: 6f72 6473 2069 6e20 6672 6f6e 7420 6f66  ords in front of
-0001e1e0: 2074 6865 2060 6465 6660 2063 616e 2062   the `def` can b
-0001e1f0: 6520 7075 7420 696e 2061 6e79 206f 7264  e put in any ord
-0001e200: 6572 2e0d 0a0d 0a23 2323 2323 2045 7861  er.....##### Exa
-0001e210: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-0001e220: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0001e230: 0d0a 7969 656c 6420 6465 6620 656d 7074  ..yield def empt
-0001e240: 795f 6974 2829 3a20 7061 7373 0d0a 6060  y_it(): pass..``
-0001e250: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-0001e260: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0001e270: 686f 6e0d 0a64 6566 2065 6d70 7479 5f69  hon..def empty_i
-0001e280: 7428 293a 0d0a 2020 2020 6966 2046 616c  t():..    if Fal
-0001e290: 7365 3a0d 0a20 2020 2020 2020 2079 6965  se:..        yie
-0001e2a0: 6c64 0d0a 6060 600d 0a0d 0a23 2323 2044  ld..```....### D
-0001e2b0: 6f74 7465 6420 4675 6e63 7469 6f6e 2044  otted Function D
-0001e2c0: 6566 696e 6974 696f 6e0d 0a0d 0a43 6f63  efinition....Coc
-0001e2d0: 6f6e 7574 2061 6c6c 6f77 7320 666f 7220  onut allows for 
-0001e2e0: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
-0001e2f0: 696f 6e20 7573 696e 6720 6120 646f 7474  ion using a dott
-0001e300: 6564 206e 616d 6520 746f 2061 7373 6967  ed name to assig
-0001e310: 6e20 6120 6675 6e63 7469 6f6e 2061 7320  n a function as 
-0001e320: 6120 6d65 7468 6f64 206f 6620 616e 206f  a method of an o
-0001e330: 626a 6563 7420 6173 2073 7065 6369 6669  bject as specifi
-0001e340: 6564 2069 6e20 5b50 4550 2035 3432 5d28  ed in [PEP 542](
-0001e350: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-0001e360: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-0001e370: 7065 702d 3035 3432 2f29 2e20 446f 7474  pep-0542/). Dott
-0001e380: 6564 2066 756e 6374 696f 6e20 6465 6669  ed function defi
-0001e390: 6e69 7469 6f6e 2063 616e 2062 6520 636f  nition can be co
-0001e3a0: 6d62 696e 6564 2077 6974 6820 616c 6c20  mbined with all 
-0001e3b0: 6f74 6865 7220 7479 7065 7320 6f66 2066  other types of f
-0001e3c0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
-0001e3d0: 6f6e 2061 626f 7665 2e0d 0a0d 0a23 2323  on above.....###
-0001e3e0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-0001e3f0: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-0001e400: 6f63 6f6e 7574 0d0a 6465 6620 4d79 436c  oconut..def MyCl
-0001e410: 6173 732e 6d79 5f6d 6574 686f 6428 7365  ass.my_method(se
-0001e420: 6c66 293a 0d0a 2020 2020 2e2e 2e0d 0a60  lf):..    .....`
-0001e430: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0001e440: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0001e450: 7468 6f6e 0d0a 6465 6620 6d79 5f6d 6574  thon..def my_met
-0001e460: 686f 6428 7365 6c66 293a 0d0a 2020 2020  hod(self):..    
-0001e470: 2e2e 2e0d 0a4d 7943 6c61 7373 2e6d 795f  .....MyClass.my_
-0001e480: 6d65 7468 6f64 203d 206d 795f 6d65 7468  method = my_meth
-0001e490: 6f64 0d0a 6060 600d 0a0d 0a23 2320 5374  od..```....## St
-0001e4a0: 6174 656d 656e 7473 0d0a 0d0a 6060 607b  atements....```{
-0001e4b0: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
-0001e4c0: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2031  local:..depth: 1
-0001e4d0: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
-0001e4e0: 2320 4465 7374 7275 6374 7572 696e 6720  # Destructuring 
-0001e4f0: 4173 7369 676e 6d65 6e74 0d0a 0d0a 436f  Assignment....Co
-0001e500: 636f 6e75 7420 7375 7070 6f72 7473 2073  conut supports s
-0001e510: 6967 6e69 6669 6361 6e74 6c79 2065 6e68  ignificantly enh
-0001e520: 616e 6365 6420 6465 7374 7275 6374 7572  anced destructur
-0001e530: 696e 6720 6173 7369 676e 6d65 6e74 2c20  ing assignment, 
-0001e540: 7369 6d69 6c61 7220 746f 2050 7974 686f  similar to Pytho
-0001e550: 6e27 7320 7475 706c 652f 6c69 7374 2064  n's tuple/list d
-0001e560: 6573 7472 7563 7475 7269 6e67 2c20 6275  estructuring, bu
-0001e570: 7420 6d75 6368 206d 6f72 6520 706f 7765  t much more powe
-0001e580: 7266 756c 2e20 5468 6520 7379 6e74 6178  rful. The syntax
-0001e590: 2066 6f72 2043 6f63 6f6e 7574 2773 2064   for Coconut's d
-0001e5a0: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
-0001e5b0: 6967 6e6d 656e 7420 6973 0d0a 6060 6063  ignment is..```c
-0001e5c0: 6f63 6f6e 7574 0d0a 5b6d 6174 6368 5d20  oconut..[match] 
-0001e5d0: 3c70 6174 7465 726e 3e20 3d20 3c76 616c  <pattern> = <val
-0001e5e0: 7565 3e0d 0a60 6060 0d0a 7768 6572 6520  ue>..```..where 
-0001e5f0: 603c 7661 6c75 653e 6020 6973 2061 6e79  `<value>` is any
-0001e600: 2065 7870 7265 7373 696f 6e20 616e 6420   expression and 
-0001e610: 603c 7061 7474 6572 6e3e 6020 6973 2064  `<pattern>` is d
-0001e620: 6566 696e 6564 2062 7920 436f 636f 6e75  efined by Coconu
-0001e630: 7427 7320 5b60 6d61 7463 6860 2073 7461  t's [`match` sta
-0001e640: 7465 6d65 6e74 5d28 236d 6174 6368 292e  tement](#match).
-0001e650: 2054 6865 2060 6d61 7463 6860 206b 6579   The `match` key
-0001e660: 776f 7264 2061 7420 7468 6520 6265 6769  word at the begi
-0001e670: 6e6e 696e 6720 6973 206f 7074 696f 6e61  nning is optiona
-0001e680: 6c2c 2062 7574 2069 7320 736f 6d65 7469  l, but is someti
-0001e690: 6d65 7320 6e65 6365 7373 6172 7920 746f  mes necessary to
-0001e6a0: 2064 6973 616d 6269 6775 6174 6520 6465   disambiguate de
-0001e6b0: 7374 7275 6374 7572 696e 6720 6173 7369  structuring assi
-0001e6c0: 676e 6d65 6e74 2066 726f 6d20 6e6f 726d  gnment from norm
-0001e6d0: 616c 2061 7373 6967 6e6d 656e 742c 2077  al assignment, w
-0001e6e0: 6869 6368 2077 696c 6c20 616c 7761 7973  hich will always
-0001e6f0: 2074 616b 6520 7072 6563 6564 656e 6365   take precedence
-0001e700: 2e20 436f 636f 6e75 7427 7320 6465 7374  . Coconut's dest
-0001e710: 7275 6374 7572 696e 6720 6173 7369 676e  ructuring assign
-0001e720: 6d65 6e74 2069 7320 6571 7569 7661 6c65  ment is equivale
-0001e730: 6e74 2074 6f20 6120 6d61 7463 6820 7374  nt to a match st
-0001e740: 6174 656d 656e 7420 7468 6174 2066 6f6c  atement that fol
-0001e750: 6c6f 7773 2074 6865 2073 796e 7461 783a  lows the syntax:
-0001e760: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6d61  ..```coconut..ma
-0001e770: 7463 6820 3c70 6174 7465 726e 3e20 696e  tch <pattern> in
-0001e780: 203c 7661 6c75 653e 3a0d 0a20 2020 2070   <value>:..    p
-0001e790: 6173 730d 0a65 6c73 653a 0d0a 2020 2020  ass..else:..    
-0001e7a0: 6572 7220 3d20 4d61 7463 6845 7272 6f72  err = MatchError
-0001e7b0: 283c 6572 726f 7220 6d65 7373 6167 653e  (<error message>
-0001e7c0: 290d 0a20 2020 2065 7272 2e70 6174 7465  )..    err.patte
-0001e7d0: 726e 203d 2022 3c70 6174 7465 726e 3e22  rn = "<pattern>"
-0001e7e0: 0d0a 2020 2020 6572 722e 7661 6c75 6520  ..    err.value 
-0001e7f0: 3d20 3c76 616c 7565 3e0d 0a20 2020 2072  = <value>..    r
-0001e800: 6169 7365 2065 7272 0d0a 6060 600d 0a49  aise err..```..I
-0001e810: 6620 6120 6465 7374 7275 6374 7572 696e  f a destructurin
-0001e820: 6720 6173 7369 676e 6d65 6e74 2073 7461  g assignment sta
-0001e830: 7465 6d65 6e74 2066 6169 6c73 2c20 7468  tement fails, th
-0001e840: 656e 2069 6e73 7465 6164 206f 6620 636f  en instead of co
-0001e850: 6e74 696e 7569 6e67 206f 6e20 6173 2069  ntinuing on as i
-0001e860: 6620 6120 606d 6174 6368 6020 626c 6f63  f a `match` bloc
-0001e870: 6b20 6861 6420 6661 696c 6564 2c20 6120  k had failed, a 
-0001e880: 5b60 4d61 7463 6845 7272 6f72 605d 2823  [`MatchError`](#
-0001e890: 6d61 7463 6865 7272 6f72 2920 6f62 6a65  matcherror) obje
-0001e8a0: 6374 2077 696c 6c20 6265 2072 6169 7365  ct will be raise
-0001e8b0: 6420 6465 7363 7269 6269 6e67 2074 6865  d describing the
-0001e8c0: 2066 6169 6c75 7265 2e0d 0a0d 0a23 2323   failure.....###
-0001e8d0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-0001e8e0: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-0001e8f0: 6f63 6f6e 7574 0d0a 5f20 2b20 5b61 2c20  oconut.._ + [a, 
-0001e900: 625d 203d 205b 302c 2031 2c20 322c 2033  b] = [0, 1, 2, 3
-0001e910: 5d0d 0a70 7269 6e74 2861 2c20 6229 0d0a  ]..print(a, b)..
-0001e920: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-0001e930: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
-0001e940: 6e65 2077 6974 686f 7574 2061 206c 6f6e  ne without a lon
-0001e950: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
-0001e960: 6b73 2069 6e20 706c 6163 6520 6f66 2074  ks in place of t
-0001e970: 6865 2064 6573 7472 7563 7475 7269 6e67  he destructuring
-0001e980: 2061 7373 6967 6e6d 656e 7420 7374 6174   assignment stat
-0001e990: 656d 656e 742e 2053 6565 2074 6865 2063  ement. See the c
-0001e9a0: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
-0001e9b0: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
-0001e9c0: 6178 2e5f 0d0a 0d0a 2323 2320 5479 7065  ax._....### Type
-0001e9d0: 2050 6172 616d 6574 6572 2053 796e 7461   Parameter Synta
-0001e9e0: 780d 0a0d 0a43 6f63 6f6e 7574 2066 756c  x....Coconut ful
-0001e9f0: 6c79 2073 7570 706f 7274 7320 5b50 7974  ly supports [Pyt
-0001ea00: 686f 6e20 332e 3132 2050 4550 2036 3935  hon 3.12 PEP 695
-0001ea10: 5d28 6874 7470 733a 2f2f 7065 7073 2e70  ](https://peps.p
-0001ea20: 7974 686f 6e2e 6f72 672f 7065 702d 3036  ython.org/pep-06
-0001ea30: 3935 2f29 2074 7970 6520 7061 7261 6d65  95/) type parame
-0001ea40: 7465 7220 7379 6e74 6178 206f 6e20 616c  ter syntax on al
-0001ea50: 6c20 5079 7468 6f6e 2076 6572 7369 6f6e  l Python version
-0001ea60: 732e 0d0a 0d0a 5468 6174 2069 6e63 6c75  s.....That inclu
-0001ea70: 6465 7320 7479 7065 2070 6172 616d 6574  des type paramet
-0001ea80: 6572 7320 666f 7220 636c 6173 7365 732c  ers for classes,
-0001ea90: 205b 6064 6174 6160 2074 7970 6573 5d28   [`data` types](
-0001eaa0: 2364 6174 6129 2c20 616e 6420 5b61 6c6c  #data), and [all
-0001eab0: 2074 7970 6573 206f 6620 6675 6e63 7469   types of functi
-0001eac0: 6f6e 2064 6566 696e 6974 696f 6e5d 2823  on definition](#
-0001ead0: 6675 6e63 7469 6f6e 2d64 6566 696e 6974  function-definit
-0001eae0: 696f 6e29 2e20 466f 7220 6469 6666 6572  ion). For differ
-0001eaf0: 656e 7420 7479 7065 7320 6f66 2066 756e  ent types of fun
-0001eb00: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
-0001eb10: 2c20 7468 6520 7479 7065 2070 6172 616d  , the type param
-0001eb20: 6574 6572 7320 616c 7761 7973 2063 6f6d  eters always com
-0001eb30: 6520 696e 2062 7261 636b 6574 7320 7269  e in brackets ri
-0001eb40: 6768 7420 6166 7465 7220 7468 6520 6675  ght after the fu
-0001eb50: 6e63 7469 6f6e 206e 616d 652e 2043 6f63  nction name. Coc
-0001eb60: 6f6e 7574 2773 205b 656e 6861 6e63 6564  onut's [enhanced
-0001eb70: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
-0001eb80: 2073 796e 7461 785d 2823 656e 6861 6e63   syntax](#enhanc
-0001eb90: 6564 2d74 7970 652d 616e 6e6f 7461 7469  ed-type-annotati
-0001eba0: 6f6e 2920 6973 2073 7570 706f 7274 6564  on) is supported
-0001ebb0: 2066 6f72 2061 6c6c 2074 7970 6520 7061   for all type pa
-0001ebc0: 7261 6d65 7465 7220 626f 756e 6473 2e0d  rameter bounds..
-0001ebd0: 0a0d 0a5f 5761 726e 696e 673a 2075 6e74  ..._Warning: unt
-0001ebe0: 696c 2060 6d79 7079 6020 6164 6473 2073  il `mypy` adds s
-0001ebf0: 7570 706f 7274 2066 6f72 2060 696e 6665  upport for `infe
-0001ec00: 725f 7661 7269 616e 6365 3d54 7275 6560  r_variance=True`
-0001ec10: 2069 6e20 6054 7970 6556 6172 602c 2060   in `TypeVar`, `
-0001ec20: 5479 7065 5661 7260 7320 6372 6561 7465  TypeVar`s create
-0001ec30: 6420 7468 6973 2077 6179 2077 696c 6c20  d this way will 
-0001ec40: 616c 7761 7973 2062 6520 696e 7661 7269  always be invari
-0001ec50: 616e 742e 5f0d 0a0d 0a41 6464 6974 696f  ant._....Additio
-0001ec60: 6e61 6c6c 792c 2043 6f63 6f6e 7574 2073  nally, Coconut s
-0001ec70: 7570 706f 7274 7320 7468 6520 616c 7465  upports the alte
-0001ec80: 726e 6174 6976 6520 626f 756e 6473 2073  rnative bounds s
-0001ec90: 796e 7461 7820 6f66 2060 7479 7065 204e  yntax of `type N
-0001eca0: 6577 5479 7065 5b54 203c 3a20 626f 756e  ewType[T <: boun
-0001ecb0: 645d 203d 202e 2e2e 6020 7261 7468 6572  d] = ...` rather
-0001ecc0: 2074 6861 6e20 6074 7970 6520 4e65 7754   than `type NewT
-0001ecd0: 7970 655b 543a 2062 6f75 6e64 5d20 3d20  ype[T: bound] = 
-0001ece0: 2e2e 2e60 2c20 746f 206d 616b 6520 6974  ...`, to make it
-0001ecf0: 206d 6f72 6520 636c 6561 7220 7468 6174   more clear that
-0001ed00: 2069 7420 6973 2061 6e20 7570 7065 7220   it is an upper 
-0001ed10: 626f 756e 6420 7261 7468 6572 2074 6861  bound rather tha
-0001ed20: 6e20 6120 7479 7065 2e20 496e 2060 2d2d  n a type. In `--
-0001ed30: 7374 7269 6374 6020 6d6f 6465 2c20 603c  strict` mode, `<
-0001ed40: 3a60 2069 7320 7265 7175 6972 6564 206f  :` is required o
-0001ed50: 7665 7220 603a 6020 666f 7220 616c 6c20  ver `:` for all 
-0001ed60: 7479 7065 2070 6172 616d 6574 6572 2062  type parameter b
-0001ed70: 6f75 6e64 732e 205f 4445 5052 4543 4154  ounds. _DEPRECAT
-0001ed80: 4544 3a20 603c 3d60 2063 616e 2061 6c73  ED: `<=` can als
-0001ed90: 6f20 6265 2075 7365 6420 6173 2061 6e20  o be used as an 
-0001eda0: 616c 7465 726e 6174 6976 6520 746f 2060  alternative to `
-0001edb0: 3c3a 602e 5f0d 0a0d 0a4e 6f74 6520 7468  <:`._....Note th
-0001edc0: 6174 2074 6865 2060 3c3a 6020 7379 6e74  at the `<:` synt
-0001edd0: 6178 2073 686f 756c 6420 6f6e 6c79 2062  ax should only b
-0001ede0: 6520 7573 6564 2066 6f72 205b 7479 7065  e used for [type
-0001edf0: 2062 6f75 6e64 735d 2868 7474 7073 3a2f   bounds](https:/
-0001ee00: 2f70 6570 732e 7079 7468 6f6e 2e6f 7267  /peps.python.org
-0001ee10: 2f70 6570 2d30 3639 352f 2375 7070 6572  /pep-0695/#upper
-0001ee20: 2d62 6f75 6e64 2d73 7065 6369 6669 6361  -bound-specifica
-0001ee30: 7469 6f6e 292c 206e 6f74 205b 7479 7065  tion), not [type
-0001ee40: 2063 6f6e 7374 7261 696e 7473 5d28 6874   constraints](ht
-0001ee50: 7470 733a 2f2f 7065 7073 2e70 7974 686f  tps://peps.pytho
-0001ee60: 6e2e 6f72 672f 7065 702d 3036 3935 2f23  n.org/pep-0695/#
-0001ee70: 636f 6e73 7472 6169 6e65 642d 7479 7065  constrained-type
-0001ee80: 2d73 7065 6369 6669 6361 7469 6f6e 29e2  -specification).
-0001ee90: 8094 666f 7220 7479 7065 2063 6f6e 7374  ..for type const
-0001eea0: 7261 696e 7473 2c20 436f 636f 6e75 7420  raints, Coconut 
-0001eeb0: 7374 796c 6520 7072 6566 6572 7320 7468  style prefers th
-0001eec0: 6520 7661 6e69 6c6c 6120 5079 7468 6f6e  e vanilla Python
-0001eed0: 2060 3a60 2073 796e 7461 782c 2077 6869   `:` syntax, whi
-0001eee0: 6368 2068 656c 7073 2074 6f20 6469 7361  ch helps to disa
-0001eef0: 6d62 6967 7561 7465 2062 6574 7765 656e  mbiguate between
-0001ef00: 2074 6865 2074 776f 2063 6173 6573 2c20   the two cases, 
-0001ef10: 6173 2074 6865 7920 6172 6520 6675 6e63  as they are func
-0001ef20: 7469 6f6e 616c 6c79 2064 6966 6665 7265  tionally differe
-0001ef30: 6e74 2062 7574 206f 7468 6572 7769 7365  nt but otherwise
-0001ef40: 2068 6172 6420 746f 2074 656c 6c20 6170   hard to tell ap
-0001ef50: 6172 7420 6174 2061 2067 6c61 6e63 652e  art at a glance.
-0001ef60: 2054 6869 7320 6973 2065 6e66 6f72 6365   This is enforce
-0001ef70: 6420 696e 2060 2d2d 7374 7269 6374 6020  d in `--strict` 
-0001ef80: 6d6f 6465 2e0d 0a0d 0a5f 4e6f 7465 2074  mode....._Note t
-0001ef90: 6861 742c 2062 7920 6465 6661 756c 742c  hat, by default,
-0001efa0: 2061 6c6c 2074 7970 6520 6465 636c 6172   all type declar
-0001efb0: 6174 696f 6e73 2061 7265 2077 7261 7070  ations are wrapp
-0001efc0: 6564 2069 6e20 7374 7269 6e67 7320 746f  ed in strings to
-0001efd0: 2065 6e61 626c 6520 666f 7277 6172 6420   enable forward 
-0001efe0: 7265 6665 7265 6e63 6573 2061 6e64 2069  references and i
-0001eff0: 6d70 726f 7665 2072 756e 7469 6d65 2070  mprove runtime p
-0001f000: 6572 666f 726d 616e 6365 2e20 4966 2079  erformance. If y
-0001f010: 6f75 2064 6f6e 2774 2077 616e 7420 7468  ou don't want th
-0001f020: 6174 e280 9465 2e67 2e20 6265 6361 7573  at...e.g. becaus
-0001f030: 6520 796f 7520 7761 6e74 2074 6f20 7573  e you want to us
-0001f040: 6520 7479 7065 2061 6e6e 6f74 6174 696f  e type annotatio
-0001f050: 6e73 2061 7420 7275 6e74 696d 65e2 8094  ns at runtime...
-0001f060: 7369 6d70 6c79 2070 6173 7320 7468 6520  simply pass the 
-0001f070: 602d 2d6e 6f2d 7772 6170 2d74 7970 6573  `--no-wrap-types
-0001f080: 6020 666c 6167 2e5f 0d0a 0d0a 2323 2323  ` flag._....####
-0001f090: 2320 5045 5020 3639 3520 446f 6373 0d0a  # PEP 695 Docs..
-0001f0a0: 0d0a 4465 6669 6e69 6e67 2061 2067 656e  ..Defining a gen
-0001f0b0: 6572 6963 2063 6c61 7373 2070 7269 6f72  eric class prior
-0001f0c0: 2074 6f20 7468 6973 2050 4550 206c 6f6f   to this PEP loo
-0001f0d0: 6b73 2073 6f6d 6574 6869 6e67 206c 696b  ks something lik
-0001f0e0: 6520 7468 6973 2e0d 0a0d 0a60 6060 636f  e this.....```co
-0001f0f0: 636f 6e75 745f 7079 7468 6f6e 0d0a 6672  conut_python..fr
-0001f100: 6f6d 2074 7970 696e 6720 696d 706f 7274  om typing import
-0001f110: 2047 656e 6572 6963 2c20 5479 7065 5661   Generic, TypeVa
-0001f120: 720d 0a0d 0a5f 545f 636f 203d 2054 7970  r...._T_co = Typ
-0001f130: 6556 6172 2822 5f54 5f63 6f22 2c20 636f  eVar("_T_co", co
-0001f140: 7661 7269 616e 743d 5472 7565 2c20 626f  variant=True, bo
-0001f150: 756e 643d 7374 7229 0d0a 0d0a 636c 6173  und=str)....clas
-0001f160: 7320 436c 6173 7341 2847 656e 6572 6963  s ClassA(Generic
-0001f170: 5b5f 545f 636f 5d29 3a0d 0a20 2020 2064  [_T_co]):..    d
-0001f180: 6566 206d 6574 686f 6431 2873 656c 6629  ef method1(self)
-0001f190: 202d 3e20 5f54 5f63 6f3a 0d0a 2020 2020   -> _T_co:..    
-0001f1a0: 2020 2020 2e2e 2e0d 0a60 6060 0d0a 0d0a      .....```....
-0001f1b0: 5769 7468 2074 6865 206e 6577 2073 796e  With the new syn
-0001f1c0: 7461 782c 2069 7420 6c6f 6f6b 7320 6c69  tax, it looks li
-0001f1d0: 6b65 2074 6869 732e 0d0a 0d0a 6060 6063  ke this.....```c
-0001f1e0: 6f63 6f6e 7574 0d0a 636c 6173 7320 436c  oconut..class Cl
-0001f1f0: 6173 7341 5b54 3a20 7374 725d 3a0d 0a20  assA[T: str]:.. 
-0001f200: 2020 2064 6566 206d 6574 686f 6431 2873     def method1(s
-0001f210: 656c 6629 202d 3e20 543a 0d0a 2020 2020  elf) -> T:..    
-0001f220: 2020 2020 2e2e 2e0d 0a60 6060 0d0a 0d0a      .....```....
-0001f230: 4865 7265 2069 7320 616e 2065 7861 6d70  Here is an examp
-0001f240: 6c65 206f 6620 6120 6765 6e65 7269 6320  le of a generic 
-0001f250: 6675 6e63 7469 6f6e 2074 6f64 6179 2e0d  function today..
-0001f260: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
-0001f270: 7468 6f6e 0d0a 6672 6f6d 2074 7970 696e  thon..from typin
-0001f280: 6720 696d 706f 7274 2054 7970 6556 6172  g import TypeVar
-0001f290: 0d0a 0d0a 5f54 203d 2054 7970 6556 6172  ...._T = TypeVar
-0001f2a0: 2822 5f54 2229 0d0a 0d0a 6465 6620 6675  ("_T")....def fu
-0001f2b0: 6e63 2861 3a20 5f54 2c20 623a 205f 5429  nc(a: _T, b: _T)
-0001f2c0: 202d 3e20 5f54 3a0d 0a20 2020 202e 2e2e   -> _T:..    ...
-0001f2d0: 0d0a 6060 600d 0a0d 0a41 6e64 2074 6865  ..```....And the
-0001f2e0: 206e 6577 2073 796e 7461 782e 0d0a 0d0a   new syntax.....
-0001f2f0: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
-0001f300: 6675 6e63 5b54 5d28 613a 2054 2c20 623a  func[T](a: T, b:
-0001f310: 2054 2920 2d3e 2054 3a0d 0a20 2020 202e   T) -> T:..    .
-0001f320: 2e2e 0d0a 6060 600d 0a0d 0a48 6572 6520  ....```....Here 
-0001f330: 6973 2061 6e20 6578 616d 706c 6520 6f66  is an example of
-0001f340: 2061 2067 656e 6572 6963 2074 7970 6520   a generic type 
-0001f350: 616c 6961 7320 746f 6461 792e 0d0a 0d0a  alias today.....
-0001f360: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0001f370: 6e0d 0a66 726f 6d20 7479 7069 6e67 2069  n..from typing i
-0001f380: 6d70 6f72 7420 5479 7065 416c 6961 730d  mport TypeAlias.
-0001f390: 0a0d 0a5f 5420 3d20 5479 7065 5661 7228  ..._T = TypeVar(
-0001f3a0: 225f 5422 290d 0a0d 0a4c 6973 744f 7253  "_T")....ListOrS
-0001f3b0: 6574 3a20 5479 7065 416c 6961 7320 3d20  et: TypeAlias = 
-0001f3c0: 6c69 7374 5b5f 545d 207c 2073 6574 5b5f  list[_T] | set[_
-0001f3d0: 545d 0d0a 6060 600d 0a0d 0a41 6e64 2077  T]..```....And w
-0001f3e0: 6974 6820 7468 6520 6e65 7720 7379 6e74  ith the new synt
-0001f3f0: 6178 2e0d 0a0d 0a60 6060 636f 636f 6e75  ax.....```coconu
-0001f400: 740d 0a74 7970 6520 4c69 7374 4f72 5365  t..type ListOrSe
-0001f410: 745b 545d 203d 206c 6973 745b 545d 207c  t[T] = list[T] |
-0001f420: 2073 6574 5b54 5d0d 0a60 6060 0d0a 0d0a   set[T]..```....
-0001f430: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0001f440: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0001f450: 0a60 6060 636f 636f 6e75 740d 0a64 6174  .```coconut..dat
-0001f460: 6120 445b 545d 2878 3a20 542c 2079 3a20  a D[T](x: T, y: 
-0001f470: 5429 0d0a 0d0a 6465 6620 6d79 5f69 6465  T)....def my_ide
-0001f480: 6e74 5b54 5d28 783a 2054 2920 2d3e 2054  nt[T](x: T) -> T
-0001f490: 203d 2078 0d0a 6060 600d 0a0d 0a2a 2a50   = x..```....**P
-0001f4a0: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
-0001f4b0: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
-0001f4c0: 2061 2063 6f6d 706c 6578 2064 6566 696e   a complex defin
-0001f4d0: 6974 696f 6e20 666f 7220 7468 6520 6461  ition for the da
-0001f4e0: 7461 2074 7970 652e 2053 6565 2074 6865  ta type. See the
-0001f4f0: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
-0001f500: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
-0001f510: 6e74 6178 2e5f 0d0a 0d0a 2323 2320 496d  ntax._....### Im
-0001f520: 706c 6963 6974 2060 7061 7373 600d 0a0d  plicit `pass`...
-0001f530: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
-0001f540: 7320 7468 6520 7369 6d70 6c65 2060 636c  s the simple `cl
-0001f550: 6173 7320 6e61 6d65 2862 6173 6529 6020  ass name(base)` 
-0001f560: 616e 6420 6064 6174 6120 6e61 6d65 2861  and `data name(a
-0001f570: 7267 7329 6020 6173 2061 6c69 6173 6573  rgs)` as aliases
-0001f580: 2066 6f72 2060 636c 6173 7320 6e61 6d65   for `class name
-0001f590: 2862 6173 6529 3a20 7061 7373 6020 616e  (base): pass` an
-0001f5a0: 6420 6064 6174 6120 6e61 6d65 2861 7267  d `data name(arg
-0001f5b0: 7329 3a20 7061 7373 602e 0d0a 0d0a 2323  s): pass`.....##
-0001f5c0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0001f5d0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0001f5e0: 636f 636f 6e75 740d 0a63 6c61 7373 2054  coconut..class T
-0001f5f0: 7265 650d 0a64 6174 6120 456d 7074 7920  ree..data Empty 
-0001f600: 6672 6f6d 2054 7265 650d 0a64 6174 6120  from Tree..data 
-0001f610: 4c65 6166 2869 7465 6d29 2066 726f 6d20  Leaf(item) from 
-0001f620: 5472 6565 0d0a 6461 7461 204e 6f64 6528  Tree..data Node(
-0001f630: 6c65 6674 2c20 7269 6768 7429 2066 726f  left, right) fro
-0001f640: 6d20 5472 6565 0d0a 6060 600d 0a0d 0a2a  m Tree..```....*
-0001f650: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
-0001f660: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
-0001f670: 7574 2061 2073 6572 6965 7320 6f66 206d  ut a series of m
-0001f680: 6574 686f 6420 6465 6669 6e69 7469 6f6e  ethod definition
-0001f690: 7320 666f 7220 6561 6368 2064 6174 6120  s for each data 
-0001f6a0: 7479 7065 2e20 5365 6520 7468 6520 636f  type. See the co
-0001f6b0: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
-0001f6c0: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
-0001f6d0: 782e 5f0d 0a0d 0a23 2323 2044 6563 6f72  x._....### Decor
-0001f6e0: 6174 6f72 730d 0a0d 0a55 6e6c 696b 6520  ators....Unlike 
-0001f6f0: 5079 7468 6f6e 2c20 7768 6963 6820 6f6e  Python, which on
-0001f700: 6c79 2073 7570 706f 7274 7320 6120 7369  ly supports a si
-0001f710: 6e67 6c65 2076 6172 6961 626c 6520 6f72  ngle variable or
-0001f720: 2066 756e 6374 696f 6e20 6361 6c6c 2069   function call i
-0001f730: 6e20 6120 6465 636f 7261 746f 722c 2043  n a decorator, C
-0001f740: 6f63 6f6e 7574 2073 7570 706f 7274 7320  oconut supports 
-0001f750: 616e 7920 6578 7072 6573 7369 6f6e 2061  any expression a
-0001f760: 7320 696e 205b 5045 5020 3631 345d 2868  s in [PEP 614](h
-0001f770: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
-0001f780: 6e2e 6f72 672f 6465 762f 7065 7073 2f70  n.org/dev/peps/p
-0001f790: 6570 2d30 3631 342f 292e 0d0a 0d0a 2323  ep-0614/).....##
-0001f7a0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0001f7b0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0001f7c0: 636f 636f 6e75 740d 0a40 2077 7261 7070  coconut..@ wrapp
-0001f7d0: 6572 3120 2e2e 2077 7261 7070 6572 3224  er1 .. wrapper2$
-0001f7e0: 2861 7267 290d 0a64 6566 2066 756e 6328  (arg)..def func(
-0001f7f0: 7829 203d 2078 2a2a 320d 0a60 6060 0d0a  x) = x**2..```..
-0001f800: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-0001f810: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-0001f820: 0d0a 6465 6620 7772 6170 7065 7228 6675  ..def wrapper(fu
-0001f830: 6e63 293a 0d0a 2020 2020 7265 7475 726e  nc):..    return
-0001f840: 2077 7261 7070 6572 3128 7772 6170 7065   wrapper1(wrappe
-0001f850: 7232 2861 7267 2c20 6675 6e63 2929 0d0a  r2(arg, func))..
-0001f860: 4077 7261 7070 6572 0d0a 6465 6620 6675  @wrapper..def fu
-0001f870: 6e63 2878 293a 0d0a 2020 2020 7265 7475  nc(x):..    retu
-0001f880: 726e 2078 2a2a 320d 0a60 6060 0d0a 0d0a  rn x**2..```....
-0001f890: 2323 2320 5374 6174 656d 656e 7420 4e65  ### Statement Ne
-0001f8a0: 7374 696e 670d 0a0d 0a43 6f63 6f6e 7574  sting....Coconut
-0001f8b0: 2073 7570 706f 7274 7320 7468 6520 6e65   supports the ne
-0001f8c0: 7374 696e 6720 6f66 2063 6f6d 706f 756e  sting of compoun
-0001f8d0: 6420 7374 6174 656d 656e 7473 206f 6e20  d statements on 
-0001f8e0: 7468 6520 7361 6d65 206c 696e 652e 2054  the same line. T
-0001f8f0: 6869 7320 616c 6c6f 7773 2074 6865 206d  his allows the m
-0001f900: 6978 696e 6720 6f66 2060 6d61 7463 6860  ixing of `match`
-0001f910: 2061 6e64 2060 6966 6020 7374 6174 656d   and `if` statem
-0001f920: 656e 7473 2074 6f67 6574 6865 722c 2061  ents together, a
-0001f930: 7320 7765 6c6c 2061 7320 636f 6d70 6f75  s well as compou
-0001f940: 6e64 2060 7472 7960 2073 7461 7465 6d65  nd `try` stateme
-0001f950: 6e74 732e 0d0a 0d0a 2323 2323 2320 4578  nts.....##### Ex
-0001f960: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-0001f970: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-0001f980: 740d 0a69 6620 696e 7661 6c69 6428 696e  t..if invalid(in
-0001f990: 7075 745f 6c69 7374 293a 0d0a 2020 2020  put_list):..    
-0001f9a0: 7261 6973 6520 4578 6365 7074 696f 6e28  raise Exception(
-0001f9b0: 290d 0a65 6c73 653a 206d 6174 6368 205b  )..else: match [
-0001f9c0: 6865 6164 5d20 2b20 7461 696c 2069 6e20  head] + tail in 
-0001f9d0: 696e 7075 745f 6c69 7374 3a0d 0a20 2020  input_list:..   
-0001f9e0: 2070 7269 6e74 2868 6561 642c 2074 6169   print(head, tai
-0001f9f0: 6c29 0d0a 656c 7365 3a0d 0a20 2020 2070  l)..else:..    p
-0001fa00: 7269 6e74 2869 6e70 7574 5f6c 6973 7429  rint(input_list)
-0001fa10: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-0001fa20: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-0001fa30: 5f70 7974 686f 6e0d 0a66 726f 6d20 636f  _python..from co
-0001fa40: 6c6c 6563 7469 6f6e 732e 6162 6320 696d  llections.abc im
-0001fa50: 706f 7274 2053 6571 7565 6e63 650d 0a69  port Sequence..i
-0001fa60: 6620 696e 7661 6c69 6428 696e 7075 745f  f invalid(input_
-0001fa70: 6c69 7374 293a 0d0a 2020 2020 7261 6973  list):..    rais
-0001fa80: 6520 4578 6365 7074 696f 6e28 290d 0a65  e Exception()..e
-0001fa90: 6c69 6620 6973 696e 7374 616e 6365 2869  lif isinstance(i
-0001faa0: 6e70 7574 5f6c 6973 742c 2053 6571 7565  nput_list, Seque
-0001fab0: 6e63 6529 2061 6e64 206c 656e 2869 6e70  nce) and len(inp
-0001fac0: 7574 5f6c 6973 7429 203e 3d20 313a 0d0a  ut_list) >= 1:..
-0001fad0: 2020 2020 6865 6164 2c20 7461 696c 203d      head, tail =
-0001fae0: 2069 6e70 7574 6c69 7374 5b30 5d2c 2069   inputlist[0], i
-0001faf0: 6e70 7574 6c69 7374 5b31 3a5d 0d0a 2020  nputlist[1:]..  
-0001fb00: 2020 7072 696e 7428 6865 6164 2c20 7461    print(head, ta
-0001fb10: 696c 290d 0a65 6c73 653a 0d0a 2020 2020  il)..else:..    
-0001fb20: 7072 696e 7428 696e 7075 745f 6c69 7374  print(input_list
-0001fb30: 290d 0a60 6060 0d0a 0d0a 2323 2320 6065  )..```....### `e
-0001fb40: 7863 6570 7460 2053 7461 7465 6d65 6e74  xcept` Statement
-0001fb50: 730d 0a0d 0a50 7974 686f 6e20 3320 7265  s....Python 3 re
-0001fb60: 7175 6972 6573 2074 6861 7420 6966 206d  quires that if m
-0001fb70: 756c 7469 706c 6520 6578 6365 7074 696f  ultiple exceptio
-0001fb80: 6e73 2061 7265 2074 6f20 6265 2063 6175  ns are to be cau
-0001fb90: 6768 742c 2074 6865 7920 6d75 7374 2062  ght, they must b
-0001fba0: 6520 706c 6163 6564 2069 6e73 6964 6520  e placed inside 
-0001fbb0: 6f66 2070 6172 656e 7468 6573 6573 2c20  of parentheses, 
-0001fbc0: 736f 2061 7320 746f 2064 6973 616c 6c6f  so as to disallo
-0001fbd0: 7720 5079 7468 6f6e 2032 2773 2075 7365  w Python 2's use
-0001fbe0: 206f 6620 6120 636f 6d6d 6120 696e 7374   of a comma inst
-0001fbf0: 6561 6420 6f66 2060 6173 602e 2043 6f63  ead of `as`. Coc
-0001fc00: 6f6e 7574 2061 6c6c 6f77 7320 636f 6d6d  onut allows comm
-0001fc10: 6173 2069 6e20 6578 6365 7074 2073 7461  as in except sta
-0001fc20: 7465 6d65 6e74 7320 746f 2074 7261 6e73  tements to trans
-0001fc30: 6c61 7465 2074 6f20 6361 7463 6869 6e67  late to catching
-0001fc40: 206d 756c 7469 706c 6520 6578 6365 7074   multiple except
-0001fc50: 696f 6e73 2077 6974 686f 7574 2074 6865  ions without the
-0001fc60: 206e 6565 6420 666f 7220 7061 7265 6e74   need for parent
-0001fc70: 6865 7365 732c 2073 696e 6365 2c20 6173  heses, since, as
-0001fc80: 2069 6e20 5079 7468 6f6e 2033 2c20 6061   in Python 3, `a
-0001fc90: 7360 2069 7320 616c 7761 7973 2072 6571  s` is always req
-0001fca0: 7569 7265 6420 746f 2062 696e 6420 7468  uired to bind th
-0001fcb0: 6520 6578 6365 7074 696f 6e20 746f 2061  e exception to a
-0001fcc0: 206e 616d 652e 0d0a 0d0a 2323 2323 2320   name.....##### 
-0001fcd0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0001fce0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0001fcf0: 6e75 740d 0a74 7279 3a0d 0a20 2020 2075  nut..try:..    u
-0001fd00: 6e73 6166 655f 6675 6e63 2861 7267 290d  nsafe_func(arg).
-0001fd10: 0a65 7863 6570 7420 5379 6e74 6178 4572  .except SyntaxEr
-0001fd20: 726f 722c 2056 616c 7565 4572 726f 7220  ror, ValueError 
-0001fd30: 6173 2065 7272 3a0d 0a20 2020 2068 616e  as err:..    han
-0001fd40: 646c 6528 6572 7229 0d0a 6060 600d 0a0d  dle(err)..```...
-0001fd50: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-0001fd60: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0001fd70: 0a74 7279 3a0d 0a20 2020 2075 6e73 6166  .try:..    unsaf
-0001fd80: 655f 6675 6e63 2861 7267 290d 0a65 7863  e_func(arg)..exc
-0001fd90: 6570 7420 2853 796e 7461 7845 7272 6f72  ept (SyntaxError
-0001fda0: 2c20 5661 6c75 6545 7272 6f72 2920 6173  , ValueError) as
-0001fdb0: 2065 7272 3a0d 0a20 2020 2068 616e 646c   err:..    handl
-0001fdc0: 6528 6572 7229 0d0a 6060 600d 0a0d 0a23  e(err)..```....#
-0001fdd0: 2323 2049 6e2d 6c69 6e65 2060 676c 6f62  ## In-line `glob
-0001fde0: 616c 6020 416e 6420 606e 6f6e 6c6f 6361  al` And `nonloca
-0001fdf0: 6c60 2041 7373 6967 6e6d 656e 740d 0a0d  l` Assignment...
-0001fe00: 0a43 6f63 6f6e 7574 2061 6c6c 6f77 7320  .Coconut allows 
-0001fe10: 666f 7220 6067 6c6f 6261 6c60 206f 7220  for `global` or 
-0001fe20: 606e 6f6e 6c6f 6361 6c60 2074 6f20 7072  `nonlocal` to pr
-0001fe30: 6563 6564 6520 6173 7369 676e 6d65 6e74  ecede assignment
-0001fe40: 2074 6f20 6120 6c69 7374 206f 6620 7661   to a list of va
-0001fe50: 7269 6162 6c65 7320 6f72 2028 6175 676d  riables or (augm
-0001fe60: 656e 7465 6429 2061 7373 6967 6e6d 656e  ented) assignmen
-0001fe70: 7420 746f 2061 2076 6172 6961 626c 6520  t to a variable 
-0001fe80: 746f 206d 616b 6520 7468 6174 2061 7373  to make that ass
-0001fe90: 6967 6e6d 656e 7420 6067 6c6f 6261 6c60  ignment `global`
-0001fea0: 206f 7220 606e 6f6e 6c6f 6361 6c60 2c20   or `nonlocal`, 
-0001feb0: 7265 7370 6563 7469 7665 6c79 2e0d 0a0d  respectively....
-0001fec0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-0001fed0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-0001fee0: 6060 6063 6f63 6f6e 7574 0d0a 676c 6f62  ```coconut..glob
-0001fef0: 616c 2073 7461 7465 5f61 2c20 7374 6174  al state_a, stat
-0001ff00: 655f 6220 3d20 3130 2c20 3130 300d 0a67  e_b = 10, 100..g
-0001ff10: 6c6f 6261 6c20 7374 6174 655f 6320 2b3d  lobal state_c +=
-0001ff20: 2031 0d0a 6060 600d 0a0d 0a2a 2a50 7974   1..```....**Pyt
-0001ff30: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
-0001ff40: 7574 5f70 7974 686f 6e0d 0a67 6c6f 6261  ut_python..globa
-0001ff50: 6c20 7374 6174 655f 612c 2073 7461 7465  l state_a, state
-0001ff60: 5f62 3b20 7374 6174 655f 612c 2073 7461  _b; state_a, sta
-0001ff70: 7465 5f62 203d 2031 302c 2031 3030 0d0a  te_b = 10, 100..
-0001ff80: 676c 6f62 616c 2073 7461 7465 5f63 3b20  global state_c; 
-0001ff90: 7374 6174 655f 6320 2b3d 2031 0d0a 6060  state_c += 1..``
-0001ffa0: 600d 0a0d 0a23 2323 2043 6f64 6520 5061  `....### Code Pa
-0001ffb0: 7373 7468 726f 7567 680d 0a0d 0a43 6f63  ssthrough....Coc
-0001ffc0: 6f6e 7574 2073 7570 706f 7274 7320 7468  onut supports th
-0001ffd0: 6520 6162 696c 6974 7920 746f 2070 6173  e ability to pas
-0001ffe0: 7320 6172 6269 7472 6172 7920 636f 6465  s arbitrary code
-0001fff0: 2074 6872 6f75 6768 2074 6865 2063 6f6d   through the com
-00020000: 7069 6c65 7220 7769 7468 6f75 7420 6265  piler without be
-00020010: 696e 6720 746f 7563 6865 642c 2066 6f72  ing touched, for
-00020020: 2063 6f6d 7061 7469 6269 6c69 7479 2077   compatibility w
-00020030: 6974 6820 6f74 6865 7220 7661 7269 616e  ith other varian
-00020040: 7473 206f 6620 5079 7468 6f6e 2c20 7375  ts of Python, su
-00020050: 6368 2061 7320 5b43 7974 686f 6e5d 2868  ch as [Cython](h
-00020060: 7474 703a 2f2f 6379 7468 6f6e 2e6f 7267  ttp://cython.org
-00020070: 2f29 206f 7220 5b4d 7974 686f 6e5d 2868  /) or [Mython](h
-00020080: 7474 703a 2f2f 6d79 7468 6f6e 2e6f 7267  ttp://mython.org
-00020090: 2f29 2e20 416e 7974 6869 6e67 2070 6c61  /). Anything pla
-000200a0: 6365 6420 6265 7477 6565 6e20 605c 2860  ced between `\(`
-000200b0: 2061 6e64 2074 6865 2063 6f72 7265 7370   and the corresp
-000200c0: 6f6e 6469 6e67 2063 6c6f 7365 2070 6172  onding close par
-000200d0: 656e 7468 6573 6973 2077 696c 6c20 6265  enthesis will be
-000200e0: 2070 6173 7365 6420 7468 726f 7567 682c   passed through,
-000200f0: 2061 7320 7765 6c6c 2061 7320 616e 7920   as well as any 
-00020100: 6c69 6e65 2073 7461 7274 696e 6720 7769  line starting wi
-00020110: 7468 2060 5c5c 602c 2077 6869 6368 2077  th `\\`, which w
-00020120: 696c 6c20 6861 7665 2074 6865 2061 6464  ill have the add
-00020130: 6974 696f 6e61 6c20 6566 6665 6374 206f  itional effect o
-00020140: 6620 616c 6c6f 7769 6e67 2069 6e64 656e  f allowing inden
-00020150: 7461 7469 6f6e 2075 6e64 6572 2069 742e  tation under it.
-00020160: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-00020170: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-00020180: 2a0d 0a60 6060 636f 636f 6e75 740d 0a5c  *..```coconut..\
-00020190: 5c63 6465 6620 6628 7829 3a0d 0a20 2020  \cdef f(x):..   
-000201a0: 2072 6574 7572 6e20 7820 7c3e 2067 0d0a   return x |> g..
-000201b0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-000201c0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
-000201d0: 7974 686f 6e0d 0a63 6465 6620 6628 7829  ython..cdef f(x)
-000201e0: 3a0d 0a20 2020 2072 6574 7572 6e20 6728  :..    return g(
-000201f0: 7829 0d0a 6060 600d 0a0d 0a23 2323 2045  x)..```....### E
-00020200: 6e68 616e 6365 6420 5061 7265 6e74 6865  nhanced Parenthe
-00020210: 7469 6361 6c20 436f 6e74 696e 7561 7469  tical Continuati
-00020220: 6f6e 0d0a 0d0a 5369 6e63 6520 436f 636f  on....Since Coco
-00020230: 6e75 7420 7379 6e74 6178 2069 7320 6120  nut syntax is a 
-00020240: 7375 7065 7273 6574 206f 6620 5079 7468  superset of Pyth
-00020250: 6f6e 2033 2073 796e 7461 782c 2043 6f63  on 3 syntax, Coc
-00020260: 6f6e 7574 2073 7570 706f 7274 7320 7468  onut supports th
-00020270: 6520 7361 6d65 206c 696e 6520 636f 6e74  e same line cont
-00020280: 696e 7561 7469 6f6e 2073 796e 7461 7820  inuation syntax 
-00020290: 6173 2050 7974 686f 6e2e 2054 6861 7420  as Python. That 
-000202a0: 6d65 616e 7320 626f 7468 2062 6163 6b73  means both backs
-000202b0: 6c61 7368 206c 696e 6520 636f 6e74 696e  lash line contin
-000202c0: 7561 7469 6f6e 2061 6e64 2069 6d70 6c69  uation and impli
-000202d0: 6564 206c 696e 6520 636f 6e74 696e 7561  ed line continua
-000202e0: 7469 6f6e 2069 6e73 6964 6520 6f66 2070  tion inside of p
-000202f0: 6172 656e 7468 6573 6573 2c20 6272 6163  arentheses, brac
-00020300: 6b65 7473 2c20 6f72 2062 7261 6365 7320  kets, or braces 
-00020310: 7769 6c6c 2061 6c6c 2077 6f72 6b2e 0d0a  will all work...
-00020320: 0d0a 496e 2050 7974 686f 6e2c 2068 6f77  ..In Python, how
-00020330: 6576 6572 2c20 7468 6572 6520 6172 6520  ever, there are 
-00020340: 736f 6d65 2063 6173 6573 2028 7375 6368  some cases (such
-00020350: 2061 7320 6d75 6c74 6970 6c65 2060 7769   as multiple `wi
-00020360: 7468 6020 7374 6174 656d 656e 7473 2920  th` statements) 
-00020370: 7768 6572 6520 6f6e 6c79 2062 6163 6b73  where only backs
-00020380: 6c61 7368 2063 6f6e 7469 6e75 6174 696f  lash continuatio
-00020390: 6e2c 2061 6e64 206e 6f74 2070 6172 656e  n, and not paren
-000203a0: 7468 6574 6963 616c 2063 6f6e 7469 6e75  thetical continu
-000203b0: 6174 696f 6e2c 2069 7320 7375 7070 6f72  ation, is suppor
-000203c0: 7465 642e 2043 6f63 6f6e 7574 2061 6464  ted. Coconut add
-000203d0: 7320 7375 7070 6f72 7420 666f 7220 7061  s support for pa
-000203e0: 7265 6e74 6865 7469 6361 6c20 636f 6e74  renthetical cont
-000203f0: 696e 7561 7469 6f6e 2069 6e20 616c 6c20  inuation in all 
-00020400: 7468 6573 6520 6361 7365 732e 2054 6869  these cases. Thi
-00020410: 7320 616c 736f 2069 6e63 6c75 6465 7320  s also includes 
-00020420: 7375 7070 6f72 7420 6173 2070 6572 205b  support as per [
-00020430: 5045 5020 3637 395d 2868 7474 7073 3a2f  PEP 679](https:/
-00020440: 2f70 6570 732e 7079 7468 6f6e 2e6f 7267  /peps.python.org
-00020450: 2f70 6570 2d30 3637 3929 2066 6f72 2070  /pep-0679) for p
-00020460: 6172 656e 7468 6573 697a 6564 2060 6173  arenthesized `as
-00020470: 7365 7274 6020 7374 6174 656d 656e 7473  sert` statements
-00020480: 2e0d 0a0d 0a53 7570 706f 7274 696e 6720  .....Supporting 
-00020490: 7061 7265 6e74 6865 7469 6361 6c20 636f  parenthetical co
-000204a0: 6e74 696e 7561 7469 6f6e 2065 7665 7279  ntinuation every
-000204b0: 7768 6572 6520 616c 6c6f 7773 2074 6865  where allows the
-000204c0: 205b 5045 5020 385d 2868 7474 7073 3a2f   [PEP 8](https:/
-000204d0: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
-000204e0: 6465 762f 7065 7073 2f70 6570 2d30 3030  dev/peps/pep-000
-000204f0: 382f 2920 636f 6e76 656e 7469 6f6e 2c20  8/) convention, 
-00020500: 7768 6963 6820 6176 6f69 6473 2062 6163  which avoids bac
-00020510: 6b73 6c61 7368 2063 6f6e 7469 6e75 6174  kslash continuat
-00020520: 696f 6e20 696e 2066 6176 6f72 206f 6620  ion in favor of 
-00020530: 696d 706c 6965 6420 7061 7265 6e74 6865  implied parenthe
-00020540: 7469 6361 6c20 636f 6e74 696e 7561 7469  tical continuati
-00020550: 6f6e 2c20 746f 2061 6c77 6179 7320 6265  on, to always be
-00020560: 2070 6f73 7369 626c 6520 746f 2066 6f6c   possible to fol
-00020570: 6c6f 772e 2046 726f 6d20 5045 5020 383a  low. From PEP 8:
-00020580: 0d0a 0d0a 3e20 5468 6520 7072 6566 6572  ....> The prefer
-00020590: 7265 6420 7761 7920 6f66 2077 7261 7070  red way of wrapp
-000205a0: 696e 6720 6c6f 6e67 206c 696e 6573 2069  ing long lines i
-000205b0: 7320 6279 2075 7369 6e67 2050 7974 686f  s by using Pytho
-000205c0: 6e27 7320 696d 706c 6965 6420 6c69 6e65  n's implied line
-000205d0: 2063 6f6e 7469 6e75 6174 696f 6e20 696e   continuation in
-000205e0: 7369 6465 2070 6172 656e 7468 6573 6573  side parentheses
-000205f0: 2c20 6272 6163 6b65 7473 2061 6e64 2062  , brackets and b
-00020600: 7261 6365 732e 204c 6f6e 6720 6c69 6e65  races. Long line
-00020610: 7320 6361 6e20 6265 2062 726f 6b65 6e20  s can be broken 
-00020620: 6f76 6572 206d 756c 7469 706c 6520 6c69  over multiple li
-00020630: 6e65 7320 6279 2077 7261 7070 696e 6720  nes by wrapping 
-00020640: 6578 7072 6573 7369 6f6e 7320 696e 2070  expressions in p
-00020650: 6172 656e 7468 6573 6573 2e20 5468 6573  arentheses. Thes
-00020660: 6520 7368 6f75 6c64 2062 6520 7573 6564  e should be used
-00020670: 2069 6e20 7072 6566 6572 656e 6365 2074   in preference t
-00020680: 6f20 7573 696e 6720 6120 6261 636b 736c  o using a backsl
-00020690: 6173 6820 666f 7220 6c69 6e65 2063 6f6e  ash for line con
-000206a0: 7469 6e75 6174 696f 6e2e 0d0a 0d0a 5f4e  tinuation....._N
-000206b0: 6f74 653a 2050 6173 7369 6e67 2060 2d2d  ote: Passing `--
-000206c0: 7374 7269 6374 6020 7769 6c6c 2065 6e66  strict` will enf
-000206d0: 6f72 6365 2074 6865 2050 4550 2038 2063  orce the PEP 8 c
-000206e0: 6f6e 7665 6e74 696f 6e20 6279 2064 6973  onvention by dis
-000206f0: 616c 6c6f 7769 6e67 2062 6163 6b73 6c61  allowing backsla
-00020700: 7368 2063 6f6e 7469 6e75 6174 696f 6e73  sh continuations
-00020710: 2e5f 0d0a 0d0a 2323 2323 2320 4578 616d  ._....##### Exam
-00020720: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
-00020730: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-00020740: 0a77 6974 6820 286f 7065 6e28 272f 7061  .with (open('/pa
-00020750: 7468 2f74 6f2f 736f 6d65 2f66 696c 652f  th/to/some/file/
-00020760: 796f 752f 7761 6e74 2f74 6f2f 7265 6164  you/want/to/read
-00020770: 2729 2061 7320 6669 6c65 5f31 2c0d 0a20  ') as file_1,.. 
-00020780: 2020 2020 206f 7065 6e28 272f 7061 7468       open('/path
-00020790: 2f74 6f2f 736f 6d65 2f66 696c 652f 6265  /to/some/file/be
-000207a0: 696e 672f 7772 6974 7465 6e27 2c20 2777  ing/written', 'w
-000207b0: 2729 2061 7320 6669 6c65 5f32 293a 0d0a  ') as file_2):..
-000207c0: 2020 2020 6669 6c65 5f32 2e77 7269 7465      file_2.write
-000207d0: 2866 696c 655f 312e 7265 6164 2829 290d  (file_1.read()).
-000207e0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-000207f0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
-00020800: 7079 7468 6f6e 0d0a 2320 7370 6c69 7420  python..# split 
-00020810: 696e 746f 2074 776f 2077 6974 6820 7374  into two with st
-00020820: 6174 656d 656e 7473 2066 6f72 2050 7974  atements for Pyt
-00020830: 686f 6e20 322e 3620 636f 6d70 6174 6962  hon 2.6 compatib
-00020840: 696c 6974 790d 0a77 6974 6820 6f70 656e  ility..with open
-00020850: 2827 2f70 6174 682f 746f 2f73 6f6d 652f  ('/path/to/some/
-00020860: 6669 6c65 2f79 6f75 2f77 616e 742f 746f  file/you/want/to
-00020870: 2f72 6561 6427 2920 6173 2066 696c 655f  /read') as file_
-00020880: 313a 0d0a 2020 2020 7769 7468 206f 7065  1:..    with ope
-00020890: 6e28 272f 7061 7468 2f74 6f2f 736f 6d65  n('/path/to/some
-000208a0: 2f66 696c 652f 6265 696e 672f 7772 6974  /file/being/writ
-000208b0: 7465 6e27 2c20 2777 2729 2061 7320 6669  ten', 'w') as fi
-000208c0: 6c65 5f32 3a0d 0a20 2020 2020 2020 2066  le_2:..        f
-000208d0: 696c 655f 322e 7772 6974 6528 6669 6c65  ile_2.write(file
-000208e0: 5f31 2e72 6561 6428 2929 0d0a 6060 600d  _1.read())..```.
-000208f0: 0a0d 0a23 2323 2041 7373 6967 6e6d 656e  ...### Assignmen
-00020900: 7420 4578 7072 6573 7369 6f6e 2043 6861  t Expression Cha
-00020910: 696e 696e 670d 0a0d 0a55 6e6c 696b 6520  ining....Unlike 
-00020920: 5079 7468 6f6e 2c20 436f 636f 6e75 7420  Python, Coconut 
-00020930: 616c 6c6f 7773 2061 7373 6967 6e6d 656e  allows assignmen
-00020940: 7420 6578 7072 6573 7369 6f6e 7320 746f  t expressions to
-00020950: 2062 6520 6368 6169 6e65 642c 2061 7320   be chained, as 
-00020960: 696e 2060 6120 3a3d 2062 203a 3d20 6360  in `a := b := c`
-00020970: 2e20 4e6f 7465 2c20 686f 7765 7665 722c  . Note, however,
-00020980: 2074 6861 7420 6173 7369 676e 6d65 6e74   that assignment
-00020990: 2065 7870 7265 7373 696f 6e73 2069 6e20   expressions in 
-000209a0: 6765 6e65 7261 6c20 6172 6520 6375 7272  general are curr
-000209b0: 656e 746c 7920 6f6e 6c79 2073 7570 706f  ently only suppo
-000209c0: 7274 6564 206f 6e20 602d 2d74 6172 6765  rted on `--targe
-000209d0: 7420 332e 3860 206f 7220 6869 6768 6572  t 3.8` or higher
-000209e0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-000209f0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-00020a00: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-00020a10: 2861 203a 3d20 6220 3a3d 2031 290d 0a60  (a := b := 1)..`
-00020a20: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-00020a30: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-00020a40: 7468 6f6e 0d0a 2861 203a 3d20 2862 203a  thon..(a := (b :
-00020a50: 3d20 3129 290d 0a60 6060 0d0a 0d0a 2323  = 1))..```....##
-00020a60: 2042 7569 6c74 2d49 6e73 0d0a 0d0a 6060   Built-Ins....``
-00020a70: 607b 636f 6e74 656e 7473 7d0d 0a2d 2d2d  `{contents}..---
-00020a80: 0d0a 6c6f 6361 6c3a 0d0a 6465 7074 683a  ..local:..depth:
-00020a90: 2032 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a   2..---..```....
-00020aa0: 2323 2320 4275 696c 742d 496e 2046 756e  ### Built-In Fun
-00020ab0: 6374 696f 6e20 4465 636f 7261 746f 7273  ction Decorators
-00020ac0: 0d0a 0d0a 6060 607b 636f 6e74 656e 7473  ....```{contents
-00020ad0: 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a  }..---..local:..
-00020ae0: 6465 7074 683a 2031 0d0a 2d2d 2d0d 0a60  depth: 1..---..`
-00020af0: 6060 0d0a 0d0a 2323 2323 2060 6164 6470  ``....#### `addp
-00020b00: 6174 7465 726e 600d 0a0d 0a2a 2a61 6464  attern`....**add
-00020b10: 7061 7474 6572 6e2a 2a28 5f62 6173 655c  pattern**(_base\
-00020b20: 5f66 756e 635f 2c20 2a5f 6164 645c 5f66  _func_, *_add\_f
-00020b30: 756e 6373 5f2c 205f 616c 6c6f 775c 5f61  uncs_, _allow\_a
-00020b40: 6e79 5c5f 6675 6e63 5f3d 6046 616c 7365  ny\_func_=`False
-00020b50: 6029 0d0a 0d0a 5461 6b65 7320 6f6e 6520  `)....Takes one 
-00020b60: 6172 6775 6d65 6e74 2074 6861 7420 6973  argument that is
-00020b70: 2061 205b 7061 7474 6572 6e2d 6d61 7463   a [pattern-matc
-00020b80: 6869 6e67 2066 756e 6374 696f 6e5d 2823  hing function](#
-00020b90: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-00020ba0: 2d66 756e 6374 696f 6e73 292c 2061 6e64  -functions), and
-00020bb0: 2072 6574 7572 6e73 2061 2064 6563 6f72   returns a decor
-00020bc0: 6174 6f72 2074 6861 7420 6164 6473 2074  ator that adds t
-00020bd0: 6865 2070 6174 7465 726e 7320 696e 2074  he patterns in t
-00020be0: 6865 2065 7869 7374 696e 6720 6675 6e63  he existing func
-00020bf0: 7469 6f6e 2074 6f20 7468 6520 6e65 7720  tion to the new 
-00020c00: 6675 6e63 7469 6f6e 2062 6569 6e67 2064  function being d
-00020c10: 6563 6f72 6174 6564 2c20 7768 6572 6520  ecorated, where 
-00020c20: 7468 6520 6578 6973 7469 6e67 2070 6174  the existing pat
-00020c30: 7465 726e 7320 6172 6520 6368 6563 6b65  terns are checke
-00020c40: 6420 6669 7273 742c 2074 6865 6e20 7468  d first, then th
-00020c50: 6520 6e65 772e 2060 6164 6470 6174 7465  e new. `addpatte
-00020c60: 726e 6020 616c 736f 2073 7570 706f 7274  rn` also support
-00020c70: 7320 6120 7368 6f72 7463 7574 2073 796e  s a shortcut syn
-00020c80: 7461 7820 7768 6572 6520 7468 6520 6e65  tax where the ne
-00020c90: 7720 7061 7474 6572 6e73 2063 616e 2062  w patterns can b
-00020ca0: 6520 7061 7373 6564 2069 6e20 6469 7265  e passed in dire
-00020cb0: 6374 6c79 2e0d 0a0d 0a52 6f75 6768 6c79  ctly.....Roughly
-00020cc0: 2065 7175 6976 616c 656e 7420 746f 3a0d   equivalent to:.
-00020cd0: 0a60 6060 0d0a 6465 6620 5f70 6174 7465  .```..def _patte
-00020ce0: 726e 5f61 6464 6572 2862 6173 655f 6675  rn_adder(base_fu
-00020cf0: 6e63 2c20 6164 645f 6675 6e63 293a 0d0a  nc, add_func):..
-00020d00: 2020 2020 6465 6620 6164 645f 7061 7474      def add_patt
-00020d10: 6572 6e5f 6675 6e63 282a 6172 6773 2c20  ern_func(*args, 
-00020d20: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
-00020d30: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-00020d40: 2020 2020 2020 7265 7475 726e 2062 6173        return bas
-00020d50: 655f 6675 6e63 282a 6172 6773 2c20 2a2a  e_func(*args, **
-00020d60: 6b77 6172 6773 290d 0a20 2020 2020 2020  kwargs)..       
-00020d70: 2065 7863 6570 7420 4d61 7463 6845 7272   except MatchErr
-00020d80: 6f72 3a0d 0a20 2020 2020 2020 2020 2020  or:..           
-00020d90: 2072 6574 7572 6e20 6164 645f 6675 6e63   return add_func
-00020da0: 282a 6172 6773 2c20 2a2a 6b77 6172 6773  (*args, **kwargs
-00020db0: 290d 0a20 2020 2072 6574 7572 6e20 6164  )..    return ad
-00020dc0: 645f 7061 7474 6572 6e5f 6675 6e63 0d0a  d_pattern_func..
-00020dd0: 6465 6620 6164 6470 6174 7465 726e 2862  def addpattern(b
-00020de0: 6173 655f 6675 6e63 2c20 2a61 6464 5f66  ase_func, *add_f
-00020df0: 756e 6373 2c20 616c 6c6f 775f 616e 795f  uncs, allow_any_
-00020e00: 6675 6e63 3d46 616c 7365 293a 0d0a 2020  func=False):..  
-00020e10: 2020 2222 2244 6563 6f72 6174 6f72 2074    """Decorator t
-00020e20: 6f20 6164 6420 6120 6e65 7720 6361 7365  o add a new case
-00020e30: 2074 6f20 6120 7061 7474 6572 6e2d 6d61   to a pattern-ma
-00020e40: 7463 6869 6e67 2066 756e 6374 696f 6e20  tching function 
-00020e50: 2877 6865 7265 2074 6865 206e 6577 2063  (where the new c
-00020e60: 6173 6520 6973 2063 6865 636b 6564 206c  ase is checked l
-00020e70: 6173 7429 2e0d 0a0d 0a20 2020 2050 6173  ast).....    Pas
-00020e80: 7320 616c 6c6f 775f 616e 795f 6675 6e63  s allow_any_func
-00020e90: 3d54 7275 6520 746f 2061 6c6c 6f77 2061  =True to allow a
-00020ea0: 6e79 206f 626a 6563 7420 6173 2074 6865  ny object as the
-00020eb0: 2062 6173 655f 6675 6e63 2072 6174 6865   base_func rathe
-00020ec0: 7220 7468 616e 206a 7573 7420 7061 7474  r than just patt
-00020ed0: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
-00020ee0: 6374 696f 6e73 2e0d 0a20 2020 2049 6620  ctions...    If 
-00020ef0: 6164 645f 6675 6e63 2069 7320 7061 7373  add_func is pass
-00020f00: 6564 2c20 6164 6470 6174 7465 726e 2862  ed, addpattern(b
-00020f10: 6173 655f 6675 6e63 2c20 6164 645f 6675  ase_func, add_fu
-00020f20: 6e63 2920 6973 2065 7175 6976 616c 656e  nc) is equivalen
-00020f30: 7420 746f 2061 6464 7061 7474 6572 6e28  t to addpattern(
-00020f40: 6261 7365 5f66 756e 6329 2861 6464 5f66  base_func)(add_f
-00020f50: 756e 6329 2e0d 0a20 2020 2022 2222 0d0a  unc)...    """..
-00020f60: 2020 2020 6966 206e 6f74 2061 6464 5f66      if not add_f
-00020f70: 756e 6373 3a0d 0a20 2020 2020 2020 2072  uncs:..        r
-00020f80: 6574 7572 6e20 6164 6470 6174 7465 726e  eturn addpattern
-00020f90: 2428 6261 7365 5f66 756e 6329 0d0a 2020  $(base_func)..  
-00020fa0: 2020 666f 7220 6164 645f 6675 6e63 2069    for add_func i
-00020fb0: 6e20 6164 645f 6675 6e63 733a 0d0a 2020  n add_funcs:..  
-00020fc0: 2020 2020 2020 6261 7365 5f66 756e 6320        base_func 
-00020fd0: 3d20 7061 7474 6572 6e5f 6164 6465 7228  = pattern_adder(
-00020fe0: 6261 7365 5f66 756e 632c 2061 6464 5f66  base_func, add_f
-00020ff0: 756e 6329 0d0a 2020 2020 7265 7475 726e  unc)..    return
-00021000: 2062 6173 655f 6675 6e63 0d0a 6060 600d   base_func..```.
-00021010: 0a0d 0a49 6620 796f 7520 7761 6e74 2074  ...If you want t
-00021020: 6f20 6769 7665 2061 6e20 6061 6464 7061  o give an `addpa
-00021030: 7474 6572 6e60 2066 756e 6374 696f 6e20  ttern` function 
-00021040: 6120 646f 6373 7472 696e 672c 206d 616b  a docstring, mak
-00021050: 6520 7375 7265 2074 6f20 7075 7420 6974  e sure to put it
-00021060: 206f 6e20 7468 6520 5f6c 6173 745f 2066   on the _last_ f
-00021070: 756e 6374 696f 6e2e 0d0a 0d0a 4e6f 7465  unction.....Note
-00021080: 2074 6861 7420 7468 6520 6675 6e63 7469   that the functi
-00021090: 6f6e 2074 616b 656e 2062 7920 6061 6464  on taken by `add
-000210a0: 7061 7474 6572 6e60 206d 7573 7420 6265  pattern` must be
-000210b0: 2061 2070 6174 7465 726e 2d6d 6174 6368   a pattern-match
-000210c0: 696e 6720 6675 6e63 7469 6f6e 2e20 4966  ing function. If
-000210d0: 2060 6164 6470 6174 7465 726e 6020 7265   `addpattern` re
-000210e0: 6365 6976 6573 2061 206e 6f6e 2070 6174  ceives a non pat
-000210f0: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
-00021100: 6e63 7469 6f6e 2c20 7468 6520 6675 6e63  nction, the func
-00021110: 7469 6f6e 2077 6974 6820 6e6f 7420 7261  tion with not ra
-00021120: 6973 6520 604d 6174 6368 4572 726f 7260  ise `MatchError`
-00021130: 2c20 616e 6420 6061 6464 7061 7474 6572  , and `addpatter
-00021140: 6e60 2077 6f6e 2774 2062 6520 6162 6c65  n` won't be able
-00021150: 2074 6f20 6465 7465 6374 2074 6865 2066   to detect the f
-00021160: 6169 6c65 6420 6d61 7463 682e 2054 6875  ailed match. Thu
-00021170: 732c 2069 6620 6120 6c61 7465 7220 6675  s, if a later fu
-00021180: 6e63 7469 6f6e 2077 6173 206d 6561 6e74  nction was meant
-00021190: 2074 6f20 6265 2063 616c 6c65 642c 2060   to be called, `
-000211a0: 6164 6470 6174 7465 726e 6020 7769 6c6c  addpattern` will
-000211b0: 206e 6f74 206b 6e6f 7720 7468 6174 2074   not know that t
-000211c0: 6865 2066 6972 7374 206d 6174 6368 2066  he first match f
-000211d0: 6169 6c65 6420 616e 6420 7468 6520 636f  ailed and the co
-000211e0: 7272 6563 7420 7061 7468 2077 696c 6c20  rrect path will 
-000211f0: 6e65 7665 7220 6265 2072 6561 6368 6564  never be reached
-00021200: 2e0d 0a0d 0a46 6f72 2065 7861 6d70 6c65  .....For example
-00021210: 2c20 7468 6520 666f 6c6c 6f77 696e 6720  , the following 
-00021220: 636f 6465 2072 6169 7365 7320 6120 6054  code raises a `T
-00021230: 7970 6545 7272 6f72 603a 0d0a 6060 6063  ypeError`:..```c
-00021240: 6f63 6f6e 7574 0d0a 6465 6620 7072 696e  oconut..def prin
-00021250: 745f 7479 7065 2829 3a0d 0a20 2020 2070  t_type():..    p
-00021260: 7269 6e74 2822 5265 6365 6976 6564 206e  rint("Received n
-00021270: 6f20 6172 6775 6d65 6e74 732e 2229 0d0a  o arguments.")..
-00021280: 0d0a 4061 6464 7061 7474 6572 6e28 7072  ..@addpattern(pr
-00021290: 696e 745f 7479 7065 290d 0a64 6566 2070  int_type)..def p
-000212a0: 7269 6e74 5f74 7970 6528 696e 7428 2929  rint_type(int())
-000212b0: 3a0d 0a20 2020 2070 7269 6e74 2822 5265  :..    print("Re
-000212c0: 6365 6976 6564 2061 6e20 696e 742e 2229  ceived an int.")
-000212d0: 0d0a 0d0a 7072 696e 745f 7479 7065 2829  ....print_type()
-000212e0: 2020 2320 6170 7065 6172 7320 746f 2077    # appears to w
-000212f0: 6f72 6b0d 0a70 7269 6e74 5f74 7970 6528  ork..print_type(
-00021300: 3129 2023 2054 7970 6545 7272 6f72 3a20  1) # TypeError: 
-00021310: 7072 696e 745f 7479 7065 2829 2074 616b  print_type() tak
-00021320: 6573 2030 2070 6f73 6974 696f 6e61 6c20  es 0 positional 
-00021330: 6172 6775 6d65 6e74 7320 6275 7420 3120  arguments but 1 
-00021340: 7761 7320 6769 7665 6e0d 0a60 6060 0d0a  was given..```..
-00021350: 0d0a 5468 6973 2063 616e 2062 6520 6669  ..This can be fi
-00021360: 7865 6420 6279 2075 7369 6e67 2065 6974  xed by using eit
-00021370: 6865 7220 7468 6520 606d 6174 6368 6020  her the `match` 
-00021380: 6f72 2060 6164 6470 6174 7465 726e 6020  or `addpattern` 
-00021390: 6b65 7977 6f72 642e 2046 6f72 2065 7861  keyword. For exa
-000213a0: 6d70 6c65 3a0d 0a60 6060 636f 636f 6e75  mple:..```coconu
-000213b0: 740d 0a6d 6174 6368 2064 6566 2070 7269  t..match def pri
-000213c0: 6e74 5f74 7970 6528 293a 0d0a 2020 2020  nt_type():..    
-000213d0: 7072 696e 7428 2252 6563 6569 7665 6420  print("Received 
-000213e0: 6e6f 2061 7267 756d 656e 7473 2e22 290d  no arguments.").
-000213f0: 0a0d 0a61 6464 7061 7474 6572 6e20 6465  ...addpattern de
-00021400: 6620 7072 696e 745f 7479 7065 2869 6e74  f print_type(int
-00021410: 2829 293a 0d0a 2020 2020 7072 696e 7428  ()):..    print(
-00021420: 2252 6563 6569 7665 6420 616e 2069 6e74  "Received an int
-00021430: 2e22 290d 0a0d 0a70 7269 6e74 5f74 7970  .")....print_typ
-00021440: 6528 3129 2020 2320 576f 726b 7320 6173  e(1)  # Works as
-00021450: 2065 7870 6563 7465 640d 0a70 7269 6e74   expected..print
-00021460: 5f74 7970 6528 2254 6869 7320 6973 2061  _type("This is a
-00021470: 2073 7472 696e 672e 2229 2023 2052 6169   string.") # Rai
-00021480: 7365 7320 4d61 7463 6845 7272 6f72 0d0a  ses MatchError..
-00021490: 6060 600d 0a0d 0a54 6865 206c 6173 7420  ```....The last 
-000214a0: 6361 7365 2069 6e20 616e 2060 6164 6470  case in an `addp
-000214b0: 6174 7465 726e 6020 6675 6e63 7469 6f6e  attern` function
-000214c0: 2c20 686f 7765 7665 722c 2064 6f65 736e  , however, doesn
-000214d0: 2774 2068 6176 6520 746f 2062 6520 6120  't have to be a 
-000214e0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
-000214f0: 2066 756e 6374 696f 6e20 6966 2069 7420   function if it 
-00021500: 6973 2069 6e74 656e 6465 6420 746f 2063  is intended to c
-00021510: 6174 6368 2061 6c6c 2072 656d 6169 6e69  atch all remaini
-00021520: 6e67 2063 6173 6573 2e0d 0a0d 0a54 6f20  ng cases.....To 
-00021530: 6361 7463 6820 7468 6973 206d 6973 7461  catch this mista
-00021540: 6b65 2c20 6061 6464 7061 7474 6572 6e60  ke, `addpattern`
-00021550: 2077 696c 6c20 656d 6974 2061 2077 6172   will emit a war
-00021560: 6e69 6e67 2069 6620 7061 7373 6564 2077  ning if passed w
-00021570: 6861 7420 6974 2062 656c 6965 7665 7320  hat it believes 
-00021580: 746f 2062 6520 6120 6e6f 6e2d 7061 7474  to be a non-patt
-00021590: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
-000215a0: 6374 696f 6e2e 2048 6f77 6576 6572 2c20  ction. However, 
-000215b0: 7468 6973 2077 6172 6e69 6e67 2063 616e  this warning can
-000215c0: 2073 6f6d 6574 696d 6573 2062 6520 6572   sometimes be er
-000215d0: 726f 6e65 6f75 7320 6966 2074 6865 206f  roneous if the o
-000215e0: 7269 6769 6e61 6c20 7061 7474 6572 6e2d  riginal pattern-
-000215f0: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
-00021600: 6e20 6861 7320 6265 656e 2077 7261 7070  n has been wrapp
-00021610: 6564 2069 6e20 736f 6d65 2077 6179 2c20  ed in some way, 
-00021620: 696e 2077 6869 6368 2063 6173 6520 796f  in which case yo
-00021630: 7520 6361 6e20 7061 7373 2060 616c 6c6f  u can pass `allo
-00021640: 775f 616e 795f 6675 6e63 3d54 7275 6560  w_any_func=True`
-00021650: 2074 6f20 6469 736d 6973 7320 7468 6520   to dismiss the 
-00021660: 7761 726e 696e 672e 0d0a 0d0a 2323 2323  warning.....####
-00021670: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-00021680: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-00021690: 636f 6e75 740d 0a64 6566 2066 6163 746f  conut..def facto
-000216a0: 7269 616c 2830 2920 3d20 310d 0a0d 0a40  rial(0) = 1....@
-000216b0: 6164 6470 6174 7465 726e 2866 6163 746f  addpattern(facto
-000216c0: 7269 616c 290d 0a64 6566 2066 6163 746f  rial)..def facto
-000216d0: 7269 616c 286e 2920 3d20 6e20 2a20 6661  rial(n) = n * fa
-000216e0: 6374 6f72 6961 6c28 6e20 2d20 3129 0d0a  ctorial(n - 1)..
-000216f0: 6060 600d 0a5f 5369 6d70 6c65 2065 7861  ```.._Simple exa
-00021700: 6d70 6c65 206f 6620 6164 6469 6e67 2061  mple of adding a
-00021710: 206e 6577 2070 6174 7465 726e 2074 6f20   new pattern to 
-00021720: 6120 7061 7474 6572 6e2d 6d61 7463 6869  a pattern-matchi
-00021730: 6e67 2066 756e 6374 696f 6e2e 5f0d 0a0d  ng function._...
-00021740: 0a60 6060 636f 636f 6e75 740d 0a22 5b41  .```coconut.."[A
-00021750: 5d2c 205b 425d 2220 7c3e 2077 696e 646f  ], [B]" |> windo
-00021760: 7773 6f66 2428 3329 207c 3e20 6d61 7024  wsof$(3) |> map$
-00021770: 2861 6464 7061 7474 6572 6e28 0d0a 2020  (addpattern(..  
-00021780: 2020 2864 6566 2028 2822 5b22 2c22 4122    (def (("[","A"
-00021790: 2c22 5d22 2929 202d 3e20 2241 2229 2c0d  ,"]")) -> "A"),.
-000217a0: 0a20 2020 2028 6465 6620 2828 225b 222c  .    (def (("[",
-000217b0: 2242 222c 225d 2229 2920 2d3e 2022 4222  "B","]")) -> "B"
-000217c0: 292c 0d0a 2020 2020 2864 6566 2028 285f  ),..    (def ((_
-000217d0: 2c5f 2c5f 2929 202d 3e20 4e6f 6e65 292c  ,_,_)) -> None),
-000217e0: 0d0a 2929 207c 3e20 6669 6c74 6572 2428  ..)) |> filter$(
-000217f0: 282e 6973 204e 6f6e 6529 202e 2e3e 2028  (.is None) ..> (
-00021800: 6e6f 7429 2920 7c3e 206c 6973 7420 7c3e  not)) |> list |>
-00021810: 2070 7269 6e74 0d0a 6060 600d 0a5f 416e   print..```.._An
-00021820: 2065 7861 6d70 6c65 206f 6620 6120 6361   example of a ca
-00021830: 7365 2077 6865 7265 2075 7369 6e67 2074  se where using t
-00021840: 6865 2060 6164 6470 6174 7465 726e 6020  he `addpattern` 
-00021850: 6675 6e63 7469 6f6e 2069 7320 6e65 6365  function is nece
-00021860: 7373 6172 7920 6f76 6572 2074 6865 205b  ssary over the [
-00021870: 6061 6464 7061 7474 6572 6e60 206b 6579  `addpattern` key
-00021880: 776f 7264 5d28 2361 6464 7061 7474 6572  word](#addpatter
-00021890: 6e2d 6675 6e63 7469 6f6e 7329 2064 7565  n-functions) due
-000218a0: 2074 6f20 7468 6520 7573 6520 6f66 2069   to the use of i
-000218b0: 6e2d 6c69 6e65 2070 6174 7465 726e 2d6d  n-line pattern-m
-000218c0: 6174 6368 696e 6720 5b73 7461 7465 6d65  atching [stateme
-000218d0: 6e74 206c 616d 6264 6173 5d28 2373 7461  nt lambdas](#sta
-000218e0: 7465 6d65 6e74 2d6c 616d 6264 6173 292e  tement-lambdas).
-000218f0: 5f0d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  _....**Python:**
-00021900: 0d0a 5f43 616e 2774 2062 6520 646f 6e65  .._Can't be done
-00021910: 2077 6974 686f 7574 2061 2063 6f6d 706c   without a compl
-00021920: 6963 6174 6564 2064 6563 6f72 6174 6f72  icated decorator
-00021930: 2064 6566 696e 6974 696f 6e20 616e 6420   definition and 
-00021940: 6120 6c6f 6e67 2073 6572 6965 7320 6f66  a long series of
-00021950: 2063 6865 636b 7320 666f 7220 6561 6368   checks for each
-00021960: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
-00021970: 672e 2053 6565 2074 6865 2063 6f6d 7069  g. See the compi
-00021980: 6c65 6420 636f 6465 2066 6f72 2074 6865  led code for the
-00021990: 2050 7974 686f 6e20 7379 6e74 6178 2e5f   Python syntax._
-000219a0: 0d0a 0d0a 2323 2323 2320 6070 7265 7061  ....##### `prepa
-000219b0: 7474 6572 6e60 0d0a 0d0a 2a2a 4445 5052  ttern`....**DEPR
-000219c0: 4543 4154 4544 3a2a 2a20 436f 636f 6e75  ECATED:** Coconu
-000219d0: 7420 616c 736f 2068 6173 2061 2060 7072  t also has a `pr
-000219e0: 6570 6174 7465 726e 6020 6275 696c 742d  epattern` built-
-000219f0: 696e 2c20 7768 6963 6820 6164 6473 2070  in, which adds p
-00021a00: 6174 7465 726e 7320 696e 2074 6865 206f  atterns in the o
-00021a10: 7070 6f73 6974 6520 6f72 6465 7220 6f66  pposite order of
-00021a20: 2060 6164 6470 6174 7465 726e 603b 2060   `addpattern`; `
-00021a30: 7072 6570 6174 7465 726e 6020 6973 2064  prepattern` is d
-00021a40: 6566 696e 6564 2061 733a 0d0a 0d0a 6060  efined as:....``
-00021a50: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-00021a60: 0a64 6566 2070 7265 7061 7474 6572 6e28  .def prepattern(
-00021a70: 6261 7365 5f66 756e 6329 3a0d 0a20 2020  base_func):..   
-00021a80: 2022 2222 4465 636f 7261 746f 7220 746f   """Decorator to
-00021a90: 2061 6464 2061 206e 6577 2063 6173 6520   add a new case 
-00021aa0: 746f 2061 2070 6174 7465 726e 2d6d 6174  to a pattern-mat
-00021ab0: 6368 696e 6720 6675 6e63 7469 6f6e 2c0d  ching function,.
-00021ac0: 0a20 2020 2077 6865 7265 2074 6865 206e  .    where the n
-00021ad0: 6577 2063 6173 6520 6973 2063 6865 636b  ew case is check
-00021ae0: 6564 2066 6972 7374 2e22 2222 0d0a 2020  ed first."""..  
-00021af0: 2020 6465 6620 7061 7474 6572 6e5f 7072    def pattern_pr
-00021b00: 6570 656e 6465 7228 6675 6e63 293a 0d0a  epender(func):..
-00021b10: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00021b20: 6464 7061 7474 6572 6e28 6675 6e63 2928  ddpattern(func)(
-00021b30: 6261 7365 5f66 756e 6329 0d0a 2020 2020  base_func)..    
-00021b40: 7265 7475 726e 2070 6174 7465 726e 5f70  return pattern_p
-00021b50: 7265 7065 6e64 6572 0d0a 6060 600d 0a5f  repender..```.._
-00021b60: 4e6f 7465 3a20 5061 7373 696e 6720 602d  Note: Passing `-
-00021b70: 2d73 7472 6963 7460 2064 6973 6162 6c65  -strict` disable
-00021b80: 7320 6465 7072 6563 6174 6564 2066 6561  s deprecated fea
-00021b90: 7475 7265 732e 5f0d 0a0d 0a23 2323 2320  tures._....#### 
-00021ba0: 606d 656d 6f69 7a65 600d 0a0d 0a2a 2a6d  `memoize`....**m
-00021bb0: 656d 6f69 7a65 2a2a 285f 6d61 7873 697a  emoize**(_maxsiz
-00021bc0: 655f 3d60 4e6f 6e65 602c 205f 7479 7065  e_=`None`, _type
-00021bd0: 645f 3d60 4661 6c73 6560 290d 0a0d 0a2a  d_=`False`)....*
-00021be0: 2a6d 656d 6f69 7a65 2a2a 285f 7573 6572  *memoize**(_user
-00021bf0: 5c5f 6675 6e63 7469 6f6e 5f29 0d0a 0d0a  \_function_)....
-00021c00: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
-00021c10: 2060 6675 6e63 746f 6f6c 732e 6c72 755f   `functools.lru_
-00021c20: 6361 6368 6560 2061 7320 6120 6275 696c  cache` as a buil
-00021c30: 742d 696e 2075 6e64 6572 2074 6865 206e  t-in under the n
-00021c40: 616d 6520 606d 656d 6f69 7a65 6020 7769  ame `memoize` wi
-00021c50: 7468 2074 6865 206d 6f64 6966 6963 6174  th the modificat
-00021c60: 696f 6e20 7468 6174 2074 6865 205f 6d61  ion that the _ma
-00021c70: 7873 697a 655f 2070 6172 616d 6574 6572  xsize_ parameter
-00021c80: 2069 7320 7365 7420 746f 2060 4e6f 6e65   is set to `None
-00021c90: 6020 6279 2064 6566 6175 6c74 2e20 606d  ` by default. `m
-00021ca0: 656d 6f69 7a65 6020 6d61 6b65 7320 7468  emoize` makes th
-00021cb0: 6520 7573 6520 6361 7365 206f 6620 6f70  e use case of op
-00021cc0: 7469 6d69 7a69 6e67 2072 6563 7572 7369  timizing recursi
-00021cd0: 7665 2066 756e 6374 696f 6e73 2065 6173  ve functions eas
-00021ce0: 6965 722c 2061 7320 6120 5f6d 6178 7369  ier, as a _maxsi
-00021cf0: 7a65 5f20 6f66 2060 4e6f 6e65 6020 6973  ze_ of `None` is
-00021d00: 2075 7375 616c 6c79 2077 6861 7420 6973   usually what is
-00021d10: 2064 6573 6972 6564 2069 6e20 7468 6174   desired in that
-00021d20: 2063 6173 652e 0d0a 0d0a 5573 6520 6f66   case.....Use of
-00021d30: 2060 6d65 6d6f 697a 6560 2072 6571 7569   `memoize` requi
-00021d40: 7265 7320 6066 756e 6374 6f6f 6c73 2e6c  res `functools.l
-00021d50: 7275 5f63 6163 6865 602c 2077 6869 6368  ru_cache`, which
-00021d60: 2065 7869 7374 7320 696e 2074 6865 2050   exists in the P
-00021d70: 7974 686f 6e20 3320 7374 616e 6461 7264  ython 3 standard
-00021d80: 206c 6962 7261 7279 2c20 6275 7420 756e   library, but un
-00021d90: 6465 7220 5079 7468 6f6e 2032 2077 696c  der Python 2 wil
-00021da0: 6c20 7265 7175 6972 6520 6070 6970 2069  l require `pip i
-00021db0: 6e73 7461 6c6c 2062 6163 6b70 6f72 7473  nstall backports
-00021dc0: 2e66 756e 6374 6f6f 6c73 5f6c 7275 5f63  .functools_lru_c
-00021dd0: 6163 6865 6020 746f 2066 756e 6374 696f  ache` to functio
-00021de0: 6e2e 2041 6464 6974 696f 6e61 6c6c 792c  n. Additionally,
-00021df0: 2069 6620 6f6e 2050 7974 686f 6e20 3220   if on Python 2 
-00021e00: 616e 6420 6062 6163 6b70 6f72 7473 2e66  and `backports.f
-00021e10: 756e 6374 6f6f 6c73 5f6c 7275 5f63 6163  unctools_lru_cac
-00021e20: 6865 6020 6973 2070 7265 7365 6e74 2c20  he` is present, 
-00021e30: 436f 636f 6e75 7420 7769 6c6c 2070 6174  Coconut will pat
-00021e40: 6368 2060 6675 6e63 746f 6f6c 7360 2073  ch `functools` s
-00021e50: 7563 6820 7468 6174 2060 6675 6e63 746f  uch that `functo
-00021e60: 6f6c 732e 6c72 755f 6361 6368 6520 3d20  ols.lru_cache = 
-00021e70: 6261 636b 706f 7274 732e 6675 6e63 746f  backports.functo
-00021e80: 6f6c 735f 6c72 755f 6361 6368 652e 6c72  ols_lru_cache.lr
-00021e90: 755f 6361 6368 6560 2e0d 0a0d 0a23 2323  u_cache`.....###
-00021ea0: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-00021eb0: 0d0a 402a 2a6d 656d 6f69 7a65 2a2a 285f  ..@**memoize**(_
-00021ec0: 7573 6572 5c5f 6675 6e63 7469 6f6e 5f29  user\_function_)
-00021ed0: 0d0a 0d0a 402a 2a6d 656d 6f69 7a65 2a2a  ....@**memoize**
-00021ee0: 285f 6d61 7873 697a 653d 4e6f 6e65 2c20  (_maxsize=None, 
-00021ef0: 7479 7065 643d 4661 6c73 655f 290d 0a0d  typed=False_)...
-00021f00: 0a44 6563 6f72 6174 6f72 2074 6f20 7772  .Decorator to wr
-00021f10: 6170 2061 2066 756e 6374 696f 6e20 7769  ap a function wi
-00021f20: 7468 2061 206d 656d 6f69 7a69 6e67 2063  th a memoizing c
-00021f30: 616c 6c61 626c 6520 7468 6174 2073 6176  allable that sav
-00021f40: 6573 2075 7020 746f 2074 6865 205f 6d61  es up to the _ma
-00021f50: 7873 697a 655f 206d 6f73 7420 7265 6365  xsize_ most rece
-00021f60: 6e74 2063 616c 6c73 2e20 4974 2063 616e  nt calls. It can
-00021f70: 2073 6176 6520 7469 6d65 2077 6865 6e20   save time when 
-00021f80: 616e 2065 7870 656e 7369 7665 206f 7220  an expensive or 
-00021f90: 492f 4f20 626f 756e 6420 6675 6e63 7469  I/O bound functi
-00021fa0: 6f6e 2069 7320 7065 7269 6f64 6963 616c  on is periodical
-00021fb0: 6c79 2063 616c 6c65 6420 7769 7468 2074  ly called with t
-00021fc0: 6865 2073 616d 6520 6172 6775 6d65 6e74  he same argument
-00021fd0: 732e 0d0a 0d0a 5369 6e63 6520 6120 6469  s.....Since a di
-00021fe0: 6374 696f 6e61 7279 2069 7320 7573 6564  ctionary is used
-00021ff0: 2074 6f20 6361 6368 6520 7265 7375 6c74   to cache result
-00022000: 732c 2074 6865 2070 6f73 6974 696f 6e61  s, the positiona
-00022010: 6c20 616e 6420 6b65 7977 6f72 6420 6172  l and keyword ar
-00022020: 6775 6d65 6e74 7320 746f 2074 6865 2066  guments to the f
-00022030: 756e 6374 696f 6e20 6d75 7374 2062 6520  unction must be 
-00022040: 6861 7368 6162 6c65 2e0d 0a0d 0a44 6973  hashable.....Dis
-00022050: 7469 6e63 7420 6172 6775 6d65 6e74 2070  tinct argument p
-00022060: 6174 7465 726e 7320 6d61 7920 6265 2063  atterns may be c
-00022070: 6f6e 7369 6465 7265 6420 746f 2062 6520  onsidered to be 
-00022080: 6469 7374 696e 6374 2063 616c 6c73 2077  distinct calls w
-00022090: 6974 6820 7365 7061 7261 7465 2063 6163  ith separate cac
-000220a0: 6865 2065 6e74 7269 6573 2e20 466f 7220  he entries. For 
-000220b0: 6578 616d 706c 652c 2060 6628 613d 312c  example, `f(a=1,
-000220c0: 2062 3d32 2960 2061 6e64 2060 6628 623d   b=2)` and `f(b=
-000220d0: 322c 2061 3d31 2960 2064 6966 6665 7220  2, a=1)` differ 
-000220e0: 696e 2074 6865 6972 206b 6579 776f 7264  in their keyword
-000220f0: 2061 7267 756d 656e 7420 6f72 6465 7220   argument order 
-00022100: 616e 6420 6d61 7920 6861 7665 2074 776f  and may have two
-00022110: 2073 6570 6172 6174 6520 6361 6368 6520   separate cache 
-00022120: 656e 7472 6965 732e 0d0a 0d0a 4966 205f  entries.....If _
-00022130: 7573 6572 5c5f 6675 6e63 7469 6f6e 5f20  user\_function_ 
-00022140: 6973 2073 7065 6369 6669 6564 2c20 6974  is specified, it
-00022150: 206d 7573 7420 6265 2061 2063 616c 6c61   must be a calla
-00022160: 626c 652e 2054 6869 7320 616c 6c6f 7773  ble. This allows
-00022170: 2074 6865 205f 6d65 6d6f 697a 655f 2064   the _memoize_ d
-00022180: 6563 6f72 6174 6f72 2074 6f20 6265 2061  ecorator to be a
-00022190: 7070 6c69 6564 2064 6972 6563 746c 7920  pplied directly 
-000221a0: 746f 2061 2075 7365 7220 6675 6e63 7469  to a user functi
-000221b0: 6f6e 2c20 6c65 6176 696e 6720 7468 6520  on, leaving the 
-000221c0: 6d61 7873 697a 6520 6174 2069 7473 2064  maxsize at its d
-000221d0: 6566 6175 6c74 2076 616c 7565 206f 6620  efault value of 
-000221e0: 604e 6f6e 6560 3a0d 0a60 6060 636f 636f  `None`:..```coco
-000221f0: 6e75 745f 7079 7468 6f6e 0d0a 406d 656d  nut_python..@mem
-00022200: 6f69 7a65 0d0a 6465 6620 636f 756e 745f  oize..def count_
-00022210: 766f 7765 6c73 2873 656e 7465 6e63 6529  vowels(sentence)
-00022220: 3a0d 0a20 2020 2072 6574 7572 6e20 7375  :..    return su
-00022230: 6d28 7365 6e74 656e 6365 2e63 6f75 6e74  m(sentence.count
-00022240: 2876 6f77 656c 2920 666f 7220 766f 7765  (vowel) for vowe
-00022250: 6c20 696e 2027 4145 494f 5561 6569 6f75  l in 'AEIOUaeiou
-00022260: 2729 0d0a 6060 600d 0a0d 0a49 6620 5f6d  ')..```....If _m
-00022270: 6178 7369 7a65 5f20 6973 2073 6574 2074  axsize_ is set t
-00022280: 6f20 604e 6f6e 6560 2c20 7468 6520 4c52  o `None`, the LR
-00022290: 5520 6665 6174 7572 6520 6973 2064 6973  U feature is dis
-000222a0: 6162 6c65 6420 616e 6420 7468 6520 6361  abled and the ca
-000222b0: 6368 6520 6361 6e20 6772 6f77 2077 6974  che can grow wit
-000222c0: 686f 7574 2062 6f75 6e64 2e0d 0a0d 0a49  hout bound.....I
-000222d0: 6620 5f74 7970 6564 5f20 6973 2073 6574  f _typed_ is set
-000222e0: 2074 6f20 7472 7565 2c20 6675 6e63 7469   to true, functi
-000222f0: 6f6e 2061 7267 756d 656e 7473 206f 6620  on arguments of 
-00022300: 6469 6666 6572 656e 7420 7479 7065 7320  different types 
-00022310: 7769 6c6c 2062 6520 6361 6368 6564 2073  will be cached s
-00022320: 6570 6172 6174 656c 792e 2049 6620 7479  eparately. If ty
-00022330: 7065 6420 6973 2066 616c 7365 2c20 7468  ped is false, th
-00022340: 6520 696d 706c 656d 656e 7461 7469 6f6e  e implementation
-00022350: 2077 696c 6c20 7573 7561 6c6c 7920 7265   will usually re
-00022360: 6761 7264 2074 6865 6d20 6173 2065 7175  gard them as equ
-00022370: 6976 616c 656e 7420 6361 6c6c 7320 616e  ivalent calls an
-00022380: 6420 6f6e 6c79 2063 6163 6865 2061 2073  d only cache a s
-00022390: 696e 676c 6520 7265 7375 6c74 2e20 2853  ingle result. (S
-000223a0: 6f6d 6520 7479 7065 7320 7375 6368 2061  ome types such a
-000223b0: 7320 7374 7220 616e 6420 696e 7420 6d61  s str and int ma
-000223c0: 7920 6265 2063 6163 6865 6420 7365 7061  y be cached sepa
-000223d0: 7261 7465 6c79 2065 7665 6e20 7768 656e  rately even when
-000223e0: 2074 7970 6564 2069 7320 6661 6c73 652e   typed is false.
-000223f0: 290d 0a0d 0a4e 6f74 652c 2074 7970 6520  )....Note, type 
-00022400: 7370 6563 6966 6963 6974 7920 6170 706c  specificity appl
-00022410: 6965 7320 6f6e 6c79 2074 6f20 7468 6520  ies only to the 
-00022420: 6675 6e63 7469 6f6e e280 9973 2069 6d6d  function...s imm
-00022430: 6564 6961 7465 2061 7267 756d 656e 7473  ediate arguments
-00022440: 2072 6174 6865 7220 7468 616e 2074 6865   rather than the
-00022450: 6972 2063 6f6e 7465 6e74 732e 2054 6865  ir contents. The
-00022460: 2073 6361 6c61 7220 6172 6775 6d65 6e74   scalar argument
-00022470: 732c 2060 4465 6369 6d61 6c28 3432 2960  s, `Decimal(42)`
-00022480: 2061 6e64 2060 4672 6163 7469 6f6e 2834   and `Fraction(4
-00022490: 3229 6020 6172 6520 6265 2074 7265 6174  2)` are be treat
-000224a0: 6564 2061 7320 6469 7374 696e 6374 2063  ed as distinct c
-000224b0: 616c 6c73 2077 6974 6820 6469 7374 696e  alls with distin
-000224c0: 6374 2072 6573 756c 7473 2e20 496e 2063  ct results. In c
-000224d0: 6f6e 7472 6173 742c 2074 6865 2074 7570  ontrast, the tup
-000224e0: 6c65 2061 7267 756d 656e 7473 2060 2827  le arguments `('
-000224f0: 616e 7377 6572 272c 2044 6563 696d 616c  answer', Decimal
-00022500: 2834 3229 2960 2061 6e64 2060 2827 616e  (42))` and `('an
-00022510: 7377 6572 272c 2046 7261 6374 696f 6e28  swer', Fraction(
-00022520: 3432 2929 6020 6172 6520 7472 6561 7465  42))` are treate
-00022530: 6420 6173 2065 7175 6976 616c 656e 742e  d as equivalent.
-00022540: 0d0a 0d0a 5468 6520 6465 636f 7261 746f  ....The decorato
-00022550: 7220 616c 736f 2070 726f 7669 6465 7320  r also provides 
-00022560: 6120 6063 6163 6865 5f63 6c65 6172 2829  a `cache_clear()
-00022570: 6020 6675 6e63 7469 6f6e 2066 6f72 2063  ` function for c
-00022580: 6c65 6172 696e 6720 6f72 2069 6e76 616c  learing or inval
-00022590: 6964 6174 696e 6720 7468 6520 6361 6368  idating the cach
-000225a0: 652e 0d0a 0d0a 5468 6520 6f72 6967 696e  e.....The origin
-000225b0: 616c 2075 6e64 6572 6c79 696e 6720 6675  al underlying fu
-000225c0: 6e63 7469 6f6e 2069 7320 6163 6365 7373  nction is access
-000225d0: 6962 6c65 2074 6872 6f75 6768 2074 6865  ible through the
-000225e0: 2060 5f5f 7772 6170 7065 645f 5f60 2061   `__wrapped__` a
-000225f0: 7474 7269 6275 7465 2e20 5468 6973 2069  ttribute. This i
-00022600: 7320 7573 6566 756c 2066 6f72 2069 6e74  s useful for int
-00022610: 726f 7370 6563 7469 6f6e 2c20 666f 7220  rospection, for 
-00022620: 6279 7061 7373 696e 6720 7468 6520 6361  bypassing the ca
-00022630: 6368 652c 206f 7220 666f 7220 7265 7772  che, or for rewr
-00022640: 6170 7069 6e67 2074 6865 2066 756e 6374  apping the funct
-00022650: 696f 6e20 7769 7468 2061 2064 6966 6665  ion with a diffe
-00022660: 7265 6e74 2063 6163 6865 2e0d 0a0d 0a54  rent cache.....T
-00022670: 6865 2063 6163 6865 206b 6565 7073 2072  he cache keeps r
-00022680: 6566 6572 656e 6365 7320 746f 2074 6865  eferences to the
-00022690: 2061 7267 756d 656e 7473 2061 6e64 2072   arguments and r
-000226a0: 6574 7572 6e20 7661 6c75 6573 2075 6e74  eturn values unt
-000226b0: 696c 2074 6865 7920 6167 6520 6f75 7420  il they age out 
-000226c0: 6f66 2074 6865 2063 6163 6865 206f 7220  of the cache or 
-000226d0: 756e 7469 6c20 7468 6520 6361 6368 6520  until the cache 
-000226e0: 6973 2063 6c65 6172 6564 2e0d 0a0d 0a49  is cleared.....I
-000226f0: 6620 6120 6d65 7468 6f64 2069 7320 6361  f a method is ca
-00022700: 6368 6564 2c20 7468 6520 6073 656c 6660  ched, the `self`
-00022710: 2069 6e73 7461 6e63 6520 6172 6775 6d65   instance argume
-00022720: 6e74 2069 7320 696e 636c 7564 6564 2069  nt is included i
-00022730: 6e20 7468 6520 6361 6368 652e 2053 6565  n the cache. See
-00022740: 205b 486f 7720 646f 2049 2063 6163 6865   [How do I cache
-00022750: 206d 6574 686f 6420 6361 6c6c 733f 5d28   method calls?](
-00022760: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-00022770: 686f 6e2e 6f72 672f 332f 6661 712f 7072  hon.org/3/faq/pr
-00022780: 6f67 7261 6d6d 696e 672e 6874 6d6c 2366  ogramming.html#f
-00022790: 6171 2d63 6163 6865 2d6d 6574 686f 642d  aq-cache-method-
-000227a0: 6361 6c6c 7329 0d0a 0d0a 416e 205b 4c52  calls)....An [LR
-000227b0: 5520 286c 6561 7374 2072 6563 656e 746c  U (least recentl
-000227c0: 7920 7573 6564 2920 6361 6368 655d 2868  y used) cache](h
-000227d0: 7474 7073 3a2f 2f65 6e2e 7769 6b69 7065  ttps://en.wikipe
-000227e0: 6469 612e 6f72 672f 7769 6b69 2f43 6163  dia.org/wiki/Cac
-000227f0: 6865 5f72 6570 6c61 6365 6d65 6e74 5f70  he_replacement_p
-00022800: 6f6c 6963 6965 7323 4c65 6173 745f 7265  olicies#Least_re
-00022810: 6365 6e74 6c79 5f75 7365 645f 284c 5255  cently_used_(LRU
-00022820: 2929 2077 6f72 6b73 2062 6573 7420 7768  )) works best wh
-00022830: 656e 2074 6865 206d 6f73 7420 7265 6365  en the most rece
-00022840: 6e74 2063 616c 6c73 2061 7265 2074 6865  nt calls are the
-00022850: 2062 6573 7420 7072 6564 6963 746f 7273   best predictors
-00022860: 206f 6620 7570 636f 6d69 6e67 2063 616c   of upcoming cal
-00022870: 6c73 2028 666f 7220 6578 616d 706c 652c  ls (for example,
-00022880: 2074 6865 206d 6f73 7420 706f 7075 6c61   the most popula
-00022890: 7220 6172 7469 636c 6573 206f 6e20 6120  r articles on a 
-000228a0: 6e65 7773 2073 6572 7665 7220 7465 6e64  news server tend
-000228b0: 2074 6f20 6368 616e 6765 2065 6163 6820   to change each 
-000228c0: 6461 7929 2e20 5468 6520 6361 6368 65e2  day). The cache.
-000228d0: 8099 7320 7369 7a65 206c 696d 6974 2061  ..s size limit a
-000228e0: 7373 7572 6573 2074 6861 7420 7468 6520  ssures that the 
-000228f0: 6361 6368 6520 646f 6573 206e 6f74 2067  cache does not g
-00022900: 726f 7720 7769 7468 6f75 7420 626f 756e  row without boun
-00022910: 6420 6f6e 206c 6f6e 672d 7275 6e6e 696e  d on long-runnin
-00022920: 6720 7072 6f63 6573 7365 7320 7375 6368  g processes such
-00022930: 2061 7320 7765 6220 7365 7276 6572 732e   as web servers.
-00022940: 0d0a 0d0a 496e 2067 656e 6572 616c 2c20  ....In general, 
-00022950: 7468 6520 4c52 5520 6361 6368 6520 7368  the LRU cache sh
-00022960: 6f75 6c64 206f 6e6c 7920 6265 2075 7365  ould only be use
-00022970: 6420 7768 656e 2079 6f75 2077 616e 7420  d when you want 
-00022980: 746f 2072 6575 7365 2070 7265 7669 6f75  to reuse previou
-00022990: 736c 7920 636f 6d70 7574 6564 2076 616c  sly computed val
-000229a0: 7565 732e 2041 6363 6f72 6469 6e67 6c79  ues. Accordingly
-000229b0: 2c20 6974 2064 6f65 736e e280 9974 206d  , it doesn...t m
-000229c0: 616b 6520 7365 6e73 6520 746f 2063 6163  ake sense to cac
-000229d0: 6865 2066 756e 6374 696f 6e73 2077 6974  he functions wit
-000229e0: 6820 7369 6465 2d65 6666 6563 7473 2c20  h side-effects, 
-000229f0: 6675 6e63 7469 6f6e 7320 7468 6174 206e  functions that n
-00022a00: 6565 6420 746f 2063 7265 6174 6520 6469  eed to create di
-00022a10: 7374 696e 6374 206d 7574 6162 6c65 206f  stinct mutable o
-00022a20: 626a 6563 7473 206f 6e20 6561 6368 2063  bjects on each c
-00022a30: 616c 6c2c 206f 7220 696d 7075 7265 2066  all, or impure f
-00022a40: 756e 6374 696f 6e73 2073 7563 6820 6173  unctions such as
-00022a50: 2074 696d 6528 2920 6f72 2072 616e 646f   time() or rando
-00022a60: 6d28 292e 0d0a 0d0a 4578 616d 706c 6520  m().....Example 
-00022a70: 6f66 2065 6666 6963 6965 6e74 6c79 2063  of efficiently c
-00022a80: 6f6d 7075 7469 6e67 2046 6962 6f6e 6163  omputing Fibonac
-00022a90: 6369 206e 756d 6265 7273 2075 7369 6e67  ci numbers using
-00022aa0: 2061 2063 6163 6865 2074 6f20 696d 706c   a cache to impl
-00022ab0: 656d 656e 7420 6120 6479 6e61 6d69 6320  ement a dynamic 
-00022ac0: 7072 6f67 7261 6d6d 696e 6720 7465 6368  programming tech
-00022ad0: 6e69 7175 653a 0d0a 6060 6063 6f63 6f6e  nique:..```cocon
-00022ae0: 7574 5f70 7963 6f6e 0d0a 406d 656d 6f69  ut_pycon..@memoi
-00022af0: 7a65 0d0a 6465 6620 6669 6228 6e29 3a0d  ze..def fib(n):.
-00022b00: 0a20 2020 2069 6620 6e20 3c20 323a 0d0a  .    if n < 2:..
-00022b10: 2020 2020 2020 2020 7265 7475 726e 206e          return n
-00022b20: 0d0a 2020 2020 7265 7475 726e 2066 6962  ..    return fib
-00022b30: 286e 2d31 2920 2b20 6669 6228 6e2d 3229  (n-1) + fib(n-2)
-00022b40: 0d0a 0d0a 3e3e 3e20 5b66 6962 286e 2920  ....>>> [fib(n) 
-00022b50: 666f 7220 6e20 696e 2072 616e 6765 2831  for n in range(1
-00022b60: 3629 5d0d 0a5b 302c 2031 2c20 312c 2032  6)]..[0, 1, 1, 2
-00022b70: 2c20 332c 2035 2c20 382c 2031 332c 2032  , 3, 5, 8, 13, 2
-00022b80: 312c 2033 342c 2035 352c 2038 392c 2031  1, 34, 55, 89, 1
-00022b90: 3434 2c20 3233 332c 2033 3737 2c20 3631  44, 233, 377, 61
-00022ba0: 305d 0d0a 0d0a 3e3e 3e20 6669 622e 6361  0]....>>> fib.ca
-00022bb0: 6368 655f 696e 666f 2829 0d0a 4361 6368  che_info()..Cach
-00022bc0: 6549 6e66 6f28 6869 7473 3d32 382c 206d  eInfo(hits=28, m
-00022bd0: 6973 7365 733d 3136 2c20 6d61 7873 697a  isses=16, maxsiz
-00022be0: 653d 4e6f 6e65 2c20 6375 7272 7369 7a65  e=None, currsize
-00022bf0: 3d31 3629 0d0a 6060 600d 0a0d 0a23 2323  =16)..```....###
-00022c00: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
-00022c10: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
-00022c20: 6f63 6f6e 7574 0d0a 6465 6620 6669 6228  oconut..def fib(
-00022c30: 6e20 6966 206e 203c 2032 2920 3d20 6e0d  n if n < 2) = n.
-00022c40: 0a0d 0a40 6d65 6d6f 697a 650d 0a40 6164  ...@memoize..@ad
-00022c50: 6470 6174 7465 726e 2866 6962 290d 0a64  dpattern(fib)..d
-00022c60: 6566 2066 6962 286e 2920 3d20 6669 6228  ef fib(n) = fib(
-00022c70: 6e2d 3129 202b 2066 6962 286e 2d32 290d  n-1) + fib(n-2).
-00022c80: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-00022c90: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
-00022ca0: 7079 7468 6f6e 0d0a 7472 793a 0d0a 2020  python..try:..  
-00022cb0: 2020 6672 6f6d 2066 756e 6374 6f6f 6c73    from functools
-00022cc0: 2069 6d70 6f72 7420 6c72 755f 6361 6368   import lru_cach
-00022cd0: 650d 0a65 7863 6570 7420 496d 706f 7274  e..except Import
-00022ce0: 4572 726f 723a 0d0a 2020 2020 6672 6f6d  Error:..    from
-00022cf0: 2062 6163 6b70 6f72 7473 2e66 756e 6374   backports.funct
-00022d00: 6f6f 6c73 5f6c 7275 5f63 6163 6865 2069  ools_lru_cache i
-00022d10: 6d70 6f72 7420 6c72 755f 6361 6368 650d  mport lru_cache.
-00022d20: 0a40 6c72 755f 6361 6368 6528 6d61 7873  .@lru_cache(maxs
-00022d30: 697a 653d 4e6f 6e65 290d 0a64 6566 2066  ize=None)..def f
-00022d40: 6962 286e 293a 0d0a 2020 2020 6966 206e  ib(n):..    if n
-00022d50: 203c 2032 3a0d 0a20 2020 2020 2020 2072   < 2:..        r
-00022d60: 6574 7572 6e20 6e0d 0a20 2020 2072 6574  eturn n..    ret
-00022d70: 7572 6e20 6669 6228 6e2d 3129 202b 2066  urn fib(n-1) + f
-00022d80: 6962 286e 2d32 290d 0a60 6060 0d0a 0d0a  ib(n-2)..```....
-00022d90: 2323 2323 2060 6f76 6572 7269 6465 600d  #### `override`.
-00022da0: 0a0d 0a2a 2a6f 7665 7272 6964 652a 2a28  ...**override**(
-00022db0: 5f66 756e 635f 290d 0a0d 0a43 6f63 6f6e  _func_)....Cocon
-00022dc0: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
-00022dd0: 6040 6f76 6572 7269 6465 6020 6465 636f  `@override` deco
-00022de0: 7261 746f 7220 746f 2061 6c6c 6f77 2064  rator to allow d
-00022df0: 6563 6c61 7269 6e67 2061 206d 6574 686f  eclaring a metho
-00022e00: 6420 6465 6669 6e69 7469 6f6e 2069 6e20  d definition in 
-00022e10: 6120 7375 6263 6c61 7373 2061 7320 616e  a subclass as an
-00022e20: 206f 7665 7272 6964 6520 6f66 2073 6f6d   override of som
-00022e30: 6520 7061 7265 6e74 2063 6c61 7373 206d  e parent class m
-00022e40: 6574 686f 642e 2057 6865 6e20 6040 6f76  ethod. When `@ov
-00022e50: 6572 7269 6465 6020 6973 2075 7365 6420  erride` is used 
-00022e60: 6f6e 2061 206d 6574 686f 642c 2069 6620  on a method, if 
-00022e70: 6120 6d65 7468 6f64 206f 6620 7468 6520  a method of the 
-00022e80: 7361 6d65 206e 616d 6520 646f 6573 206e  same name does n
-00022e90: 6f74 2065 7869 7374 206f 6e20 736f 6d65  ot exist on some
-00022ea0: 2070 6172 656e 7420 636c 6173 732c 2074   parent class, t
-00022eb0: 6865 2063 6c61 7373 2064 6566 696e 6974  he class definit
-00022ec0: 696f 6e20 7769 6c6c 2072 6169 7365 2061  ion will raise a
-00022ed0: 2060 5275 6e74 696d 6545 7272 6f72 602e   `RuntimeError`.
-00022ee0: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
-00022ef0: 2c20 606f 7665 7272 6964 6560 2077 696c  , `override` wil
-00022f00: 6c20 7072 6573 656e 7420 746f 2074 7970  l present to typ
-00022f10: 6520 6368 6563 6b65 7273 2061 7320 5b60  e checkers as [`
-00022f20: 7479 7069 6e67 5f65 7874 656e 7369 6f6e  typing_extension
-00022f30: 732e 6f76 6572 7269 6465 605d 2868 7474  s.override`](htt
-00022f40: 7073 3a2f 2f70 7970 692e 6f72 672f 7072  ps://pypi.org/pr
-00022f50: 6f6a 6563 742f 7479 7069 6e67 2d65 7874  oject/typing-ext
-00022f60: 656e 7369 6f6e 732f 292e 0d0a 0d0a 2323  ensions/).....##
-00022f70: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-00022f80: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-00022f90: 636f 636f 6e75 740d 0a63 6c61 7373 2041  coconut..class A
-00022fa0: 3a0d 0a20 2020 2078 203d 2031 0d0a 2020  :..    x = 1..  
-00022fb0: 2020 6465 6620 6628 7365 6c66 2c20 7929    def f(self, y)
-00022fc0: 203d 2073 656c 662e 7820 2b20 790d 0a0d   = self.x + y...
-00022fd0: 0a63 6c61 7373 2042 3a0d 0a20 2020 2040  .class B:..    @
-00022fe0: 6f76 6572 7269 6465 0d0a 2020 2020 6465  override..    de
-00022ff0: 6620 6628 7365 6c66 2c20 7929 203d 2073  f f(self, y) = s
-00023000: 656c 662e 7820 2b20 7920 2b20 310d 0a60  elf.x + y + 1..`
-00023010: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-00023020: 2a0d 0a5f 4361 6e27 7420 6265 2064 6f6e  *.._Can't be don
-00023030: 6520 7769 7468 6f75 7420 6120 6c6f 6e67  e without a long
-00023040: 2064 6563 6f72 6174 6f72 2064 6566 696e   decorator defin
-00023050: 6974 696f 6e2e 2054 6865 2066 756c 6c20  ition. The full 
-00023060: 6465 6669 6e69 7469 6f6e 206f 6620 7468  definition of th
-00023070: 6520 6465 636f 7261 746f 7220 696e 2050  e decorator in P
-00023080: 7974 686f 6e20 6361 6e20 6265 2066 6f75  ython can be fou
-00023090: 6e64 2069 6e20 7468 6520 436f 636f 6e75  nd in the Coconu
-000230a0: 7420 6865 6164 6572 2e5f 0d0a 0d0a 2323  t header._....##
-000230b0: 2323 2060 7265 6375 7273 6976 655f 6974  ## `recursive_it
-000230c0: 6572 6174 6f72 600d 0a0d 0a2a 2a72 6563  erator`....**rec
-000230d0: 7572 7369 7665 5c5f 6974 6572 6174 6f72  ursive\_iterator
-000230e0: 2a2a 285f 6675 6e63 5f29 0d0a 0d0a 436f  **(_func_)....Co
-000230f0: 636f 6e75 7420 7072 6f76 6964 6573 2061  conut provides a
-00023100: 2060 7265 6375 7273 6976 655f 6974 6572   `recursive_iter
-00023110: 6174 6f72 6020 6465 636f 7261 746f 7220  ator` decorator 
-00023120: 7468 6174 206d 656d 6f69 7a65 7320 616e  that memoizes an
-00023130: 7920 7374 6174 656c 6573 732c 2072 6563  y stateless, rec
-00023140: 7572 7369 7665 2066 756e 6374 696f 6e20  ursive function 
-00023150: 7468 6174 2072 6574 7572 6e73 2061 6e20  that returns an 
-00023160: 6974 6572 6174 6f72 2e20 546f 2075 7365  iterator. To use
-00023170: 2060 7265 6375 7273 6976 655f 6974 6572   `recursive_iter
-00023180: 6174 6f72 6020 6f6e 2061 2066 756e 6374  ator` on a funct
-00023190: 696f 6e2c 2069 7420 6d75 7374 206d 6565  ion, it must mee
-000231a0: 7420 7468 6520 666f 6c6c 6f77 696e 6720  t the following 
-000231b0: 6372 6974 6572 6961 3a0d 0a0d 0a31 2e20  criteria:....1. 
-000231c0: 796f 7572 2066 756e 6374 696f 6e20 6569  your function ei
-000231d0: 7468 6572 2061 6c77 6179 7320 6072 6574  ther always `ret
-000231e0: 7572 6e60 7320 616e 2069 7465 7261 746f  urn`s an iterato
-000231f0: 7220 6f72 2067 656e 6572 6174 6573 2061  r or generates a
-00023200: 6e20 6974 6572 6174 6f72 2075 7369 6e67  n iterator using
-00023210: 2060 7969 656c 6460 2c0d 0a32 2e20 7768   `yield`,..2. wh
-00023220: 656e 2063 616c 6c65 6420 6d75 6c74 6970  en called multip
-00023230: 6c65 2074 696d 6573 2077 6974 6820 6172  le times with ar
-00023240: 6775 6d65 6e74 7320 7468 6174 2061 7265  guments that are
-00023250: 2065 7175 616c 2c20 796f 7572 2066 756e   equal, your fun
-00023260: 6374 696f 6e20 7072 6f64 7563 6573 2074  ction produces t
-00023270: 6865 2073 616d 6520 6974 6572 6174 6f72  he same iterator
-00023280: 2028 796f 7572 2066 756e 6374 696f 6e20   (your function 
-00023290: 6973 2073 7461 7465 6c65 7373 292c 2061  is stateless), a
-000232a0: 6e64 0d0a 332e 2079 6f75 7220 6675 6e63  nd..3. your func
-000232b0: 7469 6f6e 2067 6574 7320 6361 6c6c 6564  tion gets called
-000232c0: 2028 7573 7561 6c6c 7920 6361 6c6c 7320   (usually calls 
-000232d0: 6974 7365 6c66 2920 6d75 6c74 6970 6c65  itself) multiple
-000232e0: 2074 696d 6573 2077 6974 6820 7468 6520   times with the 
-000232f0: 7361 6d65 2061 7267 756d 656e 7473 2e0d  same arguments..
-00023300: 0a0d 0a49 6620 796f 7520 6172 6520 656e  ...If you are en
-00023310: 636f 756e 7465 7269 6e67 2061 2060 5275  countering a `Ru
-00023320: 6e74 696d 6545 7272 6f72 6020 6475 6520  ntimeError` due 
-00023330: 746f 206d 6178 696d 756d 2072 6563 7572  to maximum recur
-00023340: 7369 6f6e 2064 6570 7468 2c20 6974 2069  sion depth, it i
-00023350: 7320 6869 6768 6c79 2072 6563 6f6d 6d65  s highly recomme
-00023360: 6e64 6564 2074 6861 7420 796f 7520 7265  nded that you re
-00023370: 7772 6974 6520 796f 7572 2066 756e 6374  write your funct
-00023380: 696f 6e20 746f 206d 6565 7420 6569 7468  ion to meet eith
-00023390: 6572 2074 6865 2063 7269 7465 7269 6120  er the criteria 
-000233a0: 6162 6f76 6520 666f 7220 6072 6563 7572  above for `recur
-000233b0: 7369 7665 5f69 7465 7261 746f 7260 2c20  sive_iterator`, 
-000233c0: 6f72 2074 6865 2063 6f72 7265 7370 6f6e  or the correspon
-000233d0: 6469 6e67 2063 7269 7465 7269 6120 666f  ding criteria fo
-000233e0: 7220 436f 636f 6e75 7427 7320 5b74 6169  r Coconut's [tai
-000233f0: 6c20 6361 6c6c 206f 7074 696d 697a 6174  l call optimizat
-00023400: 696f 6e5d 2823 7461 696c 2d63 616c 6c2d  ion](#tail-call-
-00023410: 6f70 7469 6d69 7a61 7469 6f6e 292c 2065  optimization), e
-00023420: 6974 6865 7220 6f66 2077 6869 6368 2073  ither of which s
-00023430: 686f 756c 6420 7072 6576 656e 7420 7375  hould prevent su
-00023440: 6368 2065 7272 6f72 732e 0d0a 0d0a 4675  ch errors.....Fu
-00023450: 7274 6865 726d 6f72 652c 2060 7265 6375  rthermore, `recu
-00023460: 7273 6976 655f 6974 6572 6174 6f72 6020  rsive_iterator` 
-00023470: 616c 736f 2061 6c6c 6f77 7320 7468 6520  also allows the 
-00023480: 7265 736f 6c75 7469 6f6e 206f 6620 6120  resolution of a 
-00023490: 5b6e 6173 7479 2073 6567 6d65 6e74 6174  [nasty segmentat
-000234a0: 696f 6e20 6661 756c 7420 696e 2050 7974  ion fault in Pyt
-000234b0: 686f 6e27 7320 6974 6572 6174 6f72 206c  hon's iterator l
-000234c0: 6f67 6963 2074 6861 7420 6861 7320 6e65  ogic that has ne
-000234d0: 7665 7220 6265 656e 2066 6978 6564 5d28  ver been fixed](
-000234e0: 6874 7470 3a2f 2f62 7567 732e 7079 7468  http://bugs.pyth
-000234f0: 6f6e 2e6f 7267 2f69 7373 7565 3134 3031  on.org/issue1401
-00023500: 3029 2e20 5370 6563 6966 6963 616c 6c79  0). Specifically
-00023510: 2c20 696e 7374 6561 6420 6f66 2077 7269  , instead of wri
-00023520: 7469 6e67 0d0a 6060 6063 6f63 6f6e 7574  ting..```coconut
-00023530: 0d0a 7365 7120 3d20 6765 745f 656c 656d  ..seq = get_elem
-00023540: 2829 203a 3a20 7365 710d 0a60 6060 0d0a  () :: seq..```..
-00023550: 7768 6963 6820 7769 6c6c 2063 7261 7368  which will crash
-00023560: 2064 7565 2074 6f20 7468 6520 6166 6f72   due to the afor
-00023570: 656d 656e 7469 6f6e 6564 2050 7974 686f  ementioned Pytho
-00023580: 6e20 6973 7375 652c 2077 7269 7465 0d0a  n issue, write..
-00023590: 6060 6063 6f63 6f6e 7574 0d0a 4072 6563  ```coconut..@rec
-000235a0: 7572 7369 7665 5f69 7465 7261 746f 720d  ursive_iterator.
-000235b0: 0a64 6566 2073 6571 2829 203d 2067 6574  .def seq() = get
-000235c0: 5f65 6c65 6d28 2920 3a3a 2073 6571 2829  _elem() :: seq()
-000235d0: 0d0a 6060 600d 0a77 6869 6368 2077 696c  ..```..which wil
-000235e0: 6c20 776f 726b 206a 7573 7420 6669 6e65  l work just fine
-000235f0: 2e0d 0a0d 0a4f 6e65 2070 6974 6661 6c6c  .....One pitfall
-00023600: 2074 6f20 6b65 6570 2069 6e20 6d69 6e64   to keep in mind
-00023610: 2077 6f72 6b69 6e67 2077 6974 6820 6072   working with `r
-00023620: 6563 7572 7369 7665 5f69 7465 7261 746f  ecursive_iterato
-00023630: 7260 2069 7320 7468 6174 2069 7420 7368  r` is that it sh
-00023640: 6f75 6c64 6e27 7420 6265 2075 7365 6420  ouldn't be used 
-00023650: 696e 2063 6f6e 7465 7874 7320 7768 6572  in contexts wher
-00023660: 6520 7468 6520 6675 6e63 7469 6f6e 2063  e the function c
-00023670: 616e 2070 6f74 656e 7469 616c 6c79 2062  an potentially b
-00023680: 6520 6361 6c6c 6564 206d 756c 7469 706c  e called multipl
-00023690: 6520 7469 6d65 7320 7769 7468 2074 6865  e times with the
-000236a0: 2073 616d 6520 6974 6572 6174 6f72 206f   same iterator o
-000236b0: 626a 6563 7420 6173 2061 6e20 696e 7075  bject as an inpu
-000236c0: 742c 2062 7574 2077 6974 6820 7468 6174  t, but with that
-000236d0: 206f 626a 6563 7420 6e6f 7420 6163 7475   object not actu
-000236e0: 616c 6c79 2063 6f72 7265 7370 6f6e 6469  ally correspondi
-000236f0: 6e67 2074 6f20 7468 6520 7361 6d65 2069  ng to the same i
-00023700: 7465 6d73 2028 652e 672e 2062 6563 6175  tems (e.g. becau
-00023710: 7365 2074 6865 2066 6972 7374 2074 696d  se the first tim
-00023720: 6520 7468 6520 6f62 6a65 6374 2068 6173  e the object has
-00023730: 6e27 7420 6265 656e 2069 7465 7261 7465  n't been iterate
-00023740: 6420 6f76 6572 2079 6574 2061 6e64 2074  d over yet and t
-00023750: 6865 2073 6563 6f6e 6420 7469 6d65 2069  he second time i
-00023760: 7420 6861 7320 6265 656e 292e 0d0a 0d0a  t has been).....
-00023770: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-00023780: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-00023790: 6060 636f 636f 6e75 740d 0a40 7265 6375  ``coconut..@recu
-000237a0: 7273 6976 655f 6974 6572 6174 6f72 0d0a  rsive_iterator..
-000237b0: 6465 6620 6669 6228 2920 3d20 2831 2c20  def fib() = (1, 
-000237c0: 3129 203a 3a20 6d61 7028 282b 292c 2066  1) :: map((+), f
-000237d0: 6962 2829 2c20 6669 6228 2924 5b31 3a5d  ib(), fib()$[1:]
-000237e0: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
-000237f0: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
-00023800: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
-00023810: 6c6f 6e67 2064 6563 6f72 6174 6f72 2064  long decorator d
-00023820: 6566 696e 6974 696f 6e2e 2054 6865 2066  efinition. The f
-00023830: 756c 6c20 6465 6669 6e69 7469 6f6e 206f  ull definition o
-00023840: 6620 7468 6520 6465 636f 7261 746f 7220  f the decorator 
-00023850: 696e 2050 7974 686f 6e20 6361 6e20 6265  in Python can be
-00023860: 2066 6f75 6e64 2069 6e20 7468 6520 436f   found in the Co
-00023870: 636f 6e75 7420 6865 6164 6572 2e5f 0d0a  conut header._..
-00023880: 0d0a 2323 2320 4275 696c 742d 496e 2054  ..### Built-In T
-00023890: 7970 6573 0d0a 0d0a 6060 607b 636f 6e74  ypes....```{cont
-000238a0: 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361  ents}..---..loca
-000238b0: 6c3a 0d0a 6465 7074 683a 2031 0d0a 2d2d  l:..depth: 1..--
-000238c0: 2d0d 0a60 6060 0d0a 0d0a 2323 2323 2060  -..```....#### `
-000238d0: 6d75 6c74 6973 6574 600d 0a0d 0a2a 2a6d  multiset`....**m
-000238e0: 756c 7469 7365 742a 2a28 5f69 7465 7261  ultiset**(_itera
-000238f0: 626c 655f 3d60 4e6f 6e65 602c 202f 2c20  ble_=`None`, /, 
-00023900: 2a2a 6b77 6473 290d 0a0d 0a43 6f63 6f6e  **kwds)....Cocon
-00023910: 7574 2070 726f 7669 6465 7320 606d 756c  ut provides `mul
-00023920: 7469 7365 7460 2061 7320 6120 6275 696c  tiset` as a buil
-00023930: 742d 696e 2073 7562 636c 6173 7320 6f66  t-in subclass of
-00023940: 205b 6063 6f6c 6c65 6374 696f 6e73 2e43   [`collections.C
-00023950: 6f75 6e74 6572 605d 2868 7474 7073 3a2f  ounter`](https:/
-00023960: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-00023970: 2f33 2f6c 6962 7261 7279 2f63 6f6c 6c65  /3/library/colle
-00023980: 6374 696f 6e73 2e68 746d 6c23 636f 6c6c  ctions.html#coll
-00023990: 6563 7469 6f6e 732e 436f 756e 7465 7229  ections.Counter)
-000239a0: 2074 6861 7420 6164 6469 7469 6f6e 616c   that additional
-000239b0: 6c79 2069 6d70 6c65 6d65 6e74 7320 7468  ly implements th
-000239c0: 6520 6675 6c6c 205b 5365 7420 616e 6420  e full [Set and 
-000239d0: 4d75 7461 626c 6553 6574 2069 6e74 6572  MutableSet inter
-000239e0: 6661 6365 735d 2868 7474 7073 3a2f 2f64  faces](https://d
-000239f0: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-00023a00: 2f6c 6962 7261 7279 2f63 6f6c 6c65 6374  /library/collect
-00023a10: 696f 6e73 2e61 6263 2e68 746d 6c29 2e0d  ions.abc.html)..
-00023a20: 0a0d 0a46 6f72 2065 6173 696c 7920 636f  ...For easily co
-00023a30: 6e73 7472 7563 7469 6e67 206d 756c 7469  nstructing multi
-00023a40: 7365 7473 2c20 436f 636f 6e75 7420 616c  sets, Coconut al
-00023a50: 736f 2070 726f 7669 6465 7320 5b6d 756c  so provides [mul
-00023a60: 7469 7365 7420 6c69 7465 7261 6c73 5d28  tiset literals](
-00023a70: 2373 6574 2d6c 6974 6572 616c 7329 2e0d  #set-literals)..
-00023a80: 0a0d 0a54 6865 206e 6577 206d 6574 686f  ...The new metho
-00023a90: 6473 2070 726f 7669 6465 6420 6279 2060  ds provided by `
-00023aa0: 6d75 6c74 6973 6574 6020 6f6e 2074 6f70  multiset` on top
-00023ab0: 206f 6620 6063 6f6c 6c65 6374 696f 6e73   of `collections
-00023ac0: 2e43 6f75 6e74 6572 6020 6172 653a 0d0a  .Counter` are:..
-00023ad0: 2d20 6d75 6c74 6973 6574 2e2a 2a61 6464  - multiset.**add
-00023ae0: 2a2a 285f 6974 656d 5f29 3a20 4164 6420  **(_item_): Add 
-00023af0: 616e 2065 6c65 6d65 6e74 2074 6f20 6120  an element to a 
-00023b00: 6d75 6c74 6973 6574 2e0d 0a2d 206d 756c  multiset...- mul
-00023b10: 7469 7365 742e 2a2a 6469 7363 6172 642a  tiset.**discard*
-00023b20: 2a28 5f69 7465 6d5f 293a 2052 656d 6f76  *(_item_): Remov
-00023b30: 6520 616e 2065 6c65 6d65 6e74 2066 726f  e an element fro
-00023b40: 6d20 6120 6d75 6c74 6973 6574 2069 6620  m a multiset if 
-00023b50: 6974 2069 7320 6120 6d65 6d62 6572 2e0d  it is a member..
-00023b60: 0a2d 206d 756c 7469 7365 742e 2a2a 7265  .- multiset.**re
-00023b70: 6d6f 7665 2a2a 285f 6974 656d 5f29 3a20  move**(_item_): 
-00023b80: 5265 6d6f 7665 2061 6e20 656c 656d 656e  Remove an elemen
-00023b90: 7420 6672 6f6d 2061 206d 756c 7469 7365  t from a multise
-00023ba0: 743b 2069 7420 6d75 7374 2062 6520 6120  t; it must be a 
-00023bb0: 6d65 6d62 6572 2e0d 0a2d 206d 756c 7469  member...- multi
-00023bc0: 7365 742e 2a2a 6973 6469 736a 6f69 6e74  set.**isdisjoint
-00023bd0: 2a2a 285f 6f74 6865 725f 293a 2052 6574  **(_other_): Ret
-00023be0: 7572 6e20 5472 7565 2069 6620 7477 6f20  urn True if two 
-00023bf0: 6d75 6c74 6973 6574 7320 6861 7665 2061  multisets have a
-00023c00: 206e 756c 6c20 696e 7465 7273 6563 7469   null intersecti
-00023c10: 6f6e 2e0d 0a2d 206d 756c 7469 7365 742e  on...- multiset.
-00023c20: 2a2a 5c5f 5c5f 786f 725c 5f5c 5f2a 2a28  **\_\_xor\_\_**(
-00023c30: 5f6f 7468 6572 5f29 3a20 5265 7475 726e  _other_): Return
-00023c40: 2074 6865 2073 796d 6d65 7472 6963 2064   the symmetric d
-00023c50: 6966 6665 7265 6e63 6520 6f66 2074 776f  ifference of two
-00023c60: 206d 756c 7469 7365 7473 2061 7320 6120   multisets as a 
-00023c70: 6e65 7720 6d75 6c74 6973 6574 2e20 5370  new multiset. Sp
-00023c80: 6563 6966 6963 616c 6c79 3a20 6061 205e  ecifically: `a ^
-00023c90: 2062 203d 2028 6120 2d20 6229 207c 2028   b = (a - b) | (
-00023ca0: 6220 2d20 6129 600d 0a2d 206d 756c 7469  b - a)`..- multi
-00023cb0: 7365 742e 2a2a 636f 756e 742a 2a28 5f69  set.**count**(_i
-00023cc0: 7465 6d5f 293a 2052 6574 7572 6e20 7468  tem_): Return th
-00023cd0: 6520 6e75 6d62 6572 206f 6620 7469 6d65  e number of time
-00023ce0: 7320 616e 2065 6c65 6d65 6e74 206f 6363  s an element occ
-00023cf0: 7572 7320 696e 2061 206d 756c 7469 7365  urs in a multise
-00023d00: 742e 2045 7175 6976 616c 656e 7420 746f  t. Equivalent to
-00023d10: 2060 6d75 6c74 6973 6574 5b69 7465 6d5d   `multiset[item]
-00023d20: 602c 2062 7574 2061 6464 6974 696f 6e61  `, but additiona
-00023d30: 6c6c 7920 7665 7269 6669 6573 2074 6865  lly verifies the
-00023d40: 2063 6f75 6e74 2069 7320 6e6f 6e2d 6e65   count is non-ne
-00023d50: 6761 7469 7665 2e0d 0a2d 206d 756c 7469  gative...- multi
-00023d60: 7365 742e 2a2a 5c5f 5c5f 666d 6170 5c5f  set.**\_\_fmap\_
-00023d70: 5c5f 2a2a 285f 6675 6e63 5f29 3a20 4170  \_**(_func_): Ap
-00023d80: 706c 7920 6120 6675 6e63 7469 6f6e 2074  ply a function t
-00023d90: 6f20 7468 6520 636f 6e74 656e 7473 206f  o the contents o
-00023da0: 6620 7468 6520 6d75 6c74 6973 6574 2c20  f the multiset, 
-00023db0: 7072 6573 6572 7669 6e67 2063 6f75 6e74  preserving count
-00023dc0: 733b 206d 6167 6963 206d 6574 686f 6420  s; magic method 
-00023dd0: 666f 7220 5b60 666d 6170 605d 2823 666d  for [`fmap`](#fm
-00023de0: 6170 292e 0d0a 0d0a 436f 636f 6e75 7420  ap).....Coconut 
-00023df0: 616c 736f 2065 6e73 7572 6573 2074 6861  also ensures tha
-00023e00: 7420 606d 756c 7469 7365 7460 2073 7570  t `multiset` sup
-00023e10: 706f 7274 7320 5b72 6963 6820 636f 6d70  ports [rich comp
-00023e20: 6172 6973 6f6e 7320 616e 6420 6043 6f75  arisons and `Cou
-00023e30: 6e74 6572 2e74 6f74 616c 2829 605d 2868  nter.total()`](h
-00023e40: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
-00023e50: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
-00023e60: 2f63 6f6c 6c65 6374 696f 6e73 2e68 746d  /collections.htm
-00023e70: 6c23 636f 6c6c 6563 7469 6f6e 732e 436f  l#collections.Co
-00023e80: 756e 7465 7229 206f 6e20 616c 6c20 5079  unter) on all Py
-00023e90: 7468 6f6e 2076 6572 7369 6f6e 732e 0d0a  thon versions...
-00023ea0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-00023eb0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-00023ec0: 0a60 6060 636f 636f 6e75 740d 0a6d 795f  .```coconut..my_
-00023ed0: 6d75 6c74 6973 6574 203d 206d 7b31 2c20  multiset = m{1, 
-00023ee0: 312c 2032 7d0d 0a6d 795f 6d75 6c74 6973  1, 2}..my_multis
-00023ef0: 6574 2e61 6464 2833 290d 0a6d 795f 6d75  et.add(3)..my_mu
-00023f00: 6c74 6973 6574 2e72 656d 6f76 6528 3229  ltiset.remove(2)
-00023f10: 0d0a 7072 696e 7428 6d79 5f6d 756c 7469  ..print(my_multi
-00023f20: 7365 7429 0d0a 6060 600d 0a0d 0a2a 2a50  set)..```....**P
-00023f30: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
-00023f40: 6f6e 7574 5f70 7974 686f 6e0d 0a66 726f  onut_python..fro
-00023f50: 6d20 636f 6c6c 6563 7469 6f6e 7320 696d  m collections im
-00023f60: 706f 7274 2043 6f75 6e74 6572 0d0a 6d79  port Counter..my
-00023f70: 5f63 6f75 6e74 6572 203d 2043 6f75 6e74  _counter = Count
-00023f80: 6572 2828 312c 2031 2c20 3229 290d 0a6d  er((1, 1, 2))..m
-00023f90: 795f 636f 756e 7465 725b 335d 202b 3d20  y_counter[3] += 
-00023fa0: 310d 0a6d 795f 636f 756e 7465 725b 325d  1..my_counter[2]
-00023fb0: 202d 3d20 310d 0a69 6620 6d79 5f63 6f75   -= 1..if my_cou
-00023fc0: 6e74 6572 5b32 5d20 3c3d 2030 3a0d 0a20  nter[2] <= 0:.. 
-00023fd0: 2020 2064 656c 206d 795f 636f 756e 7465     del my_counte
-00023fe0: 725b 325d 0d0a 7072 696e 7428 6d79 5f63  r[2]..print(my_c
-00023ff0: 6f75 6e74 6572 290d 0a60 6060 0d0a 0d0a  ounter)..```....
-00024000: 2323 2323 2060 4578 7065 6374 6564 600d  #### `Expected`.
-00024010: 0a0d 0a2a 2a45 7870 6563 7465 642a 2a28  ...**Expected**(
-00024020: 5f72 6573 756c 745f 3d60 4e6f 6e65 602c  _result_=`None`,
-00024030: 205f 6572 726f 725f 3d60 4e6f 6e65 6029   _error_=`None`)
-00024040: 0d0a 0d0a 436f 636f 6e75 7427 7320 6045  ....Coconut's `E
-00024050: 7870 6563 7465 6460 2062 7569 6c74 2d69  xpected` built-i
-00024060: 6e20 6973 2061 2043 6f63 6f6e 7574 205b  n is a Coconut [
-00024070: 6064 6174 6160 2074 7970 655d 2823 6461  `data` type](#da
-00024080: 7461 2920 7468 6174 2072 6570 7265 7365  ta) that represe
-00024090: 6e74 7320 6120 7661 6c75 6520 7468 6174  nts a value that
-000240a0: 206d 6179 206f 7220 6d61 7920 6e6f 7420   may or may not 
-000240b0: 6265 2061 6e20 6572 726f 722c 2073 696d  be an error, sim
-000240c0: 696c 6172 2074 6f20 4861 736b 656c 6c27  ilar to Haskell'
-000240d0: 7320 5b60 4569 7468 6572 605d 2868 7474  s [`Either`](htt
-000240e0: 7073 3a2f 2f68 6163 6b61 6765 2e68 6173  ps://hackage.has
-000240f0: 6b65 6c6c 2e6f 7267 2f70 6163 6b61 6765  kell.org/package
-00024100: 2f62 6173 652d 342e 3137 2e30 2e30 2f64  /base-4.17.0.0/d
-00024110: 6f63 732f 4461 7461 2d45 6974 6865 722e  ocs/Data-Either.
-00024120: 6874 6d6c 292e 0d0a 0d0a 6045 7870 6563  html).....`Expec
-00024130: 7465 6460 2069 7320 6566 6665 6374 6976  ted` is effectiv
-00024140: 656c 7920 6571 7569 7661 6c65 6e74 2074  ely equivalent t
-00024150: 6f20 7468 6520 666f 6c6c 6f77 696e 673a  o the following:
-00024160: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6461  ..```coconut..da
-00024170: 7461 2045 7870 6563 7465 645b 545d 2872  ta Expected[T](r
-00024180: 6573 756c 743a 2054 3f20 3d20 4e6f 6e65  esult: T? = None
-00024190: 2c20 6572 726f 723a 2042 6173 6545 7863  , error: BaseExc
-000241a0: 6570 7469 6f6e 3f20 3d20 4e6f 6e65 293a  eption? = None):
-000241b0: 0d0a 2020 2020 6465 6620 5f5f 626f 6f6c  ..    def __bool
-000241c0: 5f5f 2873 656c 6629 202d 3e20 626f 6f6c  __(self) -> bool
-000241d0: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
-000241e0: 6e20 7365 6c66 2e65 7272 6f72 2069 7320  n self.error is 
-000241f0: 4e6f 6e65 0d0a 2020 2020 6465 6620 5f5f  None..    def __
-00024200: 666d 6170 5f5f 5b55 5d28 7365 6c66 2c20  fmap__[U](self, 
-00024210: 6675 6e63 3a20 5420 2d3e 2055 2920 2d3e  func: T -> U) ->
-00024220: 2045 7870 6563 7465 645b 555d 3a0d 0a20   Expected[U]:.. 
-00024230: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00024240: 6c66 2e5f 5f63 6c61 7373 5f5f 2866 756e  lf.__class__(fun
-00024250: 6328 7365 6c66 2e72 6573 756c 7429 2920  c(self.result)) 
-00024260: 6966 2073 656c 6620 656c 7365 2073 656c  if self else sel
-00024270: 660d 0a20 2020 2064 6566 2061 6e64 5f74  f..    def and_t
-00024280: 6865 6e5b 555d 2873 656c 662c 2066 756e  hen[U](self, fun
-00024290: 633a 2054 202d 3e20 4578 7065 6374 6564  c: T -> Expected
-000242a0: 5b55 5d29 202d 3e20 4578 7065 6374 6564  [U]) -> Expected
-000242b0: 5b55 5d3a 0d0a 2020 2020 2020 2020 2222  [U]:..        ""
-000242c0: 224d 6170 7320 6120 5420 2d3e 2045 7870  "Maps a T -> Exp
-000242d0: 6563 7465 645b 555d 206f 7665 7220 616e  ected[U] over an
-000242e0: 2045 7870 6563 7465 645b 545d 2074 6f20   Expected[T] to 
-000242f0: 7072 6f64 7563 6520 616e 2045 7870 6563  produce an Expec
-00024300: 7465 645b 555d 2e0d 0a20 2020 2020 2020  ted[U]...       
-00024310: 2049 6d70 6c65 6d65 6e74 7320 6120 6d6f   Implements a mo
-00024320: 6e61 6469 6320 6269 6e64 2e20 4571 7569  nadic bind. Equi
-00024330: 7661 6c65 6e74 2074 6f20 666d 6170 202e  valent to fmap .
-00024340: 2e3e 202e 6a6f 696e 2829 2e22 2222 0d0a  .> .join()."""..
-00024350: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00024360: 656c 6620 7c3e 2066 6d61 7024 2866 756e  elf |> fmap$(fun
-00024370: 6329 207c 3e20 2e6a 6f69 6e28 290d 0a20  c) |> .join().. 
-00024380: 2020 2064 6566 206a 6f69 6e28 7365 6c66     def join(self
-00024390: 3a20 4578 7065 6374 6564 5b45 7870 6563  : Expected[Expec
-000243a0: 7465 645b 545d 5d29 202d 3e20 4578 7065  ted[T]]) -> Expe
-000243b0: 6374 6564 5b54 5d3a 0d0a 2020 2020 2020  cted[T]:..      
-000243c0: 2020 2222 224d 6f6e 6164 6963 206a 6f69    """Monadic joi
-000243d0: 6e2e 2043 6f6e 7665 7274 7320 4578 7065  n. Converts Expe
-000243e0: 6374 6564 5b45 7870 6563 7465 645b 545d  cted[Expected[T]
-000243f0: 5d20 746f 2045 7870 6563 7465 645b 545d  ] to Expected[T]
-00024400: 2e22 2222 0d0a 2020 2020 2020 2020 6966  ."""..        if
-00024410: 206e 6f74 2073 656c 663a 0d0a 2020 2020   not self:..    
-00024420: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00024430: 656c 660d 0a20 2020 2020 2020 2069 6620  elf..        if 
-00024440: 6e6f 7420 7365 6c66 2e72 6573 756c 7420  not self.result 
-00024450: 6069 7369 6e73 7461 6e63 6560 2045 7870  `isinstance` Exp
-00024460: 6563 7465 643a 0d0a 2020 2020 2020 2020  ected:..        
-00024470: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
-00024480: 726f 7228 2245 7870 6563 7465 642e 6a6f  ror("Expected.jo
-00024490: 696e 2829 2072 6571 7569 7265 7320 616e  in() requires an
-000244a0: 2045 7870 6563 7465 645b 4578 7065 6374   Expected[Expect
-000244b0: 6564 5b5f 5d5d 2229 0d0a 2020 2020 2020  ed[_]]")..      
-000244c0: 2020 7265 7475 726e 2073 656c 662e 7265    return self.re
-000244d0: 7375 6c74 0d0a 2020 2020 6465 6620 6d61  sult..    def ma
-000244e0: 705f 6572 726f 7228 7365 6c66 2c20 6675  p_error(self, fu
-000244f0: 6e63 3a20 4261 7365 4578 6365 7074 696f  nc: BaseExceptio
-00024500: 6e20 2d3e 2042 6173 6545 7863 6570 7469  n -> BaseExcepti
-00024510: 6f6e 2920 2d3e 2045 7870 6563 7465 645b  on) -> Expected[
-00024520: 545d 3a0d 0a20 2020 2020 2020 2022 2222  T]:..        """
-00024530: 4d61 7073 2066 756e 6320 6f76 6572 2074  Maps func over t
-00024540: 6865 2065 7272 6f72 2069 6620 6974 2065  he error if it e
-00024550: 7869 7374 732e 2222 220d 0a20 2020 2020  xists."""..     
-00024560: 2020 2072 6574 7572 6e20 7365 6c66 2069     return self i
-00024570: 6620 7365 6c66 2065 6c73 6520 7365 6c66  f self else self
-00024580: 2e5f 5f63 6c61 7373 5f5f 2865 7272 6f72  .__class__(error
-00024590: 3d66 756e 6328 7365 6c66 2e65 7272 6f72  =func(self.error
-000245a0: 2929 0d0a 2020 2020 6465 6620 6f72 5f65  ))..    def or_e
-000245b0: 6c73 655b 555d 2873 656c 662c 2066 756e  lse[U](self, fun
-000245c0: 633a 2042 6173 6545 7863 6570 7469 6f6e  c: BaseException
-000245d0: 202d 3e20 4578 7065 6374 6564 5b55 5d29   -> Expected[U])
-000245e0: 202d 3e20 4578 7065 6374 6564 5b54 207c   -> Expected[T |
-000245f0: 2055 5d3a 0d0a 2020 2020 2020 2020 2222   U]:..        ""
-00024600: 2252 6574 7572 6e20 7365 6c66 2069 6620  "Return self if 
-00024610: 6e6f 2065 7272 6f72 2c20 6f74 6865 7277  no error, otherw
-00024620: 6973 6520 7265 7475 726e 2074 6865 2072  ise return the r
-00024630: 6573 756c 7420 6f66 2065 7661 6c75 6174  esult of evaluat
-00024640: 696e 6720 6675 6e63 206f 6e20 7468 6520  ing func on the 
-00024650: 6572 726f 722e 2222 220d 0a20 2020 2020  error."""..     
-00024660: 2020 2072 6574 7572 6e20 7365 6c66 2069     return self i
-00024670: 6620 7365 6c66 2065 6c73 6520 6675 6e63  f self else func
-00024680: 2873 656c 662e 6572 726f 7229 0d0a 2020  (self.error)..  
-00024690: 2020 6465 6620 7265 7375 6c74 5f6f 725b    def result_or[
-000246a0: 555d 2873 656c 662c 2064 6566 6175 6c74  U](self, default
-000246b0: 3a20 5529 202d 3e20 5420 7c20 553a 0d0a  : U) -> T | U:..
-000246c0: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
-000246d0: 6e20 7468 6520 7265 7375 6c74 2069 6620  n the result if 
-000246e0: 6974 2065 7869 7374 732c 206f 7468 6572  it exists, other
-000246f0: 7769 7365 2072 6574 7572 6e20 7468 6520  wise return the 
-00024700: 6465 6661 756c 742e 2222 220d 0a20 2020  default."""..   
-00024710: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00024720: 2e72 6573 756c 7420 6966 2073 656c 6620  .result if self 
-00024730: 656c 7365 2064 6566 6175 6c74 0d0a 2020  else default..  
-00024740: 2020 6465 6620 7265 7375 6c74 5f6f 725f    def result_or_
-00024750: 656c 7365 5b55 5d28 7365 6c66 2c20 6675  else[U](self, fu
-00024760: 6e63 3a20 4261 7365 4578 6365 7074 696f  nc: BaseExceptio
-00024770: 6e20 2d3e 2055 2920 2d3e 2054 207c 2055  n -> U) -> T | U
-00024780: 3a0d 0a20 2020 2020 2020 2022 2222 5265  :..        """Re
-00024790: 7475 726e 2074 6865 2072 6573 756c 7420  turn the result 
-000247a0: 6966 2069 7420 6578 6973 7473 2c20 6f74  if it exists, ot
-000247b0: 6865 7277 6973 6520 7265 7475 726e 2074  herwise return t
-000247c0: 6865 2072 6573 756c 7420 6f66 2065 7661  he result of eva
-000247d0: 6c75 6174 696e 6720 6675 6e63 206f 6e20  luating func on 
-000247e0: 7468 6520 6572 726f 722e 2222 220d 0a20  the error.""".. 
-000247f0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00024800: 6c66 2e72 6573 756c 7420 6966 2073 656c  lf.result if sel
-00024810: 6620 656c 7365 2066 756e 6328 7365 6c66  f else func(self
-00024820: 2e65 7272 6f72 290d 0a20 2020 2064 6566  .error)..    def
-00024830: 2075 6e77 7261 7028 7365 6c66 2920 2d3e   unwrap(self) ->
-00024840: 2054 3a0d 0a20 2020 2020 2020 2022 2222   T:..        """
-00024850: 556e 7772 6170 2074 6865 2072 6573 756c  Unwrap the resul
-00024860: 7420 6f72 2072 6169 7365 2074 6865 2065  t or raise the e
-00024870: 7272 6f72 2e22 2222 0d0a 2020 2020 2020  rror."""..      
-00024880: 2020 6966 206e 6f74 2073 656c 663a 0d0a    if not self:..
-00024890: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000248a0: 6520 7365 6c66 2e65 7272 6f72 0d0a 2020  e self.error..  
-000248b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000248c0: 662e 7265 7375 6c74 0d0a 6060 600d 0a0d  f.result..```...
-000248d0: 0a60 4578 7065 6374 6564 6020 6973 2070  .`Expected` is p
-000248e0: 7269 6d61 7269 6c79 2075 7365 6420 6173  rimarily used as
-000248f0: 2074 6865 2072 6574 7572 6e20 7479 7065   the return type
-00024900: 2066 6f72 205b 6073 6166 655f 6361 6c6c   for [`safe_call
-00024910: 605d 2823 7361 6665 5f63 616c 6c29 2e20  `](#safe_call). 
-00024920: 4765 6e65 7261 6c6c 792c 2074 6865 2062  Generally, the b
-00024930: 6573 7420 7761 7920 746f 2075 7365 2060  est way to use `
-00024940: 4578 7065 6374 6564 6020 6973 2077 6974  Expected` is wit
-00024950: 6820 5b60 666d 6170 605d 2823 666d 6170  h [`fmap`](#fmap
-00024960: 292c 2077 6869 6368 2077 696c 6c20 6170  ), which will ap
-00024970: 706c 7920 6120 6675 6e63 7469 6f6e 2074  ply a function t
-00024980: 6f20 7468 6520 7265 7375 6c74 2069 6620  o the result if 
-00024990: 6974 2065 7869 7374 732c 206f 7220 6f74  it exists, or ot
-000249a0: 6865 7277 6973 6520 7265 7461 696e 2074  herwise retain t
-000249b0: 6865 2065 7272 6f72 2e20 4966 2079 6f75  he error. If you
-000249c0: 2077 616e 7420 746f 2073 6571 7565 6e63   want to sequenc
-000249d0: 6520 6d75 6c74 6970 6c65 2060 4578 7065  e multiple `Expe
-000249e0: 6374 6564 602d 7265 7475 726e 696e 6720  cted`-returning 
-000249f0: 6f70 6572 6174 696f 6e73 2c20 602e 616e  operations, `.an
-00024a00: 645f 7468 656e 6020 7368 6f75 6c64 2062  d_then` should b
-00024a10: 6520 7573 6564 2069 6e73 7465 6164 206f  e used instead o
-00024a20: 6620 6066 6d61 7060 2e0d 0a0d 0a54 6f20  f `fmap`.....To 
-00024a30: 6d61 7463 6820 6167 6169 6e73 7420 616e  match against an
-00024a40: 2060 4578 7065 6374 6564 602c 206a 7573   `Expected`, jus
-00024a50: 743a 0d0a 6060 600d 0a45 7870 6563 7465  t:..```..Expecte
-00024a60: 6428 7265 7329 203d 2045 7870 6563 7465  d(res) = Expecte
-00024a70: 6428 2272 6573 756c 7422 290d 0a45 7870  d("result")..Exp
-00024a80: 6563 7465 6428 6572 726f 723d 6572 7229  ected(error=err)
-00024a90: 203d 2045 7870 6563 7465 6428 6572 726f   = Expected(erro
-00024aa0: 723d 5479 7065 4572 726f 7228 2929 0d0a  r=TypeError())..
-00024ab0: 6060 600d 0a0d 0a23 2323 2323 2045 7861  ```....##### Exa
-00024ac0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-00024ad0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-00024ae0: 0d0a 6465 6620 7472 795f 6469 7669 6465  ..def try_divide
-00024af0: 2878 3a20 666c 6f61 742c 2079 3a20 666c  (x: float, y: fl
-00024b00: 6f61 7429 202d 3e20 4578 7065 6374 6564  oat) -> Expected
-00024b10: 5b66 6c6f 6174 5d3a 0d0a 2020 2020 7472  [float]:..    tr
-00024b20: 793a 0d0a 2020 2020 2020 2020 7265 7475  y:..        retu
-00024b30: 726e 2045 7870 6563 7465 6428 7820 2f20  rn Expected(x / 
-00024b40: 7929 0d0a 2020 2020 6578 6365 7074 2045  y)..    except E
-00024b50: 7863 6570 7469 6f6e 2061 7320 6572 723a  xception as err:
-00024b60: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00024b70: 2045 7870 6563 7465 6428 6572 726f 723d   Expected(error=
-00024b80: 6572 7229 0d0a 0d0a 7472 795f 6469 7669  err)....try_divi
-00024b90: 6465 2831 2c20 3229 207c 3e20 666d 6170  de(1, 2) |> fmap
-00024ba0: 2428 2e2b 3129 207c 3e20 7072 696e 740d  $(.+1) |> print.
-00024bb0: 0a74 7279 5f64 6976 6964 6528 312c 2030  .try_divide(1, 0
-00024bc0: 2920 7c3e 2066 6d61 7024 282e 2b31 2920  ) |> fmap$(.+1) 
-00024bd0: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
-00024be0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-00024bf0: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
-00024c00: 686f 7574 2061 2063 6f6d 706c 6578 2060  hout a complex `
-00024c10: 4578 7065 6374 6564 6020 6465 6669 6e69  Expected` defini
-00024c20: 7469 6f6e 2e20 5365 6520 7468 6520 636f  tion. See the co
-00024c30: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
-00024c40: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
-00024c50: 782e 5f0d 0a0d 0a23 2323 2320 604d 6174  x._....#### `Mat
-00024c60: 6368 4572 726f 7260 0d0a 0d0a 4120 604d  chError`....A `M
-00024c70: 6174 6368 4572 726f 7260 2069 7320 7261  atchError` is ra
-00024c80: 6973 6564 2077 6865 6e20 6120 5b64 6573  ised when a [des
-00024c90: 7472 7563 7475 7269 6e67 2061 7373 6967  tructuring assig
-00024ca0: 6e6d 656e 745d 2823 6465 7374 7275 6374  nment](#destruct
-00024cb0: 7572 696e 672d 6173 7369 676e 6d65 6e74  uring-assignment
-00024cc0: 2920 6f72 205b 7061 7474 6572 6e2d 6d61  ) or [pattern-ma
-00024cd0: 7463 6869 6e67 2066 756e 6374 696f 6e5d  tching function]
-00024ce0: 2823 7061 7474 6572 6e2d 6d61 7463 6869  (#pattern-matchi
-00024cf0: 6e67 2d66 756e 6374 696f 6e73 2920 6661  ng-functions) fa
-00024d00: 696c 732c 2061 6e64 2074 6875 7320 604d  ils, and thus `M
-00024d10: 6174 6368 4572 726f 7260 2069 7320 7072  atchError` is pr
-00024d20: 6f76 6964 6564 2061 7320 6120 6275 696c  ovided as a buil
-00024d30: 742d 696e 2066 6f72 2063 6174 6368 696e  t-in for catchin
-00024d40: 6720 7468 6f73 6520 6572 726f 7273 2e20  g those errors. 
-00024d50: 604d 6174 6368 4572 726f 7260 206f 626a  `MatchError` obj
-00024d60: 6563 7473 2073 7570 706f 7274 2074 6872  ects support thr
-00024d70: 6565 2061 7474 7269 6275 7465 733a 2060  ee attributes: `
-00024d80: 7061 7474 6572 6e60 2c20 7768 6963 6820  pattern`, which 
-00024d90: 6973 2061 2073 7472 696e 6720 6465 7363  is a string desc
-00024da0: 7269 6269 6e67 2074 6865 2066 6169 6c65  ribing the faile
-00024db0: 6420 7061 7474 6572 6e3b 2060 7661 6c75  d pattern; `valu
-00024dc0: 6560 2c20 7768 6963 6820 6973 2074 6865  e`, which is the
-00024dd0: 206f 626a 6563 7420 7468 6174 2066 6169   object that fai
-00024de0: 6c65 6420 746f 206d 6174 6368 2074 6861  led to match tha
-00024df0: 7420 7061 7474 6572 6e3b 2061 6e64 2060  t pattern; and `
-00024e00: 6d65 7373 6167 6560 2077 6869 6368 2069  message` which i
-00024e10: 7320 7468 6520 6675 6c6c 2065 7272 6f72  s the full error
-00024e20: 206d 6573 7361 6765 2e20 546f 2061 766f   message. To avo
-00024e30: 6964 2075 6e6e 6563 6573 7361 7279 2060  id unnecessary `
-00024e40: 7265 7072 6020 6361 6c6c 732c 2060 4d61  repr` calls, `Ma
-00024e50: 7463 6845 7272 6f72 6020 6f6e 6c79 2063  tchError` only c
-00024e60: 6f6d 7075 7465 7320 7468 6520 606d 6573  omputes the `mes
-00024e70: 7361 6765 6020 6f6e 6365 2069 7420 6973  sage` once it is
-00024e80: 2061 6374 7561 6c6c 7920 7265 7175 6573   actually reques
-00024e90: 7465 642e 0d0a 0d0a 4164 6469 7469 6f6e  ted.....Addition
-00024ea0: 616c 6c79 2c20 6966 2079 6f75 2061 7265  ally, if you are
-00024eb0: 2075 7369 6e67 205b 7669 6577 2070 6174   using [view pat
-00024ec0: 7465 726e 735d 2823 6d61 7463 6829 2c20  terns](#match), 
-00024ed0: 796f 7520 6d69 6768 7420 6e65 6564 2074  you might need t
-00024ee0: 6f20 7261 6973 6520 796f 7572 206f 776e  o raise your own
-00024ef0: 2060 4d61 7463 6845 7272 6f72 6020 2874   `MatchError` (t
-00024f00: 686f 7567 6820 796f 7520 6361 6e20 616c  hough you can al
-00024f10: 736f 206a 7573 7420 7573 6520 6120 6465  so just use a de
-00024f20: 7374 7275 6374 7572 696e 6720 6173 7369  structuring assi
-00024f30: 676e 6d65 6e74 206f 7220 7061 7474 6572  gnment or patter
-00024f40: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
-00024f50: 696f 6e20 6465 6669 6e69 7469 6f6e 2074  ion definition t
-00024f60: 6f20 646f 2073 6f29 2e20 546f 2072 6169  o do so). To rai
-00024f70: 7365 2079 6f75 7220 6f77 6e20 604d 6174  se your own `Mat
-00024f80: 6368 4572 726f 7260 2c20 6a75 7374 2060  chError`, just `
-00024f90: 7261 6973 6520 4d61 7463 6845 7272 6f72  raise MatchError
-00024fa0: 2870 6174 7465 726e 2c20 7661 6c75 6529  (pattern, value)
-00024fb0: 6020 2862 6f74 6820 6172 6775 6d65 6e74  ` (both argument
-00024fc0: 7320 6172 6520 6f70 7469 6f6e 616c 292e  s are optional).
-00024fd0: 0d0a 0d0a 496e 2073 6f6d 6520 6361 7365  ....In some case
-00024fe0: 7320 7768 6572 6520 7468 6572 6520 6172  s where there ar
-00024ff0: 6520 6d75 6c74 6970 6c65 2043 6f63 6f6e  e multiple Cocon
-00025000: 7574 2070 6163 6b61 6765 7320 696e 7374  ut packages inst
-00025010: 616c 6c65 6420 6174 2074 6865 2073 616d  alled at the sam
-00025020: 6520 7469 6d65 2c20 7468 6572 6520 6d61  e time, there ma
-00025030: 7920 6265 206d 756c 7469 706c 6520 604d  y be multiple `M
-00025040: 6174 6368 4572 726f 7260 7320 6465 6669  atchError`s defi
-00025050: 6e65 6420 696e 2064 6966 6665 7265 6e74  ned in different
-00025060: 2070 6163 6b61 6765 732e 2043 6f63 6f6e   packages. Cocon
-00025070: 7574 2063 616e 2070 6572 666f 726d 2073  ut can perform s
-00025080: 6f6d 6520 6d61 6769 6320 756e 6465 7220  ome magic under 
-00025090: 7468 6520 686f 6f64 2074 6f20 6d61 6b65  the hood to make
-000250a0: 2073 7572 6520 7468 6174 2061 6c6c 2074   sure that all t
-000250b0: 6865 7365 2060 4d61 7463 6845 7272 6f72  hese `MatchError
-000250c0: 6073 2077 696c 6c20 7365 616d 6c65 7373  `s will seamless
-000250d0: 6c79 2069 6e74 6572 6f70 6572 6174 652c  ly interoperate,
-000250e0: 2062 7574 206f 6e6c 7920 6966 2061 6c6c   but only if all
-000250f0: 2073 7563 6820 7061 636b 6167 6573 2061   such packages a
-00025100: 7265 2063 6f6d 7069 6c65 6420 696e 205b  re compiled in [
-00025110: 602d 2d70 6163 6b61 6765 6020 6d6f 6465  `--package` mode
-00025120: 2072 6174 6865 7220 7468 616e 2060 2d2d   rather than `--
-00025130: 7374 616e 6461 6c6f 6e65 6020 6d6f 6465  standalone` mode
-00025140: 5d28 2363 6f6d 7069 6c61 7469 6f6e 2d6d  ](#compilation-m
-00025150: 6f64 6573 292e 0d0a 0d0a 2323 2320 4765  odes).....### Ge
-00025160: 6e65 7269 6320 4275 696c 742d 496e 2046  neric Built-In F
-00025170: 756e 6374 696f 6e73 0d0a 0d0a 6060 607b  unctions....```{
-00025180: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
-00025190: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2031  local:..depth: 1
-000251a0: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
-000251b0: 2323 2060 6d61 6b65 6461 7461 600d 0a0d  ## `makedata`...
-000251c0: 0a2a 2a6d 616b 6564 6174 612a 2a28 5f64  .**makedata**(_d
-000251d0: 6174 615c 5f74 7970 655f 2c20 2a5f 6172  ata\_type_, *_ar
-000251e0: 6773 5f29 0d0a 0d0a 436f 636f 6e75 7420  gs_)....Coconut 
-000251f0: 7072 6f76 6964 6573 2074 6865 2060 6d61  provides the `ma
-00025200: 6b65 6461 7461 6020 6675 6e63 7469 6f6e  kedata` function
-00025210: 2074 6f20 636f 6e73 7472 7563 7420 6120   to construct a 
-00025220: 636f 6e74 6169 6e65 7220 6769 7665 6e20  container given 
-00025230: 7468 6520 6465 7369 7265 6420 7479 7065  the desired type
-00025240: 2061 6e64 2063 6f6e 7465 6e74 732e 2054   and contents. T
-00025250: 6869 7320 6973 2070 6172 7469 6375 6c61  his is particula
-00025260: 726c 7920 7573 6566 756c 2077 6865 6e20  rly useful when 
-00025270: 7772 6974 696e 6720 616c 7465 726e 6174  writing alternat
-00025280: 6976 6520 636f 6e73 7472 7563 746f 7273  ive constructors
-00025290: 2066 6f72 205b 6064 6174 6160 5d28 2364   for [`data`](#d
-000252a0: 6174 6129 2074 7970 6573 2062 7920 6f76  ata) types by ov
-000252b0: 6572 7772 6974 696e 6720 605f 5f6e 6577  erwriting `__new
-000252c0: 5f5f 602c 2073 696e 6365 2069 7420 616c  __`, since it al
-000252d0: 6c6f 7773 2064 6972 6563 7420 6163 6365  lows direct acce
-000252e0: 7373 2074 6f20 7468 6520 6261 7365 2063  ss to the base c
-000252f0: 6f6e 7374 7275 6374 6f72 206f 6620 7468  onstructor of th
-00025300: 6520 6461 7461 2074 7970 6520 6372 6561  e data type crea
-00025310: 7465 6420 7769 7468 2074 6865 2043 6f63  ted with the Coc
-00025320: 6f6e 7574 2060 6461 7461 6020 7374 6174  onut `data` stat
-00025330: 656d 656e 742e 0d0a 0d0a 606d 616b 6564  ement.....`maked
-00025340: 6174 6160 2074 616b 6573 2074 6865 2064  ata` takes the d
-00025350: 6174 6120 7479 7065 2074 6f20 636f 6e73  ata type to cons
-00025360: 7472 7563 7420 6173 2074 6865 2066 6972  truct as the fir
-00025370: 7374 2061 7267 756d 656e 742c 2061 6e64  st argument, and
-00025380: 2074 6865 206f 626a 6563 7473 2074 6f20   the objects to 
-00025390: 7075 7420 696e 2074 6861 7420 636f 6e74  put in that cont
-000253a0: 6169 6e65 7220 6173 2074 6865 2072 6573  ainer as the res
-000253b0: 7420 6f66 2074 6865 2061 7267 756d 656e  t of the argumen
-000253c0: 7473 2e0d 0a0d 0a60 6d61 6b65 6461 7461  ts.....`makedata
-000253d0: 6020 6361 6e20 616c 736f 2062 6520 7573  ` can also be us
-000253e0: 6564 2074 6f20 6578 7472 6163 7420 7468  ed to extract th
-000253f0: 6520 756e 6465 726c 7969 6e67 2063 6f6e  e underlying con
-00025400: 7374 7275 6374 6f72 2066 6f72 205b 606d  structor for [`m
-00025410: 6174 6368 2064 6174 6160 5d28 236d 6174  atch data`](#mat
-00025420: 6368 2d64 6174 6129 2074 7970 6573 2074  ch-data) types t
-00025430: 6861 7420 6279 7061 7373 6573 2074 6865  hat bypasses the
-00025440: 206e 6f72 6d61 6c20 7061 7474 6572 6e2d   normal pattern-
-00025450: 6d61 7463 6869 6e67 2063 6f6e 7374 7275  matching constru
-00025460: 6374 6f72 2e0d 0a0d 0a41 6464 6974 696f  ctor.....Additio
-00025470: 6e61 6c6c 792c 2060 6d61 6b65 6461 7461  nally, `makedata
-00025480: 6020 6361 6e20 616c 736f 2062 6520 6361  ` can also be ca
-00025490: 6c6c 6564 2077 6974 6820 6e6f 6e2d 6064  lled with non-`d
-000254a0: 6174 6160 2074 7970 6520 6173 2074 6865  ata` type as the
-000254b0: 2066 6972 7374 2061 7267 756d 656e 742c   first argument,
-000254c0: 2069 6e20 7768 6963 6820 6361 7365 2069   in which case i
-000254d0: 7420 7769 6c6c 2064 6f20 6974 7320 6265  t will do its be
-000254e0: 7374 2074 6f20 636f 6e73 7472 7563 7420  st to construct 
-000254f0: 7468 6520 6769 7665 6e20 7479 7065 206f  the given type o
-00025500: 6620 6f62 6a65 6374 2077 6974 6820 7468  f object with th
-00025510: 6520 6769 7665 6e20 6172 6775 6d65 6e74  e given argument
-00025520: 732e 2054 6869 7320 6675 6e63 7469 6f6e  s. This function
-00025530: 616c 6974 7920 6973 2075 7365 6420 696e  ality is used in
-00025540: 7465 726e 616c 6c79 2062 7920 6066 6d61  ternally by `fma
-00025550: 7060 2e0d 0a0d 0a23 2323 2323 2060 6461  p`.....##### `da
-00025560: 7461 6d61 6b65 7260 0d0a 0d0a 2a2a 4445  tamaker`....**DE
-00025570: 5052 4543 4154 4544 3a2a 2a20 436f 636f  PRECATED:** Coco
-00025580: 6e75 7420 616c 736f 2068 6173 2061 2060  nut also has a `
-00025590: 6461 7461 6d61 6b65 7260 2062 7569 6c74  datamaker` built
-000255a0: 2d69 6e2c 2077 6869 6368 2070 6172 7469  -in, which parti
-000255b0: 616c 6c79 2061 7070 6c69 6573 2060 6d61  ally applies `ma
-000255c0: 6b65 6461 7461 603b 2060 6461 7461 6d61  kedata`; `datama
-000255d0: 6b65 7260 2069 7320 6465 6669 6e65 6420  ker` is defined 
-000255e0: 6173 3a0d 0a60 6060 636f 636f 6e75 740d  as:..```coconut.
-000255f0: 0a64 6566 2064 6174 616d 616b 6572 2864  .def datamaker(d
-00025600: 6174 615f 7479 7065 293a 0d0a 2020 2020  ata_type):..    
-00025610: 2222 2247 6574 2074 6865 206f 7269 6769  """Get the origi
-00025620: 6e61 6c20 636f 6e73 7472 7563 746f 7220  nal constructor 
-00025630: 6f66 2074 6865 2067 6976 656e 2064 6174  of the given dat
-00025640: 6120 7479 7065 206f 7220 636c 6173 732e  a type or class.
-00025650: 2222 220d 0a20 2020 2072 6574 7572 6e20  """..    return 
-00025660: 6d61 6b65 6461 7461 2428 6461 7461 5f74  makedata$(data_t
-00025670: 7970 6529 0d0a 6060 600d 0a5f 4e6f 7465  ype)..```.._Note
-00025680: 3a20 5061 7373 696e 6720 602d 2d73 7472  : Passing `--str
-00025690: 6963 7460 2064 6973 6162 6c65 7320 6465  ict` disables de
-000256a0: 7072 6563 6174 6564 2066 6561 7475 7265  precated feature
-000256b0: 732e 5f0d 0a0d 0a23 2323 2323 2045 7861  s._....##### Exa
-000256c0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-000256d0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-000256e0: 0d0a 6461 7461 2054 7570 6c65 2865 6c65  ..data Tuple(ele
-000256f0: 6d73 293a 0d0a 2020 2020 6465 6620 5f5f  ms):..    def __
-00025700: 6e65 775f 5f28 636c 732c 202a 656c 656d  new__(cls, *elem
-00025710: 7329 3a0d 0a20 2020 2020 2020 2072 6574  s):..        ret
-00025720: 7572 6e20 656c 656d 7320 7c3e 206d 616b  urn elems |> mak
-00025730: 6564 6174 6124 2863 6c73 290d 0a60 6060  edata$(cls)..```
-00025740: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-00025750: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-00025760: 7769 7468 6f75 7420 6120 7365 7269 6573  without a series
-00025770: 206f 6620 6d65 7468 6f64 2064 6566 696e   of method defin
-00025780: 6974 696f 6e73 2066 6f72 2065 6163 6820  itions for each 
-00025790: 6461 7461 2074 7970 652e 2053 6565 2074  data type. See t
-000257a0: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
-000257b0: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
-000257c0: 7379 6e74 6178 2e5f 0d0a 0d0a 2323 2323  syntax._....####
-000257d0: 2060 666d 6170 600d 0a0d 0a2a 2a66 6d61   `fmap`....**fma
-000257e0: 702a 2a28 5f66 756e 635f 2c20 5f6f 626a  p**(_func_, _obj
-000257f0: 5f29 0d0a 0d0a 496e 2048 6173 6b65 6c6c  _)....In Haskell
-00025800: 2c20 6066 6d61 7028 6675 6e63 2c20 6f62  , `fmap(func, ob
-00025810: 6a29 6020 7461 6b65 7320 6120 6461 7461  j)` takes a data
-00025820: 2074 7970 6520 606f 626a 6020 616e 6420   type `obj` and 
-00025830: 7265 7475 726e 7320 6120 6e65 7720 6461  returns a new da
-00025840: 7461 2074 7970 6520 7769 7468 2060 6675  ta type with `fu
-00025850: 6e63 6020 6d61 7070 6564 206f 7665 7220  nc` mapped over 
-00025860: 7468 6520 636f 6e74 656e 7473 2e20 436f  the contents. Co
-00025870: 636f 6e75 7427 7320 6066 6d61 7060 2066  conut's `fmap` f
-00025880: 756e 6374 696f 6e20 646f 6573 2074 6865  unction does the
-00025890: 2065 7861 6374 2073 616d 6520 7468 696e   exact same thin
-000258a0: 6720 666f 7220 436f 636f 6e75 7427 7320  g for Coconut's 
-000258b0: 5b64 6174 6120 7479 7065 735d 2823 6461  [data types](#da
-000258c0: 7461 292e 0d0a 0d0a 6066 6d61 7060 2063  ta).....`fmap` c
-000258d0: 616e 2061 6c73 6f20 6265 2075 7365 6420  an also be used 
-000258e0: 6f6e 2074 6865 2062 7569 6c74 2d69 6e20  on the built-in 
-000258f0: 6f62 6a65 6374 7320 6073 7472 602c 2060  objects `str`, `
-00025900: 6469 6374 602c 2060 6c69 7374 602c 2060  dict`, `list`, `
-00025910: 7475 706c 6560 2c20 6073 6574 602c 2060  tuple`, `set`, `
-00025920: 6672 6f7a 656e 7365 7460 2c20 616e 6420  frozenset`, and 
-00025930: 6064 6963 7460 2061 7320 6120 7661 7269  `dict` as a vari
-00025940: 616e 7420 6f66 2060 6d61 7060 2074 6861  ant of `map` tha
-00025950: 7420 7265 7475 726e 7320 6261 636b 2061  t returns back a
-00025960: 6e20 6f62 6a65 6374 206f 6620 7468 6520  n object of the 
-00025970: 7361 6d65 2074 7970 652e 0d0a 0d0a 5468  same type.....Th
-00025980: 6520 6265 6861 7669 6f72 206f 6620 6066  e behavior of `f
-00025990: 6d61 7060 2066 6f72 2061 2067 6976 656e  map` for a given
-000259a0: 206f 626a 6563 7420 6361 6e20 6265 206f   object can be o
-000259b0: 7665 7272 6964 6465 6e20 6279 2064 6566  verridden by def
-000259c0: 696e 696e 6720 616e 2060 5f5f 666d 6170  ining an `__fmap
-000259d0: 5f5f 2873 656c 662c 2066 756e 6329 6020  __(self, func)` 
-000259e0: 6d61 6769 6320 6d65 7468 6f64 2074 6861  magic method tha
-000259f0: 7420 7769 6c6c 2062 6520 6361 6c6c 6564  t will be called
-00025a00: 2077 6865 6e65 7665 7220 6066 6d61 7060   whenever `fmap`
-00025a10: 2069 7320 696e 766f 6b65 6420 6f6e 2074   is invoked on t
-00025a20: 6861 7420 6f62 6a65 6374 2e20 4e6f 7465  hat object. Note
-00025a30: 2074 6861 7420 605f 5f66 6d61 705f 5f60   that `__fmap__`
-00025a40: 2069 6d70 6c65 6d65 6e74 6174 696f 6e73   implementations
-00025a50: 2073 686f 756c 6420 616c 7761 7973 2073   should always s
-00025a60: 6174 6973 6679 2074 6865 205b 4675 6e63  atisfy the [Func
-00025a70: 746f 7220 4c61 7773 5d28 6874 7470 733a  tor Laws](https:
-00025a80: 2f2f 7769 6b69 2e68 6173 6b65 6c6c 2e6f  //wiki.haskell.o
-00025a90: 7267 2f46 756e 6374 6f72 292e 0d0a 0d0a  rg/Functor).....
-00025aa0: 466f 7220 6064 6963 7460 2c20 6f72 2061  For `dict`, or a
-00025ab0: 6e79 206f 7468 6572 2060 636f 6c6c 6563  ny other `collec
-00025ac0: 7469 6f6e 732e 6162 632e 4d61 7070 696e  tions.abc.Mappin
-00025ad0: 6760 2c20 6066 6d61 7060 2077 696c 6c20  g`, `fmap` will 
-00025ae0: 6d61 7020 6f76 6572 2074 6865 206d 6170  map over the map
-00025af0: 7069 6e67 2773 2060 2e69 7465 6d73 2829  ping's `.items()
-00025b00: 6020 696e 7374 6561 6420 6f66 2074 6865  ` instead of the
-00025b10: 2064 6566 6175 6c74 2069 7465 7261 7469   default iterati
-00025b20: 6f6e 2074 6872 6f75 6768 2069 7473 2060  on through its `
-00025b30: 2e6b 6579 7328 2960 2c20 7769 7468 2074  .keys()`, with t
-00025b40: 6865 206e 6577 206d 6170 7069 6e67 2072  he new mapping r
-00025b50: 6563 6f6e 7374 7275 6374 6564 2066 726f  econstructed fro
-00025b60: 6d20 7468 6520 6d61 7070 6564 206f 7665  m the mapped ove
-00025b70: 7220 6974 656d 732e 205f 4445 5052 4543  r items. _DEPREC
-00025b80: 4154 4544 3a20 6066 6d61 7024 2873 7461  ATED: `fmap$(sta
-00025b90: 726d 6170 5f6f 7665 725f 6d61 7070 696e  rmap_over_mappin
-00025ba0: 6773 3d54 7275 6529 6020 7769 6c6c 2060  gs=True)` will `
-00025bb0: 7374 6172 6d61 7060 206f 7665 7220 7468  starmap` over th
-00025bc0: 6520 602e 6974 656d 7328 2960 2069 6e73  e `.items()` ins
-00025bd0: 7465 6164 206f 6620 606d 6170 6020 6f76  tead of `map` ov
-00025be0: 6572 2074 6865 6d2e 5f0d 0a0d 0a46 6f72  er them._....For
-00025bf0: 205b 606e 756d 7079 605d 2823 6e75 6d70   [`numpy`](#nump
-00025c00: 792d 696e 7465 6772 6174 696f 6e29 206f  y-integration) o
-00025c10: 626a 6563 7473 2c20 6066 6d61 7060 2077  bjects, `fmap` w
-00025c20: 696c 6c20 7573 6520 5b60 6e70 2e76 6563  ill use [`np.vec
-00025c30: 746f 7269 7a65 605d 2868 7474 7073 3a2f  torize`](https:/
-00025c40: 2f64 6f63 732e 7363 6970 792e 6f72 672f  /docs.scipy.org/
-00025c50: 646f 632f 6e75 6d70 792f 7265 6665 7265  doc/numpy/refere
-00025c60: 6e63 652f 6765 6e65 7261 7465 642f 6e75  nce/generated/nu
-00025c70: 6d70 792e 7665 6374 6f72 697a 652e 6874  mpy.vectorize.ht
-00025c80: 6d6c 2920 746f 2070 726f 6475 6365 2074  ml) to produce t
-00025c90: 6865 2072 6573 756c 742e 0d0a 0d0a 466f  he result.....Fo
-00025ca0: 7220 5b60 7061 6e64 6173 605d 2868 7474  r [`pandas`](htt
-00025cb0: 7073 3a2f 2f70 616e 6461 732e 7079 6461  ps://pandas.pyda
-00025cc0: 7461 2e6f 7267 2f29 206f 626a 6563 7473  ta.org/) objects
-00025cd0: 2c20 6066 6d61 7060 2077 696c 6c20 7573  , `fmap` will us
-00025ce0: 6520 5b60 2e61 7070 6c79 605d 2868 7474  e [`.apply`](htt
-00025cf0: 7073 3a2f 2f70 616e 6461 732e 7079 6461  ps://pandas.pyda
-00025d00: 7461 2e6f 7267 2f64 6f63 732f 7265 6665  ta.org/docs/refe
-00025d10: 7265 6e63 652f 6170 692f 7061 6e64 6173  rence/api/pandas
-00025d20: 2e44 6174 6146 7261 6d65 2e61 7070 6c79  .DataFrame.apply
-00025d30: 2e68 746d 6c29 2061 6c6f 6e67 2074 6865  .html) along the
-00025d40: 206c 6173 7420 6178 6973 2028 736f 2072   last axis (so r
-00025d50: 6f77 2d77 6973 6520 666f 7220 6044 6174  ow-wise for `Dat
-00025d60: 6146 7261 6d65 6027 732c 2065 6c65 6d65  aFrame`'s, eleme
-00025d70: 6e74 2d77 6973 6520 666f 7220 6053 6572  nt-wise for `Ser
-00025d80: 6965 7360 2773 292e 0d0a 0d0a 466f 7220  ies`'s).....For 
-00025d90: 6173 796e 6368 726f 6e6f 7573 2069 7465  asynchronous ite
-00025da0: 7261 626c 6573 2c20 6066 6d61 7060 2077  rables, `fmap` w
-00025db0: 696c 6c20 6d61 7020 6173 796e 6368 726f  ill map asynchro
-00025dc0: 6e6f 7573 6c79 2c20 6d61 6b69 6e67 2060  nously, making `
-00025dd0: 666d 6170 6020 6571 7569 7661 6c65 6e74  fmap` equivalent
-00025de0: 2069 6e20 7468 6174 2063 6173 6520 746f   in that case to
-00025df0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-00025e00: 686f 6e0d 0a61 7379 6e63 2064 6566 2066  hon..async def f
-00025e10: 6d61 705f 6f76 6572 5f61 7379 6e63 5f69  map_over_async_i
-00025e20: 7465 7273 2866 756e 632c 2061 7379 6e63  ters(func, async
-00025e30: 5f69 7465 7229 3a0d 0a20 2020 2061 7379  _iter):..    asy
-00025e40: 6e63 2066 6f72 2069 7465 6d20 696e 2061  nc for item in a
-00025e50: 7379 6e63 5f69 7465 723a 0d0a 2020 2020  sync_iter:..    
-00025e60: 2020 2020 7969 656c 6420 6675 6e63 2869      yield func(i
-00025e70: 7465 6d29 0d0a 6060 600d 0a73 7563 6820  tem)..```..such 
-00025e80: 7468 6174 2060 666d 6170 6020 6361 6e20  that `fmap` can 
-00025e90: 6566 6665 6374 6976 656c 7920 6265 2075  effectively be u
-00025ea0: 7365 6420 6173 2061 6e20 6173 796e 6320  sed as an async 
-00025eb0: 6d61 702e 0d0a 0d0a 5f44 4550 5245 4341  map....._DEPRECA
-00025ec0: 5445 443a 2060 666d 6170 2866 756e 632c  TED: `fmap(func,
-00025ed0: 206f 626a 2c20 6661 6c6c 6261 636b 5f74   obj, fallback_t
-00025ee0: 6f5f 696e 6974 3d54 7275 6529 6020 7769  o_init=True)` wi
-00025ef0: 6c6c 2066 616c 6c20 6261 636b 2074 6f20  ll fall back to 
-00025f00: 606f 626a 2e5f 5f63 6c61 7373 5f5f 286d  `obj.__class__(m
-00025f10: 6170 2866 756e 632c 206f 626a 2929 6020  ap(func, obj))` 
-00025f20: 6966 206e 6f20 6066 6d61 7060 2069 6d70  if no `fmap` imp
-00025f30: 6c65 6d65 6e74 6174 696f 6e20 6973 2061  lementation is a
-00025f40: 7661 696c 6162 6c65 2072 6174 6865 7220  vailable rather 
-00025f50: 7468 616e 2072 6169 7365 2060 5479 7065  than raise `Type
-00025f60: 4572 726f 7260 2e5f 0d0a 0d0a 2323 2323  Error`._....####
-00025f70: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-00025f80: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-00025f90: 636f 6e75 740d 0a5b 312c 2032 2c20 335d  conut..[1, 2, 3]
-00025fa0: 207c 3e20 666d 6170 2428 7820 2d3e 2078   |> fmap$(x -> x
-00025fb0: 2b31 2920 3d3d 205b 322c 2033 2c20 345d  +1) == [2, 3, 4]
-00025fc0: 0d0a 0d0a 636c 6173 7320 4d61 7962 650d  ....class Maybe.
-00025fd0: 0a64 6174 6120 4e6f 7468 696e 6728 2920  .data Nothing() 
-00025fe0: 6672 6f6d 204d 6179 6265 0d0a 6461 7461  from Maybe..data
-00025ff0: 204a 7573 7428 6e29 2066 726f 6d20 4d61   Just(n) from Ma
-00026000: 7962 650d 0a0d 0a4a 7573 7428 3329 207c  ybe....Just(3) |
-00026010: 3e20 666d 6170 2428 7820 2d3e 2078 2a32  > fmap$(x -> x*2
-00026020: 2920 3d3d 204a 7573 7428 3629 0d0a 4e6f  ) == Just(6)..No
-00026030: 7468 696e 6728 2920 7c3e 2066 6d61 7024  thing() |> fmap$
-00026040: 2878 202d 3e20 782a 3229 203d 3d20 4e6f  (x -> x*2) == No
-00026050: 7468 696e 6728 290d 0a60 6060 0d0a 0d0a  thing()..```....
-00026060: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
-00026070: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-00026080: 6f75 7420 6120 7365 7269 6573 206f 6620  out a series of 
-00026090: 6d65 7468 6f64 2064 6566 696e 6974 696f  method definitio
-000260a0: 6e73 2066 6f72 2065 6163 6820 6461 7461  ns for each data
-000260b0: 2074 7970 652e 2053 6565 2074 6865 2063   type. See the c
-000260c0: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
-000260d0: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
-000260e0: 6178 2e5f 0d0a 0d0a 0d0a 2323 2323 2060  ax._......#### `
-000260f0: 6361 6c6c 600d 0a0d 0a2a 2a63 616c 6c2a  call`....**call*
-00026100: 2a28 5f66 756e 635f 2c20 2f2c 202a 5f61  *(_func_, /, *_a
-00026110: 7267 735f 2c20 5c2a 5c2a 5f6b 7761 7267  rgs_, \*\*_kwarg
-00026120: 735f 290d 0a0d 0a43 6f63 6f6e 7574 2773  s_)....Coconut's
-00026130: 2060 6361 6c6c 6020 7369 6d70 6c79 2069   `call` simply i
-00026140: 6d70 6c65 6d65 6e74 7320 6675 6e63 7469  mplements functi
-00026150: 6f6e 2061 7070 6c69 6361 7469 6f6e 2e20  on application. 
-00026160: 5468 7573 2c20 6063 616c 6c60 2069 7320  Thus, `call` is 
-00026170: 6566 6665 6374 6976 656c 7920 6571 7569  effectively equi
-00026180: 7661 6c65 6e74 2074 6f0d 0a60 6060 636f  valent to..```co
-00026190: 636f 6e75 740d 0a64 6566 2063 616c 6c28  conut..def call(
-000261a0: 662c 202f 2c20 2a61 7267 732c 202a 2a6b  f, /, *args, **k
-000261b0: 7761 7267 7329 203d 2066 282a 6172 6773  wargs) = f(*args
-000261c0: 2c20 2a2a 6b77 6172 6773 290d 0a60 6060  , **kwargs)..```
-000261d0: 0d0a 0d0a 6063 616c 6c60 2069 7320 7072  ....`call` is pr
-000261e0: 696d 6172 696c 7920 7573 6566 756c 2061  imarily useful a
-000261f0: 7320 616e 205b 6f70 6572 6174 6f72 2066  s an [operator f
-00026200: 756e 6374 696f 6e5d 2823 6f70 6572 6174  unction](#operat
-00026210: 6f72 2d66 756e 6374 696f 6e73 2920 666f  or-functions) fo
-00026220: 7220 6675 6e63 7469 6f6e 2061 7070 6c69  r function appli
-00026230: 6361 7469 6f6e 2077 6865 6e20 7772 6974  cation when writ
-00026240: 696e 6720 696e 2061 2070 6f69 6e74 2d66  ing in a point-f
-00026250: 7265 6520 7374 796c 652e 0d0a 0d0a 5f44  ree style....._D
-00026260: 4550 5245 4341 5445 443a 2060 6f66 6020  EPRECATED: `of` 
-00026270: 6973 2061 7661 696c 6162 6c65 2061 7320  is available as 
-00026280: 6120 6465 7072 6563 6174 6564 2061 6c69  a deprecated ali
-00026290: 6173 2066 6f72 2060 6361 6c6c 602e 204e  as for `call`. N
-000262a0: 6f74 6520 7468 6174 2064 6570 7265 6361  ote that depreca
-000262b0: 7465 6420 6665 6174 7572 6573 2061 7265  ted features are
-000262c0: 2064 6973 6162 6c65 6420 696e 2060 2d2d   disabled in `--
-000262d0: 7374 7269 6374 6020 6d6f 6465 2e5f 0d0a  strict` mode._..
-000262e0: 0d0a 2323 2323 2060 7361 6665 5f63 616c  ..#### `safe_cal
-000262f0: 6c60 0d0a 0d0a 2a2a 7361 6665 5f63 616c  l`....**safe_cal
-00026300: 6c2a 2a28 5f66 756e 635f 2c20 2f2c 202a  l**(_func_, /, *
-00026310: 5f61 7267 735f 2c20 5c2a 5c2a 5f6b 7761  _args_, \*\*_kwa
-00026320: 7267 735f 290d 0a0d 0a43 6f63 6f6e 7574  rgs_)....Coconut
-00026330: 2773 2060 7361 6665 5f63 616c 6c60 2069  's `safe_call` i
-00026340: 7320 6120 7665 7273 696f 6e20 6f66 205b  s a version of [
-00026350: 6063 616c 6c60 5d28 2363 616c 6c29 2074  `call`](#call) t
-00026360: 6861 7420 6361 7463 6865 7320 616e 7920  hat catches any 
-00026370: 6045 7863 6570 7469 6f6e 6073 2061 6e64  `Exception`s and
-00026380: 2072 6574 7572 6e73 2061 6e20 5b60 4578   returns an [`Ex
-00026390: 7065 6374 6564 605d 2823 6578 7065 6374  pected`](#expect
-000263a0: 6564 2920 636f 6e74 6169 6e69 6e67 2065  ed) containing e
-000263b0: 6974 6865 7220 7468 6520 7265 7375 6c74  ither the result
-000263c0: 206f 7220 7468 6520 6572 726f 722e 0d0a   or the error...
-000263d0: 0d0a 6073 6166 655f 6361 6c6c 6020 6973  ..`safe_call` is
-000263e0: 2065 6666 6563 7469 7665 6c79 2065 7175   effectively equ
-000263f0: 6976 616c 656e 7420 746f 3a0d 0a60 6060  ivalent to:..```
-00026400: 636f 636f 6e75 740d 0a64 6566 2073 6166  coconut..def saf
-00026410: 655f 6361 6c6c 2866 2c20 2f2c 202a 6172  e_call(f, /, *ar
-00026420: 6773 2c20 2a2a 6b77 6172 6773 293a 0d0a  gs, **kwargs):..
-00026430: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-00026440: 2020 7265 7475 726e 2045 7870 6563 7465    return Expecte
-00026450: 6428 6628 2a61 7267 732c 202a 2a6b 7761  d(f(*args, **kwa
-00026460: 7267 7329 290d 0a20 2020 2065 7863 6570  rgs))..    excep
-00026470: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00026480: 7272 3a0d 0a20 2020 2020 2020 2072 6574  rr:..        ret
-00026490: 7572 6e20 4578 7065 6374 6564 2865 7272  urn Expected(err
-000264a0: 6f72 3d65 7272 290d 0a60 6060 0d0a 0d0a  or=err)..```....
-000264b0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
-000264c0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-000264d0: 6060 636f 636f 6e75 740d 0a72 6573 2c20  ``coconut..res, 
-000264e0: 6572 7220 3d20 7361 6665 5f63 616c 6c28  err = safe_call(
-000264f0: 2d3e 2031 202f 2030 2920 7c3e 2066 6d61  -> 1 / 0) |> fma
-00026500: 7024 282e 2b31 290d 0a60 6060 0d0a 0d0a  p$(.+1)..```....
-00026510: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
-00026520: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
-00026530: 6f75 7420 6120 636f 6d70 6c65 7820 6045  out a complex `E
-00026540: 7870 6563 7465 6460 2064 6566 696e 6974  xpected` definit
-00026550: 696f 6e2e 2053 6565 2074 6865 2063 6f6d  ion. See the com
-00026560: 7069 6c65 6420 636f 6465 2066 6f72 2074  piled code for t
-00026570: 6865 2050 7974 686f 6e20 7379 6e74 6178  he Python syntax
-00026580: 2e5f 0d0a 0d0a 2323 2323 2060 6c69 6674  ._....#### `lift
-00026590: 600d 0a0d 0a2a 2a6c 6966 742a 2a28 5f66  `....**lift**(_f
-000265a0: 756e 635f 290d 0a0d 0a2a 2a6c 6966 742a  unc_)....**lift*
-000265b0: 2a28 5f66 756e 635f 2c20 2a5f 6675 6e63  *(_func_, *_func
-000265c0: 5c5f 6172 6773 5f2c 202a 2a5f 6675 6e63  \_args_, **_func
-000265d0: 5c5f 6b77 6172 6773 5f29 0d0a 0d0a 436f  \_kwargs_)....Co
-000265e0: 636f 6e75 7427 7320 606c 6966 7460 2062  conut's `lift` b
-000265f0: 7569 6c74 2d69 6e20 6973 2061 2068 6967  uilt-in is a hig
-00026600: 6865 722d 6f72 6465 7220 6675 6e63 7469  her-order functi
-00026610: 6f6e 2074 6861 7420 7461 6b65 7320 696e  on that takes in
-00026620: 2061 2066 756e 6374 696f 6e20 616e 6420   a function and 
-00026630: e280 9c6c 6966 7473 e280 9d20 6974 2075  ...lifts... it u
-00026640: 7020 736f 2074 6861 7420 616c 6c20 6f66  p so that all of
-00026650: 2069 7473 2061 7267 756d 656e 7473 2061   its arguments a
-00026660: 7265 2066 756e 6374 696f 6e73 2e0d 0a0d  re functions....
-00026670: 0a41 7320 6120 7369 6d70 6c65 2065 7861  .As a simple exa
-00026680: 6d70 6c65 2c20 666f 7220 6120 6269 6e61  mple, for a bina
-00026690: 7279 2066 756e 6374 696f 6e20 6066 2878  ry function `f(x
-000266a0: 2c20 7929 6020 616e 6420 7477 6f20 756e  , y)` and two un
-000266b0: 6172 7920 6675 6e63 7469 6f6e 7320 6067  ary functions `g
-000266c0: 287a 2960 2061 6e64 2060 6828 7a29 602c  (z)` and `h(z)`,
-000266d0: 2060 6c69 6674 6020 776f 726b 7320 6173   `lift` works as
-000266e0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6c69  ..```coconut..li
-000266f0: 6674 2866 2928 672c 2068 2928 7a29 203d  ft(f)(g, h)(z) =
-00026700: 3d20 6628 6728 7a29 2c20 6828 7a29 290d  = f(g(z), h(z)).
-00026710: 0a60 6060 0d0a 7375 6368 2074 6861 7420  .```..such that 
-00026720: 696e 2074 6869 7320 6361 7365 2060 6c69  in this case `li
-00026730: 6674 6020 696d 706c 656d 656e 7473 2074  ft` implements t
-00026740: 6865 2060 5327 6020 636f 6d62 696e 6174  he `S'` combinat
-00026750: 6f72 2028 606c 6966 7441 3260 206f 7220  or (`liftA2` or 
-00026760: 606c 6966 744d 3260 2069 6e20 4861 736b  `liftM2` in Hask
-00026770: 656c 6c29 2e0d 0a0d 0a49 6e20 7468 6520  ell).....In the 
-00026780: 6765 6e65 7261 6c20 6361 7365 2c20 606c  general case, `l
-00026790: 6966 7460 2069 7320 6571 7569 7661 6c65  ift` is equivale
-000267a0: 6e74 2074 6f20 6120 7069 636b 6c65 6162  nt to a pickleab
-000267b0: 6c65 2076 6572 7369 6f6e 206f 660d 0a60  le version of..`
-000267c0: 6060 636f 636f 6e75 740d 0a64 6566 206c  ``coconut..def l
-000267d0: 6966 7428 6629 203d 2028 0d0a 2020 2020  ift(f) = (..    
-000267e0: 282a 6675 6e63 5f61 7267 732c 202a 2a66  (*func_args, **f
-000267f0: 756e 635f 6b77 6172 6773 2920 2d3e 0d0a  unc_kwargs) ->..
-00026800: 2020 2020 2020 2020 282a 6172 6773 2c20          (*args, 
-00026810: 2a2a 6b77 6172 6773 2920 2d3e 0d0a 2020  **kwargs) ->..  
-00026820: 2020 2020 2020 2020 2020 6628 0d0a 2020            f(..  
-00026830: 2020 2020 2020 2020 2020 2020 2020 2a28                *(
-00026840: 6728 2a61 7267 732c 202a 2a6b 7761 7267  g(*args, **kwarg
-00026850: 7329 2066 6f72 2067 2069 6e20 6675 6e63  s) for g in func
-00026860: 5f61 7267 7329 2c0d 0a20 2020 2020 2020  _args),..       
-00026870: 2020 2020 2020 2020 202a 2a7b 6b3a 2068           **{k: h
-00026880: 282a 6172 6773 2c20 2a2a 6b77 6172 6773  (*args, **kwargs
-00026890: 2920 666f 7220 6b2c 2068 2069 6e20 6675  ) for k, h in fu
-000268a0: 6e63 5f6b 7761 7267 732e 6974 656d 7328  nc_kwargs.items(
-000268b0: 297d 0d0a 2020 2020 2020 2020 2020 2020  )}..            
-000268c0: 290d 0a29 0d0a 6060 600d 0a0d 0a60 6c69  )..)..```....`li
-000268d0: 6674 6020 616c 736f 2073 7570 706f 7274  ft` also support
-000268e0: 7320 6120 7368 6f72 7463 7574 2066 6f72  s a shortcut for
-000268f0: 6d20 7375 6368 2074 6861 7420 606c 6966  m such that `lif
-00026900: 7428 662c 202a 6675 6e63 5f61 7267 732c  t(f, *func_args,
-00026910: 202a 2a66 756e 635f 6b77 6172 6773 2960   **func_kwargs)`
-00026920: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
-00026930: 6f20 606c 6966 7428 6629 282a 6675 6e63  o `lift(f)(*func
-00026940: 5f61 7267 732c 202a 2a66 756e 635f 6b77  _args, **func_kw
-00026950: 6172 6773 2960 2e0d 0a0d 0a23 2323 2323  args)`.....#####
-00026960: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-00026970: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-00026980: 6f6e 7574 0d0a 7873 5f61 6e64 5f78 7370  onut..xs_and_xsp
-00026990: 3120 3d20 6964 656e 7420 606c 6966 7428  1 = ident `lift(
-000269a0: 7a69 7029 6020 6d61 7024 282d 3e5f 2b31  zip)` map$(->_+1
-000269b0: 290d 0a6d 696e 5f61 6e64 5f6d 6178 203d  )..min_and_max =
-000269c0: 206c 6966 7428 2c29 286d 696e 2c20 6d61   lift(,)(min, ma
-000269d0: 7829 0d0a 706c 7573 5f61 6e64 5f74 696d  x)..plus_and_tim
-000269e0: 6573 203d 2028 2b29 2060 6c69 6674 282c  es = (+) `lift(,
-000269f0: 2960 2028 2a29 0d0a 6060 600d 0a0d 0a2a  )` (*)..```....*
-00026a00: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
-00026a10: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
-00026a20: 6566 2078 735f 616e 645f 7873 7031 2878  ef xs_and_xsp1(x
-00026a30: 7329 3a0d 0a20 2020 2072 6574 7572 6e20  s):..    return 
-00026a40: 7a69 7028 7873 2c20 6d61 7028 6c61 6d62  zip(xs, map(lamb
-00026a50: 6461 2078 3a20 7820 2b20 312c 2078 7329  da x: x + 1, xs)
-00026a60: 290d 0a64 6566 206d 696e 5f61 6e64 5f6d  )..def min_and_m
-00026a70: 6178 2878 7329 3a0d 0a20 2020 2072 6574  ax(xs):..    ret
-00026a80: 7572 6e20 6d69 6e28 7873 292c 206d 6178  urn min(xs), max
-00026a90: 2878 7329 0d0a 6465 6620 706c 7573 5f61  (xs)..def plus_a
-00026aa0: 6e64 5f74 696d 6573 2878 2c20 7929 3a0d  nd_times(x, y):.
-00026ab0: 0a20 2020 2072 6574 7572 6e20 7820 2b20  .    return x + 
-00026ac0: 792c 2078 202a 2079 0d0a 6060 600d 0a0d  y, x * y..```...
-00026ad0: 0a23 2323 2320 6066 6c69 7060 0d0a 0d0a  .#### `flip`....
-00026ae0: 2a2a 666c 6970 2a2a 285f 6675 6e63 5f2c  **flip**(_func_,
-00026af0: 205f 6e61 7267 735f 3d60 4e6f 6e65 6029   _nargs_=`None`)
-00026b00: 0d0a 0d0a 436f 636f 6e75 7427 7320 6066  ....Coconut's `f
-00026b10: 6c69 7028 662c 206e 6172 6773 3d4e 6f6e  lip(f, nargs=Non
-00026b20: 6529 6020 6973 2061 2068 6967 6865 722d  e)` is a higher-
-00026b30: 6f72 6465 7220 6675 6e63 7469 6f6e 2074  order function t
-00026b40: 6861 742c 2067 6976 656e 2061 2066 756e  hat, given a fun
-00026b50: 6374 696f 6e20 6066 602c 2072 6574 7572  ction `f`, retur
-00026b60: 6e73 2061 206e 6577 2066 756e 6374 696f  ns a new functio
-00026b70: 6e20 7769 7468 2072 6576 6572 7365 6420  n with reversed 
-00026b80: 6172 6775 6d65 6e74 206f 7264 6572 2e20  argument order. 
-00026b90: 4966 2060 6e61 7267 7360 2069 7320 7061  If `nargs` is pa
-00026ba0: 7373 6564 2c20 6f6e 6c79 2074 6865 2066  ssed, only the f
-00026bb0: 6972 7374 2060 6e61 7267 7360 2061 7267  irst `nargs` arg
-00026bc0: 756d 656e 7473 2061 7265 2072 6576 6572  uments are rever
-00026bd0: 7365 642e 0d0a 0d0a 466f 7220 7468 6520  sed.....For the 
-00026be0: 6269 6e61 7279 2063 6173 652c 2060 666c  binary case, `fl
-00026bf0: 6970 6020 776f 726b 7320 6173 0d0a 6060  ip` works as..``
-00026c00: 6063 6f63 6f6e 7574 0d0a 666c 6970 2866  `coconut..flip(f
-00026c10: 2c20 3229 2878 2c20 7929 203d 3d20 6628  , 2)(x, y) == f(
-00026c20: 792c 2078 290d 0a60 6060 0d0a 7375 6368  y, x)..```..such
-00026c30: 2074 6861 7420 6066 6c69 7024 283f 2c20   that `flip$(?, 
-00026c40: 3229 6020 696d 706c 656d 656e 7473 2074  2)` implements t
-00026c50: 6865 2060 4360 2063 6f6d 6269 6e61 746f  he `C` combinato
-00026c60: 7220 2860 666c 6970 6020 696e 2048 6173  r (`flip` in Has
-00026c70: 6b65 6c6c 292e 0d0a 0d0a 496e 2074 6865  kell).....In the
-00026c80: 2067 656e 6572 616c 2063 6173 652c 2060   general case, `
-00026c90: 666c 6970 6020 6973 2065 7175 6976 616c  flip` is equival
-00026ca0: 656e 7420 746f 2061 2070 6963 6b6c 6561  ent to a picklea
-00026cb0: 626c 6520 7665 7273 696f 6e20 6f66 0d0a  ble version of..
-00026cc0: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
-00026cd0: 666c 6970 2866 2c20 6e61 7267 733d 4e6f  flip(f, nargs=No
-00026ce0: 6e65 2920 3d0d 0a20 2020 2028 2a61 7267  ne) =..    (*arg
-00026cf0: 732c 202a 2a6b 7761 7267 7329 202d 3e20  s, **kwargs) -> 
-00026d00: 280d 0a20 2020 2020 2020 2066 282a 6172  (..        f(*ar
-00026d10: 6773 5b3a 3a2d 315d 2c20 2a2a 6b77 6172  gs[::-1], **kwar
-00026d20: 6773 2920 6966 206e 6172 6773 2069 7320  gs) if nargs is 
-00026d30: 4e6f 6e65 0d0a 2020 2020 2020 2020 656c  None..        el
-00026d40: 7365 2066 282a 2861 7267 735b 6e61 7267  se f(*(args[narg
-00026d50: 732d 313a 3a2d 315d 202b 2061 7267 735b  s-1::-1] + args[
-00026d60: 6e61 7267 733a 5d29 2c20 2a2a 6b77 6172  nargs:]), **kwar
-00026d70: 6773 290d 0a20 2020 2029 0d0a 6060 600d  gs)..    )..```.
-00026d80: 0a0d 0a23 2323 2320 6063 6f6e 7374 600d  ...#### `const`.
-00026d90: 0a0d 0a2a 2a63 6f6e 7374 2a2a 285f 7661  ...**const**(_va
-00026da0: 6c75 655f 290d 0a0d 0a43 6f63 6f6e 7574  lue_)....Coconut
-00026db0: 2773 2060 636f 6e73 7460 2073 696d 706c  's `const` simpl
-00026dc0: 7920 636f 6e73 7472 7563 7473 2061 2066  y constructs a f
-00026dd0: 756e 6374 696f 6e20 7468 6174 2c20 7768  unction that, wh
-00026de0: 6174 6576 6572 2069 7473 2061 7267 756d  atever its argum
-00026df0: 656e 7473 2c20 6a75 7374 2072 6574 7572  ents, just retur
-00026e00: 6e73 2074 6865 2067 6976 656e 2076 616c  ns the given val
-00026e10: 7565 2e20 5468 7573 2c20 6063 6f6e 7374  ue. Thus, `const
-00026e20: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-00026e30: 746f 2061 2070 6963 6b6c 6561 626c 6520  to a pickleable 
-00026e40: 7665 7273 696f 6e20 6f66 0d0a 6060 6063  version of..```c
-00026e50: 6f63 6f6e 7574 0d0a 6465 6620 636f 6e73  oconut..def cons
-00026e60: 7428 7661 6c75 6529 203d 2028 2a61 7267  t(value) = (*arg
-00026e70: 732c 202a 2a6b 7761 7267 7329 202d 3e20  s, **kwargs) -> 
-00026e80: 7661 6c75 650d 0a60 6060 0d0a 0d0a 6063  value..```....`c
-00026e90: 6f6e 7374 6020 6973 2070 7269 6d61 7269  onst` is primari
-00026ea0: 6c79 2075 7365 6675 6c20 7768 656e 2077  ly useful when w
-00026eb0: 7269 7469 6e67 2069 6e20 6120 706f 696e  riting in a poin
-00026ec0: 742d 6672 6565 2073 7479 6c65 2028 652e  t-free style (e.
-00026ed0: 672e 2069 6e20 636f 6d62 696e 6174 696f  g. in combinatio
-00026ee0: 6e20 7769 7468 205b 606c 6966 7460 5d28  n with [`lift`](
-00026ef0: 236c 6966 7429 292e 0d0a 0d0a 2323 2323  #lift)).....####
-00026f00: 2060 6964 656e 7460 0d0a 0d0a 2a2a 6964   `ident`....**id
-00026f10: 656e 742a 2a28 5f78 5f2c 202a 2c20 5f73  ent**(_x_, *, _s
-00026f20: 6964 655c 5f65 6666 6563 745f 3d60 4e6f  ide\_effect_=`No
-00026f30: 6e65 6029 0d0a 0d0a 436f 636f 6e75 7427  ne`)....Coconut'
-00026f40: 7320 6069 6465 6e74 6020 6973 2074 6865  s `ident` is the
-00026f50: 2069 6465 6e74 6974 7920 6675 6e63 7469   identity functi
-00026f60: 6f6e 2c20 6765 6e65 7261 6c6c 7920 6571  on, generally eq
-00026f70: 7569 7661 6c65 6e74 2074 6f20 6078 202d  uivalent to `x -
-00026f80: 3e20 7860 2e0d 0a0d 0a60 6964 656e 7460  > x`.....`ident`
-00026f90: 2061 6c73 6f20 6163 6365 7074 7320 6f6e   also accepts on
-00026fa0: 6520 6b65 7977 6f72 642d 6f6e 6c79 2061  e keyword-only a
-00026fb0: 7267 756d 656e 742c 2060 7369 6465 5f65  rgument, `side_e
-00026fc0: 6666 6563 7460 2c20 7768 6963 6820 7370  ffect`, which sp
-00026fd0: 6563 6966 6965 7320 6120 6675 6e63 7469  ecifies a functi
-00026fe0: 6f6e 2074 6f20 6361 6c6c 206f 6e20 7468  on to call on th
-00026ff0: 6520 6172 6775 6d65 6e74 2062 6566 6f72  e argument befor
-00027000: 6520 6974 2069 7320 7265 7475 726e 6564  e it is returned
-00027010: 2e20 5468 7573 2c20 6069 6465 6e74 6020  . Thus, `ident` 
-00027020: 6973 2065 6666 6563 7469 7665 6c79 2065  is effectively e
-00027030: 7175 6976 616c 656e 7420 746f 3a0d 0a60  quivalent to:..`
-00027040: 6060 636f 636f 6e75 740d 0a64 6566 2069  ``coconut..def i
-00027050: 6465 6e74 2878 2c20 2a2c 2073 6964 655f  dent(x, *, side_
-00027060: 6566 6665 6374 3d4e 6f6e 6529 3a0d 0a20  effect=None):.. 
-00027070: 2020 2069 6620 7369 6465 5f65 6666 6563     if side_effec
-00027080: 7420 6973 206e 6f74 204e 6f6e 653a 0d0a  t is not None:..
-00027090: 2020 2020 2020 2020 7369 6465 5f65 6666          side_eff
-000270a0: 6563 7428 7829 0d0a 2020 2020 7265 7475  ect(x)..    retu
-000270b0: 726e 2078 0d0a 6060 600d 0a0d 0a60 6964  rn x..```....`id
-000270c0: 656e 7460 2069 7320 7072 696d 6172 696c  ent` is primaril
-000270d0: 7920 7573 6566 756c 2077 6865 6e20 7772  y useful when wr
-000270e0: 6974 696e 6720 696e 2061 2070 6f69 6e74  iting in a point
-000270f0: 2d66 7265 6520 7374 796c 6520 2865 2e67  -free style (e.g
-00027100: 2e20 696e 2063 6f6d 6269 6e61 7469 6f6e  . in combination
-00027110: 2077 6974 6820 5b60 6c69 6674 605d 2823   with [`lift`](#
-00027120: 6c69 6674 2929 206f 7220 666f 7220 6465  lift)) or for de
-00027130: 6275 6767 696e 6720 5b70 6970 6573 5d28  bugging [pipes](
-00027140: 2370 6970 6573 2920 7768 6572 6520 6069  #pipes) where `i
-00027150: 6465 6e74 2428 7369 6465 5f65 6666 6563  dent$(side_effec
-00027160: 743d 7072 696e 7429 6020 6361 6e20 6c65  t=print)` can le
-00027170: 7420 796f 7520 7365 6520 7768 6174 2069  t you see what i
-00027180: 7320 6265 696e 6720 7069 7065 642e 0d0a  s being piped...
-00027190: 0d0a 2323 2320 4275 696c 742d 496e 7320  ..### Built-Ins 
-000271a0: 666f 7220 576f 726b 696e 6720 7769 7468  for Working with
-000271b0: 2049 7465 7261 746f 7273 0d0a 0d0a 6060   Iterators....``
-000271c0: 607b 636f 6e74 656e 7473 7d0d 0a2d 2d2d  `{contents}..---
-000271d0: 0d0a 6c6f 6361 6c3a 0d0a 6465 7074 683a  ..local:..depth:
-000271e0: 2031 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a   1..---..```....
-000271f0: 2323 2323 2045 6e68 616e 6365 6420 4275  #### Enhanced Bu
-00027200: 696c 742d 496e 730d 0a0d 0a43 6f63 6f6e  ilt-Ins....Cocon
-00027210: 7574 2773 2060 6d61 7060 2c20 607a 6970  ut's `map`, `zip
-00027220: 602c 2060 6669 6c74 6572 602c 2060 7265  `, `filter`, `re
-00027230: 7665 7273 6564 602c 2061 6e64 2060 656e  versed`, and `en
-00027240: 756d 6572 6174 6560 206f 626a 6563 7473  umerate` objects
-00027250: 2061 7265 2065 6e68 616e 6365 6420 7665   are enhanced ve
-00027260: 7273 696f 6e73 206f 6620 7468 6569 7220  rsions of their 
-00027270: 5079 7468 6f6e 2065 7175 6976 616c 656e  Python equivalen
-00027280: 7473 2074 6861 7420 7375 7070 6f72 743a  ts that support:
-00027290: 0d0a 0d0a 2d20 6072 6576 6572 7365 6460  ....- `reversed`
-000272a0: 0d0a 2d20 6072 6570 7260 0d0a 2d20 4f70  ..- `repr`..- Op
-000272b0: 7469 6d69 7a65 6420 6e6f 726d 616c 2028  timized normal (
-000272c0: 616e 6420 6974 6572 6174 6f72 2920 696e  and iterator) in
-000272d0: 6465 7869 6e67 2f73 6c69 6369 6e67 2028  dexing/slicing (
-000272e0: 606d 6170 602c 2060 7a69 7060 2c20 6072  `map`, `zip`, `r
-000272f0: 6576 6572 7365 6460 2c20 616e 6420 6065  eversed`, and `e
-00027300: 6e75 6d65 7261 7465 6020 6275 7420 6e6f  numerate` but no
-00027310: 7420 6066 696c 7465 7260 292e 0d0a 2d20  t `filter`)...- 
-00027320: 606c 656e 6020 2861 6c6c 2062 7574 2060  `len` (all but `
-00027330: 6669 6c74 6572 6029 2028 7468 6f75 6768  filter`) (though
-00027340: 2060 626f 6f6c 6020 7769 6c6c 2073 7469   `bool` will sti
-00027350: 6c6c 2061 6c77 6179 7320 7969 656c 6420  ll always yield 
-00027360: 6054 7275 6560 292e 0d0a 2d20 5468 6520  `True`)...- The 
-00027370: 6162 696c 6974 7920 746f 2062 6520 6974  ability to be it
-00027380: 6572 6174 6564 206f 7665 7220 6d75 6c74  erated over mult
-00027390: 6970 6c65 2074 696d 6573 2069 6620 7468  iple times if th
-000273a0: 6520 756e 6465 726c 7969 6e67 2069 7465  e underlying ite
-000273b0: 7261 746f 7273 2063 616e 2062 6520 6974  rators can be it
-000273c0: 6572 6174 6564 206f 7665 7220 6d75 6c74  erated over mult
-000273d0: 6970 6c65 2074 696d 6573 2e0d 0a2d 205b  iple times...- [
-000273e0: 5045 5020 3631 385d 2868 7474 7073 3a2f  PEP 618](https:/
-000273f0: 2f77 7777 2e70 7974 686f 6e2e 6f72 672f  /www.python.org/
-00027400: 6465 762f 7065 7073 2f70 6570 2d30 3631  dev/peps/pep-061
-00027410: 3829 2060 7a69 7028 2e2e 2e2c 2073 7472  8) `zip(..., str
-00027420: 6963 743d 5472 7565 2960 2073 7570 706f  ict=True)` suppo
-00027430: 7274 206f 6e20 616c 6c20 5079 7468 6f6e  rt on all Python
-00027440: 2076 6572 7369 6f6e 732e 0d0a 2d20 4164   versions...- Ad
-00027450: 6465 6420 6073 7472 6963 743d 5472 7565  ded `strict=True
-00027460: 6020 7375 7070 6f72 7420 746f 2060 6d61  ` support to `ma
-00027470: 7060 2061 7320 7765 6c6c 2028 656e 666f  p` as well (enfo
-00027480: 7263 6573 2074 6861 7420 6974 6572 6162  rces that iterab
-00027490: 6c65 7320 6172 6520 7468 6520 7361 6d65  les are the same
-000274a0: 206c 656e 6774 6820 696e 2074 6865 206d   length in the m
-000274b0: 756c 7469 2d69 7465 7261 626c 6520 6361  ulti-iterable ca
-000274c0: 7365 3b20 7573 6573 2060 7a69 7060 2075  se; uses `zip` u
-000274d0: 6e64 6572 2074 6865 2068 6f6f 6420 7375  nder the hood su
-000274e0: 6368 2074 6861 7420 6572 726f 7273 2077  ch that errors w
-000274f0: 696c 6c20 7368 6f77 2075 7020 6173 2060  ill show up as `
-00027500: 7a69 7028 2e2e 2e2c 2073 7472 6963 743d  zip(..., strict=
-00027510: 5472 7565 2960 2065 7272 6f72 7329 2e0d  True)` errors)..
-00027520: 0a2d 2041 6464 6564 2061 7474 7269 6275  .- Added attribu
-00027530: 7465 7320 7768 6963 6820 7375 6263 6c61  tes which subcla
-00027540: 7373 6573 2063 616e 206d 616b 6520 7573  sses can make us
-00027550: 6520 6f66 2074 6f20 6765 7420 6174 2074  e of to get at t
-00027560: 6865 206f 7269 6769 6e61 6c20 6172 6775  he original argu
-00027570: 6d65 6e74 7320 746f 2074 6865 206f 626a  ments to the obj
-00027580: 6563 743a 0d0a 2020 2a20 606d 6170 603a  ect:..  * `map`:
-00027590: 2060 6675 6e63 602c 2060 6974 6572 7360   `func`, `iters`
-000275a0: 0d0a 2020 2a20 607a 6970 603a 2060 6974  ..  * `zip`: `it
-000275b0: 6572 7360 0d0a 2020 2a20 6066 696c 7465  ers`..  * `filte
-000275c0: 7260 3a20 6066 756e 6360 2c20 6069 7465  r`: `func`, `ite
-000275d0: 7260 0d0a 2020 2a20 6072 6576 6572 7365  r`..  * `reverse
-000275e0: 6460 3a20 6069 7465 7260 0d0a 2020 2a20  d`: `iter`..  * 
-000275f0: 6065 6e75 6d65 7261 7465 603a 2060 6974  `enumerate`: `it
-00027600: 6572 602c 2060 7374 6172 7460 0d0a 0d0a  er`, `start`....
-00027610: 2323 2323 2320 496e 6465 7869 6e67 2069  ##### Indexing i
-00027620: 6e74 6f20 6f74 6865 7220 6275 696c 742d  nto other built-
-00027630: 696e 730d 0a0d 0a54 686f 7567 6820 436f  ins....Though Co
-00027640: 636f 6e75 7420 7072 6f76 6964 6573 2072  conut provides r
-00027650: 616e 646f 6d20 6163 6365 7373 2069 6e64  andom access ind
-00027660: 6578 696e 672f 736c 6963 696e 6720 746f  exing/slicing to
-00027670: 2060 7261 6e67 6560 2c20 606d 6170 602c   `range`, `map`,
-00027680: 2060 7a69 7060 2c20 6072 6576 6572 7365   `zip`, `reverse
-00027690: 6460 2c20 616e 6420 6065 6e75 6d65 7261  d`, and `enumera
-000276a0: 7465 602c 2043 6f63 6f6e 7574 2063 616e  te`, Coconut can
-000276b0: 6e6f 7420 696e 6465 7820 696e 746f 2062  not index into b
-000276c0: 7569 6c74 2d69 6e73 206c 696b 6520 6066  uilt-ins like `f
-000276d0: 696c 7465 7260 2c20 6074 616b 6577 6869  ilter`, `takewhi
-000276e0: 6c65 602c 206f 7220 6064 726f 7077 6869  le`, or `dropwhi
-000276f0: 6c65 6020 6469 7265 6374 6c79 2c20 6173  le` directly, as
-00027700: 2074 6865 7265 2069 7320 6e6f 2065 6666   there is no eff
-00027710: 6963 6965 6e74 2077 6179 2074 6f20 646f  icient way to do
-00027720: 2073 6f2e 0d0a 0d0a 6060 6063 6f63 6f6e   so.....```cocon
-00027730: 7574 0d0a 7261 6e67 6528 3130 2920 7c3e  ut..range(10) |>
-00027740: 2066 696c 7465 7224 2869 2d3e 693e 3329   filter$(i->i>3)
-00027750: 207c 3e20 2e5b 305d 2020 2320 646f 6573   |> .[0]  # does
-00027760: 6e27 7420 776f 726b 0d0a 6060 600d 0a0d  n't work..```...
-00027770: 0a49 6e20 6f72 6465 7220 746f 206d 616b  .In order to mak
-00027780: 6520 7468 6973 2077 6f72 6b2c 2079 6f75  e this work, you
-00027790: 2063 616e 2065 7870 6c69 6369 746c 7920   can explicitly 
-000277a0: 7573 6520 6974 6572 6174 6f72 2073 6c69  use iterator sli
-000277b0: 6369 6e67 2c20 7768 6963 6820 6973 206c  cing, which is l
-000277c0: 6573 7320 6566 6669 6369 656e 7420 696e  ess efficient in
-000277d0: 2074 6865 2067 656e 6572 616c 2063 6173   the general cas
-000277e0: 653a 0d0a 0d0a 6060 6063 6f63 6f6e 7574  e:....```coconut
-000277f0: 0d0a 7261 6e67 6528 3130 2920 7c3e 2066  ..range(10) |> f
-00027800: 696c 7465 7224 2869 2d3e 693e 3329 207c  ilter$(i->i>3) |
-00027810: 3e20 2e24 5b30 5d20 2023 2077 6f72 6b73  > .$[0]  # works
-00027820: 0d0a 6060 600d 0a0d 0a46 6f72 206d 6f72  ..```....For mor
-00027830: 6520 696e 666f 726d 6174 696f 6e20 6f6e  e information on
-00027840: 2043 6f63 6f6e 7574 2773 2069 7465 7261   Coconut's itera
-00027850: 746f 7220 736c 6963 696e 672c 2073 6565  tor slicing, see
-00027860: 205b 6865 7265 5d28 2369 7465 7261 746f   [here](#iterato
-00027870: 722d 736c 6963 696e 6729 2e0d 0a0d 0a23  r-slicing).....#
-00027880: 2323 2323 2045 7861 6d70 6c65 730d 0a0d  #### Examples...
-00027890: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
-000278a0: 6060 636f 636f 6e75 740d 0a6d 6170 2828  ``coconut..map((
-000278b0: 2b29 2c20 7261 6e67 6528 3529 2c20 7261  +), range(5), ra
-000278c0: 6e67 6528 3629 2920 7c3e 206c 656e 207c  nge(6)) |> len |
-000278d0: 3e20 7072 696e 740d 0a72 616e 6765 2831  > print..range(1
-000278e0: 3029 207c 3e20 6669 6c74 6572 2428 2878  0) |> filter$((x
-000278f0: 2920 2d3e 2078 203c 2035 2920 7c3e 2072  ) -> x < 5) |> r
-00027900: 6576 6572 7365 6420 7c3e 2074 7570 6c65  eversed |> tuple
-00027910: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
-00027920: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f  ..**Python:**.._
-00027930: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
-00027940: 7468 6f75 7420 6465 6669 6e69 6e67 2061  thout defining a
-00027950: 2063 7573 746f 6d20 606d 6170 6020 7479   custom `map` ty
-00027960: 7065 2e20 5468 6520 6675 6c6c 2064 6566  pe. The full def
-00027970: 696e 6974 696f 6e20 6f66 2060 6d61 7060  inition of `map`
-00027980: 2063 616e 2062 6520 666f 756e 6420 696e   can be found in
-00027990: 2074 6865 2043 6f63 6f6e 7574 2068 6561   the Coconut hea
-000279a0: 6465 722e 5f0d 0a0d 0a2a 2a43 6f63 6f6e  der._....**Cocon
-000279b0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-000279c0: 740d 0a72 616e 6765 2830 2c20 3132 2c20  t..range(0, 12, 
-000279d0: 3229 5b34 5d20 2023 2038 0d0a 0d0a 6d61  2)[4]  # 8....ma
-000279e0: 7028 2869 2d3e 692a 3229 2c20 7261 6e67  p((i->i*2), rang
-000279f0: 6528 3130 2929 5b32 5d20 2023 2034 0d0a  e(10))[2]  # 4..
-00027a00: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
-00027a10: 2a2a 0d0a 5f43 616e e280 9974 2062 6520  **.._Can...t be 
-00027a20: 646f 6e65 2071 7569 636b 6c79 2077 6974  done quickly wit
-00027a30: 686f 7574 2043 6f63 6f6e 7574 e280 9973  hout Coconut...s
-00027a40: 2069 7465 7261 626c 6520 696e 6465 7869   iterable indexi
-00027a50: 6e67 2c20 7768 6963 6820 7265 7175 6972  ng, which requir
-00027a60: 6573 206d 616e 7920 636f 6d70 6c69 6361  es many complica
-00027a70: 7465 6420 7069 6563 6573 2e20 5468 6520  ted pieces. The 
-00027a80: 6e65 6365 7373 6172 7920 6465 6669 6e69  necessary defini
-00027a90: 7469 6f6e 7320 696e 2050 7974 686f 6e20  tions in Python 
-00027aa0: 6361 6e20 6265 2066 6f75 6e64 2069 6e20  can be found in 
-00027ab0: 7468 6520 436f 636f 6e75 7420 6865 6164  the Coconut head
-00027ac0: 6572 2e5f 0d0a 0d0a 2323 2323 2060 7265  er._....#### `re
-00027ad0: 6475 6365 600d 0a0d 0a2a 2a72 6564 7563  duce`....**reduc
-00027ae0: 652a 2a28 5f66 756e 6374 696f 6e5f 2c20  e**(_function_, 
-00027af0: 5f69 7465 7261 626c 655f 5b2c 205f 696e  _iterable_[, _in
-00027b00: 6974 6961 6c5f 5d2c 202f 290d 0a0d 0a43  itial_], /)....C
-00027b10: 6f63 6f6e 7574 2072 652d 696e 7472 6f64  oconut re-introd
-00027b20: 7563 6573 2050 7974 686f 6e20 3227 7320  uces Python 2's 
-00027b30: 6072 6564 7563 6560 2062 7569 6c74 2d69  `reduce` built-i
-00027b40: 6e2c 2075 7369 6e67 2074 6865 2060 6675  n, using the `fu
-00027b50: 6e63 746f 6f6c 732e 7265 6475 6365 6020  nctools.reduce` 
-00027b60: 7665 7273 696f 6e2e 0d0a 0d0a 2323 2323  version.....####
-00027b70: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
-00027b80: 0a2a 2a72 6564 7563 652a 2a28 5f66 756e  .**reduce**(_fun
-00027b90: 6374 696f 6e2c 2069 7465 7261 626c 655f  ction, iterable_
-00027ba0: 2a2a 5b2a 2a5f 2c20 696e 6974 6961 6c5f  **[**_, initial_
-00027bb0: 2a2a 5d2a 2a29 0d0a 0d0a 4170 706c 7920  **]**)....Apply 
-00027bc0: 5f66 756e 6374 696f 6e5f 206f 6620 7477  _function_ of tw
-00027bd0: 6f20 6172 6775 6d65 6e74 7320 6375 6d75  o arguments cumu
-00027be0: 6c61 7469 7665 6c79 2074 6f20 7468 6520  latively to the 
-00027bf0: 6974 656d 7320 6f66 205f 7365 7175 656e  items of _sequen
-00027c00: 6365 5f2c 2066 726f 6d20 6c65 6674 2074  ce_, from left t
-00027c10: 6f20 7269 6768 742c 2073 6f20 6173 2074  o right, so as t
-00027c20: 6f20 7265 6475 6365 2074 6865 2073 6571  o reduce the seq
-00027c30: 7565 6e63 6520 746f 2061 2073 696e 676c  uence to a singl
-00027c40: 6520 7661 6c75 652e 2046 6f72 2065 7861  e value. For exa
-00027c50: 6d70 6c65 2c20 6072 6564 7563 6528 2878  mple, `reduce((x
-00027c60: 2c20 7929 202d 3e20 782b 792c 205b 312c  , y) -> x+y, [1,
-00027c70: 2032 2c20 332c 2034 2c20 355d 2960 2063   2, 3, 4, 5])` c
-00027c80: 616c 6375 6c61 7465 7320 6028 2828 2831  alculates `((((1
-00027c90: 2b32 292b 3329 2b34 292b 3529 602e 2054  +2)+3)+4)+5)`. T
-00027ca0: 6865 206c 6566 7420 6172 6775 6d65 6e74  he left argument
-00027cb0: 2c20 5f78 5f2c 2069 7320 7468 6520 6163  , _x_, is the ac
-00027cc0: 6375 6d75 6c61 7465 6420 7661 6c75 6520  cumulated value 
-00027cd0: 616e 6420 7468 6520 7269 6768 7420 6172  and the right ar
-00027ce0: 6775 6d65 6e74 2c20 5f79 5f2c 2069 7320  gument, _y_, is 
-00027cf0: 7468 6520 7570 6461 7465 2076 616c 7565  the update value
-00027d00: 2066 726f 6d20 7468 6520 5f73 6571 7565   from the _seque
-00027d10: 6e63 655f 2e20 4966 2074 6865 206f 7074  nce_. If the opt
-00027d20: 696f 6e61 6c20 5f69 6e69 7469 616c 5f20  ional _initial_ 
-00027d30: 6973 2070 7265 7365 6e74 2c20 6974 2069  is present, it i
-00027d40: 7320 706c 6163 6564 2062 6566 6f72 6520  s placed before 
-00027d50: 7468 6520 6974 656d 7320 6f66 2074 6865  the items of the
-00027d60: 2073 6571 7565 6e63 6520 696e 2074 6865   sequence in the
-00027d70: 2063 616c 6375 6c61 7469 6f6e 2c20 616e   calculation, an
-00027d80: 6420 7365 7276 6573 2061 7320 6120 6465  d serves as a de
-00027d90: 6661 756c 7420 7768 656e 2074 6865 2073  fault when the s
-00027da0: 6571 7565 6e63 6520 6973 2065 6d70 7479  equence is empty
-00027db0: 2e20 4966 205f 696e 6974 6961 6c5f 2069  . If _initial_ i
-00027dc0: 7320 6e6f 7420 6769 7665 6e20 616e 6420  s not given and 
-00027dd0: 5f73 6571 7565 6e63 655f 2063 6f6e 7461  _sequence_ conta
-00027de0: 696e 7320 6f6e 6c79 206f 6e65 2069 7465  ins only one ite
-00027df0: 6d2c 2074 6865 2066 6972 7374 2069 7465  m, the first ite
-00027e00: 6d20 6973 2072 6574 7572 6e65 642e 0d0a  m is returned...
-00027e10: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-00027e20: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-00027e30: 0a60 6060 636f 636f 6e75 740d 0a70 726f  .```coconut..pro
-00027e40: 6475 6374 203d 2072 6564 7563 6524 282a  duct = reduce$(*
-00027e50: 290d 0a72 616e 6765 2831 2c20 3130 2920  )..range(1, 10) 
-00027e60: 7c3e 2070 726f 6475 6374 207c 3e20 7072  |> product |> pr
-00027e70: 696e 740d 0a60 6060 0d0a 0d0a 2a2a 5079  int..```....**Py
-00027e80: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-00027e90: 6e75 745f 7079 7468 6f6e 0d0a 696d 706f  nut_python..impo
-00027ea0: 7274 206f 7065 7261 746f 720d 0a69 6d70  rt operator..imp
-00027eb0: 6f72 7420 6675 6e63 746f 6f6c 730d 0a70  ort functools..p
-00027ec0: 726f 6475 6374 203d 2066 756e 6374 6f6f  roduct = functoo
-00027ed0: 6c73 2e70 6172 7469 616c 2866 756e 6374  ls.partial(funct
-00027ee0: 6f6f 6c73 2e72 6564 7563 652c 206f 7065  ools.reduce, ope
-00027ef0: 7261 746f 722e 6d75 6c29 0d0a 7072 696e  rator.mul)..prin
-00027f00: 7428 7072 6f64 7563 7428 7261 6e67 6528  t(product(range(
-00027f10: 312c 2031 3029 2929 0d0a 6060 600d 0a0d  1, 10)))..```...
-00027f20: 0a23 2323 2320 6072 6569 7465 7261 626c  .#### `reiterabl
-00027f30: 6560 0d0a 0d0a 2a2a 7265 6974 6572 6162  e`....**reiterab
-00027f40: 6c65 2a2a 285f 6974 6572 6162 6c65 5f29  le**(_iterable_)
-00027f50: 0d0a 0d0a 6072 6569 7465 7261 626c 6560  ....`reiterable`
-00027f60: 2077 7261 7073 2074 6865 2067 6976 656e   wraps the given
-00027f70: 2069 7465 7261 626c 6520 746f 2065 6e73   iterable to ens
-00027f80: 7572 6520 7468 6174 2065 7665 7279 2074  ure that every t
-00027f90: 696d 6520 7468 6520 6072 6569 7465 7261  ime the `reitera
-00027fa0: 626c 6560 2069 7320 6974 6572 6174 6564  ble` is iterated
-00027fb0: 206f 7665 722c 2069 7420 7072 6f64 7563   over, it produc
-00027fc0: 6573 2074 6865 2073 616d 6520 7265 7375  es the same resu
-00027fd0: 6c74 732e 204e 6f74 6520 7468 6174 2074  lts. Note that t
-00027fe0: 6865 2072 6573 756c 7420 6e65 6564 206e  he result need n
-00027ff0: 6f74 2062 6520 6120 6072 6569 7465 7261  ot be a `reitera
-00028000: 626c 6560 206f 626a 6563 7420 6966 2074  ble` object if t
-00028010: 6865 2067 6976 656e 2069 7465 7261 626c  he given iterabl
-00028020: 6520 6973 2061 6c72 6561 6479 2072 6569  e is already rei
-00028030: 7465 7261 626c 652e 2060 7265 6974 6572  terable. `reiter
-00028040: 6162 6c65 6020 7573 6573 205b 6074 6565  able` uses [`tee
-00028050: 605d 2823 7465 6529 2075 6e64 6572 2074  `](#tee) under t
-00028060: 6865 2068 6f6f 6420 616e 6420 6074 6565  he hood and `tee
-00028070: 6020 6361 6e20 6265 2075 7365 6420 696e  ` can be used in
-00028080: 2069 7473 2070 6c61 6365 2c20 7468 6f75   its place, thou
-00028090: 6768 2060 7265 6974 6572 6162 6c65 6020  gh `reiterable` 
-000280a0: 6973 2067 656e 6572 616c 6c79 2072 6563  is generally rec
-000280b0: 6f6d 6d65 6e64 6564 206f 7665 7220 6074  ommended over `t
-000280c0: 6565 602e 0d0a 0d0a 2323 2323 2320 4578  ee`.....##### Ex
-000280d0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-000280e0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-000280f0: 740d 0a64 6566 206c 6973 745f 7479 7065  t..def list_type
-00028100: 2878 7329 3a0d 0a20 2020 206d 6174 6368  (xs):..    match
-00028110: 2072 6569 7465 7261 626c 6528 7873 293a   reiterable(xs):
-00028120: 0d0a 2020 2020 2020 2020 6361 7365 205b  ..        case [
-00028130: 6673 742c 2073 6e64 5d20 3a3a 2074 6169  fst, snd] :: tai
-00028140: 6c3a 0d0a 2020 2020 2020 2020 2020 2020  l:..            
-00028150: 7265 7475 726e 2022 6174 206c 6561 7374  return "at least
-00028160: 2032 220d 0a20 2020 2020 2020 2063 6173   2"..        cas
-00028170: 6520 5b66 7374 5d20 3a3a 2074 6169 6c3a  e [fst] :: tail:
-00028180: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
-00028190: 7475 726e 2022 6174 206c 6561 7374 2031  turn "at least 1
-000281a0: 220d 0a20 2020 2020 2020 2063 6173 6520  "..        case 
-000281b0: 287c 207c 293a 0d0a 2020 2020 2020 2020  (| |):..        
-000281c0: 2020 2020 7265 7475 726e 2022 656d 7074      return "empt
-000281d0: 7922 0d0a 6060 600d 0a0d 0a2a 2a50 7974  y"..```....**Pyt
-000281e0: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
-000281f0: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
-00028200: 206c 6f6e 6720 7365 7269 6573 206f 6620   long series of 
-00028210: 6368 6563 6b73 2066 6f72 2065 6163 6820  checks for each 
-00028220: 606d 6174 6368 6020 7374 6174 656d 656e  `match` statemen
-00028230: 742e 2053 6565 2074 6865 2063 6f6d 7069  t. See the compi
-00028240: 6c65 6420 636f 6465 2066 6f72 2074 6865  led code for the
-00028250: 2050 7974 686f 6e20 7379 6e74 6178 2e5f   Python syntax._
-00028260: 0d0a 0d0a 2323 2323 2060 7374 6172 6d61  ....#### `starma
-00028270: 7060 0d0a 0d0a 2a2a 7374 6172 6d61 702a  p`....**starmap*
-00028280: 2a28 5f66 756e 6374 696f 6e5f 2c20 5f69  *(_function_, _i
-00028290: 7465 7261 626c 655f 290d 0a0d 0a43 6f63  terable_)....Coc
-000282a0: 6f6e 7574 2070 726f 7669 6465 7320 6120  onut provides a 
-000282b0: 6d6f 6469 6669 6564 2076 6572 7369 6f6e  modified version
-000282c0: 206f 6620 6069 7465 7274 6f6f 6c73 2e73   of `itertools.s
-000282d0: 7461 726d 6170 6020 7468 6174 2073 7570  tarmap` that sup
-000282e0: 706f 7274 7320 6072 6576 6572 7365 6460  ports `reversed`
-000282f0: 2c20 6072 6570 7260 2c20 6f70 7469 6d69  , `repr`, optimi
-00028300: 7a65 6420 6e6f 726d 616c 2028 616e 6420  zed normal (and 
-00028310: 6974 6572 6174 6f72 2920 736c 6963 696e  iterator) slicin
-00028320: 672c 2060 6c65 6e60 2c20 616e 6420 6066  g, `len`, and `f
-00028330: 756e 6360 2f60 6974 6572 6020 6174 7472  unc`/`iter` attr
-00028340: 6962 7574 6573 2e0d 0a0d 0a23 2323 2323  ibutes.....#####
-00028350: 2050 7974 686f 6e20 446f 6373 0d0a 0d0a   Python Docs....
-00028360: 2a2a 7374 6172 6d61 702a 2a28 5f66 756e  **starmap**(_fun
-00028370: 6374 696f 6e2c 2069 7465 7261 626c 655f  ction, iterable_
-00028380: 290d 0a0d 0a4d 616b 6520 616e 2069 7465  )....Make an ite
-00028390: 7261 746f 7220 7468 6174 2063 6f6d 7075  rator that compu
-000283a0: 7465 7320 7468 6520 6675 6e63 7469 6f6e  tes the function
-000283b0: 2075 7369 6e67 2061 7267 756d 656e 7473   using arguments
-000283c0: 206f 6274 6169 6e65 6420 6672 6f6d 2074   obtained from t
-000283d0: 6865 2069 7465 7261 626c 652e 2055 7365  he iterable. Use
-000283e0: 6420 696e 7374 6561 6420 6f66 2060 6d61  d instead of `ma
-000283f0: 7028 2960 2077 6865 6e20 6172 6775 6d65  p()` when argume
-00028400: 6e74 2070 6172 616d 6574 6572 7320 6172  nt parameters ar
-00028410: 6520 616c 7265 6164 7920 6772 6f75 7065  e already groupe
-00028420: 6420 696e 2074 7570 6c65 7320 6672 6f6d  d in tuples from
-00028430: 2061 2073 696e 676c 6520 6974 6572 6162   a single iterab
-00028440: 6c65 2028 7468 6520 6461 7461 2068 6173  le (the data has
-00028450: 2062 6565 6e20 2270 7265 2d7a 6970 7065   been "pre-zippe
-00028460: 6422 292e 2054 6865 2064 6966 6665 7265  d"). The differe
-00028470: 6e63 6520 6265 7477 6565 6e20 606d 6170  nce between `map
-00028480: 2829 6020 616e 6420 6073 7461 726d 6170  ()` and `starmap
-00028490: 2829 6020 7061 7261 6c6c 656c 7320 7468  ()` parallels th
-000284a0: 6520 6469 7374 696e 6374 696f 6e20 6265  e distinction be
-000284b0: 7477 6565 6e20 6066 756e 6374 696f 6e28  tween `function(
-000284c0: 612c 6229 6020 616e 6420 6066 756e 6374  a,b)` and `funct
-000284d0: 696f 6e28 2a63 2960 2e20 526f 7567 686c  ion(*c)`. Roughl
-000284e0: 7920 6571 7569 7661 6c65 6e74 2074 6f3a  y equivalent to:
-000284f0: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 5f70  ....```coconut_p
-00028500: 7974 686f 6e0d 0a64 6566 2073 7461 726d  ython..def starm
-00028510: 6170 2866 756e 6374 696f 6e2c 2069 7465  ap(function, ite
-00028520: 7261 626c 6529 3a0d 0a20 2020 2023 2073  rable):..    # s
-00028530: 7461 726d 6170 2870 6f77 2c20 5b28 322c  tarmap(pow, [(2,
-00028540: 3529 2c20 2833 2c32 292c 2028 3130 2c33  5), (3,2), (10,3
-00028550: 295d 2920 2d2d 3e20 3332 2039 2031 3030  )]) --> 32 9 100
-00028560: 300d 0a20 2020 2066 6f72 2061 7267 7320  0..    for args 
-00028570: 696e 2069 7465 7261 626c 653a 0d0a 2020  in iterable:..  
-00028580: 2020 2020 2020 7969 656c 6420 6675 6e63        yield func
-00028590: 7469 6f6e 282a 6172 6773 290d 0a60 6060  tion(*args)..```
-000285a0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-000285b0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-000285c0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a72  *..```coconut..r
-000285d0: 616e 6765 2831 2c20 3529 207c 3e20 6d61  ange(1, 5) |> ma
-000285e0: 7024 2872 616e 6765 2920 7c3e 2073 7461  p$(range) |> sta
-000285f0: 726d 6170 2428 7072 696e 7429 207c 3e20  rmap$(print) |> 
-00028600: 636f 6e73 756d 650d 0a60 6060 0d0a 0d0a  consume..```....
-00028610: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-00028620: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-00028630: 696d 706f 7274 2069 7465 7274 6f6f 6c73  import itertools
-00028640: 2c20 636f 6c6c 6563 7469 6f6e 730d 0a63  , collections..c
-00028650: 6f6c 6c65 6374 696f 6e73 2e64 6571 7565  ollections.deque
-00028660: 2869 7465 7274 6f6f 6c73 2e73 7461 726d  (itertools.starm
-00028670: 6170 2870 7269 6e74 2c20 6d61 7028 7261  ap(print, map(ra
-00028680: 6e67 652c 2072 616e 6765 2831 2c20 3529  nge, range(1, 5)
-00028690: 2929 2c20 6d61 786c 656e 3d30 290d 0a60  )), maxlen=0)..`
-000286a0: 6060 0d0a 0d0a 2323 2323 2060 7a69 705f  ``....#### `zip_
-000286b0: 6c6f 6e67 6573 7460 0d0a 0d0a 2a2a 7a69  longest`....**zi
-000286c0: 705c 5f6c 6f6e 6765 7374 2a2a 282a 5f69  p\_longest**(*_i
-000286d0: 7465 7261 626c 6573 5f2c 205f 6669 6c6c  terables_, _fill
-000286e0: 7661 6c75 655f 3d60 4e6f 6e65 6029 0d0a  value_=`None`)..
-000286f0: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
-00028700: 6573 2061 6e20 656e 6861 6e63 6564 2076  es an enhanced v
-00028710: 6572 7369 6f6e 206f 6620 6069 7465 7274  ersion of `itert
-00028720: 6f6f 6c73 2e7a 6970 5f6c 6f6e 6765 7374  ools.zip_longest
-00028730: 6020 6173 2061 2062 7569 6c74 2d69 6e20  ` as a built-in 
-00028740: 756e 6465 7220 7468 6520 6e61 6d65 2060  under the name `
-00028750: 7a69 705f 6c6f 6e67 6573 7460 2e20 607a  zip_longest`. `z
-00028760: 6970 5f6c 6f6e 6765 7374 6020 7375 7070  ip_longest` supp
-00028770: 6f72 7473 2061 6c6c 2074 6865 2073 616d  orts all the sam
-00028780: 6520 6665 6174 7572 6573 2061 7320 436f  e features as Co
-00028790: 636f 6e75 7427 7320 5b65 6e68 616e 6365  conut's [enhance
-000287a0: 6420 7a69 705d 2823 656e 6861 6e63 6564  d zip](#enhanced
-000287b0: 2d62 7569 6c74 2d69 6e73 2920 6173 2077  -built-ins) as w
-000287c0: 656c 6c20 6173 2074 6865 2061 6464 6974  ell as the addit
-000287d0: 696f 6e61 6c20 6174 7472 6962 7574 6520  ional attribute 
-000287e0: 6066 696c 6c76 616c 7565 602e 0d0a 0d0a  `fillvalue`.....
-000287f0: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
-00028800: 730d 0a0d 0a2a 2a7a 6970 5c5f 6c6f 6e67  s....**zip\_long
-00028810: 6573 742a 2a28 5f5c 2a69 7465 7261 626c  est**(_\*iterabl
-00028820: 6573 2c20 6669 6c6c 7661 6c75 653d 4e6f  es, fillvalue=No
-00028830: 6e65 5f29 0d0a 0d0a 4d61 6b65 2061 6e20  ne_)....Make an 
-00028840: 6974 6572 6174 6f72 2074 6861 7420 6167  iterator that ag
-00028850: 6772 6567 6174 6573 2065 6c65 6d65 6e74  gregates element
-00028860: 7320 6672 6f6d 2065 6163 6820 6f66 2074  s from each of t
-00028870: 6865 2069 7465 7261 626c 6573 2e20 4966  he iterables. If
-00028880: 2074 6865 2069 7465 7261 626c 6573 2061   the iterables a
-00028890: 7265 206f 6620 756e 6576 656e 206c 656e  re of uneven len
-000288a0: 6774 682c 206d 6973 7369 6e67 2076 616c  gth, missing val
-000288b0: 7565 7320 6172 6520 6669 6c6c 6564 2d69  ues are filled-i
-000288c0: 6e20 7769 7468 205f 6669 6c6c 7661 6c75  n with _fillvalu
-000288d0: 655f 2e20 4974 6572 6174 696f 6e20 636f  e_. Iteration co
-000288e0: 6e74 696e 7565 7320 756e 7469 6c20 7468  ntinues until th
-000288f0: 6520 6c6f 6e67 6573 7420 6974 6572 6162  e longest iterab
-00028900: 6c65 2069 7320 6578 6861 7573 7465 642e  le is exhausted.
-00028910: 2052 6f75 6768 6c79 2065 7175 6976 616c   Roughly equival
-00028920: 656e 7420 746f 3a0d 0a0d 0a60 6060 636f  ent to:....```co
-00028930: 636f 6e75 745f 7079 7468 6f6e 0d0a 6465  conut_python..de
-00028940: 6620 7a69 705f 6c6f 6e67 6573 7428 2a61  f zip_longest(*a
-00028950: 7267 732c 2066 696c 6c76 616c 7565 3d4e  rgs, fillvalue=N
-00028960: 6f6e 6529 3a0d 0a20 2020 2023 207a 6970  one):..    # zip
-00028970: 5f6c 6f6e 6765 7374 2827 4142 4344 272c  _longest('ABCD',
-00028980: 2027 7879 272c 2066 696c 6c76 616c 7565   'xy', fillvalue
-00028990: 3d27 2d27 2920 2d2d 3e20 4178 2042 7920  ='-') --> Ax By 
-000289a0: 432d 2044 2d0d 0a20 2020 2069 7465 7261  C- D-..    itera
-000289b0: 746f 7273 203d 205b 6974 6572 2869 7429  tors = [iter(it)
-000289c0: 2066 6f72 2069 7420 696e 2061 7267 735d   for it in args]
-000289d0: 0d0a 2020 2020 6e75 6d5f 6163 7469 7665  ..    num_active
-000289e0: 203d 206c 656e 2869 7465 7261 746f 7273   = len(iterators
-000289f0: 290d 0a20 2020 2069 6620 6e6f 7420 6e75  )..    if not nu
-00028a00: 6d5f 6163 7469 7665 3a0d 0a20 2020 2020  m_active:..     
-00028a10: 2020 2072 6574 7572 6e0d 0a20 2020 2077     return..    w
-00028a20: 6869 6c65 2054 7275 653a 0d0a 2020 2020  hile True:..    
-00028a30: 2020 2020 7661 6c75 6573 203d 205b 5d0d      values = [].
-00028a40: 0a20 2020 2020 2020 2066 6f72 2069 2c20  .        for i, 
-00028a50: 6974 2069 6e20 656e 756d 6572 6174 6528  it in enumerate(
-00028a60: 6974 6572 6174 6f72 7329 3a0d 0a20 2020  iterators):..   
-00028a70: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
-00028a80: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-00028a90: 616c 7565 203d 206e 6578 7428 6974 290d  alue = next(it).
-00028aa0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00028ab0: 6570 7420 5374 6f70 4974 6572 6174 696f  ept StopIteratio
-00028ac0: 6e3a 0d0a 2020 2020 2020 2020 2020 2020  n:..            
-00028ad0: 2020 2020 6e75 6d5f 6163 7469 7665 202d      num_active -
-00028ae0: 3d20 310d 0a20 2020 2020 2020 2020 2020  = 1..           
-00028af0: 2020 2020 2069 6620 6e6f 7420 6e75 6d5f       if not num_
-00028b00: 6163 7469 7665 3a0d 0a20 2020 2020 2020  active:..       
-00028b10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00028b20: 7572 6e0d 0a20 2020 2020 2020 2020 2020  urn..           
-00028b30: 2020 2020 2069 7465 7261 746f 7273 5b69       iterators[i
-00028b40: 5d20 3d20 7265 7065 6174 2866 696c 6c76  ] = repeat(fillv
-00028b50: 616c 7565 290d 0a20 2020 2020 2020 2020  alue)..         
-00028b60: 2020 2020 2020 2076 616c 7565 203d 2066         value = f
-00028b70: 696c 6c76 616c 7565 0d0a 2020 2020 2020  illvalue..      
-00028b80: 2020 2020 2020 7661 6c75 6573 2e61 7070        values.app
-00028b90: 656e 6428 7661 6c75 6529 0d0a 2020 2020  end(value)..    
-00028ba0: 2020 2020 7969 656c 6420 7475 706c 6528      yield tuple(
-00028bb0: 7661 6c75 6573 290d 0a60 6060 0d0a 0d0a  values)..```....
-00028bc0: 4966 206f 6e65 206f 6620 7468 6520 6974  If one of the it
-00028bd0: 6572 6162 6c65 7320 6973 2070 6f74 656e  erables is poten
-00028be0: 7469 616c 6c79 2069 6e66 696e 6974 652c  tially infinite,
-00028bf0: 2074 6865 6e20 7468 6520 607a 6970 5f6c   then the `zip_l
-00028c00: 6f6e 6765 7374 2829 6020 6675 6e63 7469  ongest()` functi
-00028c10: 6f6e 2073 686f 756c 6420 6265 2077 7261  on should be wra
-00028c20: 7070 6564 2077 6974 6820 736f 6d65 7468  pped with someth
-00028c30: 696e 6720 7468 6174 206c 696d 6974 7320  ing that limits 
-00028c40: 7468 6520 6e75 6d62 6572 206f 6620 6361  the number of ca
-00028c50: 6c6c 7320 2866 6f72 2065 7861 6d70 6c65  lls (for example
-00028c60: 2069 7465 7261 746f 7220 736c 6963 696e   iterator slicin
-00028c70: 6720 6f72 2060 7461 6b65 7768 696c 6560  g or `takewhile`
-00028c80: 292e 2049 6620 6e6f 7420 7370 6563 6966  ). If not specif
-00028c90: 6965 642c 205f 6669 6c6c 7661 6c75 655f  ied, _fillvalue_
-00028ca0: 2064 6566 6175 6c74 7320 746f 2060 4e6f   defaults to `No
-00028cb0: 6e65 602e 0d0a 0d0a 2323 2323 2320 4578  ne`.....##### Ex
-00028cc0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
-00028cd0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-00028ce0: 740d 0a72 6573 756c 7420 3d20 7a69 705f  t..result = zip_
-00028cf0: 6c6f 6e67 6573 7428 7261 6e67 6528 3529  longest(range(5)
-00028d00: 2c20 7261 6e67 6528 3130 2929 0d0a 6060  , range(10))..``
-00028d10: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-00028d20: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-00028d30: 686f 6e0d 0a69 6d70 6f72 7420 6974 6572  hon..import iter
-00028d40: 746f 6f6c 730d 0a72 6573 756c 7420 3d20  tools..result = 
-00028d50: 6974 6572 746f 6f6c 732e 7a69 705f 6c6f  itertools.zip_lo
-00028d60: 6e67 6573 7428 7261 6e67 6528 3529 2c20  ngest(range(5), 
-00028d70: 7261 6e67 6528 3130 2929 0d0a 6060 600d  range(10))..```.
-00028d80: 0a0d 0a23 2323 2320 6074 616b 6577 6869  ...#### `takewhi
-00028d90: 6c65 600d 0a0d 0a2a 2a74 616b 6577 6869  le`....**takewhi
-00028da0: 6c65 2a2a 285f 7072 6564 6963 6174 655f  le**(_predicate_
-00028db0: 2c20 5f69 7465 7261 626c 655f 2c20 2f29  , _iterable_, /)
-00028dc0: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
-00028dd0: 6964 6573 2060 6974 6572 746f 6f6c 732e  ides `itertools.
-00028de0: 7461 6b65 7768 696c 6560 2061 7320 6120  takewhile` as a 
-00028df0: 6275 696c 742d 696e 2075 6e64 6572 2074  built-in under t
-00028e00: 6865 206e 616d 6520 6074 616b 6577 6869  he name `takewhi
-00028e10: 6c65 602e 0d0a 0d0a 2323 2323 2320 5079  le`.....##### Py
-00028e20: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a74  thon Docs....**t
-00028e30: 616b 6577 6869 6c65 2a2a 285f 7072 6564  akewhile**(_pred
-00028e40: 6963 6174 652c 2069 7465 7261 626c 655f  icate, iterable_
-00028e50: 290d 0a0d 0a4d 616b 6520 616e 2069 7465  )....Make an ite
-00028e60: 7261 746f 7220 7468 6174 2072 6574 7572  rator that retur
-00028e70: 6e73 2065 6c65 6d65 6e74 7320 6672 6f6d  ns elements from
-00028e80: 2074 6865 205f 6974 6572 6162 6c65 5f20   the _iterable_ 
-00028e90: 6173 206c 6f6e 6720 6173 2074 6865 205f  as long as the _
-00028ea0: 7072 6564 6963 6174 655f 2069 7320 7472  predicate_ is tr
-00028eb0: 7565 2e20 4571 7569 7661 6c65 6e74 2074  ue. Equivalent t
-00028ec0: 6f3a 0d0a 6060 6063 6f63 6f6e 7574 5f70  o:..```coconut_p
-00028ed0: 7974 686f 6e0d 0a64 6566 2074 616b 6577  ython..def takew
-00028ee0: 6869 6c65 2870 7265 6469 6361 7465 2c20  hile(predicate, 
-00028ef0: 6974 6572 6162 6c65 293a 0d0a 2020 2020  iterable):..    
-00028f00: 2320 7461 6b65 7768 696c 6528 6c61 6d62  # takewhile(lamb
-00028f10: 6461 2078 3a20 783c 352c 205b 312c 342c  da x: x<5, [1,4,
-00028f20: 362c 342c 315d 2920 2d2d 3e20 3120 340d  6,4,1]) --> 1 4.
-00028f30: 0a20 2020 2066 6f72 2078 2069 6e20 6974  .    for x in it
-00028f40: 6572 6162 6c65 3a0d 0a20 2020 2020 2020  erable:..       
-00028f50: 2069 6620 7072 6564 6963 6174 6528 7829   if predicate(x)
-00028f60: 3a0d 0a20 2020 2020 2020 2020 2020 2079  :..            y
-00028f70: 6965 6c64 2078 0d0a 2020 2020 2020 2020  ield x..        
-00028f80: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00028f90: 2020 2062 7265 616b 0d0a 6060 600d 0a0d     break..```...
-00028fa0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
-00028fb0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
-00028fc0: 6060 6063 6f63 6f6e 7574 0d0a 6e65 6761  ```coconut..nega
-00028fd0: 7469 7665 7320 3d20 6e75 6d69 7465 7220  tives = numiter 
-00028fe0: 7c3e 2074 616b 6577 6869 6c65 2428 7820  |> takewhile$(x 
-00028ff0: 2d3e 2078 203c 2030 290d 0a60 6060 0d0a  -> x < 0)..```..
-00029000: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-00029010: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-00029020: 0d0a 696d 706f 7274 2069 7465 7274 6f6f  ..import itertoo
-00029030: 6c73 0d0a 6e65 6761 7469 7665 7320 3d20  ls..negatives = 
-00029040: 6974 6572 746f 6f6c 732e 7461 6b65 7768  itertools.takewh
-00029050: 696c 6528 6c61 6d62 6461 2078 3a20 7820  ile(lambda x: x 
-00029060: 3c20 302c 206e 756d 6974 6572 290d 0a60  < 0, numiter)..`
-00029070: 6060 0d0a 0d0a 2323 2323 2060 6472 6f70  ``....#### `drop
-00029080: 7768 696c 6560 0d0a 0d0a 2a2a 6472 6f70  while`....**drop
-00029090: 7768 696c 652a 2a28 5f70 7265 6469 6361  while**(_predica
-000290a0: 7465 5f2c 205f 6974 6572 6162 6c65 5f2c  te_, _iterable_,
-000290b0: 202f 290d 0a0d 0a43 6f63 6f6e 7574 2070   /)....Coconut p
-000290c0: 726f 7669 6465 7320 6069 7465 7274 6f6f  rovides `itertoo
-000290d0: 6c73 2e64 726f 7077 6869 6c65 6020 6173  ls.dropwhile` as
-000290e0: 2061 2062 7569 6c74 2d69 6e20 756e 6465   a built-in unde
-000290f0: 7220 7468 6520 6e61 6d65 2060 6472 6f70  r the name `drop
-00029100: 7768 696c 6560 2e0d 0a0d 0a23 2323 2323  while`.....#####
-00029110: 2050 7974 686f 6e20 446f 6373 0d0a 0d0a   Python Docs....
-00029120: 2a2a 6472 6f70 7768 696c 652a 2a28 5f70  **dropwhile**(_p
-00029130: 7265 6469 6361 7465 2c20 6974 6572 6162  redicate, iterab
-00029140: 6c65 5f29 0d0a 0d0a 4d61 6b65 2061 6e20  le_)....Make an 
-00029150: 6974 6572 6174 6f72 2074 6861 7420 6472  iterator that dr
-00029160: 6f70 7320 656c 656d 656e 7473 2066 726f  ops elements fro
-00029170: 6d20 7468 6520 5f69 7465 7261 626c 655f  m the _iterable_
-00029180: 2061 7320 6c6f 6e67 2061 7320 7468 6520   as long as the 
-00029190: 5f70 7265 6469 6361 7465 5f20 6973 2074  _predicate_ is t
-000291a0: 7275 653b 2061 6674 6572 7761 7264 732c  rue; afterwards,
-000291b0: 2072 6574 7572 6e73 2065 7665 7279 2065   returns every e
-000291c0: 6c65 6d65 6e74 2e20 4e6f 7465 3a20 7468  lement. Note: th
-000291d0: 6520 6974 6572 6174 6f72 2064 6f65 7320  e iterator does 
-000291e0: 6e6f 7420 7072 6f64 7563 6520 616e 7920  not produce any 
-000291f0: 6f75 7470 7574 2075 6e74 696c 2074 6865  output until the
-00029200: 2070 7265 6469 6361 7465 2066 6972 7374   predicate first
-00029210: 2062 6563 6f6d 6573 2066 616c 7365 2c20   becomes false, 
-00029220: 736f 2069 7420 6d61 7920 6861 7665 2061  so it may have a
-00029230: 206c 656e 6774 6879 2073 7461 7274 2d75   lengthy start-u
-00029240: 7020 7469 6d65 2e20 4571 7569 7661 6c65  p time. Equivale
-00029250: 6e74 2074 6f3a 0d0a 6060 6063 6f63 6f6e  nt to:..```cocon
-00029260: 7574 5f70 7974 686f 6e0d 0a64 6566 2064  ut_python..def d
-00029270: 726f 7077 6869 6c65 2870 7265 6469 6361  ropwhile(predica
-00029280: 7465 2c20 6974 6572 6162 6c65 293a 0d0a  te, iterable):..
-00029290: 2020 2020 2320 6472 6f70 7768 696c 6528      # dropwhile(
-000292a0: 6c61 6d62 6461 2078 3a20 783c 352c 205b  lambda x: x<5, [
-000292b0: 312c 342c 362c 342c 315d 2920 2d2d 3e20  1,4,6,4,1]) --> 
-000292c0: 3620 3420 310d 0a20 2020 2069 7465 7261  6 4 1..    itera
-000292d0: 626c 6520 3d20 6974 6572 2869 7465 7261  ble = iter(itera
-000292e0: 626c 6529 0d0a 2020 2020 666f 7220 7820  ble)..    for x 
-000292f0: 696e 2069 7465 7261 626c 653a 0d0a 2020  in iterable:..  
-00029300: 2020 2020 2020 6966 206e 6f74 2070 7265        if not pre
-00029310: 6469 6361 7465 2878 293a 0d0a 2020 2020  dicate(x):..    
-00029320: 2020 2020 2020 2020 7969 656c 6420 780d          yield x.
-00029330: 0a20 2020 2020 2020 2020 2020 2062 7265  .            bre
-00029340: 616b 0d0a 2020 2020 666f 7220 7820 696e  ak..    for x in
-00029350: 2069 7465 7261 626c 653a 0d0a 2020 2020   iterable:..    
-00029360: 2020 2020 7969 656c 6420 780d 0a60 6060      yield x..```
-00029370: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-00029380: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
-00029390: 2a0d 0a60 6060 636f 636f 6e75 740d 0a70  *..```coconut..p
-000293a0: 6f73 6974 6976 6573 203d 206e 756d 6974  ositives = numit
-000293b0: 6572 207c 3e20 6472 6f70 7768 696c 6524  er |> dropwhile$
-000293c0: 2878 202d 3e20 7820 3c20 3029 0d0a 6060  (x -> x < 0)..``
-000293d0: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-000293e0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-000293f0: 686f 6e0d 0a69 6d70 6f72 7420 6974 6572  hon..import iter
-00029400: 746f 6f6c 730d 0a70 6f73 6974 6976 6573  tools..positives
-00029410: 203d 2069 7465 7274 6f6f 6c73 2e64 726f   = itertools.dro
-00029420: 7077 6869 6c65 286c 616d 6264 6120 783a  pwhile(lambda x:
-00029430: 2078 203c 2030 2c20 6e75 6d69 7465 7229   x < 0, numiter)
-00029440: 0d0a 6060 600d 0a0d 0a23 2323 2320 6066  ..```....#### `f
-00029450: 6c61 7474 656e 600d 0a0d 0a2a 2a66 6c61  latten`....**fla
-00029460: 7474 656e 2a2a 285f 6974 6572 6162 6c65  tten**(_iterable
-00029470: 5f2c 205f 6c65 7665 6c73 5f3d 6031 6029  _, _levels_=`1`)
-00029480: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
-00029490: 6964 6573 2061 6e20 656e 6861 6e63 6564  ides an enhanced
-000294a0: 2076 6572 7369 6f6e 206f 6620 6069 7465   version of `ite
-000294b0: 7274 6f6f 6c73 2e63 6861 696e 2e66 726f  rtools.chain.fro
-000294c0: 6d5f 6974 6572 6162 6c65 6020 6173 2061  m_iterable` as a
-000294d0: 2062 7569 6c74 2d69 6e20 756e 6465 7220   built-in under 
-000294e0: 7468 6520 6e61 6d65 2060 666c 6174 7465  the name `flatte
-000294f0: 6e60 2077 6974 6820 6164 6465 6420 7375  n` with added su
-00029500: 7070 6f72 7420 666f 7220 6072 6576 6572  pport for `rever
-00029510: 7365 6460 2c20 6072 6570 7260 2c20 6069  sed`, `repr`, `i
-00029520: 6e60 2c20 602e 636f 756e 7428 2960 2c20  n`, `.count()`, 
-00029530: 602e 696e 6465 7828 2960 2c20 616e 6420  `.index()`, and 
-00029540: 6066 6d61 7060 2e0d 0a0d 0a42 7920 6465  `fmap`.....By de
-00029550: 6661 756c 742c 2060 666c 6174 7465 6e60  fault, `flatten`
-00029560: 206f 6e6c 7920 666c 6174 7465 6e73 2074   only flattens t
-00029570: 6865 2074 6f70 206c 6576 656c 206f 6620  he top level of 
-00029580: 7468 6520 6769 7665 6e20 6974 6572 6162  the given iterab
-00029590: 6c65 2f61 7272 6179 2e20 4966 205f 6c65  le/array. If _le
-000295a0: 7665 6c73 5f20 6973 2070 6173 7365 642c  vels_ is passed,
-000295b0: 2068 6f77 6576 6572 2c20 6974 2063 616e   however, it can
-000295c0: 2062 6520 7573 6564 2074 6f20 636f 6e74   be used to cont
-000295d0: 726f 6c20 7468 6520 6e75 6d62 6572 206f  rol the number o
-000295e0: 6620 6c65 7665 6c73 2066 6c61 7474 656e  f levels flatten
-000295f0: 6564 2c20 7769 7468 2060 3060 206d 6561  ed, with `0` mea
-00029600: 6e69 6e67 206e 6f20 666c 6174 7465 6e69  ning no flatteni
-00029610: 6e67 2061 6e64 2060 4e6f 6e65 6020 666c  ng and `None` fl
-00029620: 6174 7465 6e69 6e67 2061 7320 6d61 6e79  attening as many
-00029630: 2069 7465 7261 626c 6573 2061 7320 6172   iterables as ar
-00029640: 6520 666f 756e 642e 204e 6f74 6520 7468  e found. Note th
-00029650: 6174 2069 6620 5f6c 6576 656c 735f 2069  at if _levels_ i
-00029660: 7320 7365 7420 746f 2061 6e79 206e 6f6e  s set to any non
-00029670: 2d60 4e6f 6e65 6020 7661 6c75 652c 2074  -`None` value, t
-00029680: 6865 2066 6972 7374 205f 6c65 7665 6c73  he first _levels
-00029690: 5f20 6c65 7665 6c73 206d 7573 7420 6265  _ levels must be
-000296a0: 2069 7465 7261 626c 6573 2c20 6f72 2065   iterables, or e
-000296b0: 6c73 6520 616e 2065 7272 6f72 2077 696c  lse an error wil
-000296c0: 6c20 6265 2072 6169 7365 642e 0d0a 0d0a  l be raised.....
-000296d0: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
-000296e0: 730d 0a0d 0a63 6861 696e 2e2a 2a66 726f  s....chain.**fro
-000296f0: 6d5f 6974 6572 6162 6c65 2a2a 285f 6974  m_iterable**(_it
-00029700: 6572 6162 6c65 5f29 0d0a 0d0a 416c 7465  erable_)....Alte
-00029710: 726e 6174 6520 636f 6e73 7472 7563 746f  rnate constructo
-00029720: 7220 666f 7220 6063 6861 696e 2829 602e  r for `chain()`.
-00029730: 2047 6574 7320 6368 6169 6e65 6420 696e   Gets chained in
-00029740: 7075 7473 2066 726f 6d20 6120 7369 6e67  puts from a sing
-00029750: 6c65 2069 7465 7261 626c 6520 6172 6775  le iterable argu
-00029760: 6d65 6e74 2074 6861 7420 6973 2065 7661  ment that is eva
-00029770: 6c75 6174 6564 206c 617a 696c 792e 2052  luated lazily. R
-00029780: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
-00029790: 7420 746f 3a0d 0a0d 0a60 6060 636f 636f  t to:....```coco
-000297a0: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
-000297b0: 666c 6174 7465 6e28 6974 6572 6162 6c65  flatten(iterable
-000297c0: 7329 3a0d 0a20 2020 2023 2066 6c61 7474  s):..    # flatt
-000297d0: 656e 285b 2741 4243 272c 2027 4445 4627  en(['ABC', 'DEF'
-000297e0: 5d29 202d 2d3e 2041 2042 2043 2044 2045  ]) --> A B C D E
-000297f0: 2046 0d0a 2020 2020 666f 7220 6974 2069   F..    for it i
-00029800: 6e20 6974 6572 6162 6c65 733a 0d0a 2020  n iterables:..  
-00029810: 2020 2020 2020 666f 7220 656c 656d 656e        for elemen
-00029820: 7420 696e 2069 743a 0d0a 2020 2020 2020  t in it:..      
-00029830: 2020 2020 2020 7969 656c 6420 656c 656d        yield elem
-00029840: 656e 740d 0a60 6060 0d0a 0d0a 2323 2323  ent..```....####
-00029850: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-00029860: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-00029870: 636f 6e75 740d 0a69 7465 725f 6f66 5f69  conut..iter_of_i
-00029880: 7465 7273 203d 205b 5b31 2c20 325d 2c20  ters = [[1, 2], 
-00029890: 5b33 2c20 345d 5d0d 0a66 6c61 745f 6974  [3, 4]]..flat_it
-000298a0: 203d 2069 7465 725f 6f66 5f69 7465 7273   = iter_of_iters
-000298b0: 207c 3e20 666c 6174 7465 6e20 7c3e 206c   |> flatten |> l
-000298c0: 6973 740d 0a60 6060 0d0a 0d0a 2a2a 5079  ist..```....**Py
-000298d0: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
-000298e0: 6e75 745f 7079 7468 6f6e 0d0a 6672 6f6d  nut_python..from
-000298f0: 2069 7465 7274 6f6f 6c73 2069 6d70 6f72   itertools impor
-00029900: 7420 6368 6169 6e0d 0a69 7465 725f 6f66  t chain..iter_of
-00029910: 5f69 7465 7273 203d 205b 5b31 2c20 325d  _iters = [[1, 2]
-00029920: 2c20 5b33 2c20 345d 5d0d 0a66 6c61 745f  , [3, 4]]..flat_
-00029930: 6974 203d 2069 7465 725f 6f66 5f69 7465  it = iter_of_ite
-00029940: 7273 207c 3e20 6368 6169 6e2e 6672 6f6d  rs |> chain.from
-00029950: 5f69 7465 7261 626c 6520 7c3e 206c 6973  _iterable |> lis
-00029960: 740d 0a60 6060 0d0a 0d0a 2323 2323 2060  t..```....#### `
-00029970: 7363 616e 600d 0a0d 0a2a 2a73 6361 6e2a  scan`....**scan*
-00029980: 2a28 5f66 756e 6374 696f 6e5f 2c20 5f69  *(_function_, _i
-00029990: 7465 7261 626c 655f 5b2c 205f 696e 6974  terable_[, _init
-000299a0: 6961 6c5f 5d29 0d0a 0d0a 436f 636f 6e75  ial_])....Coconu
-000299b0: 7420 7072 6f76 6964 6573 2061 206d 6f64  t provides a mod
-000299c0: 6966 6965 6420 7665 7273 696f 6e20 6f66  ified version of
-000299d0: 2060 6974 6572 746f 6f6c 732e 6163 6375   `itertools.accu
-000299e0: 6d75 6c61 7465 6020 7769 7468 206f 7070  mulate` with opp
-000299f0: 6f73 6974 6520 6172 6775 6d65 6e74 206f  osite argument o
-00029a00: 7264 6572 2061 7320 6073 6361 6e60 2074  rder as `scan` t
-00029a10: 6861 7420 616c 736f 2073 7570 706f 7274  hat also support
-00029a20: 7320 6072 6570 7260 2c20 606c 656e 602c  s `repr`, `len`,
-00029a30: 2061 6e64 2060 6675 6e63 602f 6069 7465   and `func`/`ite
-00029a40: 7260 2f60 696e 6974 6961 6c60 2061 7474  r`/`initial` att
-00029a50: 7269 6275 7465 732e 2060 7363 616e 6020  ributes. `scan` 
-00029a60: 776f 726b 7320 6578 6163 746c 7920 6c69  works exactly li
-00029a70: 6b65 205b 6072 6564 7563 6560 5d28 2372  ke [`reduce`](#r
-00029a80: 6564 7563 6529 2c20 6578 6365 7074 2074  educe), except t
-00029a90: 6861 7420 696e 7374 6561 6420 6f66 206f  hat instead of o
-00029aa0: 6e6c 7920 7265 7475 726e 696e 6720 7468  nly returning th
-00029ab0: 6520 6c61 7374 2061 6363 756d 756c 6174  e last accumulat
-00029ac0: 6564 2076 616c 7565 2c20 6974 2072 6574  ed value, it ret
-00029ad0: 7572 6e73 2061 6e20 6974 6572 6174 6f72  urns an iterator
-00029ae0: 206f 6620 616c 6c20 7468 6520 696e 7465   of all the inte
-00029af0: 726d 6564 6961 7465 2076 616c 7565 732e  rmediate values.
-00029b00: 0d0a 0d0a 2323 2323 2320 5079 7468 6f6e  ....##### Python
-00029b10: 2044 6f63 730d 0a0d 0a2a 2a73 6361 6e2a   Docs....**scan*
-00029b20: 2a28 5f66 756e 6374 696f 6e2c 2069 7465  *(_function, ite
-00029b30: 7261 626c 655f 2a2a 5b2a 2a5f 2c20 696e  rable_**[**_, in
-00029b40: 6974 6961 6c5f 2a2a 5d2a 2a29 0d0a 0d0a  itial_**]**)....
-00029b50: 4d61 6b65 2061 6e20 6974 6572 6174 6f72  Make an iterator
-00029b60: 2074 6861 7420 7265 7475 726e 7320 6163   that returns ac
-00029b70: 6375 6d75 6c61 7465 6420 7265 7375 6c74  cumulated result
-00029b80: 7320 6f66 2073 6f6d 6520 6675 6e63 7469  s of some functi
-00029b90: 6f6e 206f 6620 7477 6f20 6172 6775 6d65  on of two argume
-00029ba0: 6e74 732e 2045 6c65 6d65 6e74 7320 6f66  nts. Elements of
-00029bb0: 2074 6865 2069 6e70 7574 2069 7465 7261   the input itera
-00029bc0: 626c 6520 6d61 7920 6265 2061 6e79 2074  ble may be any t
-00029bd0: 7970 6520 7468 6174 2063 616e 2062 6520  ype that can be 
-00029be0: 6163 6365 7074 6564 2061 7320 6172 6775  accepted as argu
-00029bf0: 6d65 6e74 7320 746f 205f 6675 6e63 7469  ments to _functi
-00029c00: 6f6e 5f2e 2028 466f 7220 6578 616d 706c  on_. (For exampl
-00029c10: 652c 2077 6974 6820 7468 6520 6f70 6572  e, with the oper
-00029c20: 6174 696f 6e20 6f66 2061 6464 6974 696f  ation of additio
-00029c30: 6e2c 2065 6c65 6d65 6e74 7320 6d61 7920  n, elements may 
-00029c40: 6265 2061 6e79 2061 6464 6162 6c65 2074  be any addable t
-00029c50: 7970 6520 696e 636c 7564 696e 6720 4465  ype including De
-00029c60: 6369 6d61 6c20 6f72 2046 7261 6374 696f  cimal or Fractio
-00029c70: 6e2e 2920 4966 2074 6865 2069 6e70 7574  n.) If the input
-00029c80: 2069 7465 7261 626c 6520 6973 2065 6d70   iterable is emp
-00029c90: 7479 2c20 7468 6520 6f75 7470 7574 2069  ty, the output i
-00029ca0: 7465 7261 626c 6520 7769 6c6c 2061 6c73  terable will als
-00029cb0: 6f20 6265 2065 6d70 7479 2e0d 0a0d 0a49  o be empty.....I
-00029cc0: 6620 6e6f 205f 696e 6974 6961 6c5f 2069  f no _initial_ i
-00029cd0: 7320 6769 7665 6e2c 2072 6f75 6768 6c79  s given, roughly
-00029ce0: 2065 7175 6976 616c 656e 7420 746f 3a0d   equivalent to:.
-00029cf0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-00029d00: 6f6e 0d0a 6465 6620 7363 616e 2866 756e  on..def scan(fun
-00029d10: 6374 696f 6e2c 2069 7465 7261 626c 6529  ction, iterable)
-00029d20: 3a0d 0a20 2020 2027 5265 7475 726e 2072  :..    'Return r
-00029d30: 756e 6e69 6e67 2074 6f74 616c 7327 0d0a  unning totals'..
-00029d40: 2020 2020 2320 7363 616e 286f 7065 7261      # scan(opera
-00029d50: 746f 722e 6164 642c 205b 312c 322c 332c  tor.add, [1,2,3,
-00029d60: 342c 355d 2920 2d2d 3e20 3120 3320 3620  4,5]) --> 1 3 6 
-00029d70: 3130 2031 350d 0a20 2020 2023 2073 6361  10 15..    # sca
-00029d80: 6e28 6f70 6572 6174 6f72 2e6d 756c 2c20  n(operator.mul, 
-00029d90: 5b31 2c32 2c33 2c34 2c35 5d29 202d 2d3e  [1,2,3,4,5]) -->
-00029da0: 2031 2032 2036 2032 3420 3132 300d 0a20   1 2 6 24 120.. 
-00029db0: 2020 2069 7420 3d20 6974 6572 2869 7465     it = iter(ite
-00029dc0: 7261 626c 6529 0d0a 2020 2020 7472 793a  rable)..    try:
-00029dd0: 0d0a 2020 2020 2020 2020 746f 7461 6c20  ..        total 
-00029de0: 3d20 6e65 7874 2869 7429 0d0a 2020 2020  = next(it)..    
-00029df0: 6578 6365 7074 2053 746f 7049 7465 7261  except StopItera
-00029e00: 7469 6f6e 3a0d 0a20 2020 2020 2020 2072  tion:..        r
-00029e10: 6574 7572 6e0d 0a20 2020 2079 6965 6c64  eturn..    yield
-00029e20: 2074 6f74 616c 0d0a 2020 2020 666f 7220   total..    for 
-00029e30: 656c 656d 656e 7420 696e 2069 743a 0d0a  element in it:..
-00029e40: 2020 2020 2020 2020 746f 7461 6c20 3d20          total = 
-00029e50: 6675 6e63 7469 6f6e 2874 6f74 616c 2c20  function(total, 
-00029e60: 656c 656d 656e 7429 0d0a 2020 2020 2020  element)..      
-00029e70: 2020 7969 656c 6420 746f 7461 6c0d 0a60    yield total..`
-00029e80: 6060 0d0a 0d0a 2323 2323 2320 4578 616d  ``....##### Exam
-00029e90: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
-00029ea0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
-00029eb0: 0a69 6e70 7574 5f64 6174 6120 3d20 5b33  .input_data = [3
-00029ec0: 2c20 342c 2036 2c20 322c 2031 2c20 392c  , 4, 6, 2, 1, 9,
-00029ed0: 2030 2c20 372c 2035 2c20 385d 0d0a 7275   0, 7, 5, 8]..ru
-00029ee0: 6e6e 696e 675f 6d61 7820 3d20 696e 7075  nning_max = inpu
-00029ef0: 745f 6461 7461 207c 3e20 7363 616e 2428  t_data |> scan$(
-00029f00: 6d61 7829 207c 3e20 6c69 7374 0d0a 6060  max) |> list..``
-00029f10: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-00029f20: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-00029f30: 686f 6e0d 0a69 6e70 7574 5f64 6174 6120  hon..input_data 
-00029f40: 3d20 5b33 2c20 342c 2036 2c20 322c 2031  = [3, 4, 6, 2, 1
-00029f50: 2c20 392c 2030 2c20 372c 2035 2c20 385d  , 9, 0, 7, 5, 8]
-00029f60: 0d0a 7275 6e6e 696e 675f 6d61 7820 3d20  ..running_max = 
-00029f70: 5b5d 0d0a 6d61 785f 736f 5f66 6172 203d  []..max_so_far =
-00029f80: 2069 6e70 7574 5f64 6174 615b 305d 0d0a   input_data[0]..
-00029f90: 666f 7220 7820 696e 2069 6e70 7574 5f64  for x in input_d
-00029fa0: 6174 613a 0d0a 2020 2020 6966 2078 203e  ata:..    if x >
-00029fb0: 206d 6178 5f73 6f5f 6661 723a 0d0a 2020   max_so_far:..  
-00029fc0: 2020 2020 2020 6d61 785f 736f 5f66 6172        max_so_far
-00029fd0: 203d 2078 0d0a 2020 2020 7275 6e6e 696e   = x..    runnin
-00029fe0: 675f 6d61 782e 6170 7065 6e64 2878 290d  g_max.append(x).
-00029ff0: 0a60 6060 0d0a 0d0a 2323 2323 2060 636f  .```....#### `co
-0002a000: 756e 7460 0d0a 0d0a 2a2a 636f 756e 742a  unt`....**count*
-0002a010: 2a28 5f73 7461 7274 5f3d 6030 602c 205f  *(_start_=`0`, _
-0002a020: 7374 6570 5f3d 6031 6029 0d0a 0d0a 436f  step_=`1`)....Co
-0002a030: 636f 6e75 7420 7072 6f76 6964 6573 2061  conut provides a
-0002a040: 206d 6f64 6966 6965 6420 7665 7273 696f   modified versio
-0002a050: 6e20 6f66 2060 6974 6572 746f 6f6c 732e  n of `itertools.
-0002a060: 636f 756e 7460 2074 6861 7420 7375 7070  count` that supp
-0002a070: 6f72 7473 2060 696e 602c 206e 6f72 6d61  orts `in`, norma
-0002a080: 6c20 736c 6963 696e 672c 206f 7074 696d  l slicing, optim
-0002a090: 697a 6564 2069 7465 7261 746f 7220 736c  ized iterator sl
-0002a0a0: 6963 696e 672c 2074 6865 2073 7461 6e64  icing, the stand
-0002a0b0: 6172 6420 6063 6f75 6e74 6020 616e 6420  ard `count` and 
-0002a0c0: 6069 6e64 6578 6020 7365 7175 656e 6365  `index` sequence
-0002a0d0: 206d 6574 686f 6473 2c20 6072 6570 7260   methods, `repr`
-0002a0e0: 2c20 616e 6420 6073 7461 7274 602f 6073  , and `start`/`s
-0002a0f0: 7465 7060 2061 7474 7269 6275 7465 7320  tep` attributes 
-0002a100: 6173 2061 2062 7569 6c74 2d69 6e20 756e  as a built-in un
-0002a110: 6465 7220 7468 6520 6e61 6d65 2060 636f  der the name `co
-0002a120: 756e 7460 2e0d 0a0d 0a41 6464 6974 696f  unt`.....Additio
-0002a130: 6e61 6c6c 792c 2069 6620 7468 6520 5f73  nally, if the _s
-0002a140: 7465 705f 2070 6172 616d 6574 6572 2069  tep_ parameter i
-0002a150: 7320 7365 7420 746f 2060 4e6f 6e65 602c  s set to `None`,
-0002a160: 2060 636f 756e 7460 2077 696c 6c20 6265   `count` will be
-0002a170: 6861 7665 206c 696b 6520 6069 7465 7274  have like `itert
-0002a180: 6f6f 6c73 2e72 6570 6561 7460 2069 6e73  ools.repeat` ins
-0002a190: 7465 6164 2e0d 0a0d 0a23 2323 2323 2050  tead.....##### P
-0002a1a0: 7974 686f 6e20 446f 6373 0d0a 0d0a 2a2a  ython Docs....**
-0002a1b0: 636f 756e 742a 2a28 5f73 7461 7274 3d30  count**(_start=0
-0002a1c0: 2c20 7374 6570 3d31 5f29 0d0a 0d0a 4d61  , step=1_)....Ma
-0002a1d0: 6b65 2061 6e20 6974 6572 6174 6f72 2074  ke an iterator t
-0002a1e0: 6861 7420 7265 7475 726e 7320 6576 656e  hat returns even
-0002a1f0: 6c79 2073 7061 6365 6420 7661 6c75 6573  ly spaced values
-0002a200: 2073 7461 7274 696e 6720 7769 7468 206e   starting with n
-0002a210: 756d 6265 7220 5f73 7461 7274 5f2e 204f  umber _start_. O
-0002a220: 6674 656e 2075 7365 6420 6173 2061 6e20  ften used as an 
-0002a230: 6172 6775 6d65 6e74 2074 6f20 606d 6170  argument to `map
-0002a240: 2829 6020 746f 2067 656e 6572 6174 6520  ()` to generate 
-0002a250: 636f 6e73 6563 7574 6976 6520 6461 7461  consecutive data
-0002a260: 2070 6f69 6e74 732e 2041 6c73 6f2c 2075   points. Also, u
-0002a270: 7365 6420 7769 7468 2060 7a69 7028 2960  sed with `zip()`
-0002a280: 2074 6f20 6164 6420 7365 7175 656e 6365   to add sequence
-0002a290: 206e 756d 6265 7273 2e20 526f 7567 686c   numbers. Roughl
-0002a2a0: 7920 6571 7569 7661 6c65 6e74 2074 6f3a  y equivalent to:
-0002a2b0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0002a2c0: 686f 6e0d 0a64 6566 2063 6f75 6e74 2873  hon..def count(s
-0002a2d0: 7461 7274 3d30 2c20 7374 6570 3d31 293a  tart=0, step=1):
-0002a2e0: 0d0a 2020 2020 2320 636f 756e 7428 3130  ..    # count(10
-0002a2f0: 2920 2d2d 3e20 3130 2031 3120 3132 2031  ) --> 10 11 12 1
-0002a300: 3320 3134 202e 2e2e 0d0a 2020 2020 2320  3 14 .....    # 
-0002a310: 636f 756e 7428 322e 352c 2030 2e35 2920  count(2.5, 0.5) 
-0002a320: 2d3e 2032 2e35 2033 2e30 2033 2e35 202e  -> 2.5 3.0 3.5 .
-0002a330: 2e2e 0d0a 2020 2020 6e20 3d20 7374 6172  ....    n = star
-0002a340: 740d 0a20 2020 2077 6869 6c65 2054 7275  t..    while Tru
-0002a350: 653a 0d0a 2020 2020 2020 2020 7969 656c  e:..        yiel
-0002a360: 6420 6e0d 0a20 2020 2020 2020 2069 6620  d n..        if 
-0002a370: 7374 6570 3a0d 0a20 2020 2020 2020 2020  step:..         
-0002a380: 206e 202b 3d20 7374 6570 0d0a 6060 600d   n += step..```.
-0002a390: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
-0002a3a0: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
-0002a3b0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 636f  ..```coconut..co
-0002a3c0: 756e 7428 2924 5b31 302a 2a31 3030 5d20  unt()$[10**100] 
-0002a3d0: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
-0002a3e0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
-0002a3f0: 616e 2774 2062 6520 646f 6e65 2071 7569  an't be done qui
-0002a400: 636b 6c79 2077 6974 686f 7574 2043 6f63  ckly without Coc
-0002a410: 6f6e 7574 2773 2069 7465 7261 746f 7220  onut's iterator 
-0002a420: 736c 6963 696e 672c 2077 6869 6368 2072  slicing, which r
-0002a430: 6571 7569 7265 7320 6d61 6e79 2063 6f6d  equires many com
-0002a440: 706c 6963 6174 6564 2070 6965 6365 732e  plicated pieces.
-0002a450: 2054 6865 206e 6563 6573 7361 7279 2064   The necessary d
-0002a460: 6566 696e 6974 696f 6e73 2069 6e20 5079  efinitions in Py
-0002a470: 7468 6f6e 2063 616e 2062 6520 666f 756e  thon can be foun
-0002a480: 6420 696e 2074 6865 2043 6f63 6f6e 7574  d in the Coconut
-0002a490: 2068 6561 6465 722e 5f0d 0a0d 0a23 2323   header._....###
-0002a4a0: 2320 6063 7963 6c65 600d 0a0d 0a2a 2a63  # `cycle`....**c
-0002a4b0: 7963 6c65 2a2a 285f 6974 6572 6162 6c65  ycle**(_iterable
-0002a4c0: 5f2c 205f 7469 6d65 735f 3d60 4e6f 6e65  _, _times_=`None
-0002a4d0: 6029 0d0a 0d0a 436f 636f 6e75 7427 7320  `)....Coconut's 
-0002a4e0: 6063 7963 6c65 6020 6973 2061 206d 6f64  `cycle` is a mod
-0002a4f0: 6966 6965 6420 7665 7273 696f 6e20 6f66  ified version of
-0002a500: 2060 6974 6572 746f 6f6c 732e 6379 636c   `itertools.cycl
-0002a510: 6560 2077 6974 6820 6120 6074 696d 6573  e` with a `times
-0002a520: 6020 7061 7261 6d65 7465 7220 7468 6174  ` parameter that
-0002a530: 2063 6f6e 7472 6f6c 7320 7468 6520 6e75   controls the nu
-0002a540: 6d62 6572 206f 6620 7469 6d65 7320 746f  mber of times to
-0002a550: 2063 7963 6c65 2074 6872 6f75 6768 205f   cycle through _
-0002a560: 6974 6572 6162 6c65 5f20 6265 666f 7265  iterable_ before
-0002a570: 2073 746f 7070 696e 672e 2060 6379 636c   stopping. `cycl
-0002a580: 6560 2061 6c73 6f20 7375 7070 6f72 7473  e` also supports
-0002a590: 2060 696e 602c 2073 6c69 6369 6e67 2c20   `in`, slicing, 
-0002a5a0: 606c 656e 602c 2060 7265 7665 7273 6564  `len`, `reversed
-0002a5b0: 602c 2060 2e63 6f75 6e74 2829 602c 2060  `, `.count()`, `
-0002a5c0: 2e69 6e64 6578 2829 602c 2061 6e64 2060  .index()`, and `
-0002a5d0: 7265 7072 602e 0d0a 0d0a 2323 2323 2320  repr`.....##### 
-0002a5e0: 5079 7468 6f6e 2044 6f63 730d 0a0d 0a2a  Python Docs....*
-0002a5f0: 2a63 7963 6c65 2a2a 285f 6974 6572 6162  *cycle**(_iterab
-0002a600: 6c65 5f29 0d0a 0d0a 4d61 6b65 2061 6e20  le_)....Make an 
-0002a610: 6974 6572 6174 6f72 2072 6574 7572 6e69  iterator returni
-0002a620: 6e67 2065 6c65 6d65 6e74 7320 6672 6f6d  ng elements from
-0002a630: 2074 6865 2069 7465 7261 626c 6520 616e   the iterable an
-0002a640: 6420 7361 7669 6e67 2061 2063 6f70 7920  d saving a copy 
-0002a650: 6f66 2065 6163 682e 2057 6865 6e20 7468  of each. When th
-0002a660: 6520 6974 6572 6162 6c65 2069 7320 6578  e iterable is ex
-0002a670: 6861 7573 7465 642c 2072 6574 7572 6e20  hausted, return 
-0002a680: 656c 656d 656e 7473 2066 726f 6d20 7468  elements from th
-0002a690: 6520 7361 7665 6420 636f 7079 2e20 5265  e saved copy. Re
-0002a6a0: 7065 6174 7320 696e 6465 6669 6e69 7465  peats indefinite
-0002a6b0: 6c79 2e20 526f 7567 686c 7920 6571 7569  ly. Roughly equi
-0002a6c0: 7661 6c65 6e74 2074 6f3a 0d0a 0d0a 6060  valent to:....``
-0002a6d0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0002a6e0: 0a64 6566 2063 7963 6c65 2869 7465 7261  .def cycle(itera
-0002a6f0: 626c 6529 3a0d 0a20 2020 2023 2063 7963  ble):..    # cyc
-0002a700: 6c65 2827 4142 4344 2729 202d 2d3e 2041  le('ABCD') --> A
-0002a710: 2042 2043 2044 2041 2042 2043 2044 2041   B C D A B C D A
-0002a720: 2042 2043 2044 202e 2e2e 0d0a 2020 2020   B C D .....    
-0002a730: 7361 7665 6420 3d20 5b5d 0d0a 2020 2020  saved = []..    
-0002a740: 666f 7220 656c 656d 656e 7420 696e 2069  for element in i
-0002a750: 7465 7261 626c 653a 0d0a 2020 2020 2020  terable:..      
-0002a760: 2020 7969 656c 6420 656c 656d 656e 740d    yield element.
-0002a770: 0a20 2020 2020 2020 2073 6176 6564 2e61  .        saved.a
-0002a780: 7070 656e 6428 656c 656d 656e 7429 0d0a  ppend(element)..
-0002a790: 2020 2020 7768 696c 6520 7361 7665 643a      while saved:
-0002a7a0: 0d0a 2020 2020 2020 2020 666f 7220 656c  ..        for el
-0002a7b0: 656d 656e 7420 696e 2073 6176 6564 3a0d  ement in saved:.
-0002a7c0: 0a20 2020 2020 2020 2020 2020 2020 2079  .              y
-0002a7d0: 6965 6c64 2065 6c65 6d65 6e74 0d0a 6060  ield element..``
-0002a7e0: 600d 0a0d 0a4e 6f74 652c 2074 6869 7320  `....Note, this 
-0002a7f0: 6d65 6d62 6572 206f 6620 7468 6520 746f  member of the to
-0002a800: 6f6c 6b69 7420 6d61 7920 7265 7175 6972  olkit may requir
-0002a810: 6520 7369 676e 6966 6963 616e 7420 6175  e significant au
-0002a820: 7869 6c69 6172 7920 7374 6f72 6167 6520  xiliary storage 
-0002a830: 2864 6570 656e 6469 6e67 206f 6e20 7468  (depending on th
-0002a840: 6520 6c65 6e67 7468 206f 6620 7468 6520  e length of the 
-0002a850: 6974 6572 6162 6c65 292e 0d0a 0d0a 2323  iterable).....##
-0002a860: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
-0002a870: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
-0002a880: 636f 636f 6e75 740d 0a63 7963 6c65 2872  coconut..cycle(r
-0002a890: 616e 6765 2832 292c 2032 2920 7c3e 206c  ange(2), 2) |> l
-0002a8a0: 6973 7420 7c3e 2070 7269 6e74 0d0a 6060  ist |> print..``
-0002a8b0: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-0002a8c0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0002a8d0: 686f 6e0d 0a66 726f 6d20 6974 6572 746f  hon..from iterto
-0002a8e0: 6f6c 7320 696d 706f 7274 2063 7963 6c65  ols import cycle
-0002a8f0: 2c20 6973 6c69 6365 0d0a 7072 696e 7428  , islice..print(
-0002a900: 6c69 7374 2869 736c 6963 6528 6379 636c  list(islice(cycl
-0002a910: 6528 7261 6e67 6528 3229 292c 2034 2929  e(range(2)), 4))
-0002a920: 290d 0a60 6060 0d0a 0d0a 2323 2323 2060  )..```....#### `
-0002a930: 6361 7274 6573 6961 6e5f 7072 6f64 7563  cartesian_produc
-0002a940: 7460 0d0a 0d0a 2a2a 6361 7274 6573 6961  t`....**cartesia
-0002a950: 6e5c 5f70 726f 6475 6374 2a2a 282a 5f69  n\_product**(*_i
-0002a960: 7465 7261 626c 6573 5f2c 205f 7265 7065  terables_, _repe
-0002a970: 6174 5f3d 6031 6029 0d0a 0d0a 436f 636f  at_=`1`)....Coco
-0002a980: 6e75 7420 7072 6f76 6964 6573 2061 6e20  nut provides an 
-0002a990: 656e 6861 6e63 6564 2076 6572 7369 6f6e  enhanced version
-0002a9a0: 206f 6620 6069 7465 7274 6f6f 6c73 2e70   of `itertools.p
-0002a9b0: 726f 6475 6374 6020 6173 2061 2062 7569  roduct` as a bui
-0002a9c0: 6c74 2d69 6e20 756e 6465 7220 7468 6520  lt-in under the 
-0002a9d0: 6e61 6d65 2060 6361 7274 6573 6961 6e5f  name `cartesian_
-0002a9e0: 7072 6f64 7563 7460 2077 6974 6820 6164  product` with ad
-0002a9f0: 6465 6420 7375 7070 6f72 7420 666f 7220  ded support for 
-0002aa00: 606c 656e 602c 2060 7265 7072 602c 2060  `len`, `repr`, `
-0002aa10: 696e 602c 2060 2e63 6f75 6e74 2829 602c  in`, `.count()`,
-0002aa20: 2061 6e64 2060 666d 6170 602e 0d0a 0d0a   and `fmap`.....
-0002aa30: 4164 6469 7469 6f6e 616c 6c79 2c20 6063  Additionally, `c
-0002aa40: 6172 7465 7369 616e 5f70 726f 6475 6374  artesian_product
-0002aa50: 6020 696e 636c 7564 6573 2073 7065 6369  ` includes speci
-0002aa60: 616c 2073 7570 706f 7274 2066 6f72 205b  al support for [
-0002aa70: 606e 756d 7079 605d 2823 6e75 6d70 792d  `numpy`](#numpy-
-0002aa80: 696e 7465 6772 6174 696f 6e29 206f 626a  integration) obj
-0002aa90: 6563 7473 2c20 696e 2077 6869 6368 2063  ects, in which c
-0002aaa0: 6173 6520 6120 6d75 6c74 6964 696d 656e  ase a multidimen
-0002aab0: 7369 6f6e 616c 2061 7272 6179 2069 7320  sional array is 
-0002aac0: 7265 7475 726e 6564 2069 6e73 7465 6164  returned instead
-0002aad0: 206f 6620 616e 2069 7465 7261 746f 722e   of an iterator.
-0002aae0: 0d0a 0d0a 2323 2323 2320 5079 7468 6f6e  ....##### Python
-0002aaf0: 2044 6f63 730d 0a0d 0a2a 2a63 6172 7465   Docs....**carte
-0002ab00: 7369 616e 5c5f 7072 6f64 7563 742a 2a28  sian\_product**(
-0002ab10: 5f5c 2a69 7465 7261 626c 6573 2c20 7265  _\*iterables, re
-0002ab20: 7065 6174 3d31 5f29 0d0a 0d0a 4361 7274  peat=1_)....Cart
-0002ab30: 6573 6961 6e20 7072 6f64 7563 7420 6f66  esian product of
-0002ab40: 2069 6e70 7574 2069 7465 7261 626c 6573   input iterables
-0002ab50: 2e0d 0a0d 0a52 6f75 6768 6c79 2065 7175  .....Roughly equ
-0002ab60: 6976 616c 656e 7420 746f 206e 6573 7465  ivalent to neste
-0002ab70: 6420 666f 722d 6c6f 6f70 7320 696e 2061  d for-loops in a
-0002ab80: 2067 656e 6572 6174 6f72 2065 7870 7265   generator expre
-0002ab90: 7373 696f 6e2e 2046 6f72 2065 7861 6d70  ssion. For examp
-0002aba0: 6c65 2c20 6063 6172 7465 7369 616e 5f70  le, `cartesian_p
-0002abb0: 726f 6475 6374 2841 2c20 4229 6020 7265  roduct(A, B)` re
-0002abc0: 7475 726e 7320 7468 6520 7361 6d65 2061  turns the same a
-0002abd0: 7320 6028 2878 2c79 2920 666f 7220 7820  s `((x,y) for x 
-0002abe0: 696e 2041 2066 6f72 2079 2069 6e20 4229  in A for y in B)
-0002abf0: 602e 0d0a 0d0a 5468 6520 6e65 7374 6564  `.....The nested
-0002ac00: 206c 6f6f 7073 2063 7963 6c65 206c 696b   loops cycle lik
-0002ac10: 6520 616e 206f 646f 6d65 7465 7220 7769  e an odometer wi
-0002ac20: 7468 2074 6865 2072 6967 6874 6d6f 7374  th the rightmost
-0002ac30: 2065 6c65 6d65 6e74 2061 6476 616e 6369   element advanci
-0002ac40: 6e67 206f 6e20 6576 6572 7920 6974 6572  ng on every iter
-0002ac50: 6174 696f 6e2e 2054 6869 7320 7061 7474  ation. This patt
-0002ac60: 6572 6e20 6372 6561 7465 7320 6120 6c65  ern creates a le
-0002ac70: 7869 636f 6772 6170 6869 6320 6f72 6465  xicographic orde
-0002ac80: 7269 6e67 2073 6f20 7468 6174 2069 6620  ring so that if 
-0002ac90: 7468 6520 696e 7075 74e2 8099 7320 6974  the input...s it
-0002aca0: 6572 6162 6c65 7320 6172 6520 736f 7274  erables are sort
-0002acb0: 6564 2c20 7468 6520 7072 6f64 7563 7420  ed, the product 
-0002acc0: 7475 706c 6573 2061 7265 2065 6d69 7474  tuples are emitt
-0002acd0: 6564 2069 6e20 736f 7274 6564 206f 7264  ed in sorted ord
-0002ace0: 6572 2e0d 0a0d 0a54 6f20 636f 6d70 7574  er.....To comput
-0002acf0: 6520 7468 6520 7072 6f64 7563 7420 6f66  e the product of
-0002ad00: 2061 6e20 6974 6572 6162 6c65 2077 6974   an iterable wit
-0002ad10: 6820 6974 7365 6c66 2c20 7370 6563 6966  h itself, specif
-0002ad20: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
-0002ad30: 7265 7065 7469 7469 6f6e 7320 7769 7468  repetitions with
-0002ad40: 2074 6865 206f 7074 696f 6e61 6c20 7265   the optional re
-0002ad50: 7065 6174 206b 6579 776f 7264 2061 7267  peat keyword arg
-0002ad60: 756d 656e 742e 2046 6f72 2065 7861 6d70  ument. For examp
-0002ad70: 6c65 2c20 6070 726f 6475 6374 2841 2c20  le, `product(A, 
-0002ad80: 7265 7065 6174 3d34 2960 206d 6561 6e73  repeat=4)` means
-0002ad90: 2074 6865 2073 616d 6520 6173 2060 6361   the same as `ca
-0002ada0: 7274 6573 6961 6e5f 7072 6f64 7563 7428  rtesian_product(
-0002adb0: 412c 2041 2c20 412c 2041 2960 2e0d 0a0d  A, A, A, A)`....
-0002adc0: 0a54 6869 7320 6675 6e63 7469 6f6e 2069  .This function i
-0002add0: 7320 726f 7567 686c 7920 6571 7569 7661  s roughly equiva
-0002ade0: 6c65 6e74 2074 6f20 7468 6520 666f 6c6c  lent to the foll
-0002adf0: 6f77 696e 6720 636f 6465 2c20 6578 6365  owing code, exce
-0002ae00: 7074 2074 6861 7420 7468 6520 6163 7475  pt that the actu
-0002ae10: 616c 2069 6d70 6c65 6d65 6e74 6174 696f  al implementatio
-0002ae20: 6e20 646f 6573 206e 6f74 2062 7569 6c64  n does not build
-0002ae30: 2075 7020 696e 7465 726d 6564 6961 7465   up intermediate
-0002ae40: 2072 6573 756c 7473 2069 6e20 6d65 6d6f   results in memo
-0002ae50: 7279 3a0d 0a0d 0a60 6060 636f 636f 6e75  ry:....```coconu
-0002ae60: 745f 7079 7468 6f6e 0d0a 6465 6620 6361  t_python..def ca
-0002ae70: 7274 6573 6961 6e5f 7072 6f64 7563 7428  rtesian_product(
-0002ae80: 2a61 7267 732c 2072 6570 6561 743d 3129  *args, repeat=1)
-0002ae90: 3a0d 0a20 2020 2023 2070 726f 6475 6374  :..    # product
-0002aea0: 2827 4142 4344 272c 2027 7879 2729 202d  ('ABCD', 'xy') -
-0002aeb0: 2d3e 2041 7820 4179 2042 7820 4279 2043  -> Ax Ay Bx By C
-0002aec0: 7820 4379 2044 7820 4479 0d0a 2020 2020  x Cy Dx Dy..    
-0002aed0: 2320 7072 6f64 7563 7428 7261 6e67 6528  # product(range(
-0002aee0: 3229 2c20 7265 7065 6174 3d33 2920 2d2d  2), repeat=3) --
-0002aef0: 3e20 3030 3020 3030 3120 3031 3020 3031  > 000 001 010 01
-0002af00: 3120 3130 3020 3130 3120 3131 3020 3131  1 100 101 110 11
-0002af10: 310d 0a20 2020 2070 6f6f 6c73 203d 205b  1..    pools = [
-0002af20: 7475 706c 6528 706f 6f6c 2920 666f 7220  tuple(pool) for 
-0002af30: 706f 6f6c 2069 6e20 6172 6773 5d20 2a20  pool in args] * 
-0002af40: 7265 7065 6174 0d0a 2020 2020 7265 7375  repeat..    resu
-0002af50: 6c74 203d 205b 5b5d 5d0d 0a20 2020 2066  lt = [[]]..    f
-0002af60: 6f72 2070 6f6f 6c20 696e 2070 6f6f 6c73  or pool in pools
-0002af70: 3a0d 0a20 2020 2020 2020 2072 6573 756c  :..        resul
-0002af80: 7420 3d20 5b78 2b5b 795d 2066 6f72 2078  t = [x+[y] for x
-0002af90: 2069 6e20 7265 7375 6c74 2066 6f72 2079   in result for y
-0002afa0: 2069 6e20 706f 6f6c 5d0d 0a20 2020 2066   in pool]..    f
-0002afb0: 6f72 2070 726f 6420 696e 2072 6573 756c  or prod in resul
-0002afc0: 743a 0d0a 2020 2020 2020 2020 7969 656c  t:..        yiel
-0002afd0: 6420 7475 706c 6528 7072 6f64 290d 0a60  d tuple(prod)..`
-0002afe0: 6060 0d0a 0d0a 4265 666f 7265 2060 6361  ``....Before `ca
-0002aff0: 7274 6573 6961 6e5f 7072 6f64 7563 7428  rtesian_product(
-0002b000: 2960 2072 756e 732c 2069 7420 636f 6d70  )` runs, it comp
-0002b010: 6c65 7465 6c79 2063 6f6e 7375 6d65 7320  letely consumes 
-0002b020: 7468 6520 696e 7075 7420 6974 6572 6162  the input iterab
-0002b030: 6c65 732c 206b 6565 7069 6e67 2070 6f6f  les, keeping poo
-0002b040: 6c73 206f 6620 7661 6c75 6573 2069 6e20  ls of values in 
-0002b050: 6d65 6d6f 7279 2074 6f20 6765 6e65 7261  memory to genera
-0002b060: 7465 2074 6865 2070 726f 6475 6374 732e  te the products.
-0002b070: 2041 6363 6f72 6469 6e67 6c79 2c20 6974   Accordingly, it
-0002b080: 2069 7320 6f6e 6c79 2075 7365 6675 6c20   is only useful 
-0002b090: 7769 7468 2066 696e 6974 6520 696e 7075  with finite inpu
-0002b0a0: 7473 2e0d 0a0d 0a23 2323 2323 2045 7861  ts.....##### Exa
-0002b0b0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
-0002b0c0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
-0002b0d0: 0d0a 7620 3d20 5b31 2c20 325d 0d0a 6173  ..v = [1, 2]..as
-0002b0e0: 7365 7274 2063 6172 7465 7369 616e 5f70  sert cartesian_p
-0002b0f0: 726f 6475 6374 2876 2c20 7629 207c 3e20  roduct(v, v) |> 
-0002b100: 6c69 7374 203d 3d20 5b28 312c 2031 292c  list == [(1, 1),
-0002b110: 2028 312c 2032 292c 2028 322c 2031 292c   (1, 2), (2, 1),
-0002b120: 2028 322c 2032 295d 0d0a 6060 600d 0a0d   (2, 2)]..```...
-0002b130: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-0002b140: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0002b150: 0a66 726f 6d20 6974 6572 746f 6f6c 7320  .from itertools 
-0002b160: 696d 706f 7274 2070 726f 6475 6374 0d0a  import product..
-0002b170: 7620 3d20 5b31 2c20 325d 0d0a 6173 7365  v = [1, 2]..asse
-0002b180: 7274 206c 6973 7428 7072 6f64 7563 7428  rt list(product(
-0002b190: 762c 2076 2929 203d 3d20 5b28 312c 2031  v, v)) == [(1, 1
-0002b1a0: 292c 2028 312c 2032 292c 2028 322c 2031  ), (1, 2), (2, 1
-0002b1b0: 292c 2028 322c 2032 295d 0d0a 6060 600d  ), (2, 2)]..```.
-0002b1c0: 0a0d 0a23 2323 2320 606d 756c 7469 5f65  ...#### `multi_e
-0002b1d0: 6e75 6d65 7261 7465 600d 0a0d 0a2a 2a6d  numerate`....**m
-0002b1e0: 756c 7469 5c5f 656e 756d 6572 6174 652a  ulti\_enumerate*
-0002b1f0: 2a28 5f69 7465 7261 626c 655f 290d 0a0d  *(_iterable_)...
-0002b200: 0a43 6f63 6f6e 7574 2773 2060 6d75 6c74  .Coconut's `mult
-0002b210: 695f 656e 756d 6572 6174 6560 2065 6e75  i_enumerate` enu
-0002b220: 6d65 7261 7465 7320 7468 726f 7567 6820  merates through 
-0002b230: 616e 2069 7465 7261 626c 6520 6f66 2069  an iterable of i
-0002b240: 7465 7261 626c 6573 2e20 606d 756c 7469  terables. `multi
-0002b250: 5f65 6e75 6d65 7261 7465 6020 776f 726b  _enumerate` work
-0002b260: 7320 6c69 6b65 2065 6e75 6d65 7261 7465  s like enumerate
-0002b270: 2c20 6275 7420 696e 6465 7865 7320 7468  , but indexes th
-0002b280: 726f 7567 6820 696e 6e65 7220 6974 6572  rough inner iter
-0002b290: 6162 6c65 7320 616e 6420 7072 6f64 7563  ables and produc
-0002b2a0: 6573 2061 2074 7570 6c65 2069 6e64 6578  es a tuple index
-0002b2b0: 2072 6570 7265 7365 6e74 696e 6720 7468   representing th
-0002b2c0: 6520 696e 6465 7820 696e 2065 6163 6820  e index in each 
-0002b2d0: 696e 6e65 7220 6974 6572 6162 6c65 2e20  inner iterable. 
-0002b2e0: 5375 7070 6f72 7473 2069 6e64 6578 696e  Supports indexin
-0002b2f0: 672e 0d0a 0d0a 466f 7220 5b60 6e75 6d70  g.....For [`nump
-0002b300: 7960 5d28 236e 756d 7079 2d69 6e74 6567  y`](#numpy-integ
-0002b310: 7261 7469 6f6e 2920 6f62 6a65 6374 732c  ration) objects,
-0002b320: 2075 7365 7320 5b60 6e70 2e6e 6469 7465   uses [`np.ndite
-0002b330: 7260 5d28 6874 7470 733a 2f2f 6e75 6d70  r`](https://nump
-0002b340: 792e 6f72 672f 646f 632f 7374 6162 6c65  y.org/doc/stable
-0002b350: 2f72 6566 6572 656e 6365 2f67 656e 6572  /reference/gener
-0002b360: 6174 6564 2f6e 756d 7079 2e6e 6469 7465  ated/numpy.ndite
-0002b370: 722e 6874 6d6c 2920 756e 6465 7220 7468  r.html) under th
-0002b380: 6520 686f 6f64 2e20 416c 736f 2073 7570  e hood. Also sup
-0002b390: 706f 7274 7320 606c 656e 6020 666f 7220  ports `len` for 
-0002b3a0: 5b60 6e75 6d70 7960 5d28 236e 756d 7079  [`numpy`](#numpy
-0002b3b0: 2d69 6e74 6567 7261 7469 6f6e 2920 6172  -integration) ar
-0002b3c0: 7261 7973 2e0d 0a0d 0a23 2323 2323 2045  rays.....##### E
-0002b3d0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
-0002b3e0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
-0002b3f0: 7574 5f70 7963 6f6e 0d0a 3e3e 3e20 5b31  ut_pycon..>>> [1
-0002b400: 2c20 323b 3b20 332c 2034 5d20 7c3e 206d  , 2;; 3, 4] |> m
-0002b410: 756c 7469 5f65 6e75 6d65 7261 7465 207c  ulti_enumerate |
-0002b420: 3e20 6c69 7374 0d0a 5b28 2830 2c20 3029  > list..[((0, 0)
-0002b430: 2c20 3129 2c20 2828 302c 2031 292c 2032  , 1), ((0, 1), 2
-0002b440: 292c 2028 2831 2c20 3029 2c20 3329 2c20  ), ((1, 0), 3), 
-0002b450: 2828 312c 2031 292c 2034 295d 0d0a 6060  ((1, 1), 4)]..``
-0002b460: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
-0002b470: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
-0002b480: 686f 6e0d 0a61 7272 6179 203d 205b 5b31  hon..array = [[1
-0002b490: 2c20 325d 2c20 5b33 2c20 345d 5d0d 0a65  , 2], [3, 4]]..e
-0002b4a0: 6e75 6d65 7261 7465 645f 6172 7261 7920  numerated_array 
-0002b4b0: 3d20 5b5d 0d0a 666f 7220 6920 696e 2072  = []..for i in r
-0002b4c0: 616e 6765 286c 656e 2861 7272 6179 2929  ange(len(array))
-0002b4d0: 3a0d 0a20 2020 2066 6f72 206a 2069 6e20  :..    for j in 
-0002b4e0: 7261 6e67 6528 6c65 6e28 6172 7261 795b  range(len(array[
-0002b4f0: 695d 2929 3a0d 0a20 2020 2020 2020 2065  i])):..        e
-0002b500: 6e75 6d65 7261 7465 645f 6172 7261 792e  numerated_array.
-0002b510: 6170 7065 6e64 2828 2869 2c20 6a29 2c20  append(((i, j), 
-0002b520: 6172 7261 795b 695d 5b6a 5d29 290d 0a60  array[i][j]))..`
-0002b530: 6060 0d0a 0d0a 2323 2323 2060 6772 6f75  ``....#### `grou
-0002b540: 7073 6f66 600d 0a0d 0a2a 2a67 726f 7570  psof`....**group
-0002b550: 736f 662a 2a28 5f6e 5f2c 205f 6974 6572  sof**(_n_, _iter
-0002b560: 6162 6c65 5f2c 205f 6669 6c6c 7661 6c75  able_, _fillvalu
-0002b570: 655f 3d60 2e2e 2e60 290d 0a0d 0a43 6f63  e_=`...`)....Coc
-0002b580: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
-0002b590: 6520 6067 726f 7570 736f 6660 2062 7569  e `groupsof` bui
-0002b5a0: 6c74 2d69 6e20 746f 2073 706c 6974 2061  lt-in to split a
-0002b5b0: 6e20 6974 6572 6162 6c65 2069 6e74 6f20  n iterable into 
-0002b5c0: 6772 6f75 7073 206f 6620 6120 7370 6563  groups of a spec
-0002b5d0: 6966 6963 206c 656e 6774 682e 2053 7065  ific length. Spe
-0002b5e0: 6369 6669 6361 6c6c 792c 2060 6772 6f75  cifically, `grou
-0002b5f0: 7073 6f66 286e 2c20 6974 6572 6162 6c65  psof(n, iterable
-0002b600: 2960 2077 696c 6c20 7370 6c69 7420 6069  )` will split `i
-0002b610: 7465 7261 626c 6560 2069 6e74 6f20 7475  terable` into tu
-0002b620: 706c 6573 206f 6620 6c65 6e67 7468 2060  ples of length `
-0002b630: 6e60 2c20 7769 7468 206f 6e6c 7920 7468  n`, with only th
-0002b640: 6520 6c61 7374 2074 7570 6c65 2070 6f74  e last tuple pot
-0002b650: 656e 7469 616c 6c79 206f 6620 7369 7a65  entially of size
-0002b660: 2060 3c20 6e60 2069 6620 7468 6520 6c65   `< n` if the le
-0002b670: 6e67 7468 206f 6620 6069 7465 7261 626c  ngth of `iterabl
-0002b680: 6560 2069 7320 6e6f 7420 6469 7669 7369  e` is not divisi
-0002b690: 626c 6520 6279 2060 6e60 2e20 4966 2074  ble by `n`. If t
-0002b6a0: 6861 7420 6973 206e 6f74 2074 6865 2064  hat is not the d
-0002b6b0: 6573 6972 6564 2062 6568 6176 696f 722c  esired behavior,
-0002b6c0: 205f 6669 6c6c 7661 6c75 655f 2063 616e   _fillvalue_ can
-0002b6d0: 2062 6520 7061 7373 6564 2061 6e64 2077   be passed and w
-0002b6e0: 696c 6c20 6265 2075 7365 6420 746f 2070  ill be used to p
-0002b6f0: 6164 2074 6865 2065 6e64 206f 6620 7468  ad the end of th
-0002b700: 6520 6c61 7374 2074 7570 6c65 2074 6f20  e last tuple to 
-0002b710: 6c65 6e67 7468 2060 6e60 2e0d 0a0d 0a41  length `n`.....A
-0002b720: 6464 6974 696f 6e61 6c6c 792c 2060 6772  dditionally, `gr
-0002b730: 6f75 7073 6f66 6020 7375 7070 6f72 7473  oupsof` supports
-0002b740: 2060 6c65 6e60 2077 6865 6e20 6069 7465   `len` when `ite
-0002b750: 7261 626c 6560 2073 7570 706f 7274 7320  rable` supports 
-0002b760: 606c 656e 602e 0d0a 0d0a 2323 2323 2320  `len`.....##### 
-0002b770: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0002b780: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0002b790: 6e75 740d 0a70 6169 7273 203d 2072 616e  nut..pairs = ran
-0002b7a0: 6765 2831 2c20 3131 2920 7c3e 2067 726f  ge(1, 11) |> gro
-0002b7b0: 7570 736f 6624 2832 290d 0a60 6060 0d0a  upsof$(2)..```..
-0002b7c0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
-0002b7d0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
-0002b7e0: 0d0a 7061 6972 7320 3d20 5b5d 0d0a 6772  ..pairs = []..gr
-0002b7f0: 6f75 7020 3d20 5b5d 0d0a 666f 7220 6974  oup = []..for it
-0002b800: 656d 2069 6e20 7261 6e67 6528 312c 2031  em in range(1, 1
-0002b810: 3129 3a0d 0a20 2020 2067 726f 7570 2e61  1):..    group.a
-0002b820: 7070 656e 6428 6974 656d 290d 0a20 2020  ppend(item)..   
-0002b830: 2069 6620 6c65 6e28 6772 6f75 7029 203d   if len(group) =
-0002b840: 3d20 323a 0d0a 2020 2020 2020 2020 7061  = 2:..        pa
-0002b850: 6972 732e 6170 7065 6e64 2874 7570 6c65  irs.append(tuple
-0002b860: 2867 726f 7570 2929 0d0a 2020 2020 2020  (group))..      
-0002b870: 2020 6772 6f75 7020 3d20 5b5d 0d0a 6966    group = []..if
-0002b880: 2067 726f 7570 3a0d 0a20 2020 2070 6169   group:..    pai
-0002b890: 7273 2e61 7070 656e 6428 7475 706c 6528  rs.append(tuple(
-0002b8a0: 6772 6f75 7029 290d 0a60 6060 0d0a 0d0a  group))..```....
-0002b8b0: 2323 2323 2060 7769 6e64 6f77 736f 6660  #### `windowsof`
-0002b8c0: 0d0a 0d0a 2a2a 7769 6e64 6f77 736f 662a  ....**windowsof*
-0002b8d0: 2a28 5f73 697a 655f 2c20 5f69 7465 7261  *(_size_, _itera
-0002b8e0: 626c 655f 2c20 5f66 696c 6c76 616c 7565  ble_, _fillvalue
-0002b8f0: 5f3d 602e 2e2e 602c 205f 7374 6570 5f3d  _=`...`, _step_=
-0002b900: 6031 6029 0d0a 0d0a 6077 696e 646f 7773  `1`)....`windows
-0002b910: 6f66 6020 7072 6f64 7563 6573 2061 6e20  of` produces an 
-0002b920: 6974 6572 6162 6c65 2074 6861 7420 6566  iterable that ef
-0002b930: 6665 6374 6976 656c 7920 6d69 6d69 6373  fectively mimics
-0002b940: 2061 2073 6c69 6469 6e67 2077 696e 646f   a sliding windo
-0002b950: 7720 6f76 6572 205f 6974 6572 6162 6c65  w over _iterable
-0002b960: 5f20 6f66 2073 697a 6520 5f73 697a 655f  _ of size _size_
-0002b970: 2e20 5f73 7465 705f 2064 6574 6572 6d69  . _step_ determi
-0002b980: 6e65 7320 7468 6520 7370 6163 696e 6720  nes the spacing 
-0002b990: 6265 7477 6565 6e20 7769 6e64 6f77 732e  between windows.
-0002b9a0: 0d0a 0d0a 4966 205f 7369 7a65 5f20 6973  ....If _size_ is
-0002b9b0: 206c 6172 6765 7220 7468 616e 205f 6974   larger than _it
-0002b9c0: 6572 6162 6c65 5f2c 2060 7769 6e64 6f77  erable_, `window
-0002b9d0: 736f 6660 2077 696c 6c20 7072 6f64 7563  sof` will produc
-0002b9e0: 6520 616e 2065 6d70 7479 2069 7465 7261  e an empty itera
-0002b9f0: 626c 652e 2049 6620 7468 6174 2069 7320  ble. If that is 
-0002ba00: 6e6f 7420 7468 6520 6465 7369 7265 6420  not the desired 
-0002ba10: 6265 6861 7669 6f72 2c20 5f66 696c 6c76  behavior, _fillv
-0002ba20: 616c 7565 5f20 6361 6e20 6265 2070 6173  alue_ can be pas
-0002ba30: 7365 6420 616e 6420 7769 6c6c 2062 6520  sed and will be 
-0002ba40: 7573 6564 2069 6e20 706c 6163 6520 6f66  used in place of
-0002ba50: 206d 6973 7369 6e67 2076 616c 7565 732e   missing values.
-0002ba60: 2041 6c73 6f2c 2069 6620 5f66 696c 6c76   Also, if _fillv
-0002ba70: 616c 7565 5f20 6973 2070 6173 7365 6420  alue_ is passed 
-0002ba80: 616e 6420 7468 6520 6c65 6e67 7468 206f  and the length o
-0002ba90: 6620 7468 6520 5f69 7465 7261 626c 655f  f the _iterable_
-0002baa0: 2069 7320 6e6f 7420 6469 7669 7369 626c   is not divisibl
-0002bab0: 6520 6279 205f 7374 6570 5f2c 205f 6669  e by _step_, _fi
-0002bac0: 6c6c 7661 6c75 655f 2077 696c 6c20 6265  llvalue_ will be
-0002bad0: 2075 7365 6420 696e 2074 6861 7420 6361   used in that ca
-0002bae0: 7365 2074 6f20 7061 6420 7468 6520 6c61  se to pad the la
-0002baf0: 7374 2077 696e 646f 7720 6173 2077 656c  st window as wel
-0002bb00: 6c2e 204e 6f74 6520 7468 6174 205f 6669  l. Note that _fi
-0002bb10: 6c6c 7661 6c75 655f 2077 696c 6c20 6f6e  llvalue_ will on
-0002bb20: 6c79 2065 7665 7220 6170 7065 6172 2069  ly ever appear i
-0002bb30: 6e20 7468 6520 6c61 7374 2077 696e 646f  n the last windo
-0002bb40: 772e 0d0a 0d0a 4164 6469 7469 6f6e 616c  w.....Additional
-0002bb50: 6c79 2c20 6077 696e 646f 7773 6f66 6020  ly, `windowsof` 
-0002bb60: 7375 7070 6f72 7473 2060 6c65 6e60 2077  supports `len` w
-0002bb70: 6865 6e20 6069 7465 7261 626c 6560 2073  hen `iterable` s
-0002bb80: 7570 706f 7274 7320 606c 656e 602e 0d0a  upports `len`...
-0002bb90: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0002bba0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0002bbb0: 0a60 6060 636f 636f 6e75 740d 0a61 7373  .```coconut..ass
-0002bbc0: 6572 7420 2231 3233 3435 2220 7c3e 2077  ert "12345" |> w
-0002bbd0: 696e 646f 7773 6f66 2428 3329 207c 3e20  indowsof$(3) |> 
-0002bbe0: 6c69 7374 203d 3d20 5b28 2231 222c 2022  list == [("1", "
-0002bbf0: 3222 2c20 2233 2229 2c20 2822 3222 2c20  2", "3"), ("2", 
-0002bc00: 2233 222c 2022 3422 292c 2028 2233 222c  "3", "4"), ("3",
-0002bc10: 2022 3422 2c20 2235 2229 5d0d 0a60 6060   "4", "5")]..```
-0002bc20: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0002bc30: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
-0002bc40: 7769 7468 6f75 7420 7468 6520 6465 6669  without the defi
-0002bc50: 6e69 7469 6f6e 206f 6620 6077 696e 646f  nition of `windo
-0002bc60: 7773 6f66 603b 2073 6565 2074 6865 2063  wsof`; see the c
-0002bc70: 6f6d 7069 6c65 6420 6865 6164 6572 2066  ompiled header f
-0002bc80: 6f72 2074 6865 2066 756c 6c20 6465 6669  or the full defi
-0002bc90: 6e69 7469 6f6e 2e5f 0d0a 0d0a 2323 2323  nition._....####
-0002bca0: 2060 636f 6c6c 6563 7462 7960 0d0a 0d0a   `collectby`....
-0002bcb0: 2a2a 636f 6c6c 6563 7462 792a 2a28 5f6b  **collectby**(_k
-0002bcc0: 6579 5c5f 6675 6e63 5f2c 205f 6974 6572  ey\_func_, _iter
-0002bcd0: 6162 6c65 5f2c 205f 7661 6c75 655c 5f66  able_, _value\_f
-0002bce0: 756e 635f 3d60 4e6f 6e65 602c 205f 7265  unc_=`None`, _re
-0002bcf0: 6475 6365 5c5f 6675 6e63 5f3d 604e 6f6e  duce\_func_=`Non
-0002bd00: 6560 290d 0a0d 0a60 636f 6c6c 6563 7462  e`)....`collectb
-0002bd10: 7928 6b65 795f 6675 6e63 2c20 6974 6572  y(key_func, iter
-0002bd20: 6162 6c65 2960 2063 6f6c 6c65 6374 7320  able)` collects 
-0002bd30: 7468 6520 6974 656d 7320 696e 2060 6974  the items in `it
-0002bd40: 6572 6162 6c65 6020 696e 746f 2061 2064  erable` into a d
-0002bd50: 6963 7469 6f6e 6172 7920 6f66 206c 6973  ictionary of lis
-0002bd60: 7473 206b 6579 6564 2062 7920 606b 6579  ts keyed by `key
-0002bd70: 5f66 756e 6328 6974 656d 2960 2e0d 0a0d  _func(item)`....
-0002bd80: 0a49 6620 6076 616c 7565 5f66 756e 6360  .If `value_func`
-0002bd90: 2069 7320 7061 7373 6564 2c20 6063 6f6c   is passed, `col
-0002bda0: 6c65 6374 6279 286b 6579 5f66 756e 632c  lectby(key_func,
-0002bdb0: 2069 7465 7261 626c 652c 2076 616c 7565   iterable, value
-0002bdc0: 5f66 756e 633d 7661 6c75 655f 6675 6e63  _func=value_func
-0002bdd0: 2960 2069 6e73 7465 6164 2063 6f6c 6c65  )` instead colle
-0002bde0: 6374 7320 7661 6c75 655f 6675 6e63 2869  cts value_func(i
-0002bdf0: 7465 6d29 2069 6e74 6f20 6561 6368 206c  tem) into each l
-0002be00: 6973 7420 696e 7374 6561 6420 6f66 2069  ist instead of i
-0002be10: 7465 6d2e 0d0a 0d0a 4966 2060 7265 6475  tem.....If `redu
-0002be20: 6365 5f66 756e 6360 2069 7320 7061 7373  ce_func` is pass
-0002be30: 6564 2c20 6063 6f6c 6c65 6374 6279 286b  ed, `collectby(k
-0002be40: 6579 5f66 756e 632c 2069 7465 7261 626c  ey_func, iterabl
-0002be50: 652c 2072 6564 7563 655f 6675 6e63 3d72  e, reduce_func=r
-0002be60: 6564 7563 655f 6675 6e63 2960 2c20 696e  educe_func)`, in
-0002be70: 7374 6561 6420 6f66 2063 6f6c 6c65 6374  stead of collect
-0002be80: 696e 6720 7468 6520 6974 656d 7320 696e  ing the items in
-0002be90: 746f 206c 6973 7473 2c20 7265 6475 6365  to lists, reduce
-0002bea0: 7320 6f76 6572 2074 6865 2069 7465 6d73  s over the items
-0002beb0: 206f 6620 6561 6368 206b 6579 2077 6974   of each key wit
-0002bec0: 6820 7265 6475 6365 5f66 756e 632c 2065  h reduce_func, e
-0002bed0: 6666 6563 7469 7665 6c79 2069 6d70 6c65  ffectively imple
-0002bee0: 6d65 6e74 696e 6720 6120 4d61 7052 6564  menting a MapRed
-0002bef0: 7563 6520 6f70 6572 6174 696f 6e2e 0d0a  uce operation...
-0002bf00: 0d0a 6063 6f6c 6c65 6374 6279 6020 6973  ..`collectby` is
-0002bf10: 2065 6666 6563 7469 7665 6c79 2065 7175   effectively equ
-0002bf20: 6976 616c 656e 7420 746f 3a0d 0a60 6060  ivalent to:..```
-0002bf30: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0002bf40: 6672 6f6d 2063 6f6c 6c65 6374 696f 6e73  from collections
-0002bf50: 2069 6d70 6f72 7420 6465 6661 756c 7464   import defaultd
-0002bf60: 6963 740d 0a0d 0a64 6566 2063 6f6c 6c65  ict....def colle
-0002bf70: 6374 6279 286b 6579 5f66 756e 632c 2069  ctby(key_func, i
-0002bf80: 7465 7261 626c 652c 2076 616c 7565 5f66  terable, value_f
-0002bf90: 756e 633d 6964 656e 742c 2072 6564 7563  unc=ident, reduc
-0002bfa0: 655f 6675 6e63 3d4e 6f6e 6529 3a0d 0a20  e_func=None):.. 
-0002bfb0: 2020 2063 6f6c 6c65 6374 696f 6e20 3d20     collection = 
-0002bfc0: 6465 6661 756c 7464 6963 7428 6c69 7374  defaultdict(list
-0002bfd0: 2920 6966 2072 6564 7563 655f 6675 6e63  ) if reduce_func
-0002bfe0: 2069 7320 4e6f 6e65 2065 6c73 6520 7b7d   is None else {}
-0002bff0: 0d0a 2020 2020 666f 7220 6974 656d 2069  ..    for item i
-0002c000: 6e20 6974 6572 6162 6c65 3a0d 0a20 2020  n iterable:..   
-0002c010: 2020 2020 206b 6579 203d 206b 6579 5f66       key = key_f
-0002c020: 756e 6328 6974 656d 290d 0a20 2020 2020  unc(item)..     
-0002c030: 2020 2076 616c 7565 203d 2076 616c 7565     value = value
-0002c040: 5f66 756e 6328 6974 656d 290d 0a20 2020  _func(item)..   
-0002c050: 2020 2020 2069 6620 7265 6475 6365 5f66       if reduce_f
-0002c060: 756e 6320 6973 204e 6f6e 653a 0d0a 2020  unc is None:..  
-0002c070: 2020 2020 2020 2020 2020 636f 6c6c 6563            collec
-0002c080: 7469 6f6e 5b6b 6579 5d2e 6170 7065 6e64  tion[key].append
-0002c090: 2876 616c 7565 290d 0a20 2020 2020 2020  (value)..       
-0002c0a0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-0002c0b0: 2020 2020 6f6c 645f 7661 6c75 6520 3d20      old_value = 
-0002c0c0: 636f 6c6c 6563 7469 6f6e 2e67 6574 286b  collection.get(k
-0002c0d0: 6579 2c20 7365 6e74 696e 656c 290d 0a20  ey, sentinel).. 
-0002c0e0: 2020 2020 2020 2020 2020 2069 6620 6f6c             if ol
-0002c0f0: 645f 7661 6c75 6520 6973 206e 6f74 2073  d_value is not s
-0002c100: 656e 7469 6e65 6c3a 0d0a 2020 2020 2020  entinel:..      
-0002c110: 2020 2020 2020 2020 2020 7661 6c75 6520            value 
-0002c120: 3d20 7265 6475 6365 5f66 756e 6328 6f6c  = reduce_func(ol
-0002c130: 645f 7661 6c75 652c 2076 616c 7565 290d  d_value, value).
-0002c140: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
-0002c150: 6c65 6374 696f 6e5b 6b65 795d 203d 2076  lection[key] = v
-0002c160: 616c 7565 0d0a 2020 2020 7265 7475 726e  alue..    return
-0002c170: 2063 6f6c 6c65 6374 696f 6e0d 0a60 6060   collection..```
-0002c180: 0d0a 0d0a 6063 6f6c 6c65 6374 6279 6020  ....`collectby` 
-0002c190: 6973 2073 696d 696c 6172 2074 6f20 5b60  is similar to [`
-0002c1a0: 6974 6572 746f 6f6c 732e 6772 6f75 7062  itertools.groupb
-0002c1b0: 7960 5d28 6874 7470 733a 2f2f 646f 6373  y`](https://docs
-0002c1c0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-0002c1d0: 6272 6172 792f 6974 6572 746f 6f6c 732e  brary/itertools.
-0002c1e0: 6874 6d6c 2369 7465 7274 6f6f 6c73 2e67  html#itertools.g
-0002c1f0: 726f 7570 6279 2920 6578 6365 7074 2074  roupby) except t
-0002c200: 6861 7420 6063 6f6c 6c65 6374 6279 6020  hat `collectby` 
-0002c210: 6167 6772 6567 6174 6573 2063 6f6d 6d6f  aggregates commo
-0002c220: 6e20 656c 656d 656e 7473 2072 6567 6172  n elements regar
-0002c230: 646c 6573 7320 6f66 2074 6865 6972 206f  dless of their o
-0002c240: 7264 6572 2069 6e20 7468 6520 696e 7075  rder in the inpu
-0002c250: 7420 6974 6572 6162 6c65 2c20 7768 6572  t iterable, wher
-0002c260: 6561 7320 6067 726f 7570 6279 6020 6f6e  eas `groupby` on
-0002c270: 6c79 2061 6767 7265 6761 7465 7320 636f  ly aggregates co
-0002c280: 6d6d 6f6e 2065 6c65 6d65 6e74 7320 7468  mmon elements th
-0002c290: 6174 2061 7265 2061 646a 6163 656e 7420  at are adjacent 
-0002c2a0: 696e 2074 6865 2069 6e70 7574 2069 7465  in the input ite
-0002c2b0: 7261 626c 652e 0d0a 0d0a 2323 2323 2320  rable.....##### 
-0002c2c0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0002c2d0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0002c2e0: 6e75 740d 0a75 7365 725f 6261 6c61 6e63  nut..user_balanc
-0002c2f0: 6573 203d 2028 0d0a 2020 2020 6261 6c61  es = (..    bala
-0002c300: 6e63 655f 6461 7461 0d0a 2020 2020 7c3e  nce_data..    |>
-0002c310: 2063 6f6c 6c65 6374 6279 2428 2e75 7365   collectby$(.use
-0002c320: 722c 2076 616c 7565 5f66 756e 633d 2e62  r, value_func=.b
-0002c330: 616c 616e 6365 2c20 7265 6475 6365 5f66  alance, reduce_f
-0002c340: 756e 633d 282b 2929 0d0a 290d 0a60 6060  unc=(+))..)..```
-0002c350: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
-0002c360: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
-0002c370: 6f6e 0d0a 6672 6f6d 2063 6f6c 6c65 6374  on..from collect
-0002c380: 696f 6e73 2069 6d70 6f72 7420 6465 6661  ions import defa
-0002c390: 756c 7464 6963 740d 0a0d 0a75 7365 725f  ultdict....user_
-0002c3a0: 6261 6c61 6e63 6573 203d 2064 6566 6175  balances = defau
-0002c3b0: 6c74 6469 6374 2869 6e74 290d 0a66 6f72  ltdict(int)..for
-0002c3c0: 2069 7465 6d20 696e 2062 616c 616e 6365   item in balance
-0002c3d0: 5f64 6174 613a 0d0a 2020 2020 7573 6572  _data:..    user
-0002c3e0: 5f62 616c 616e 6365 735b 6974 656d 2e75  _balances[item.u
-0002c3f0: 7365 725d 202b 3d20 6974 656d 2e62 616c  ser] += item.bal
-0002c400: 616e 6365 0d0a 6060 600d 0a0d 0a23 2323  ance..```....###
-0002c410: 2320 6061 6c6c 5f65 7175 616c 600d 0a0d  # `all_equal`...
-0002c420: 0a2a 2a61 6c6c 5c5f 6571 7561 6c2a 2a28  .**all\_equal**(
-0002c430: 5f69 7465 7261 626c 655f 290d 0a0d 0a43  _iterable_)....C
-0002c440: 6f63 6f6e 7574 2773 2060 616c 6c5f 6571  oconut's `all_eq
-0002c450: 7561 6c60 2062 7569 6c74 2d69 6e20 7461  ual` built-in ta
-0002c460: 6b65 7320 696e 2061 6e20 6974 6572 6162  kes in an iterab
-0002c470: 6c65 2061 6e64 2064 6574 6572 6d69 6e65  le and determine
-0002c480: 7320 7768 6574 6865 7220 616c 6c20 6f66  s whether all of
-0002c490: 2069 7473 2065 6c65 6d65 6e74 7320 6172   its elements ar
-0002c4a0: 6520 6571 7561 6c20 746f 2065 6163 6820  e equal to each 
-0002c4b0: 6f74 6865 722e 2060 616c 6c5f 6571 7561  other. `all_equa
-0002c4c0: 6c60 2061 7373 756d 6573 2074 7261 6e73  l` assumes trans
-0002c4d0: 6974 6976 6974 7920 6f66 2065 7175 616c  itivity of equal
-0002c4e0: 6974 7920 616e 6420 7468 6174 2060 213d  ity and that `!=
-0002c4f0: 6020 6973 2074 6865 206e 6567 6174 696f  ` is the negatio
-0002c500: 6e20 6f66 2060 3d3d 602e 2053 7065 6369  n of `==`. Speci
-0002c510: 616c 2073 7570 706f 7274 2069 7320 7072  al support is pr
-0002c520: 6f76 6964 6564 2066 6f72 205b 606e 756d  ovided for [`num
-0002c530: 7079 605d 2823 6e75 6d70 792d 696e 7465  py`](#numpy-inte
-0002c540: 6772 6174 696f 6e29 206f 626a 6563 7473  gration) objects
-0002c550: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-0002c560: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
-0002c570: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
-0002c580: 616c 6c5f 6571 7561 6c28 5b31 2c20 312c  all_equal([1, 1,
-0002c590: 2031 5d29 0d0a 616c 6c5f 6571 7561 6c28   1])..all_equal(
-0002c5a0: 5b31 2c20 312c 2032 5d29 0d0a 6060 600d  [1, 1, 2])..```.
-0002c5b0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
-0002c5c0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
-0002c5d0: 6e0d 0a73 656e 7469 6e65 6c20 3d20 6f62  n..sentinel = ob
-0002c5e0: 6a65 6374 2829 0d0a 6465 6620 616c 6c5f  ject()..def all_
-0002c5f0: 6571 7561 6c28 6974 6572 6162 6c65 293a  equal(iterable):
-0002c600: 0d0a 2020 2020 6669 7273 745f 6974 656d  ..    first_item
-0002c610: 203d 2073 656e 7469 6e65 6c0d 0a20 2020   = sentinel..   
-0002c620: 2066 6f72 2069 7465 6d20 696e 2069 7465   for item in ite
-0002c630: 7261 626c 653a 0d0a 2020 2020 2020 2020  rable:..        
-0002c640: 6966 2066 6972 7374 5f69 7465 6d20 6973  if first_item is
-0002c650: 2073 656e 7469 6e65 6c3a 0d0a 2020 2020   sentinel:..    
-0002c660: 2020 2020 2020 2020 6669 7273 745f 6974          first_it
-0002c670: 656d 203d 2069 7465 6d0d 0a20 2020 2020  em = item..     
-0002c680: 2020 2065 6c69 6620 6669 7273 745f 6974     elif first_it
-0002c690: 656d 2021 3d20 6974 656d 3a0d 0a20 2020  em != item:..   
-0002c6a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0002c6b0: 4661 6c73 650d 0a20 2020 2072 6574 7572  False..    retur
-0002c6c0: 6e20 5472 7565 0d0a 616c 6c5f 6571 7561  n True..all_equa
-0002c6d0: 6c28 5b31 2c20 312c 2031 5d29 0d0a 616c  l([1, 1, 1])..al
-0002c6e0: 6c5f 6571 7561 6c28 5b31 2c20 312c 2032  l_equal([1, 1, 2
-0002c6f0: 5d29 0d0a 6060 600d 0a0d 0a23 2323 2320  ])..```....#### 
-0002c700: 6070 6172 616c 6c65 6c5f 6d61 7060 0d0a  `parallel_map`..
-0002c710: 0d0a 2a2a 7061 7261 6c6c 656c 5c5f 6d61  ..**parallel\_ma
-0002c720: 702a 2a28 5f66 756e 6374 696f 6e5f 2c20  p**(_function_, 
-0002c730: 2a5f 6974 6572 6162 6c65 735f 2c20 2a2c  *_iterables_, *,
-0002c740: 205f 6368 756e 6b73 697a 655f 3d60 3160   _chunksize_=`1`
-0002c750: 2c20 5f73 7472 6963 745f 3d60 4661 6c73  , _strict_=`Fals
-0002c760: 6560 290d 0a0d 0a43 6f63 6f6e 7574 2070  e`)....Coconut p
-0002c770: 726f 7669 6465 7320 6120 7061 7261 6c6c  rovides a parall
-0002c780: 656c 2076 6572 7369 6f6e 206f 6620 606d  el version of `m
-0002c790: 6170 6020 756e 6465 7220 7468 6520 6e61  ap` under the na
-0002c7a0: 6d65 2060 7061 7261 6c6c 656c 5f6d 6170  me `parallel_map
-0002c7b0: 602e 2060 7061 7261 6c6c 656c 5f6d 6170  `. `parallel_map
-0002c7c0: 6020 6d61 6b65 7320 7573 6520 6f66 206d  ` makes use of m
-0002c7d0: 756c 7469 706c 6520 7072 6f63 6573 7365  ultiple processe
-0002c7e0: 732c 2061 6e64 2069 7320 7468 6572 6566  s, and is theref
-0002c7f0: 6f72 6520 6d75 6368 2066 6173 7465 7220  ore much faster 
-0002c800: 7468 616e 2060 6d61 7060 2066 6f72 2043  than `map` for C
-0002c810: 5055 2d62 6f75 6e64 2074 6173 6b73 2e20  PU-bound tasks. 
-0002c820: 6070 6172 616c 6c65 6c5f 6d61 7060 206e  `parallel_map` n
-0002c830: 6576 6572 206c 6f61 6473 2074 6865 2065  ever loads the e
-0002c840: 6e74 6972 6520 696e 7075 7420 6974 6572  ntire input iter
-0002c850: 6174 6f72 2069 6e74 6f20 6d65 6d6f 7279  ator into memory
-0002c860: 2c20 7468 6f75 6768 2069 7420 646f 6573  , though it does
-0002c870: 2063 6f6e 7375 6d65 2074 6865 2065 6e74   consume the ent
-0002c880: 6972 6520 696e 7075 7420 6974 6572 6174  ire input iterat
-0002c890: 6f72 2061 7320 736f 6f6e 2061 7320 6120  or as soon as a 
-0002c8a0: 7369 6e67 6c65 206f 7574 7075 7420 6973  single output is
-0002c8b0: 2072 6571 7565 7374 6564 2e20 4966 2061   requested. If a
-0002c8c0: 6e79 2065 7863 6570 7469 6f6e 7320 6172  ny exceptions ar
-0002c8d0: 6520 7261 6973 6564 2069 6e73 6964 6520  e raised inside 
-0002c8e0: 6f66 2060 7061 7261 6c6c 656c 5f6d 6170  of `parallel_map
-0002c8f0: 602c 2061 2074 7261 6365 6261 636b 2077  `, a traceback w
-0002c900: 696c 6c20 6265 2070 7269 6e74 6564 2061  ill be printed a
-0002c910: 7320 736f 6f6e 2061 7320 7468 6579 2061  s soon as they a
-0002c920: 7265 2065 6e63 6f75 6e74 6572 6564 2e0d  re encountered..
-0002c930: 0a0d 0a42 6563 6175 7365 2060 7061 7261  ...Because `para
-0002c940: 6c6c 656c 5f6d 6170 6020 7573 6573 206d  llel_map` uses m
-0002c950: 756c 7469 706c 6520 7072 6f63 6573 7365  ultiple processe
-0002c960: 7320 666f 7220 6974 7320 6578 6563 7574  s for its execut
-0002c970: 696f 6e2c 2069 7420 6973 206e 6563 6573  ion, it is neces
-0002c980: 7361 7279 2074 6861 7420 616c 6c20 6f66  sary that all of
-0002c990: 2069 7473 2061 7267 756d 656e 7473 2062   its arguments b
-0002c9a0: 6520 7069 636b 6c65 6162 6c65 2e20 4f6e  e pickleable. On
-0002c9b0: 6c79 206f 626a 6563 7473 2064 6566 696e  ly objects defin
-0002c9c0: 6564 2061 7420 7468 6520 6d6f 6475 6c65  ed at the module
-0002c9d0: 206c 6576 656c 2c20 616e 6420 6e6f 7420   level, and not 
-0002c9e0: 6c61 6d62 6461 732c 206f 626a 6563 7473  lambdas, objects
-0002c9f0: 2064 6566 696e 6564 2069 6e73 6964 6520   defined inside 
-0002ca00: 6f66 2061 2066 756e 6374 696f 6e2c 206f  of a function, o
-0002ca10: 7220 6f62 6a65 6374 7320 6465 6669 6e65  r objects define
-0002ca20: 6420 696e 7369 6465 206f 6620 7468 6520  d inside of the 
-0002ca30: 696e 7465 7270 7265 7465 722c 2061 7265  interpreter, are
-0002ca40: 2070 6963 6b6c 6561 626c 652e 2046 7572   pickleable. Fur
-0002ca50: 7468 6572 6d6f 7265 2c20 6f6e 2057 696e  thermore, on Win
-0002ca60: 646f 7773 2c20 6974 2069 7320 6e65 6365  dows, it is nece
-0002ca70: 7373 6172 7920 7468 6174 2061 6c6c 2063  ssary that all c
-0002ca80: 616c 6c73 2074 6f20 6070 6172 616c 6c65  alls to `paralle
-0002ca90: 6c5f 6d61 7060 206f 6363 7572 2069 6e73  l_map` occur ins
-0002caa0: 6964 6520 6f66 2061 6e20 6069 6620 5f5f  ide of an `if __
-0002cab0: 6e61 6d65 5f5f 203d 3d20 225f 5f6d 6169  name__ == "__mai
-0002cac0: 6e5f 5f22 6020 6775 6172 642e 0d0a 0d0a  n__"` guard.....
-0002cad0: 6070 6172 616c 6c65 6c5f 6d61 7060 2073  `parallel_map` s
-0002cae0: 7570 706f 7274 7320 6120 6063 6875 6e6b  upports a `chunk
-0002caf0: 7369 7a65 6020 6172 6775 6d65 6e74 2c20  size` argument, 
-0002cb00: 7768 6963 6820 6465 7465 726d 696e 6573  which determines
-0002cb10: 2068 6f77 206d 616e 7920 6974 656d 7320   how many items 
-0002cb20: 6172 6520 7061 7373 6564 2074 6f20 6561  are passed to ea
-0002cb30: 6368 2070 726f 6365 7373 2061 7420 6120  ch process at a 
-0002cb40: 7469 6d65 2e20 4c61 7267 6572 2076 616c  time. Larger val
-0002cb50: 7565 7320 6f66 205f 6368 756e 6b73 697a  ues of _chunksiz
-0002cb60: 655f 2061 7265 2072 6563 6f6d 6d65 6e64  e_ are recommend
-0002cb70: 6564 2077 6865 6e20 6465 616c 696e 6720  ed when dealing 
-0002cb80: 7769 7468 2076 6572 7920 6c6f 6e67 2069  with very long i
-0002cb90: 7465 7261 626c 6573 2e20 4164 6469 7469  terables. Additi
-0002cba0: 6f6e 616c 6c79 2c20 696e 2074 6865 206d  onally, in the m
-0002cbb0: 756c 7469 2d69 7465 7261 626c 6520 6361  ulti-iterable ca
-0002cbc0: 7365 2c20 5f73 7472 6963 745f 2063 616e  se, _strict_ can
-0002cbd0: 2062 6520 7365 7420 746f 2060 5472 7565   be set to `True
-0002cbe0: 6020 746f 2065 6e73 7572 6520 7468 6174  ` to ensure that
-0002cbf0: 2061 6c6c 2069 7465 7261 626c 6573 2061   all iterables a
-0002cc00: 7265 2074 6865 2073 616d 6520 6c65 6e67  re the same leng
-0002cc10: 7468 2e0d 0a0d 0a49 6620 6d75 6c74 6970  th.....If multip
-0002cc20: 6c65 2073 6571 7565 6e74 6961 6c20 6361  le sequential ca
-0002cc30: 6c6c 7320 746f 2060 7061 7261 6c6c 656c  lls to `parallel
-0002cc40: 5f6d 6170 6020 6e65 6564 2074 6f20 6265  _map` need to be
-0002cc50: 206d 6164 652c 2069 7420 6973 2068 6967   made, it is hig
-0002cc60: 686c 7920 7265 636f 6d6d 656e 6465 6420  hly recommended 
-0002cc70: 7468 6174 2074 6865 7920 6265 2064 6f6e  that they be don
-0002cc80: 6520 696e 7369 6465 206f 6620 6120 6077  e inside of a `w
-0002cc90: 6974 6820 7061 7261 6c6c 656c 5f6d 6170  ith parallel_map
-0002cca0: 2e6d 756c 7469 706c 655f 7365 7175 656e  .multiple_sequen
-0002ccb0: 7469 616c 5f63 616c 6c73 2829 3a60 2062  tial_calls():` b
-0002ccc0: 6c6f 636b 2c20 7768 6963 6820 7769 6c6c  lock, which will
-0002ccd0: 2063 6175 7365 2074 6865 2064 6966 6665   cause the diffe
-0002cce0: 7265 6e74 2063 616c 6c73 2074 6f20 7573  rent calls to us
-0002ccf0: 6520 7468 6520 7361 6d65 2070 726f 6365  e the same proce
-0002cd00: 7373 2070 6f6f 6c20 616e 6420 7265 7375  ss pool and resu
-0002cd10: 6c74 2069 6e20 6070 6172 616c 6c65 6c5f  lt in `parallel_
-0002cd20: 6d61 7060 2069 6d6d 6564 6961 7465 6c79  map` immediately
-0002cd30: 2072 6574 7572 6e69 6e67 2061 206c 6973   returning a lis
-0002cd40: 7420 7261 7468 6572 2074 6861 6e20 6120  t rather than a 
-0002cd50: 6070 6172 616c 6c65 6c5f 6d61 7060 206f  `parallel_map` o
-0002cd60: 626a 6563 742e 2049 6620 6d75 6c74 6970  bject. If multip
-0002cd70: 6c65 2073 6571 7565 6e74 6961 6c20 6361  le sequential ca
-0002cd80: 6c6c 7320 6172 6520 6e65 6365 7373 6172  lls are necessar
-0002cd90: 7920 616e 6420 7468 6520 6c61 7a69 6e65  y and the lazine
-0002cda0: 7373 206f 6620 7061 7261 6c6c 656c 5f6d  ss of parallel_m
-0002cdb0: 6170 2069 7320 7265 7175 6972 6564 2c20  ap is required, 
-0002cdc0: 7468 656e 2074 6865 2060 7061 7261 6c6c  then the `parall
-0002cdd0: 656c 5f6d 6170 6020 6f62 6a65 6374 7320  el_map` objects 
-0002cde0: 7368 6f75 6c64 2062 6520 636f 6e73 7472  should be constr
-0002cdf0: 7563 7465 6420 6265 666f 7265 2074 6865  ucted before the
-0002ce00: 2060 6d75 6c74 6970 6c65 5f73 6571 7565   `multiple_seque
-0002ce10: 6e74 6961 6c5f 6361 6c6c 7360 2062 6c6f  ntial_calls` blo
-0002ce20: 636b 2061 6e64 2074 6865 6e20 6f6e 6c79  ck and then only
-0002ce30: 2069 7465 7261 7465 6420 6f76 6572 206f   iterated over o
-0002ce40: 6e63 6520 696e 7369 6465 2074 6865 2062  nce inside the b
-0002ce50: 6c6f 636b 2e0d 0a0d 0a60 7061 7261 6c6c  lock.....`parall
-0002ce60: 656c 5f6d 6170 2e6d 756c 7469 706c 655f  el_map.multiple_
-0002ce70: 7365 7175 656e 7469 616c 5f63 616c 6c73  sequential_calls
-0002ce80: 6020 616c 736f 2073 7570 706f 7274 7320  ` also supports 
-0002ce90: 6120 606d 6178 5f77 6f72 6b65 7273 6020  a `max_workers` 
-0002cea0: 6172 6775 6d65 6e74 2074 6f20 7365 7420  argument to set 
-0002ceb0: 7468 6520 6e75 6d62 6572 206f 6620 7072  the number of pr
-0002cec0: 6f63 6573 7365 732e 0d0a 0d0a 2323 2323  ocesses.....####
-0002ced0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
-0002cee0: 0a2a 2a70 6172 616c 6c65 6c5f 6d61 702a  .**parallel_map*
-0002cef0: 2a28 5f66 756e 632c 205c 2a69 7465 7261  *(_func, \*itera
-0002cf00: 626c 6573 5f2c 205f 6368 756e 6b73 697a  bles_, _chunksiz
-0002cf10: 655f 3d60 3160 290d 0a0d 0a45 7175 6976  e_=`1`)....Equiv
-0002cf20: 616c 656e 7420 746f 2060 6d61 7028 6675  alent to `map(fu
-0002cf30: 6e63 2c20 2a69 7465 7261 626c 6573 2960  nc, *iterables)`
-0002cf40: 2065 7863 6570 7420 5f66 756e 635f 2069   except _func_ i
-0002cf50: 7320 6578 6563 7574 6564 2061 7379 6e63  s executed async
-0002cf60: 6872 6f6e 6f75 736c 7920 616e 6420 7365  hronously and se
-0002cf70: 7665 7261 6c20 6361 6c6c 7320 746f 205f  veral calls to _
-0002cf80: 6675 6e63 5f20 6d61 7920 6265 206d 6164  func_ may be mad
-0002cf90: 6520 636f 6e63 7572 7265 6e74 6c79 2e20  e concurrently. 
-0002cfa0: 4966 2061 2063 616c 6c20 7261 6973 6573  If a call raises
-0002cfb0: 2061 6e20 6578 6365 7074 696f 6e2c 2074   an exception, t
-0002cfc0: 6865 6e20 7468 6174 2065 7863 6570 7469  hen that excepti
-0002cfd0: 6f6e 2077 696c 6c20 6265 2072 6169 7365  on will be raise
-0002cfe0: 6420 7768 656e 2069 7473 2076 616c 7565  d when its value
-0002cff0: 2069 7320 7265 7472 6965 7665 6420 6672   is retrieved fr
-0002d000: 6f6d 2074 6865 2069 7465 7261 746f 722e  om the iterator.
-0002d010: 0d0a 0d0a 6070 6172 616c 6c65 6c5f 6d61  ....`parallel_ma
-0002d020: 7060 2063 686f 7073 2074 6865 2069 7465  p` chops the ite
-0002d030: 7261 626c 6520 696e 746f 2061 206e 756d  rable into a num
-0002d040: 6265 7220 6f66 2063 6875 6e6b 7320 7768  ber of chunks wh
-0002d050: 6963 6820 6974 2073 7562 6d69 7473 2074  ich it submits t
-0002d060: 6f20 7468 6520 7072 6f63 6573 7320 706f  o the process po
-0002d070: 6f6c 2061 7320 7365 7061 7261 7465 2074  ol as separate t
-0002d080: 6173 6b73 2e20 5468 6520 2861 7070 726f  asks. The (appro
-0002d090: 7869 6d61 7465 2920 7369 7a65 206f 6620  ximate) size of 
-0002d0a0: 7468 6573 6520 6368 756e 6b73 2063 616e  these chunks can
-0002d0b0: 2062 6520 7370 6563 6966 6965 6420 6279   be specified by
-0002d0c0: 2073 6574 7469 6e67 205f 6368 756e 6b73   setting _chunks
-0002d0d0: 697a 655f 2074 6f20 6120 706f 7369 7469  ize_ to a positi
-0002d0e0: 7665 2069 6e74 6567 6572 2e20 466f 7220  ve integer. For 
-0002d0f0: 7665 7279 206c 6f6e 6720 6974 6572 6162  very long iterab
-0002d100: 6c65 7320 7573 696e 6720 6120 6c61 7267  les using a larg
-0002d110: 6520 7661 6c75 6520 666f 7220 5f63 6875  e value for _chu
-0002d120: 6e6b 7369 7a65 5f20 6361 6e20 6d61 6b65  nksize_ can make
-0002d130: 2074 6865 206a 6f62 2063 6f6d 706c 6574   the job complet
-0002d140: 6520 2a2a 6d75 6368 2a2a 2066 6173 7465  e **much** faste
-0002d150: 7220 7468 616e 2075 7369 6e67 2074 6865  r than using the
-0002d160: 2064 6566 6175 6c74 2076 616c 7565 206f   default value o
-0002d170: 6620 6031 602e 0d0a 0d0a 2323 2323 2320  f `1`.....##### 
-0002d180: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
-0002d190: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
-0002d1a0: 6e75 740d 0a70 6172 616c 6c65 6c5f 6d61  nut..parallel_ma
-0002d1b0: 7028 706f 7724 2832 292c 2072 616e 6765  p(pow$(2), range
-0002d1c0: 2831 3030 2929 207c 3e20 6c69 7374 207c  (100)) |> list |
-0002d1d0: 3e20 7072 696e 740d 0a60 6060 0d0a 0d0a  > print..```....
-0002d1e0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
-0002d1f0: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
-0002d200: 696d 706f 7274 2066 756e 6374 6f6f 6c73  import functools
-0002d210: 0d0a 6672 6f6d 206d 756c 7469 7072 6f63  ..from multiproc
-0002d220: 6573 7369 6e67 2069 6d70 6f72 7420 506f  essing import Po
-0002d230: 6f6c 0d0a 7769 7468 2050 6f6f 6c28 2920  ol..with Pool() 
-0002d240: 6173 2070 6f6f 6c3a 0d0a 2020 2020 7072  as pool:..    pr
-0002d250: 696e 7428 6c69 7374 2870 6f6f 6c2e 696d  int(list(pool.im
-0002d260: 6170 2866 756e 6374 6f6f 6c73 2e70 6172  ap(functools.par
-0002d270: 7469 616c 2870 6f77 2c20 3229 2c20 7261  tial(pow, 2), ra
-0002d280: 6e67 6528 3130 3029 2929 290d 0a60 6060  nge(100))))..```
-0002d290: 0d0a 0d0a 2323 2323 2060 636f 6e63 7572  ....#### `concur
-0002d2a0: 7265 6e74 5f6d 6170 600d 0a0d 0a2a 2a63  rent_map`....**c
-0002d2b0: 6f6e 6375 7272 656e 745c 5f6d 6170 2a2a  oncurrent\_map**
-0002d2c0: 285f 6675 6e63 7469 6f6e 5f2c 202a 5f69  (_function_, *_i
-0002d2d0: 7465 7261 626c 6573 5f2c 202a 2c20 5f63  terables_, *, _c
-0002d2e0: 6875 6e6b 7369 7a65 5f3d 6031 602c 205f  hunksize_=`1`, _
-0002d2f0: 7374 7269 6374 5f3d 6046 616c 7365 6029  strict_=`False`)
-0002d300: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
-0002d310: 6964 6573 2061 2063 6f6e 6375 7272 656e  ides a concurren
-0002d320: 7420 7665 7273 696f 6e20 6f66 205b 6070  t version of [`p
-0002d330: 6172 616c 6c65 6c5f 6d61 7060 5d28 2370  arallel_map`](#p
-0002d340: 6172 616c 6c65 6c5f 6d61 7029 2075 6e64  arallel_map) und
-0002d350: 6572 2074 6865 206e 616d 6520 6063 6f6e  er the name `con
-0002d360: 6375 7272 656e 745f 6d61 7060 2e20 6063  current_map`. `c
-0002d370: 6f6e 6375 7272 656e 745f 6d61 7060 2062  oncurrent_map` b
-0002d380: 6568 6176 6573 2069 6465 6e74 6963 616c  ehaves identical
-0002d390: 6c79 2074 6f20 6070 6172 616c 6c65 6c5f  ly to `parallel_
-0002d3a0: 6d61 7060 2028 696e 636c 7564 696e 6720  map` (including 
-0002d3b0: 7375 7070 6f72 7420 666f 7220 6063 6f6e  support for `con
-0002d3c0: 6375 7272 656e 745f 6d61 702e 6d75 6c74  current_map.mult
-0002d3d0: 6970 6c65 5f73 6571 7565 6e74 6961 6c5f  iple_sequential_
-0002d3e0: 6361 6c6c 7360 2920 6578 6365 7074 2074  calls`) except t
-0002d3f0: 6861 7420 6974 2075 7365 7320 6d75 6c74  hat it uses mult
-0002d400: 6974 6872 6561 6469 6e67 2069 6e73 7465  ithreading inste
-0002d410: 6164 206f 6620 6d75 6c74 6970 726f 6365  ad of multiproce
-0002d420: 7373 696e 672c 2061 6e64 2069 7320 7468  ssing, and is th
-0002d430: 6572 6566 6f72 6520 7072 696d 6172 696c  erefore primaril
-0002d440: 7920 7573 6566 756c 206f 6e6c 7920 666f  y useful only fo
-0002d450: 7220 494f 2d62 6f75 6e64 2074 6173 6b73  r IO-bound tasks
-0002d460: 2064 7565 2074 6f20 4350 7974 686f 6e27   due to CPython'
-0002d470: 7320 476c 6f62 616c 2049 6e74 6572 7072  s Global Interpr
-0002d480: 6574 6572 204c 6f63 6b2e 0d0a 0d0a 2323  eter Lock.....##
-0002d490: 2323 2320 5079 7468 6f6e 2044 6f63 730d  ### Python Docs.
-0002d4a0: 0a0d 0a2a 2a63 6f6e 6375 7272 656e 745f  ...**concurrent_
-0002d4b0: 6d61 702a 2a28 5f66 756e 632c 205c 2a69  map**(_func, \*i
-0002d4c0: 7465 7261 626c 6573 5f2c 205f 6368 756e  terables_, _chun
-0002d4d0: 6b73 697a 655f 3d60 3160 290d 0a0d 0a45  ksize_=`1`)....E
-0002d4e0: 7175 6976 616c 656e 7420 746f 2060 6d61  quivalent to `ma
-0002d4f0: 7028 6675 6e63 2c20 2a69 7465 7261 626c  p(func, *iterabl
-0002d500: 6573 2960 2065 7863 6570 7420 5f66 756e  es)` except _fun
-0002d510: 635f 2069 7320 6578 6563 7574 6564 2061  c_ is executed a
-0002d520: 7379 6e63 6872 6f6e 6f75 736c 7920 616e  synchronously an
-0002d530: 6420 7365 7665 7261 6c20 6361 6c6c 7320  d several calls 
-0002d540: 746f 205f 6675 6e63 5f20 6d61 7920 6265  to _func_ may be
-0002d550: 206d 6164 6520 636f 6e63 7572 7265 6e74   made concurrent
-0002d560: 6c79 2e20 4966 2061 2063 616c 6c20 7261  ly. If a call ra
-0002d570: 6973 6573 2061 6e20 6578 6365 7074 696f  ises an exceptio
-0002d580: 6e2c 2074 6865 6e20 7468 6174 2065 7863  n, then that exc
-0002d590: 6570 7469 6f6e 2077 696c 6c20 6265 2072  eption will be r
-0002d5a0: 6169 7365 6420 7768 656e 2069 7473 2076  aised when its v
-0002d5b0: 616c 7565 2069 7320 7265 7472 6965 7665  alue is retrieve
-0002d5c0: 6420 6672 6f6d 2074 6865 2069 7465 7261  d from the itera
-0002d5d0: 746f 722e 0d0a 0d0a 6063 6f6e 6375 7272  tor.....`concurr
-0002d5e0: 656e 745f 6d61 7060 2063 686f 7073 2074  ent_map` chops t
-0002d5f0: 6865 2069 7465 7261 626c 6520 696e 746f  he iterable into
-0002d600: 2061 206e 756d 6265 7220 6f66 2063 6875   a number of chu
-0002d610: 6e6b 7320 7768 6963 6820 6974 2073 7562  nks which it sub
-0002d620: 6d69 7473 2074 6f20 7468 6520 7468 7265  mits to the thre
-0002d630: 6164 2070 6f6f 6c20 6173 2073 6570 6172  ad pool as separ
-0002d640: 6174 6520 7461 736b 732e 2054 6865 2028  ate tasks. The (
-0002d650: 6170 7072 6f78 696d 6174 6529 2073 697a  approximate) siz
-0002d660: 6520 6f66 2074 6865 7365 2063 6875 6e6b  e of these chunk
-0002d670: 7320 6361 6e20 6265 2073 7065 6369 6669  s can be specifi
-0002d680: 6564 2062 7920 7365 7474 696e 6720 5f63  ed by setting _c
-0002d690: 6875 6e6b 7369 7a65 5f20 746f 2061 2070  hunksize_ to a p
-0002d6a0: 6f73 6974 6976 6520 696e 7465 6765 722e  ositive integer.
-0002d6b0: 2046 6f72 2076 6572 7920 6c6f 6e67 2069   For very long i
-0002d6c0: 7465 7261 626c 6573 2075 7369 6e67 2061  terables using a
-0002d6d0: 206c 6172 6765 2076 616c 7565 2066 6f72   large value for
-0002d6e0: 205f 6368 756e 6b73 697a 655f 2063 616e   _chunksize_ can
-0002d6f0: 206d 616b 6520 7468 6520 6a6f 6220 636f   make the job co
-0002d700: 6d70 6c65 7465 202a 2a6d 7563 682a 2a20  mplete **much** 
-0002d710: 6661 7374 6572 2074 6861 6e20 7573 696e  faster than usin
-0002d720: 6720 7468 6520 6465 6661 756c 7420 7661  g the default va
-0002d730: 6c75 6520 6f66 2060 3160 2e0d 0a0d 0a23  lue of `1`.....#
-0002d740: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
-0002d750: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
-0002d760: 6063 6f63 6f6e 7574 0d0a 636f 6e63 7572  `coconut..concur
-0002d770: 7265 6e74 5f6d 6170 2867 6574 5f64 6174  rent_map(get_dat
-0002d780: 615f 666f 725f 7573 6572 2c20 6765 745f  a_for_user, get_
-0002d790: 616c 6c5f 7573 6572 7328 2929 207c 3e20  all_users()) |> 
-0002d7a0: 6c69 7374 207c 3e20 7072 696e 740d 0a60  list |> print..`
-0002d7b0: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
-0002d7c0: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
-0002d7d0: 7468 6f6e 0d0a 696d 706f 7274 2066 756e  thon..import fun
-0002d7e0: 6374 6f6f 6c73 0d0a 696d 706f 7274 2063  ctools..import c
-0002d7f0: 6f6e 6375 7272 656e 742e 6675 7475 7265  oncurrent.future
-0002d800: 730d 0a77 6974 6820 636f 6e63 7572 7265  s..with concurre
-0002d810: 6e74 2e66 7574 7572 6573 2e54 6872 6561  nt.futures.Threa
-0002d820: 6450 6f6f 6c45 7865 6375 746f 7228 2920  dPoolExecutor() 
-0002d830: 6173 2065 7865 6375 746f 723a 0d0a 2020  as executor:..  
-0002d840: 2020 7072 696e 7428 6c69 7374 2865 7865    print(list(exe
-0002d850: 6375 746f 722e 6d61 7028 6765 745f 6461  cutor.map(get_da
-0002d860: 7461 5f66 6f72 5f75 7365 722c 2067 6574  ta_for_user, get
-0002d870: 5f61 6c6c 5f75 7365 7273 2829 2929 290d  _all_users()))).
-0002d880: 0a60 6060 0d0a 0d0a 2323 2323 2060 7465  .```....#### `te
-0002d890: 6560 0d0a 0d0a 2a2a 7465 652a 2a28 5f69  e`....**tee**(_i
-0002d8a0: 7465 7261 626c 655f 2c20 5f6e 5f3d 6032  terable_, _n_=`2
-0002d8b0: 6029 0d0a 0d0a 436f 636f 6e75 7420 7072  `)....Coconut pr
-0002d8c0: 6f76 6964 6573 2061 6e20 6f70 7469 6d69  ovides an optimi
-0002d8d0: 7a65 6420 7665 7273 696f 6e20 6f66 2060  zed version of `
-0002d8e0: 6974 6572 746f 6f6c 732e 7465 6560 2061  itertools.tee` a
-0002d8f0: 7320 6120 6275 696c 742d 696e 2075 6e64  s a built-in und
-0002d900: 6572 2074 6865 206e 616d 6520 6074 6565  er the name `tee
-0002d910: 602e 0d0a 0d0a 5468 6f75 6768 2060 7465  `.....Though `te
-0002d920: 6560 2069 7320 6e6f 7420 6465 7072 6563  e` is not deprec
-0002d930: 6174 6564 2c20 5b60 7265 6974 6572 6162  ated, [`reiterab
-0002d940: 6c65 605d 2823 7265 6974 6572 6162 6c65  le`](#reiterable
-0002d950: 2920 6973 2067 656e 6572 616c 6c79 2072  ) is generally r
-0002d960: 6563 6f6d 6d65 6e64 6564 206f 7665 7220  ecommended over 
-0002d970: 6074 6565 602e 0d0a 0d0a 4375 7374 6f6d  `tee`.....Custom
-0002d980: 2060 7465 6560 2f60 7265 6974 6572 6162   `tee`/`reiterab
-0002d990: 6c65 6020 696d 706c 656d 656e 7461 7469  le` implementati
-0002d9a0: 6f6e 7320 666f 7220 6375 7374 6f6d 205b  ons for custom [
-0002d9b0: 436f 6e74 6169 6e65 7273 2f43 6f6c 6c65  Containers/Colle
-0002d9c0: 6374 696f 6e73 5d28 6874 7470 733a 2f2f  ctions](https://
-0002d9d0: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
-0002d9e0: 332f 6c69 6272 6172 792f 636f 6c6c 6563  3/library/collec
-0002d9f0: 7469 6f6e 732e 6162 632e 6874 6d6c 2920  tions.abc.html) 
-0002da00: 7368 6f75 6c64 2062 6520 7075 7420 696e  should be put in
-0002da10: 2074 6865 2060 5f5f 636f 7079 5f5f 6020   the `__copy__` 
-0002da20: 6d65 7468 6f64 2e20 4e6f 7465 2074 6861  method. Note tha
-0002da30: 7420 616c 6c20 5b53 6571 7565 6e63 6573  t all [Sequences
-0002da40: 2f4d 6170 7069 6e67 732f 5365 7473 5d28  /Mappings/Sets](
-0002da50: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-0002da60: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-0002da70: 792f 636f 6c6c 6563 7469 6f6e 732e 6162  y/collections.ab
-0002da80: 632e 6874 6d6c 2920 6172 6520 616c 7761  c.html) are alwa
-0002da90: 7973 2061 7373 756d 6564 2074 6f20 6265  ys assumed to be
-0002daa0: 2072 6569 7465 7261 626c 6520 6576 656e   reiterable even
-0002dab0: 2077 6974 686f 7574 2063 616c 6c69 6e67   without calling
-0002dac0: 2060 5f5f 636f 7079 5f5f 602e 0d0a 0d0a   `__copy__`.....
-0002dad0: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
-0002dae0: 730d 0a0d 0a2a 2a74 6565 2a2a 285f 6974  s....**tee**(_it
-0002daf0: 6572 6162 6c65 2c20 6e3d 325f 290d 0a0d  erable, n=2_)...
-0002db00: 0a52 6574 7572 6e20 5f6e 5f20 696e 6465  .Return _n_ inde
-0002db10: 7065 6e64 656e 7420 6974 6572 6174 6f72  pendent iterator
-0002db20: 7320 6672 6f6d 2061 2073 696e 676c 6520  s from a single 
-0002db30: 6974 6572 6162 6c65 2e20 4571 7569 7661  iterable. Equiva
-0002db40: 6c65 6e74 2074 6f3a 0d0a 6060 6063 6f63  lent to:..```coc
-0002db50: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
-0002db60: 2074 6565 2869 7465 7261 626c 652c 206e   tee(iterable, n
-0002db70: 3d32 293a 0d0a 2020 2020 6974 203d 2069  =2):..    it = i
-0002db80: 7465 7228 6974 6572 6162 6c65 290d 0a20  ter(iterable).. 
-0002db90: 2020 2064 6571 7565 7320 3d20 5b63 6f6c     deques = [col
-0002dba0: 6c65 6374 696f 6e73 2e64 6571 7565 2829  lections.deque()
-0002dbb0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-0002dbc0: 6e29 5d0d 0a20 2020 2064 6566 2067 656e  n)]..    def gen
-0002dbd0: 286d 7964 6571 7565 293a 0d0a 2020 2020  (mydeque):..    
-0002dbe0: 2020 2020 7768 696c 6520 5472 7565 3a0d      while True:.
-0002dbf0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002dc00: 6e6f 7420 6d79 6465 7175 653a 2020 2020  not mydeque:    
-0002dc10: 2020 2020 2020 2020 2023 2077 6865 6e20           # when 
-0002dc20: 7468 6520 6c6f 6361 6c20 6465 7175 6520  the local deque 
-0002dc30: 6973 2065 6d70 7479 0d0a 2020 2020 2020  is empty..      
-0002dc40: 2020 2020 2020 2020 2020 6e65 7776 616c            newval
-0002dc50: 203d 206e 6578 7428 6974 2920 2020 2020   = next(it)     
-0002dc60: 2020 2320 6665 7463 6820 6120 6e65 7720    # fetch a new 
-0002dc70: 7661 6c75 6520 616e 640d 0a20 2020 2020  value and..     
-0002dc80: 2020 2020 2020 2020 2020 2066 6f72 2064             for d
-0002dc90: 2069 6e20 6465 7175 6573 3a20 2020 2020   in deques:     
-0002dca0: 2020 2023 206c 6f61 6420 6974 2074 6f20     # load it to 
-0002dcb0: 616c 6c20 7468 6520 6465 7175 6573 0d0a  all the deques..
-0002dcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002dcd0: 2020 2020 642e 6170 7065 6e64 286e 6577      d.append(new
-0002dce0: 7661 6c29 0d0a 2020 2020 2020 2020 2020  val)..          
-0002dcf0: 2020 7969 656c 6420 6d79 6465 7175 652e    yield mydeque.
-0002dd00: 706f 706c 6566 7428 290d 0a20 2020 2072  popleft()..    r
-0002dd10: 6574 7572 6e20 7475 706c 6528 6765 6e28  eturn tuple(gen(
-0002dd20: 6429 2066 6f72 2064 2069 6e20 6465 7175  d) for d in dequ
-0002dd30: 6573 290d 0a60 6060 0d0a 4f6e 6365 2060  es)..```..Once `
-0002dd40: 7465 6528 2960 2068 6173 206d 6164 6520  tee()` has made 
-0002dd50: 6120 7370 6c69 742c 2074 6865 206f 7269  a split, the ori
-0002dd60: 6769 6e61 6c20 5f69 7465 7261 626c 655f  ginal _iterable_
-0002dd70: 2073 686f 756c 6420 6e6f 7420 6265 2075   should not be u
-0002dd80: 7365 6420 616e 7977 6865 7265 2065 6c73  sed anywhere els
-0002dd90: 653b 206f 7468 6572 7769 7365 2c20 7468  e; otherwise, th
-0002dda0: 6520 5f69 7465 7261 626c 655f 2063 6f75  e _iterable_ cou
-0002ddb0: 6c64 2067 6574 2061 6476 616e 6365 6420  ld get advanced 
-0002ddc0: 7769 7468 6f75 7420 7468 6520 7465 6520  without the tee 
-0002ddd0: 6f62 6a65 6374 7320 6265 696e 6720 696e  objects being in
-0002dde0: 666f 726d 6564 2e0d 0a0d 0a54 6869 7320  formed.....This 
-0002ddf0: 6974 6572 746f 6f6c 206d 6179 2072 6571  itertool may req
-0002de00: 7569 7265 2073 6967 6e69 6669 6361 6e74  uire significant
-0002de10: 2061 7578 696c 6961 7279 2073 746f 7261   auxiliary stora
-0002de20: 6765 2028 6465 7065 6e64 696e 6720 6f6e  ge (depending on
-0002de30: 2068 6f77 206d 7563 6820 7465 6d70 6f72   how much tempor
-0002de40: 6172 7920 6461 7461 206e 6565 6473 2074  ary data needs t
-0002de50: 6f20 6265 2073 746f 7265 6429 2e20 496e  o be stored). In
-0002de60: 2067 656e 6572 616c 2c20 6966 206f 6e65   general, if one
-0002de70: 2069 7465 7261 746f 7220 7573 6573 206d   iterator uses m
-0002de80: 6f73 7420 6f72 2061 6c6c 206f 6620 7468  ost or all of th
-0002de90: 6520 6461 7461 2062 6566 6f72 6520 616e  e data before an
-0002dea0: 6f74 6865 7220 6974 6572 6174 6f72 2073  other iterator s
-0002deb0: 7461 7274 732c 2069 7420 6973 2066 6173  tarts, it is fas
-0002dec0: 7465 7220 746f 2075 7365 2060 6c69 7374  ter to use `list
-0002ded0: 2829 6020 696e 7374 6561 6420 6f66 2060  ()` instead of `
-0002dee0: 7465 6528 2960 2e0d 0a0d 0a23 2323 2323  tee()`.....#####
-0002def0: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
-0002df00: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
-0002df10: 6f6e 7574 0d0a 6f72 6967 696e 616c 2c20  onut..original, 
-0002df20: 7465 6d70 203d 2074 6565 286f 7269 6769  temp = tee(origi
-0002df30: 6e61 6c29 0d0a 736c 6963 6564 203d 2074  nal)..sliced = t
-0002df40: 656d 7024 5b35 3a5d 0d0a 6060 600d 0a0d  emp$[5:]..```...
-0002df50: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
-0002df60: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
-0002df70: 0a69 6d70 6f72 7420 6974 6572 746f 6f6c  .import itertool
-0002df80: 730d 0a6f 7269 6769 6e61 6c2c 2074 656d  s..original, tem
-0002df90: 7020 3d20 6974 6572 746f 6f6c 732e 7465  p = itertools.te
-0002dfa0: 6528 6f72 6967 696e 616c 290d 0a73 6c69  e(original)..sli
-0002dfb0: 6365 6420 3d20 6974 6572 746f 6f6c 732e  ced = itertools.
-0002dfc0: 6973 6c69 6365 2874 656d 702c 2035 2c20  islice(temp, 5, 
-0002dfd0: 4e6f 6e65 290d 0a60 6060 0d0a 0d0a 2323  None)..```....##
-0002dfe0: 2323 2060 636f 6e73 756d 6560 0d0a 0d0a  ## `consume`....
-0002dff0: 2a2a 636f 6e73 756d 652a 2a28 5f69 7465  **consume**(_ite
-0002e000: 7261 626c 655f 2c20 5f6b 6565 705c 5f6c  rable_, _keep\_l
-0002e010: 6173 745f 3d60 3060 290d 0a0d 0a43 6f63  ast_=`0`)....Coc
-0002e020: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
-0002e030: 6520 6063 6f6e 7375 6d65 6020 6675 6e63  e `consume` func
-0002e040: 7469 6f6e 2074 6f20 6566 6669 6369 656e  tion to efficien
-0002e050: 746c 7920 6578 6861 7573 7420 616e 2069  tly exhaust an i
-0002e060: 7465 7261 746f 7220 616e 6420 7468 7573  terator and thus
-0002e070: 2070 6572 666f 726d 2061 6e79 206c 617a   perform any laz
-0002e080: 7920 6576 616c 7561 7469 6f6e 2063 6f6e  y evaluation con
-0002e090: 7461 696e 6564 2077 6974 6869 6e20 6974  tained within it
-0002e0a0: 2e20 6063 6f6e 7375 6d65 6020 7461 6b65  . `consume` take
-0002e0b0: 7320 6f6e 6520 6f70 7469 6f6e 616c 2061  s one optional a
-0002e0c0: 7267 756d 656e 742c 2060 6b65 6570 5f6c  rgument, `keep_l
-0002e0d0: 6173 7460 2c20 7468 6174 2064 6566 6175  ast`, that defau
-0002e0e0: 6c74 7320 746f 2030 2061 6e64 2073 7065  lts to 0 and spe
-0002e0f0: 6369 6669 6573 2068 6f77 206d 616e 792c  cifies how many,
-0002e100: 2069 6620 616e 792c 2069 7465 6d73 2066   if any, items f
-0002e110: 726f 6d20 7468 6520 656e 6420 746f 2072  rom the end to r
-0002e120: 6574 7572 6e20 6173 2061 2073 6571 7565  eturn as a seque
-0002e130: 6e63 6520 2860 4e6f 6e65 6020 7769 6c6c  nce (`None` will
-0002e140: 206b 6565 7020 616c 6c20 656c 656d 656e   keep all elemen
-0002e150: 7473 292e 0d0a 0d0a 4571 7569 7661 6c65  ts).....Equivale
-0002e160: 6e74 2074 6f3a 0d0a 6060 6063 6f63 6f6e  nt to:..```cocon
-0002e170: 7574 0d0a 6465 6620 636f 6e73 756d 6528  ut..def consume(
-0002e180: 6974 6572 6162 6c65 2c20 6b65 6570 5f6c  iterable, keep_l
-0002e190: 6173 743d 3029 3a0d 0a20 2020 2022 2222  ast=0):..    """
-0002e1a0: 4675 6c6c 7920 6578 6861 7573 7420 6974  Fully exhaust it
-0002e1b0: 6572 6162 6c65 2061 6e64 2072 6574 7572  erable and retur
-0002e1c0: 6e20 7468 6520 6c61 7374 206b 6565 705f  n the last keep_
-0002e1d0: 6c61 7374 2065 6c65 6d65 6e74 732e 2222  last elements.""
-0002e1e0: 220d 0a20 2020 2072 6574 7572 6e20 636f  "..    return co
-0002e1f0: 6c6c 6563 7469 6f6e 732e 6465 7175 6528  llections.deque(
-0002e200: 6974 6572 6162 6c65 2c20 6d61 786c 656e  iterable, maxlen
-0002e210: 3d6b 6565 705f 6c61 7374 2920 2023 2066  =keep_last)  # f
-0002e220: 6173 7465 7374 2077 6179 2074 6f20 6578  astest way to ex
-0002e230: 6861 7573 7420 616e 2069 7465 7261 746f  haust an iterato
-0002e240: 720d 0a60 6060 0d0a 0d0a 2323 2323 2320  r..```....##### 
-0002e250: 5261 7469 6f6e 616c 650d 0a0d 0a49 6e20  Rationale....In 
-0002e260: 7468 6520 7072 6f63 6573 7320 6f66 206c  the process of l
-0002e270: 617a 696c 7920 6170 706c 7969 6e67 206f  azily applying o
-0002e280: 7065 7261 7469 6f6e 7320 746f 2069 7465  perations to ite
-0002e290: 7261 746f 7273 2c20 6576 656e 7475 616c  rators, eventual
-0002e2a0: 6c79 2061 2070 6f69 6e74 2069 7320 7265  ly a point is re
-0002e2b0: 6163 6865 6420 7768 6572 6520 6576 616c  ached where eval
-0002e2c0: 7561 7469 6f6e 206f 6620 7468 6520 6974  uation of the it
-0002e2d0: 6572 6174 6f72 2069 7320 6e65 6365 7373  erator is necess
-0002e2e0: 6172 792e 2054 6f20 646f 2074 6869 7320  ary. To do this 
-0002e2f0: 6566 6669 6369 656e 746c 792c 2043 6f63  efficiently, Coc
-0002e300: 6f6e 7574 2070 726f 7669 6465 7320 7468  onut provides th
-0002e310: 6520 6063 6f6e 7375 6d65 6020 6675 6e63  e `consume` func
-0002e320: 7469 6f6e 2c20 7768 6963 6820 7769 6c6c  tion, which will
-0002e330: 2066 756c 6c79 2065 7868 6175 7374 2074   fully exhaust t
-0002e340: 6865 2069 7465 7261 746f 7220 6769 7665  he iterator give
-0002e350: 6e20 746f 2069 742e 0d0a 0d0a 2323 2323  n to it.....####
-0002e360: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
-0002e370: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
-0002e380: 636f 6e75 740d 0a72 616e 6765 2831 3029  conut..range(10)
-0002e390: 207c 3e20 6d61 7024 2828 7829 202d 3e20   |> map$((x) -> 
-0002e3a0: 782a 2a32 2920 7c3e 206d 6170 2428 7072  x**2) |> map$(pr
-0002e3b0: 696e 7429 207c 3e20 636f 6e73 756d 650d  int) |> consume.
-0002e3c0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
-0002e3d0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
-0002e3e0: 7079 7468 6f6e 0d0a 636f 6c6c 6563 7469  python..collecti
-0002e3f0: 6f6e 732e 6465 7175 6528 6d61 7028 7072  ons.deque(map(pr
-0002e400: 696e 742c 206d 6170 286c 616d 6264 6120  int, map(lambda 
-0002e410: 783a 2078 2a2a 322c 2072 616e 6765 2831  x: x**2, range(1
-0002e420: 3029 2929 2c20 6d61 786c 656e 3d30 290d  0))), maxlen=0).
-0002e430: 0a60 6060 0d0a 0d0a 2323 2320 5479 7069  .```....### Typi
-0002e440: 6e67 2d53 7065 6369 6669 6320 4275 696c  ng-Specific Buil
-0002e450: 742d 496e 730d 0a0d 0a60 6060 7b63 6f6e  t-Ins....```{con
-0002e460: 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63  tents}..---..loc
-0002e470: 616c 3a0d 0a64 6570 7468 3a20 310d 0a2d  al:..depth: 1..-
-0002e480: 2d2d 0d0a 6060 600d 0a0d 0a23 2323 2320  --..```....#### 
-0002e490: 6054 5950 455f 4348 4543 4b49 4e47 600d  `TYPE_CHECKING`.
-0002e4a0: 0a0d 0a54 6865 2060 5459 5045 5f43 4845  ...The `TYPE_CHE
-0002e4b0: 434b 494e 4760 2076 6172 6961 626c 6520  CKING` variable 
-0002e4c0: 6973 2073 6574 2074 6f20 6046 616c 7365  is set to `False
-0002e4d0: 6020 6174 2072 756e 7469 6d65 2061 6e64  ` at runtime and
-0002e4e0: 2060 5472 7565 6020 6475 7269 6e67 2074   `True` during t
-0002e4f0: 7970 655f 6368 6563 6b69 6e67 2c20 616c  ype_checking, al
-0002e500: 6c6f 7769 6e67 2079 6f75 2074 6f20 7072  lowing you to pr
-0002e510: 6576 656e 7420 796f 7572 2060 7479 7069  event your `typi
-0002e520: 6e67 6020 696d 706f 7274 7320 616e 6420  ng` imports and 
-0002e530: 6054 7970 6556 6172 6020 6465 6669 6e69  `TypeVar` defini
-0002e540: 7469 6f6e 7320 6672 6f6d 2062 6569 6e67  tions from being
-0002e550: 2065 7865 6375 7465 6420 6174 2072 756e   executed at run
-0002e560: 7469 6d65 2e20 4279 2077 7261 7070 696e  time. By wrappin
-0002e570: 6720 796f 7572 2060 7479 7069 6e67 6020  g your `typing` 
-0002e580: 696d 706f 7274 7320 696e 2061 6e20 6069  imports in an `i
-0002e590: 6620 5459 5045 5f43 4845 434b 494e 473a  f TYPE_CHECKING:
-0002e5a0: 6020 626c 6f63 6b2c 2079 6f75 2063 616e  ` block, you can
-0002e5b0: 2065 7665 6e20 7573 6520 7468 6520 5b60   even use the [`
-0002e5c0: 7479 7069 6e67 605d 2868 7474 7073 3a2f  typing`](https:/
-0002e5d0: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-0002e5e0: 2f33 2f6c 6962 7261 7279 2f74 7970 696e  /3/library/typin
-0002e5f0: 672e 6874 6d6c 2920 6d6f 6475 6c65 206f  g.html) module o
-0002e600: 6e20 5079 7468 6f6e 2076 6572 7369 6f6e  n Python version
-0002e610: 7320 7468 6174 2064 6f6e 2774 206e 6174  s that don't nat
-0002e620: 6976 656c 7920 7375 7070 6f72 7420 6974  ively support it
-0002e630: 2e20 4675 7274 6865 726d 6f72 652c 2060  . Furthermore, `
-0002e640: 5459 5045 5f43 4845 434b 494e 4760 2063  TYPE_CHECKING` c
-0002e650: 616e 2061 6c73 6f20 6265 2075 7365 6420  an also be used 
-0002e660: 746f 2068 6964 6520 636f 6465 2074 6861  to hide code tha
-0002e670: 7420 6973 206d 6973 7479 7065 6420 6279  t is mistyped by
-0002e680: 2064 6566 6175 6c74 2e0d 0a0d 0a23 2323   default.....###
-0002e690: 2323 2050 7974 686f 6e20 446f 6373 0d0a  ## Python Docs..
-0002e6a0: 0d0a 4120 7370 6563 6961 6c20 636f 6e73  ..A special cons
-0002e6b0: 7461 6e74 2074 6861 7420 6973 2061 7373  tant that is ass
-0002e6c0: 756d 6564 2074 6f20 6265 2060 5472 7565  umed to be `True
-0002e6d0: 6020 6279 2033 7264 2070 6172 7479 2073  ` by 3rd party s
-0002e6e0: 7461 7469 6320 7479 7065 2063 6865 636b  tatic type check
-0002e6f0: 6572 732e 2049 7420 6973 2060 4661 6c73  ers. It is `Fals
-0002e700: 6560 2061 7420 7275 6e74 696d 652e 2055  e` at runtime. U
-0002e710: 7361 6765 3a0d 0a60 6060 636f 636f 6e75  sage:..```coconu
-0002e720: 745f 7079 7468 6f6e 0d0a 6966 2054 5950  t_python..if TYP
-0002e730: 455f 4348 4543 4b49 4e47 3a0d 0a20 2020  E_CHECKING:..   
-0002e740: 2069 6d70 6f72 7420 6578 7065 6e73 6976   import expensiv
-0002e750: 655f 6d6f 640d 0a0d 0a64 6566 2066 756e  e_mod....def fun
-0002e760: 2861 7267 3a20 6578 7065 6e73 6976 655f  (arg: expensive_
-0002e770: 6d6f 642e 536f 6d65 5479 7065 2920 2d3e  mod.SomeType) ->
-0002e780: 204e 6f6e 653a 0d0a 2020 2020 6c6f 6361   None:..    loca
-0002e790: 6c5f 7661 723a 2065 7870 656e 7369 7665  l_var: expensive
-0002e7a0: 5f6d 6f64 2e41 6e6f 7468 6572 5479 7065  _mod.AnotherType
-0002e7b0: 203d 206f 7468 6572 5f66 756e 2829 0d0a   = other_fun()..
-0002e7c0: 6060 600d 0a0d 0a23 2323 2323 2045 7861  ```....##### Exa
-0002e7d0: 6d70 6c65 730d 0a0d 0a2a 2a43 6f63 6f6e  mples....**Cocon
-0002e7e0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
-0002e7f0: 740d 0a69 6620 5459 5045 5f43 4845 434b  t..if TYPE_CHECK
-0002e800: 494e 473a 0d0a 2020 2020 6672 6f6d 2074  ING:..    from t
-0002e810: 7970 696e 6720 696d 706f 7274 204c 6973  yping import Lis
-0002e820: 740d 0a78 3a20 4c69 7374 5b73 7472 5d20  t..x: List[str] 
-0002e830: 3d20 5b22 6122 2c20 2262 225d 0d0a 6060  = ["a", "b"]..``
-0002e840: 600d 0a0d 0a60 6060 636f 636f 6e75 740d  `....```coconut.
-0002e850: 0a69 6620 5459 5045 5f43 4845 434b 494e  .if TYPE_CHECKIN
-0002e860: 473a 0d0a 2020 2020 6465 6620 6661 6374  G:..    def fact
-0002e870: 6f72 6961 6c28 6e3a 2069 6e74 2920 2d3e  orial(n: int) ->
-0002e880: 2069 6e74 3a20 2e2e 2e0d 0a65 6c73 653a   int: .....else:
-0002e890: 0d0a 2020 2020 6465 6620 6661 6374 6f72  ..    def factor
-0002e8a0: 6961 6c28 3029 203d 2031 0d0a 2020 2020  ial(0) = 1..    
-0002e8b0: 6164 6470 6174 7465 726e 2064 6566 2066  addpattern def f
-0002e8c0: 6163 746f 7269 616c 286e 2920 3d20 6e20  actorial(n) = n 
-0002e8d0: 2a20 6661 6374 6f72 6961 6c28 6e2d 3129  * factorial(n-1)
-0002e8e0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
-0002e8f0: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
-0002e900: 5f70 7974 686f 6e0d 0a74 7279 3a0d 0a20  _python..try:.. 
-0002e910: 2020 2066 726f 6d20 7479 7069 6e67 2069     from typing i
-0002e920: 6d70 6f72 7420 5459 5045 5f43 4845 434b  mport TYPE_CHECK
-0002e930: 494e 470d 0a65 7863 6570 7420 496d 706f  ING..except Impo
-0002e940: 7274 4572 726f 723a 0d0a 2020 2020 5459  rtError:..    TY
-0002e950: 5045 5f43 4845 434b 494e 4720 3d20 4661  PE_CHECKING = Fa
-0002e960: 6c73 650d 0a0d 0a69 6620 5459 5045 5f43  lse....if TYPE_C
-0002e970: 4845 434b 494e 473a 0d0a 2020 2020 6672  HECKING:..    fr
-0002e980: 6f6d 2074 7970 696e 6720 696d 706f 7274  om typing import
-0002e990: 204c 6973 740d 0a78 3a20 4c69 7374 5b73   List..x: List[s
-0002e9a0: 7472 5d20 3d20 5b22 6122 2c20 2262 225d  tr] = ["a", "b"]
-0002e9b0: 0d0a 6060 600d 0a0d 0a60 6060 636f 636f  ..```....```coco
-0002e9c0: 6e75 745f 7079 7468 6f6e 0d0a 7472 793a  nut_python..try:
-0002e9d0: 0d0a 2020 2020 6672 6f6d 2074 7970 696e  ..    from typin
-0002e9e0: 6720 696d 706f 7274 2054 5950 455f 4348  g import TYPE_CH
-0002e9f0: 4543 4b49 4e47 0d0a 6578 6365 7074 2049  ECKING..except I
-0002ea00: 6d70 6f72 7445 7272 6f72 3a0d 0a20 2020  mportError:..   
-0002ea10: 2054 5950 455f 4348 4543 4b49 4e47 203d   TYPE_CHECKING =
-0002ea20: 2046 616c 7365 0d0a 0d0a 6966 2054 5950   False....if TYP
-0002ea30: 455f 4348 4543 4b49 4e47 3a0d 0a20 2020  E_CHECKING:..   
-0002ea40: 2064 6566 2066 6163 746f 7269 616c 286e   def factorial(n
-0002ea50: 3a20 696e 7429 202d 3e20 696e 743a 202e  : int) -> int: .
-0002ea60: 2e2e 0d0a 656c 7365 3a0d 0a20 2020 2064  ....else:..    d
-0002ea70: 6566 2066 6163 746f 7269 616c 286e 293a  ef factorial(n):
-0002ea80: 0d0a 2020 2020 2020 2020 6966 206e 203d  ..        if n =
-0002ea90: 3d20 303a 0d0a 2020 2020 2020 2020 2020  = 0:..          
-0002eaa0: 2020 7265 7475 726e 2031 0d0a 2020 2020    return 1..    
-0002eab0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-0002eac0: 2020 2020 2020 2072 6574 7572 6e20 6e20         return n 
-0002ead0: 2a20 6661 6374 6f72 6961 6c28 6e2d 3129  * factorial(n-1)
-0002eae0: 0d0a 6060 600d 0a0d 0a23 2323 2320 6072  ..```....#### `r
-0002eaf0: 6576 6561 6c5f 7479 7065 6020 616e 6420  eveal_type` and 
-0002eb00: 6072 6576 6561 6c5f 6c6f 6361 6c73 600d  `reveal_locals`.
-0002eb10: 0a0d 0a57 6865 6e20 7573 696e 6720 4d79  ...When using My
-0002eb20: 5079 2c20 6072 6576 6561 6c5f 7479 7065  Py, `reveal_type
-0002eb30: 283c 6578 7072 3e29 6020 7769 6c6c 2063  (<expr>)` will c
-0002eb40: 6175 7365 204d 7950 7920 746f 2070 7269  ause MyPy to pri
-0002eb50: 6e74 2074 6865 2074 7970 6520 6f66 2060  nt the type of `
-0002eb60: 3c65 7870 723e 6020 616e 6420 6072 6576  <expr>` and `rev
-0002eb70: 6561 6c5f 6c6f 6361 6c73 2829 6020 7769  eal_locals()` wi
-0002eb80: 6c6c 2063 6175 7365 204d 7950 7920 746f  ll cause MyPy to
-0002eb90: 2070 7269 6e74 2074 6865 2074 7970 6573   print the types
-0002eba0: 206f 6620 7468 6520 6375 7272 656e 7420   of the current 
-0002ebb0: 606c 6f63 616c 7328 2960 2e20 4174 2072  `locals()`. At r
-0002ebc0: 756e 7469 6d65 2c20 6072 6576 6561 6c5f  untime, `reveal_
-0002ebd0: 7479 7065 2878 2960 2069 7320 616c 7761  type(x)` is alwa
-0002ebe0: 7973 2074 6865 2069 6465 6e74 6974 7920  ys the identity 
-0002ebf0: 6675 6e63 7469 6f6e 2061 6e64 2060 7265  function and `re
-0002ec00: 7665 616c 5f6c 6f63 616c 7328 2960 2061  veal_locals()` a
-0002ec10: 6c77 6179 7320 7265 7475 726e 7320 604e  lways returns `N
-0002ec20: 6f6e 6560 2e20 5365 6520 5b74 6865 204d  one`. See [the M
-0002ec30: 7950 7920 646f 6375 6d65 6e74 6174 696f  yPy documentatio
-0002ec40: 6e5d 2868 7474 7073 3a2f 2f6d 7970 792e  n](https://mypy.
-0002ec50: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
-0002ec60: 6e2f 7374 6162 6c65 2f63 6f6d 6d6f 6e5f  n/stable/common_
-0002ec70: 6973 7375 6573 2e68 746d 6c23 7265 7665  issues.html#reve
-0002ec80: 616c 2d74 7970 6529 2066 6f72 206d 6f72  al-type) for mor
-0002ec90: 6520 696e 666f 726d 6174 696f 6e2e 0d0a  e information...
-0002eca0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
-0002ecb0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
-0002ecc0: 0a60 6060 636f 636f 6e75 745f 7079 636f  .```coconut_pyco
-0002ecd0: 6e0d 0a3e 2063 6f63 6f6e 7574 202d 2d6d  n..> coconut --m
-0002ece0: 7970 790d 0a43 6f63 6f6e 7574 2049 6e74  ypy..Coconut Int
-0002ecf0: 6572 7072 6574 6572 2076 582e 582e 583a  erpreter vX.X.X:
-0002ed00: 0d0a 2865 6e74 6572 2027 6578 6974 2829  ..(enter 'exit()
-0002ed10: 2720 6f72 2070 7265 7373 2043 7472 6c2d  ' or press Ctrl-
-0002ed20: 4420 746f 2065 6e64 290d 0a3e 3e3e 2072  D to end)..>>> r
-0002ed30: 6576 6561 6c5f 7479 7065 2866 6d61 7029  eveal_type(fmap)
-0002ed40: 0d0a 3c66 756e 6374 696f 6e20 666d 6170  ..<function fmap
-0002ed50: 2061 7420 3078 3030 3030 3032 3339 4230   at 0x00000239B0
-0002ed60: 3645 3230 3430 3e0d 0a3c 7374 7269 6e67  6E2040>..<string
-0002ed70: 3e3a 3137 3a20 6e6f 7465 3a20 5265 7665  >:17: note: Reve
-0002ed80: 616c 6564 2074 7970 6520 6973 2027 6465  aled type is 'de
-0002ed90: 6620 5b5f 542c 205f 555d 2028 6675 6e63  f [_T, _U] (func
-0002eda0: 3a20 6465 6620 285f 5460 2d31 2920 2d3e  : def (_T`-1) ->
-0002edb0: 205f 5560 2d32 2c20 6f62 6a3a 2074 7970   _U`-2, obj: typ
-0002edc0: 696e 672e 4974 6572 6162 6c65 5b5f 5460  ing.Iterable[_T`
-0002edd0: 2d31 5d29 202d 3e20 7479 7069 6e67 2e49  -1]) -> typing.I
-0002ede0: 7465 7261 626c 655b 5f55 602d 325d 270d  terable[_U`-2]'.
-0002edf0: 0a3e 3e3e 0d0a 6060 600d 0a0d 0a2a 2a50  .>>>..```....**P
-0002ee00: 7974 686f 6e2a 2a0d 0a60 6060 636f 636f  ython**..```coco
-0002ee10: 6e75 745f 7079 7468 6f6e 0d0a 7472 793a  nut_python..try:
-0002ee20: 0d0a 2020 2020 6672 6f6d 2074 7970 696e  ..    from typin
-0002ee30: 6720 696d 706f 7274 2054 5950 455f 4348  g import TYPE_CH
-0002ee40: 4543 4b49 4e47 0d0a 6578 6365 7074 2049  ECKING..except I
-0002ee50: 6d70 6f72 7445 7272 6f72 3a0d 0a20 2020  mportError:..   
-0002ee60: 2054 5950 455f 4348 4543 4b49 4e47 203d   TYPE_CHECKING =
-0002ee70: 2046 616c 7365 0d0a 0d0a 6966 206e 6f74   False....if not
-0002ee80: 2054 5950 455f 4348 4543 4b49 4e47 3a0d   TYPE_CHECKING:.
-0002ee90: 0a20 2020 2064 6566 2072 6576 6561 6c5f  .    def reveal_
-0002eea0: 7479 7065 2878 293a 0d0a 2020 2020 2020  type(x):..      
-0002eeb0: 2020 7265 7475 726e 2078 0d0a 0d0a 6672    return x....fr
-0002eec0: 6f6d 2063 6f63 6f6e 7574 2e5f 5f63 6f63  om coconut.__coc
-0002eed0: 6f6e 7574 5f5f 2069 6d70 6f72 7420 666d  onut__ import fm
-0002eee0: 6170 0d0a 7265 7665 616c 5f74 7970 6528  ap..reveal_type(
-0002eef0: 666d 6170 290d 0a60 6060 0d0a 0d0a 2323  fmap)..```....##
-0002ef00: 2043 6f63 6f6e 7574 2041 5049 0d0a 0d0a   Coconut API....
-0002ef10: 6060 607b 636f 6e74 656e 7473 7d0d 0a2d  ```{contents}..-
-0002ef20: 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465 7074  --..local:..dept
-0002ef30: 683a 2032 0d0a 2d2d 2d0d 0a60 6060 0d0a  h: 2..---..```..
-0002ef40: 0d0a 2323 2320 6063 6f63 6f6e 7574 2e65  ..### `coconut.e
-0002ef50: 6d62 6564 600d 0a0d 0a2a 2a63 6f63 6f6e  mbed`....**cocon
-0002ef60: 7574 2e65 6d62 6564 2a2a 285f 6b65 726e  ut.embed**(_kern
-0002ef70: 656c 5f3d 604e 6f6e 6560 2c20 5f64 6570  el_=`None`, _dep
-0002ef80: 7468 5f3d 6030 602c 205c 2a5c 2a5f 6b77  th_=`0`, \*\*_kw
-0002ef90: 6172 6773 5f29 0d0a 0d0a 4966 205f 6b65  args_)....If _ke
-0002efa0: 726e 656c 5f3d 6046 616c 7365 6020 2864  rnel_=`False` (d
-0002efb0: 6566 6175 6c74 292c 2065 6d62 6564 7320  efault), embeds 
-0002efc0: 6120 436f 636f 6e75 7420 4a75 7079 7465  a Coconut Jupyte
-0002efd0: 7220 636f 6e73 6f6c 6520 696e 6974 6961  r console initia
-0002efe0: 6c69 7a65 6420 6672 6f6d 2074 6865 2063  lized from the c
-0002eff0: 7572 7265 6e74 206c 6f63 616c 206e 616d  urrent local nam
-0002f000: 6573 7061 6365 2e20 4966 205f 6b65 726e  espace. If _kern
-0002f010: 656c 5f3d 6054 7275 6560 2c20 6c61 756e  el_=`True`, laun
-0002f020: 6368 6573 2061 2043 6f63 6f6e 7574 204a  ches a Coconut J
-0002f030: 7570 7974 6572 206b 6572 6e65 6c20 696e  upyter kernel in
-0002f040: 6974 6961 6c69 7a65 6420 6672 6f6d 2074  itialized from t
-0002f050: 6865 206c 6f63 616c 206e 616d 6573 7061  he local namespa
-0002f060: 6365 2074 6861 7420 6361 6e20 7468 656e  ce that can then
-0002f070: 2062 6520 6174 7461 6368 6564 2074 6f2e   be attached to.
-0002f080: 2054 6865 205f 6465 7074 685f 2069 6e64   The _depth_ ind
-0002f090: 6963 6174 6573 2068 6f77 206d 616e 7920  icates how many 
-0002f0a0: 6164 6469 7469 6f6e 616c 2063 616c 6c20  additional call 
-0002f0b0: 6672 616d 6573 2074 6f20 6967 6e6f 7265  frames to ignore
-0002f0c0: 2e20 5f6b 7761 7267 735f 2061 7265 2061  . _kwargs_ are a
-0002f0d0: 7320 696e 205b 4950 7974 686f 6e2e 656d  s in [IPython.em
-0002f0e0: 6265 645d 2868 7474 7073 3a2f 2f69 7079  bed](https://ipy
-0002f0f0: 7468 6f6e 2e72 6561 6474 6865 646f 6373  thon.readthedocs
-0002f100: 2e69 6f2f 656e 2f73 7461 626c 652f 6170  .io/en/stable/ap
-0002f110: 692f 6765 6e65 7261 7465 642f 4950 7974  i/generated/IPyt
-0002f120: 686f 6e2e 7465 726d 696e 616c 2e65 6d62  hon.terminal.emb
-0002f130: 6564 2e68 746d 6c23 4950 7974 686f 6e2e  ed.html#IPython.
-0002f140: 7465 726d 696e 616c 2e65 6d62 6564 2e65  terminal.embed.e
-0002f150: 6d62 6564 2920 6f72 205b 4950 7974 686f  mbed) or [IPytho
-0002f160: 6e2e 656d 6265 645f 6b65 726e 656c 5d28  n.embed_kernel](
-0002f170: 6874 7470 733a 2f2f 6970 7974 686f 6e2e  https://ipython.
-0002f180: 7265 6164 7468 6564 6f63 732e 696f 2f65  readthedocs.io/e
-0002f190: 6e2f 7374 6162 6c65 2f61 7069 2f67 656e  n/stable/api/gen
-0002f1a0: 6572 6174 6564 2f49 5079 7468 6f6e 2e68  erated/IPython.h
-0002f1b0: 746d 6c23 4950 7974 686f 6e2e 656d 6265  tml#IPython.embe
-0002f1c0: 645f 6b65 726e 656c 2920 6261 7365 6420  d_kernel) based 
-0002f1d0: 6f6e 205f 6b65 726e 656c 5f2e 0d0a 0d0a  on _kernel_.....
-0002f1e0: 5265 636f 6d6d 656e 6465 6420 7573 6167  Recommended usag
-0002f1f0: 6520 6973 2061 7320 6120 6465 6275 6767  e is as a debugg
-0002f200: 696e 6720 746f 6f6c 2c20 7768 6572 6520  ing tool, where 
-0002f210: 7468 6520 636f 6465 2060 6672 6f6d 2063  the code `from c
-0002f220: 6f63 6f6e 7574 2069 6d70 6f72 7420 656d  oconut import em
-0002f230: 6265 643b 2065 6d62 6564 2829 6020 6361  bed; embed()` ca
-0002f240: 6e20 6265 2069 6e73 6572 7465 6420 746f  n be inserted to
-0002f250: 206c 6175 6e63 6820 616e 2069 6e74 6572   launch an inter
-0002f260: 6163 7469 7665 2043 6f63 6f6e 7574 2073  active Coconut s
-0002f270: 6865 6c6c 2069 6e69 7469 616c 697a 6564  hell initialized
-0002f280: 2066 726f 6d20 7468 6174 2070 6f69 6e74   from that point
-0002f290: 2e0d 0a0d 0a23 2323 2041 7574 6f6d 6174  .....### Automat
-0002f2a0: 6963 2043 6f6d 7069 6c61 7469 6f6e 0d0a  ic Compilation..
-0002f2b0: 0d0a 4966 2079 6f75 2064 6f6e 2774 2063  ..If you don't c
-0002f2c0: 6172 6520 6162 6f75 7420 7468 6520 6578  are about the ex
-0002f2d0: 6163 7420 636f 6d70 696c 6174 696f 6e20  act compilation 
-0002f2e0: 7061 7261 6d65 7465 7273 2079 6f75 2077  parameters you w
-0002f2f0: 616e 7420 746f 2075 7365 2c20 6175 746f  ant to use, auto
-0002f300: 6d61 7469 6320 636f 6d70 696c 6174 696f  matic compilatio
-0002f310: 6e20 6c65 7473 2043 6f63 6f6e 7574 2074  n lets Coconut t
-0002f320: 616b 6520 6361 7265 206f 6620 6576 6572  ake care of ever
-0002f330: 7974 6869 6e67 2066 6f72 2079 6f75 2e20  ything for you. 
-0002f340: 4175 746f 6d61 7469 6320 636f 6d70 696c  Automatic compil
-0002f350: 6174 696f 6e20 6361 6e20 6265 2065 6e61  ation can be ena
-0002f360: 626c 6564 2065 6974 6865 7220 6279 2069  bled either by i
-0002f370: 6d70 6f72 7469 6e67 205b 6063 6f63 6f6e  mporting [`cocon
-0002f380: 7574 2e61 7069 605d 2823 636f 636f 6e75  ut.api`](#coconu
-0002f390: 742d 6170 6929 2062 6566 6f72 6520 796f  t-api) before yo
-0002f3a0: 7520 696d 706f 7274 2061 6e79 7468 696e  u import anythin
-0002f3b0: 6720 656c 7365 2c20 6f72 2062 7920 7275  g else, or by ru
-0002f3c0: 6e6e 696e 6720 6063 6f63 6f6e 7574 202d  nning `coconut -
-0002f3d0: 2d73 6974 652d 696e 7374 616c 6c60 2e20  -site-install`. 
-0002f3e0: 4f6e 6365 2061 7574 6f6d 6174 6963 2063  Once automatic c
-0002f3f0: 6f6d 7069 6c61 7469 6f6e 2069 7320 656e  ompilation is en
-0002f400: 6162 6c65 642c 2043 6f63 6f6e 7574 2077  abled, Coconut w
-0002f410: 696c 6c20 6368 6563 6b20 6561 6368 206f  ill check each o
-0002f420: 6620 796f 7572 2069 6d70 6f72 7473 2074  f your imports t
-0002f430: 6f20 7365 6520 6966 2079 6f75 2061 7265  o see if you are
-0002f440: 2061 7474 656d 7074 696e 6720 746f 2069   attempting to i
-0002f450: 6d70 6f72 7420 6120 602e 636f 636f 6020  mport a `.coco` 
-0002f460: 6669 6c65 2061 6e64 2c20 6966 2073 6f2c  file and, if so,
-0002f470: 2061 7574 6f6d 6174 6963 616c 6c79 2063   automatically c
-0002f480: 6f6d 7069 6c65 2069 7420 666f 7220 796f  ompile it for yo
-0002f490: 752e 204e 6f74 6520 7468 6174 2c20 666f  u. Note that, fo
-0002f4a0: 7220 436f 636f 6e75 7420 746f 206b 6e6f  r Coconut to kno
-0002f4b0: 7720 7768 6174 2066 696c 6520 796f 7520  w what file you 
-0002f4c0: 6172 6520 7472 7969 6e67 2074 6f20 696d  are trying to im
-0002f4d0: 706f 7274 2c20 6974 2077 696c 6c20 6e65  port, it will ne
-0002f4e0: 6564 2074 6f20 6265 2061 6363 6573 7369  ed to be accessi
-0002f4f0: 626c 6520 7669 6120 6073 7973 2e70 6174  ble via `sys.pat
-0002f500: 6860 2c20 6a75 7374 206c 696b 6520 6120  h`, just like a 
-0002f510: 6e6f 726d 616c 2069 6d70 6f72 742e 0d0a  normal import...
-0002f520: 0d0a 4175 746f 6d61 7469 6320 636f 6d70  ..Automatic comp
-0002f530: 696c 6174 696f 6e20 616c 7761 7973 2063  ilation always c
-0002f540: 6f6d 7069 6c65 7320 6d6f 6475 6c65 7320  ompiles modules 
-0002f550: 616e 6420 7061 636b 6167 6573 2069 6e2d  and packages in-
-0002f560: 706c 6163 652c 2061 6e64 2061 6c77 6179  place, and alway
-0002f570: 7320 7573 6573 2060 2d2d 7461 7267 6574  s uses `--target
-0002f580: 2073 7973 602e 2041 7574 6f6d 6174 6963   sys`. Automatic
-0002f590: 2063 6f6d 7069 6c61 7469 6f6e 2069 7320   compilation is 
-0002f5a0: 616c 7761 7973 2061 7661 696c 6162 6c65  always available
-0002f5b0: 2069 6e20 7468 6520 436f 636f 6e75 7420   in the Coconut 
-0002f5c0: 696e 7465 7270 7265 7465 722c 2061 6e64  interpreter, and
-0002f5d0: 2c20 6966 2075 7369 6e67 2074 6865 2043  , if using the C
-0002f5e0: 6f63 6f6e 7574 2069 6e74 6572 7072 6574  oconut interpret
-0002f5f0: 6572 2c20 6120 6072 656c 6f61 6460 2062  er, a `reload` b
-0002f600: 7569 6c74 2d69 6e20 6973 2070 726f 7669  uilt-in is provi
-0002f610: 6465 6420 746f 2065 6173 696c 7920 7265  ded to easily re
-0002f620: 6c6f 6164 2069 6d70 6f72 7465 6420 6d6f  load imported mo
-0002f630: 6475 6c65 732e 2041 6464 6974 696f 6e61  dules. Additiona
-0002f640: 6c6c 792c 2074 6865 2069 6e74 6572 7072  lly, the interpr
-0002f650: 6574 6572 2061 6c77 6179 7320 616c 6c6f  eter always allo
-0002f660: 7773 2069 6d70 6f72 7469 6e67 2066 726f  ws importing fro
-0002f670: 6d20 7468 6520 6375 7272 656e 7420 776f  m the current wo
-0002f680: 726b 696e 6720 6469 7265 6374 6f72 792c  rking directory,
-0002f690: 206c 6574 7469 6e67 2079 6f75 2065 6173   letting you eas
-0002f6a0: 696c 7920 636f 6d70 696c 6520 616e 6420  ily compile and 
-0002f6b0: 706c 6179 2061 726f 756e 6420 7769 7468  play around with
-0002f6c0: 2061 2060 2e63 6f63 6f60 2066 696c 6520   a `.coco` file 
-0002f6d0: 7369 6d70 6c79 2062 7920 7275 6e6e 696e  simply by runnin
-0002f6e0: 6720 7468 6520 436f 636f 6e75 7420 696e  g the Coconut in
-0002f6f0: 7465 7270 7265 7465 7220 616e 6420 696d  terpreter and im
-0002f700: 706f 7274 696e 6720 6974 2e0d 0a0d 0a23  porting it.....#
-0002f710: 2323 2043 6f63 6f6e 7574 2045 6e63 6f64  ## Coconut Encod
-0002f720: 696e 670d 0a0d 0a57 6869 6c65 2061 7574  ing....While aut
-0002f730: 6f6d 6174 6963 2063 6f6d 7069 6c61 7469  omatic compilati
-0002f740: 6f6e 2069 7320 7468 6520 7072 6566 6572  on is the prefer
-0002f750: 7265 6420 6d65 7468 6f64 2066 6f72 2064  red method for d
-0002f760: 796e 616d 6963 616c 6c79 2063 6f6d 7069  ynamically compi
-0002f770: 6c69 6e67 2043 6f63 6f6e 7574 2066 696c  ling Coconut fil
-0002f780: 6573 2c20 6173 2069 7420 6361 6368 6573  es, as it caches
-0002f790: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
-0002f7a0: 6465 2061 7320 6120 602e 7079 6020 6669  de as a `.py` fi
-0002f7b0: 6c65 2074 6f20 7072 6576 656e 7420 7265  le to prevent re
-0002f7c0: 636f 6d70 696c 6174 696f 6e2c 2043 6f63  compilation, Coc
-0002f7d0: 6f6e 7574 2061 6c73 6f20 7375 7070 6f72  onut also suppor
-0002f7e0: 7473 2061 2073 7065 6369 616c 0d0a 6060  ts a special..``
-0002f7f0: 6063 6f63 6f6e 7574 0d0a 2320 636f 6469  `coconut..# codi
-0002f800: 6e67 3a20 636f 636f 6e75 740d 0a60 6060  ng: coconut..```
-0002f810: 0d0a 6465 636c 6172 6174 696f 6e20 7768  ..declaration wh
-0002f820: 6963 6820 6361 6e20 6265 2061 6464 6564  ich can be added
-0002f830: 2074 6f20 602e 7079 6020 6669 6c65 7320   to `.py` files 
-0002f840: 746f 2068 6176 6520 7468 656d 2074 7265  to have them tre
-0002f850: 6174 6564 2061 7320 436f 636f 6e75 7420  ated as Coconut 
-0002f860: 6669 6c65 7320 696e 7374 6561 642e 2054  files instead. T
-0002f870: 6f20 7573 6520 7375 6368 2061 2063 6f64  o use such a cod
-0002f880: 696e 6720 6465 636c 6172 6174 696f 6e2c  ing declaration,
-0002f890: 2079 6f75 276c 6c20 6e65 6564 2074 6f20   you'll need to 
-0002f8a0: 6569 7468 6572 2072 756e 2060 636f 636f  either run `coco
-0002f8b0: 6e75 7420 2d2d 7369 7465 2d69 6e73 7461  nut --site-insta
-0002f8c0: 6c6c 6020 6f72 2060 696d 706f 7274 2063  ll` or `import c
-0002f8d0: 6f63 6f6e 7574 2e61 7069 6020 6174 2073  oconut.api` at s
-0002f8e0: 6f6d 6520 706f 696e 7420 6265 666f 7265  ome point before
-0002f8f0: 2079 6f75 2066 6972 7374 2061 7474 656d   you first attem
-0002f900: 7074 2074 6f20 696d 706f 7274 2061 2066  pt to import a f
-0002f910: 696c 6520 7769 7468 2061 2060 2320 636f  ile with a `# co
-0002f920: 6469 6e67 3a20 636f 636f 6e75 7460 2064  ding: coconut` d
-0002f930: 6563 6c61 7261 7469 6f6e 2e20 4c69 6b65  eclaration. Like
-0002f940: 2061 7574 6f6d 6174 6963 2063 6f6d 7069   automatic compi
-0002f950: 6c61 7469 6f6e 2c20 636f 6d70 696c 6174  lation, compilat
-0002f960: 696f 6e20 6973 2061 6c77 6179 7320 646f  ion is always do
-0002f970: 6e65 2077 6974 6820 602d 2d74 6172 6765  ne with `--targe
-0002f980: 7420 7379 7360 2061 6e64 2069 7320 616c  t sys` and is al
-0002f990: 7761 7973 2061 7661 696c 6162 6c65 2066  ways available f
-0002f9a0: 726f 6d20 7468 6520 436f 636f 6e75 7420  rom the Coconut 
-0002f9b0: 696e 7465 7270 7265 7465 722e 0d0a 0d0a  interpreter.....
-0002f9c0: 2323 2320 6063 6f63 6f6e 7574 2e61 7069  ### `coconut.api
-0002f9d0: 600d 0a0d 0a49 6e20 6164 6469 7469 6f6e  `....In addition
-0002f9e0: 2074 6f20 656e 6162 6c69 6e67 2061 7574   to enabling aut
-0002f9f0: 6f6d 6174 6963 2063 6f6d 7069 6c61 7469  omatic compilati
-0002fa00: 6f6e 2c20 6063 6f63 6f6e 7574 2e61 7069  on, `coconut.api
-0002fa10: 6020 6361 6e20 616c 736f 2062 6520 7573  ` can also be us
-0002fa20: 6564 2074 6f20 6361 6c6c 2074 6865 2043  ed to call the C
-0002fa30: 6f63 6f6e 7574 2063 6f6d 7069 6c65 7220  oconut compiler 
-0002fa40: 6672 6f6d 2063 6f64 6520 696e 7374 6561  from code instea
-0002fa50: 6420 6f66 2066 726f 6d20 7468 6520 636f  d of from the co
-0002fa60: 6d6d 616e 6420 6c69 6e65 2e20 5365 6520  mmand line. See 
-0002fa70: 6265 6c6f 7720 666f 7220 7370 6563 6966  below for specif
-0002fa80: 6963 6174 696f 6e73 206f 6620 7468 6520  ications of the 
-0002fa90: 6469 6666 6572 656e 7420 6170 6920 6675  different api fu
-0002faa0: 6e63 7469 6f6e 732e 0d0a 0d0a 5f44 4550  nctions....._DEP
-0002fab0: 5245 4341 5445 443a 2060 636f 636f 6e75  RECATED: `coconu
-0002fac0: 742e 636f 6e76 656e 6965 6e63 6560 2069  t.convenience` i
-0002fad0: 7320 6120 6465 7072 6563 6174 6564 2061  s a deprecated a
-0002fae0: 6c69 6173 2066 6f72 2060 636f 636f 6e75  lias for `coconu
-0002faf0: 742e 6170 6960 2e5f 0d0a 0d0a 2323 2323  t.api`._....####
-0002fb00: 2060 6765 745f 7374 6174 6560 0d0a 0d0a   `get_state`....
-0002fb10: 2a2a 636f 636f 6e75 742e 6170 692e 6765  **coconut.api.ge
-0002fb20: 745c 5f73 7461 7465 2a2a 285f 7374 6174  t\_state**(_stat
-0002fb30: 655f 3d60 4e6f 6e65 6029 0d0a 0d0a 4765  e_=`None`)....Ge
-0002fb40: 7473 2061 2073 7461 7465 206f 626a 6563  ts a state objec
-0002fb50: 7420 7768 6963 6820 7374 6f72 6573 2074  t which stores t
-0002fb60: 6865 2063 7572 7265 6e74 2063 6f6d 7069  he current compi
-0002fb70: 6c61 7469 6f6e 2070 6172 616d 6574 6572  lation parameter
-0002fb80: 732e 2053 7461 7465 206f 626a 6563 7473  s. State objects
-0002fb90: 2063 616e 2062 6520 636f 6e66 6967 7572   can be configur
-0002fba0: 6564 2077 6974 6820 5b2a 2a73 6574 7570  ed with [**setup
-0002fbb0: 2a2a 5d28 2373 6574 7570 2920 6f72 205b  **](#setup) or [
-0002fbc0: 2a2a 636d 642a 2a5d 2823 636d 6429 2061  **cmd**](#cmd) a
-0002fbd0: 6e64 2074 6865 6e20 7573 6564 2069 6e20  nd then used in 
-0002fbe0: 5b2a 2a70 6172 7365 2a2a 5d28 2370 6172  [**parse**](#par
-0002fbf0: 7365 2920 6f72 205b 2a2a 636f 636f 6e75  se) or [**coconu
-0002fc00: 745c 5f65 7661 6c2a 2a5d 2823 636f 636f  t\_eval**](#coco
-0002fc10: 6e75 745f 6576 616c 292e 0d0a 0d0a 4966  nut_eval).....If
-0002fc20: 205f 7374 6174 655f 2069 7320 604e 6f6e   _state_ is `Non
-0002fc30: 6560 2c20 6765 7473 2061 206e 6577 2073  e`, gets a new s
-0002fc40: 7461 7465 206f 626a 6563 742c 2077 6865  tate object, whe
-0002fc50: 7265 6173 2069 6620 5f73 7461 7465 5f20  reas if _state_ 
-0002fc60: 6973 2060 4661 6c73 6560 2c20 7468 6520  is `False`, the 
-0002fc70: 676c 6f62 616c 2073 7461 7465 206f 626a  global state obj
-0002fc80: 6563 7420 6973 2072 6574 7572 6e65 642e  ect is returned.
-0002fc90: 0d0a 0d0a 2323 2323 2060 7061 7273 6560  ....#### `parse`
-0002fca0: 0d0a 0d0a 2a2a 636f 636f 6e75 742e 6170  ....**coconut.ap
-0002fcb0: 692e 7061 7273 652a 2a28 5f63 6f64 655f  i.parse**(_code_
-0002fcc0: 3d60 2222 602c 205f 6d6f 6465 5f3d 6022  =`""`, _mode_=`"
-0002fcd0: 7379 7322 602c 205f 7374 6174 655f 3d60  sys"`, _state_=`
-0002fce0: 4661 6c73 6560 2c20 5f6b 6565 705c 5f69  False`, _keep\_i
-0002fcf0: 6e74 6572 6e61 6c5c 5f73 7461 7465 5f3d  nternal\_state_=
-0002fd00: 604e 6f6e 6560 290d 0a0d 0a4c 696b 656c  `None`)....Likel
-0002fd10: 7920 7468 6520 6d6f 7374 2075 7365 6675  y the most usefu
-0002fd20: 6c20 6f66 2074 6865 2061 7069 2066 756e  l of the api fun
-0002fd30: 6374 696f 6e73 2c20 6070 6172 7365 6020  ctions, `parse` 
-0002fd40: 7461 6b65 7320 436f 636f 6e75 7420 636f  takes Coconut co
-0002fd50: 6465 2061 7320 696e 7075 7420 616e 6420  de as input and 
-0002fd60: 6f75 7470 7574 7320 7468 6520 6571 7569  outputs the equi
-0002fd70: 7661 6c65 6e74 2063 6f6d 7069 6c65 6420  valent compiled 
-0002fd80: 5079 7468 6f6e 2063 6f64 652e 205f 6d6f  Python code. _mo
-0002fd90: 6465 5f20 6973 2075 7365 6420 746f 2069  de_ is used to i
-0002fda0: 6e64 6963 6174 6520 7468 6520 636f 6e74  ndicate the cont
-0002fdb0: 6578 7420 666f 7220 7468 6520 7061 7273  ext for the pars
-0002fdc0: 696e 6720 616e 6420 5f73 7461 7465 5f20  ing and _state_ 
-0002fdd0: 6973 2074 6865 2073 7461 7465 206f 626a  is the state obj
-0002fde0: 6563 7420 7374 6f72 696e 6720 7468 6520  ect storing the 
-0002fdf0: 636f 6d70 696c 6174 696f 6e20 7061 7261  compilation para
-0002fe00: 6d65 7465 7273 2074 6f20 7573 6520 6173  meters to use as
-0002fe10: 206f 6274 6169 6e65 6420 6672 6f6d 205b   obtained from [
-0002fe20: 2a2a 6765 745f 7374 6174 652a 2a5d 2823  **get_state**](#
-0002fe30: 6765 745f 7374 6174 6529 2028 6966 2060  get_state) (if `
-0002fe40: 4661 6c73 6560 2c20 7573 6573 2074 6865  False`, uses the
-0002fe50: 2067 6c6f 6261 6c20 7374 6174 6520 6f62   global state ob
-0002fe60: 6a65 6374 292e 205f 6b65 6570 5c5f 696e  ject). _keep\_in
-0002fe70: 7465 726e 616c 5c5f 7374 6174 655f 2064  ternal\_state_ d
-0002fe80: 6574 6572 6d69 6e65 7320 7768 6574 6865  etermines whethe
-0002fe90: 7220 7468 6520 7374 6174 6520 6f62 6a65  r the state obje
-0002fea0: 6374 2077 696c 6c20 6b65 6570 2069 6e74  ct will keep int
-0002feb0: 6572 6e61 6c20 7374 6174 6520 2873 7563  ernal state (suc
-0002fec0: 6820 6173 2077 6861 7420 5b63 7573 746f  h as what [custo
-0002fed0: 6d20 6f70 6572 6174 6f72 735d 2823 6375  m operators](#cu
-0002fee0: 7374 6f6d 2d6f 7065 7261 746f 7273 2920  stom-operators) 
-0002fef0: 6861 7665 2062 6565 6e20 6465 636c 6172  have been declar
-0002ff00: 6564 29e2 8094 6966 2060 4e6f 6e65 602c  ed)...if `None`,
-0002ff10: 2069 6e74 6572 6e61 6c20 7374 6174 6520   internal state 
-0002ff20: 7769 6c6c 2062 6520 6b65 7074 2069 6666  will be kept iff
-0002ff30: 2079 6f75 2061 7265 206e 6f74 2075 7369   you are not usi
-0002ff40: 6e67 2074 6865 2067 6c6f 6261 6c20 5f73  ng the global _s
-0002ff50: 7461 7465 5f2e 0d0a 0d0a 4966 205f 636f  tate_.....If _co
-0002ff60: 6465 5f20 6973 206e 6f74 2070 6173 7365  de_ is not passe
-0002ff70: 642c 2060 7061 7273 6560 2077 696c 6c20  d, `parse` will 
-0002ff80: 6f75 7470 7574 206a 7573 7420 7468 6520  output just the 
-0002ff90: 6769 7665 6e20 5f6d 6f64 655f 2773 2068  given _mode_'s h
-0002ffa0: 6561 6465 722c 2077 6869 6368 2063 616e  eader, which can
-0002ffb0: 2062 6520 6578 6563 7574 6564 2074 6f20   be executed to 
-0002ffc0: 7365 7420 7570 2061 6e20 6578 6563 7574  set up an execut
-0002ffd0: 696f 6e20 656e 7669 726f 6e6d 656e 7420  ion environment 
-0002ffe0: 696e 2077 6869 6368 2066 7574 7572 6520  in which future 
-0002fff0: 636f 6465 2063 616e 2062 6520 7061 7273  code can be pars
-00030000: 6564 2061 6e64 2065 7865 6375 7465 6420  ed and executed 
-00030010: 7769 7468 6f75 7420 6120 6865 6164 6572  without a header
-00030020: 2e0d 0a0d 0a45 6163 6820 5f6d 6f64 655f  .....Each _mode_
-00030030: 2068 6173 2074 776f 2063 6f6d 706f 6e65   has two compone
-00030040: 6e74 733a 2077 6861 7420 7061 7273 6572  nts: what parser
-00030050: 2069 7420 7573 6573 2c20 616e 6420 7768   it uses, and wh
-00030060: 6174 2068 6561 6465 7220 6974 2070 7265  at header it pre
-00030070: 7065 6e64 732e 2054 6865 2070 6172 7365  pends. The parse
-00030080: 7220 6465 7465 726d 696e 6573 2077 6861  r determines wha
-00030090: 7420 436f 636f 6e75 7420 636f 6465 2069  t Coconut code i
-000300a0: 7320 616c 6c6f 7765 6420 6173 2069 6e70  s allowed as inp
-000300b0: 7574 2c20 616e 6420 7468 6520 6865 6164  ut, and the head
-000300c0: 6572 2064 6574 6572 6d69 6e65 7320 686f  er determines ho
-000300d0: 7720 7468 6520 636f 6d70 696c 6564 2050  w the compiled P
-000300e0: 7974 686f 6e20 6361 6e20 6265 2075 7365  ython can be use
-000300f0: 642e 2050 6f73 7369 626c 6520 7661 6c75  d. Possible valu
-00030100: 6573 206f 6620 5f6d 6f64 655f 2061 7265  es of _mode_ are
-00030110: 3a0d 0a0d 0a2d 2060 2273 7973 2260 3a20  :....- `"sys"`: 
-00030120: 2874 6865 2064 6566 6175 6c74 290d 0a20  (the default).. 
-00030130: 2020 202b 2070 6172 7365 723a 2066 696c     + parser: fil
-00030140: 650d 0a20 2020 2020 2020 202a 2054 6865  e..        * The
-00030150: 2066 696c 6520 7061 7273 6572 2063 616e   file parser can
-00030160: 2070 6172 7365 2061 6e79 2043 6f63 6f6e   parse any Cocon
-00030170: 7574 2063 6f64 652e 0d0a 2020 2020 2b20  ut code...    + 
-00030180: 6865 6164 6572 3a20 7379 730d 0a20 2020  header: sys..   
-00030190: 2020 2020 202a 2054 6869 7320 6865 6164       * This head
-000301a0: 6572 2069 6d70 6f72 7473 205b 6063 6f63  er imports [`coc
-000301b0: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
-000301c0: 605d 2823 636f 636f 6e75 742d 636f 636f  `](#coconut-coco
-000301d0: 6e75 7429 2074 6f20 6163 6365 7373 2074  nut) to access t
-000301e0: 6865 206e 6563 6573 7361 7279 2043 6f63  he necessary Coc
-000301f0: 6f6e 7574 206f 626a 6563 7473 2e0d 0a2d  onut objects...-
-00030200: 2060 2265 7865 6322 603a 0d0a 2020 2020   `"exec"`:..    
-00030210: 2b20 7061 7273 6572 3a20 6669 6c65 0d0a  + parser: file..
-00030220: 2020 2020 2b20 6865 6164 6572 3a20 6578      + header: ex
-00030230: 6563 0d0a 2020 2020 2020 2020 2a20 5768  ec..        * Wh
-00030240: 656e 2070 6173 7365 6420 746f 2060 6578  en passed to `ex
-00030250: 6563 6020 6174 2074 6865 2067 6c6f 6261  ec` at the globa
-00030260: 6c20 6c65 7665 6c2c 2074 6869 7320 6865  l level, this he
-00030270: 6164 6572 2077 696c 6c20 6372 6561 7465  ader will create
-00030280: 2061 6c6c 2074 6865 206e 6563 6573 7361   all the necessa
-00030290: 7279 2043 6f63 6f6e 7574 206f 626a 6563  ry Coconut objec
-000302a0: 7473 2069 7473 656c 6620 696e 7374 6561  ts itself instea
-000302b0: 6420 6f66 2069 6d70 6f72 7469 6e67 2074  d of importing t
-000302c0: 6865 6d2e 0d0a 2d20 6022 6669 6c65 2260  hem...- `"file"`
-000302d0: 3a0d 0a20 2020 202b 2070 6172 7365 723a  :..    + parser:
-000302e0: 2066 696c 650d 0a20 2020 202b 2068 6561   file..    + hea
-000302f0: 6465 723a 2066 696c 650d 0a20 2020 2020  der: file..     
-00030300: 2020 202a 2054 6869 7320 6865 6164 6572     * This header
-00030310: 2069 7320 6d65 616e 7420 746f 2062 6520   is meant to be 
-00030320: 7772 6974 7465 6e20 746f 2061 2060 2d2d  written to a `--
-00030330: 7374 616e 6461 6c6f 6e65 6020 6669 6c65  standalone` file
-00030340: 2061 6e64 2073 686f 756c 6420 6e6f 7420   and should not 
-00030350: 6265 2070 6173 7365 6420 746f 2060 6578  be passed to `ex
-00030360: 6563 602e 0d0a 2d20 6022 7061 636b 6167  ec`...- `"packag
-00030370: 6522 603a 0d0a 2020 2020 2b20 7061 7273  e"`:..    + pars
-00030380: 6572 3a20 6669 6c65 0d0a 2020 2020 2b20  er: file..    + 
-00030390: 6865 6164 6572 3a20 7061 636b 6167 650d  header: package.
-000303a0: 0a20 2020 2020 2020 202a 2054 6869 7320  .        * This 
-000303b0: 6865 6164 6572 2069 7320 6d65 616e 7420  header is meant 
-000303c0: 746f 2062 6520 7772 6974 7465 6e20 746f  to be written to
-000303d0: 2061 2060 2d2d 7061 636b 6167 6560 2066   a `--package` f
-000303e0: 696c 6520 616e 6420 7368 6f75 6c64 206e  ile and should n
-000303f0: 6f74 2062 6520 7061 7373 6564 2074 6f20  ot be passed to 
-00030400: 6065 7865 6360 2e0d 0a2d 2060 2262 6c6f  `exec`...- `"blo
-00030410: 636b 2260 3a0d 0a20 2020 202b 2070 6172  ck"`:..    + par
-00030420: 7365 723a 2066 696c 650d 0a20 2020 202b  ser: file..    +
-00030430: 2068 6561 6465 723a 206e 6f6e 650d 0a20   header: none.. 
-00030440: 2020 2020 2020 202a 204e 6f20 6865 6164         * No head
-00030450: 6572 2069 7320 696e 636c 7564 6564 2c20  er is included, 
-00030460: 7468 7573 2074 6869 7320 6361 6e20 6f6e  thus this can on
-00030470: 6c79 2062 6520 7061 7373 6564 2074 6f20  ly be passed to 
-00030480: 6065 7865 6360 2069 6620 636f 6465 2077  `exec` if code w
-00030490: 6974 6820 6120 6865 6164 6572 2068 6173  ith a header has
-000304a0: 2061 6c72 6561 6479 2062 6565 6e20 6578   already been ex
-000304b0: 6563 7574 6564 2061 7420 7468 6520 676c  ecuted at the gl
-000304c0: 6f62 616c 206c 6576 656c 2e0d 0a2d 2060  obal level...- `
-000304d0: 2273 696e 676c 6522 603a 0d0a 2020 2020  "single"`:..    
-000304e0: 2b20 7061 7273 6572 3a20 7369 6e67 6c65  + parser: single
-000304f0: 0d0a 2020 2020 2020 2020 2a20 4361 6e20  ..        * Can 
-00030500: 6f6e 6c79 2070 6172 7365 206f 6e65 206c  only parse one l
-00030510: 696e 6520 6f66 2043 6f63 6f6e 7574 2063  ine of Coconut c
-00030520: 6f64 652e 0d0a 2020 2020 2b20 6865 6164  ode...    + head
-00030530: 6572 3a20 6e6f 6e65 0d0a 2d20 6022 6576  er: none..- `"ev
-00030540: 616c 2260 3a0d 0a20 2020 202b 2070 6172  al"`:..    + par
-00030550: 7365 723a 2065 7661 6c0d 0a20 2020 2020  ser: eval..     
-00030560: 2020 202a 2043 616e 206f 6e6c 7920 7061     * Can only pa
-00030570: 7273 6520 6120 436f 636f 6e75 7420 6578  rse a Coconut ex
-00030580: 7072 6573 7369 6f6e 2c20 6e6f 7420 6120  pression, not a 
-00030590: 7374 6174 656d 656e 742e 0d0a 2020 2020  statement...    
-000305a0: 2b20 6865 6164 6572 3a20 6e6f 6e65 0d0a  + header: none..
-000305b0: 2d20 6022 6c65 6e69 656e 7422 603a 0d0a  - `"lenient"`:..
-000305c0: 2020 2020 2b20 7061 7273 6572 3a20 6c65      + parser: le
-000305d0: 6e69 656e 740d 0a20 2020 2020 2020 202a  nient..        *
-000305e0: 2043 616e 2070 6172 7365 2061 6e79 2043   Can parse any C
-000305f0: 6f63 6f6e 7574 2063 6f64 652c 2061 6c6c  oconut code, all
-00030600: 6f77 7320 6c65 6164 696e 6720 7768 6974  ows leading whit
-00030610: 6573 7061 6365 2c20 616e 6420 6861 7320  espace, and has 
-00030620: 6e6f 2074 7261 696c 696e 6720 6e65 776c  no trailing newl
-00030630: 696e 652e 0d0a 2020 2020 2b20 6865 6164  ine...    + head
-00030640: 6572 3a20 6e6f 6e65 0d0a 2d20 6022 786f  er: none..- `"xo
-00030650: 6e73 6822 603a 0d0a 2020 2020 2b20 7061  nsh"`:..    + pa
-00030660: 7273 6572 3a20 786f 6e73 680d 0a20 2020  rser: xonsh..   
-00030670: 2020 2020 202a 2050 6172 7365 7320 436f       * Parses Co
-00030680: 636f 6e75 7420 5b60 786f 6e73 6860 5d28  conut [`xonsh`](
-00030690: 6874 7470 733a 2f2f 786f 6e2e 7368 2920  https://xon.sh) 
-000306a0: 636f 6465 2066 6f72 2075 7365 2069 6e20  code for use in 
-000306b0: 5b43 6f63 6f6e 7574 2773 2060 786f 6e73  [Coconut's `xons
-000306c0: 6860 2073 7570 706f 7274 5d28 2378 6f6e  h` support](#xon
-000306d0: 7368 2d73 7570 706f 7274 292e 0d0a 2020  sh-support)...  
-000306e0: 2020 2b20 6865 6164 6572 3a20 6e6f 6e65    + header: none
-000306f0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
-00030700: 650d 0a0d 0a60 6060 636f 636f 6e75 745f  e....```coconut_
-00030710: 7079 7468 6f6e 0d0a 6672 6f6d 2063 6f63  python..from coc
-00030720: 6f6e 7574 2e61 7069 2069 6d70 6f72 7420  onut.api import 
-00030730: 7061 7273 650d 0a65 7865 6328 7061 7273  parse..exec(pars
-00030740: 6528 2929 0d0a 7768 696c 6520 5472 7565  e())..while True
-00030750: 3a0d 0a20 2020 2065 7865 6328 7061 7273  :..    exec(pars
-00030760: 6528 696e 7075 7428 292c 206d 6f64 653d  e(input(), mode=
-00030770: 2262 6c6f 636b 2229 290d 0a60 6060 0d0a  "block"))..```..
-00030780: 0d0a 2323 2323 2060 7365 7475 7060 0d0a  ..#### `setup`..
-00030790: 0d0a 2a2a 636f 636f 6e75 742e 6170 692e  ..**coconut.api.
-000307a0: 7365 7475 702a 2a28 5f74 6172 6765 745f  setup**(_target_
-000307b0: 3d60 4e6f 6e65 602c 205f 7374 7269 6374  =`None`, _strict
-000307c0: 5f3d 6046 616c 7365 602c 205f 6d69 6e69  _=`False`, _mini
-000307d0: 6679 5f3d 6046 616c 7365 602c 205f 6c69  fy_=`False`, _li
-000307e0: 6e65 5c5f 6e75 6d62 6572 735f 3d60 4661  ne\_numbers_=`Fa
-000307f0: 6c73 6560 2c20 5f6b 6565 705c 5f6c 696e  lse`, _keep\_lin
-00030800: 6573 5f3d 6046 616c 7365 602c 205f 6e6f  es_=`False`, _no
-00030810: 5c5f 7463 6f5f 3d60 4661 6c73 6560 2c20  \_tco_=`False`, 
-00030820: 5f6e 6f5c 5f77 7261 705f 3d60 4661 6c73  _no\_wrap_=`Fals
-00030830: 6560 2c20 2a2c 205f 7374 6174 655f 3d60  e`, *, _state_=`
-00030840: 4661 6c73 6560 290d 0a0d 0a60 7365 7475  False`)....`setu
-00030850: 7060 2063 616e 2062 6520 7573 6564 2074  p` can be used t
-00030860: 6f20 7365 7420 7570 2074 6865 2067 6976  o set up the giv
-00030870: 656e 2073 7461 7465 206f 626a 6563 7420  en state object 
-00030880: 7769 7468 2074 6865 2067 6976 656e 2063  with the given c
-00030890: 6f6d 6d61 6e64 2d6c 696e 6520 666c 6167  ommand-line flag
-000308a0: 732e 2049 6620 5f73 7461 7465 5f20 6973  s. If _state_ is
-000308b0: 2060 4661 6c73 6560 2c20 7468 6520 676c   `False`, the gl
-000308c0: 6f62 616c 2073 7461 7465 206f 626a 6563  obal state objec
-000308d0: 7420 6973 2075 7365 642e 0d0a 0d0a 5468  t is used.....Th
-000308e0: 6520 706f 7373 6962 6c65 2076 616c 7565  e possible value
-000308f0: 7320 666f 7220 6561 6368 2066 6c61 6720  s for each flag 
-00030900: 6172 6775 6d65 6e74 2061 7265 3a0d 0a0d  argument are:...
-00030910: 0a2d 205f 7461 7267 6574 5f3a 2060 4e6f  .- _target_: `No
-00030920: 6e65 6020 2864 6566 6175 6c74 292c 206f  ne` (default), o
-00030930: 7220 616e 7920 5b61 6c6c 6f77 6162 6c65  r any [allowable
-00030940: 2074 6172 6765 745d 2823 616c 6c6f 7761   target](#allowa
-00030950: 626c 652d 7461 7267 6574 7329 0d0a 2d20  ble-targets)..- 
-00030960: 5f73 7472 6963 745f 3a20 6046 616c 7365  _strict_: `False
-00030970: 6020 2864 6566 6175 6c74 2920 6f72 2060  ` (default) or `
-00030980: 5472 7565 600d 0a2d 205f 6d69 6e69 6679  True`..- _minify
-00030990: 5f3a 2060 4661 6c73 6560 2028 6465 6661  _: `False` (defa
-000309a0: 756c 7429 206f 7220 6054 7275 6560 0d0a  ult) or `True`..
-000309b0: 2d20 5f6c 696e 655c 5f6e 756d 6265 7273  - _line\_numbers
-000309c0: 5f3a 2060 4661 6c73 6560 2028 6465 6661  _: `False` (defa
-000309d0: 756c 7429 206f 7220 6054 7275 6560 0d0a  ult) or `True`..
-000309e0: 2d20 5f6b 6565 705c 5f6c 696e 6573 5f3a  - _keep\_lines_:
-000309f0: 2060 4661 6c73 6560 2028 6465 6661 756c   `False` (defaul
-00030a00: 7429 206f 7220 6054 7275 6560 0d0a 2d20  t) or `True`..- 
-00030a10: 5f6e 6f5c 5f74 636f 5f3a 2060 4661 6c73  _no\_tco_: `Fals
-00030a20: 6560 2028 6465 6661 756c 7429 206f 7220  e` (default) or 
-00030a30: 6054 7275 6560 0d0a 2d20 5f6e 6f5c 5f77  `True`..- _no\_w
-00030a40: 7261 705f 3a20 6046 616c 7365 6020 2864  rap_: `False` (d
-00030a50: 6566 6175 6c74 2920 6f72 2060 5472 7565  efault) or `True
-00030a60: 600d 0a0d 0a23 2323 2320 6063 6d64 600d  `....#### `cmd`.
-00030a70: 0a0d 0a2a 2a63 6f63 6f6e 7574 2e61 7069  ...**coconut.api
-00030a80: 2e63 6d64 2a2a 285f 6172 6773 5f3d 604e  .cmd**(_args_=`N
-00030a90: 6f6e 6560 2c20 2a2c 205f 6172 6776 5f3d  one`, *, _argv_=
-00030aa0: 604e 6f6e 6560 2c20 5f69 6e74 6572 6163  `None`, _interac
-00030ab0: 745f 3d60 4661 6c73 6560 2c20 5f64 6566  t_=`False`, _def
-00030ac0: 6175 6c74 5c5f 7461 7267 6574 5f3d 604e  ault\_target_=`N
-00030ad0: 6f6e 6560 2c20 5f73 7461 7465 5f3d 6046  one`, _state_=`F
-00030ae0: 616c 7365 6029 0d0a 0d0a 4578 6563 7574  alse`)....Execut
-00030af0: 6573 2074 6865 2067 6976 656e 205f 6172  es the given _ar
-00030b00: 6773 5f20 6173 2069 6620 7468 6579 2077  gs_ as if they w
-00030b10: 6572 6520 6665 6420 746f 2060 636f 636f  ere fed to `coco
-00030b20: 6e75 7460 206f 6e20 7468 6520 636f 6d6d  nut` on the comm
-00030b30: 616e 642d 6c69 6e65 2c20 7769 7468 2074  and-line, with t
-00030b40: 6865 2065 7863 6570 7469 6f6e 2074 6861  he exception tha
-00030b50: 7420 756e 6c65 7373 205f 696e 7465 7261  t unless _intera
-00030b60: 6374 5f20 6973 2074 7275 6520 6f72 2060  ct_ is true or `
-00030b70: 2d69 6020 6973 2070 6173 7365 642c 2074  -i` is passed, t
-00030b80: 6865 2069 6e74 6572 7072 6574 6572 2077  he interpreter w
-00030b90: 696c 6c20 6e6f 7420 6265 2073 7461 7274  ill not be start
-00030ba0: 6564 2e20 4164 6469 7469 6f6e 616c 6c79  ed. Additionally
-00030bb0: 2c20 5f61 7267 765f 2063 616e 2062 6520  , _argv_ can be 
-00030bc0: 7573 6564 2074 6f20 7061 7373 2069 6e20  used to pass in 
-00030bd0: 6172 6775 6d65 6e74 7320 6173 2069 6e20  arguments as in 
-00030be0: 602d 2d61 7267 7660 2061 6e64 205f 6465  `--argv` and _de
-00030bf0: 6661 756c 745c 5f74 6172 6765 745f 2063  fault\_target_ c
-00030c00: 616e 2062 6520 7573 6564 2074 6f20 7365  an be used to se
-00030c10: 7420 7468 6520 6465 6661 756c 7420 602d  t the default `-
-00030c20: 2d74 6172 6765 7460 2e0d 0a0d 0a48 6173  -target`.....Has
-00030c30: 2074 6865 2073 616d 6520 6566 6665 6374   the same effect
-00030c40: 206f 6620 7365 7474 696e 6720 7468 6520   of setting the 
-00030c50: 636f 6d6d 616e 642d 6c69 6e65 2066 6c61  command-line fla
-00030c60: 6773 206f 6e20 7468 6520 6769 7665 6e20  gs on the given 
-00030c70: 5f73 7461 7465 5f20 6f62 6a65 6374 2061  _state_ object a
-00030c80: 7320 6073 6574 7570 6020 2877 6974 6820  s `setup` (with 
-00030c90: 7468 6520 676c 6f62 616c 2060 7374 6174  the global `stat
-00030ca0: 6560 206f 626a 6563 7420 7573 6564 2077  e` object used w
-00030cb0: 6865 6e20 5f73 7461 7465 5f20 6973 2060  hen _state_ is `
-00030cc0: 4661 6c73 6560 292e 0d0a 0d0a 2323 2323  False`).....####
-00030cd0: 2060 636f 636f 6e75 745f 6576 616c 600d   `coconut_eval`.
-00030ce0: 0a0d 0a2a 2a63 6f63 6f6e 7574 2e61 7069  ...**coconut.api
-00030cf0: 2e63 6f63 6f6e 7574 5f65 7661 6c2a 2a28  .coconut_eval**(
-00030d00: 5f65 7870 7265 7373 696f 6e5f 2c20 5f67  _expression_, _g
-00030d10: 6c6f 6261 6c73 5f3d 604e 6f6e 6560 2c20  lobals_=`None`, 
-00030d20: 5f6c 6f63 616c 735f 3d60 4e6f 6e65 602c  _locals_=`None`,
-00030d30: 205f 7374 6174 655f 3d60 4661 6c73 6560   _state_=`False`
-00030d40: 2c20 5f6b 6565 705c 5f69 6e74 6572 6e61  , _keep\_interna
-00030d50: 6c5c 5f73 7461 7465 5f3d 604e 6f6e 6560  l\_state_=`None`
-00030d60: 290d 0a0d 0a56 6572 7369 6f6e 206f 6620  )....Version of 
-00030d70: 5b60 6576 616c 605d 2868 7474 7073 3a2f  [`eval`](https:/
-00030d80: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-00030d90: 2f33 2f6c 6962 7261 7279 2f66 756e 6374  /3/library/funct
-00030da0: 696f 6e73 2e68 746d 6c23 6576 616c 2920  ions.html#eval) 
-00030db0: 7768 6963 6820 6361 6e20 6576 616c 7561  which can evalua
-00030dc0: 7465 2043 6f63 6f6e 7574 2063 6f64 652e  te Coconut code.
-00030dd0: 0d0a 0d0a 2323 2323 2060 7665 7273 696f  ....#### `versio
-00030de0: 6e60 0d0a 0d0a 2a2a 636f 636f 6e75 742e  n`....**coconut.
-00030df0: 6170 692e 7665 7273 696f 6e2a 2a28 2a2a  api.version**(**
-00030e00: 5b2a 2a5f 7768 6963 685f 2a2a 5d2a 2a29  [**_which_**]**)
-00030e10: 0d0a 0d0a 5265 7472 6965 7665 7320 6120  ....Retrieves a 
-00030e20: 7374 7269 6e67 2063 6f6e 7461 696e 696e  string containin
-00030e30: 6720 696e 666f 726d 6174 696f 6e20 6162  g information ab
-00030e40: 6f75 7420 7468 6520 436f 636f 6e75 7420  out the Coconut 
-00030e50: 7665 7273 696f 6e2e 2054 6865 206f 7074  version. The opt
-00030e60: 696f 6e61 6c20 6172 6775 6d65 6e74 205f  ional argument _
-00030e70: 7768 6963 685f 2069 7320 7468 6520 7479  which_ is the ty
-00030e80: 7065 206f 6620 7665 7273 696f 6e20 696e  pe of version in
-00030e90: 666f 726d 6174 696f 6e20 6465 7369 7265  formation desire
-00030ea0: 642e 2050 6f73 7369 626c 6520 7661 6c75  d. Possible valu
-00030eb0: 6573 206f 6620 5f77 6869 6368 5f20 6172  es of _which_ ar
-00030ec0: 653a 0d0a 0d0a 2d20 6022 6e75 6d22 603a  e:....- `"num"`:
-00030ed0: 2074 6865 206e 756d 6572 6963 616c 2076   the numerical v
-00030ee0: 6572 7369 6f6e 2028 7468 6520 6465 6661  ersion (the defa
-00030ef0: 756c 7429 0d0a 2d20 6022 6e61 6d65 2260  ult)..- `"name"`
-00030f00: 3a20 7468 6520 7665 7273 696f 6e20 636f  : the version co
-00030f10: 6465 6e61 6d65 0d0a 2d20 6022 7370 6563  dename..- `"spec
-00030f20: 2260 3a20 7468 6520 6e75 6d65 7269 6361  "`: the numerica
-00030f30: 6c20 7665 7273 696f 6e20 7769 7468 2074  l version with t
-00030f40: 6865 2063 6f64 656e 616d 6520 6174 7461  he codename atta
-00030f50: 6368 6564 0d0a 2d20 6022 7461 6722 603a  ched..- `"tag"`:
-00030f60: 2074 6865 2076 6572 7369 6f6e 2074 6167   the version tag
-00030f70: 2075 7365 6420 696e 2047 6974 4875 6220   used in GitHub 
-00030f80: 616e 6420 646f 6375 6d65 6e74 6174 696f  and documentatio
-00030f90: 6e20 5552 4c73 0d0a 2d20 6022 2d76 2260  n URLs..- `"-v"`
-00030fa0: 3a20 7468 6520 6675 6c6c 2073 7472 696e  : the full strin
-00030fb0: 6720 7072 696e 7465 6420 6279 2060 636f  g printed by `co
-00030fc0: 636f 6e75 7420 2d76 600d 0a0d 0a23 2323  conut -v`....###
-00030fd0: 2320 6061 7574 6f5f 636f 6d70 696c 6174  # `auto_compilat
-00030fe0: 696f 6e60 0d0a 0d0a 2a2a 636f 636f 6e75  ion`....**coconu
-00030ff0: 742e 6170 692e 6175 746f 5f63 6f6d 7069  t.api.auto_compi
-00031000: 6c61 7469 6f6e 2a2a 285f 6f6e 5f3d 6054  lation**(_on_=`T
-00031010: 7275 6560 290d 0a0d 0a54 7572 6e73 205b  rue`)....Turns [
-00031020: 6175 746f 6d61 7469 6320 636f 6d70 696c  automatic compil
-00031030: 6174 696f 6e5d 2823 6175 746f 6d61 7469  ation](#automati
-00031040: 632d 636f 6d70 696c 6174 696f 6e29 206f  c-compilation) o
-00031050: 6e20 6f72 206f 6666 2e20 5468 6973 2066  n or off. This f
-00031060: 756e 6374 696f 6e20 6973 2063 616c 6c65  unction is calle
-00031070: 6420 6175 746f 6d61 7469 6361 6c6c 7920  d automatically 
-00031080: 7768 656e 2060 636f 636f 6e75 742e 6170  when `coconut.ap
-00031090: 6960 2069 7320 696d 706f 7274 6564 2e0d  i` is imported..
-000310a0: 0a0d 0a23 2323 2320 6075 7365 5f63 6f63  ...#### `use_coc
-000310b0: 6f6e 7574 5f62 7265 616b 706f 696e 7460  onut_breakpoint`
-000310c0: 0d0a 0d0a 2a2a 636f 636f 6e75 742e 6170  ....**coconut.ap
-000310d0: 692e 7573 655f 636f 636f 6e75 745f 6272  i.use_coconut_br
-000310e0: 6561 6b70 6f69 6e74 2a2a 285f 6f6e 5f3d  eakpoint**(_on_=
-000310f0: 6054 7275 6560 290d 0a0d 0a53 7769 7463  `True`)....Switc
-00031100: 6865 7320 7468 6520 5b60 6272 6561 6b70  hes the [`breakp
-00031110: 6f69 6e74 6020 6275 696c 742d 696e 5d28  oint` built-in](
-00031120: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
-00031130: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
-00031140: 7065 702d 3035 3533 2f29 2077 6869 6368  pep-0553/) which
-00031150: 2043 6f63 6f6e 7574 206d 616b 6573 2075   Coconut makes u
-00031160: 6e69 7665 7273 616c 6c79 2061 7661 696c  niversally avail
-00031170: 6162 6c65 2074 6f20 7573 6520 5b60 636f  able to use [`co
-00031180: 636f 6e75 742e 656d 6265 6460 5d28 2363  conut.embed`](#c
-00031190: 6f63 6f6e 7574 2d65 6d62 6564 2920 696e  oconut-embed) in
-000311a0: 7374 6561 6420 6f66 205b 6070 6462 2e73  stead of [`pdb.s
-000311b0: 6574 5f74 7261 6365 605d 2868 7474 7073  et_trace`](https
-000311c0: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
-000311d0: 7267 2f33 2f6c 6962 7261 7279 2f70 6462  rg/3/library/pdb
-000311e0: 2e68 746d 6c23 7064 622e 7365 745f 7472  .html#pdb.set_tr
-000311f0: 6163 6529 2028 6f72 2075 6e64 6f65 7320  ace) (or undoes 
-00031200: 7468 6174 2073 7769 7463 6820 6966 2060  that switch if `
-00031210: 6f6e 3d46 616c 7365 6029 2e20 5468 6973  on=False`). This
-00031220: 2066 756e 6374 696f 6e20 6973 2063 616c   function is cal
-00031230: 6c65 6420 6175 746f 6d61 7469 6361 6c6c  led automaticall
-00031240: 7920 7768 656e 2060 636f 636f 6e75 742e  y when `coconut.
-00031250: 6170 6960 2069 7320 696d 706f 7274 6564  api` is imported
-00031260: 2e0d 0a0d 0a23 2323 2320 6043 6f63 6f6e  .....#### `Cocon
-00031270: 7574 4578 6365 7074 696f 6e60 0d0a 0d0a  utException`....
-00031280: 4966 2061 6e20 6572 726f 7220 6973 2065  If an error is e
-00031290: 6e63 6f75 6e74 6572 6564 2069 6e20 6120  ncountered in a 
-000312a0: 6170 6920 6675 6e63 7469 6f6e 2c20 6120  api function, a 
-000312b0: 6043 6f63 6f6e 7574 4578 6365 7074 696f  `CoconutExceptio
-000312c0: 6e60 2069 6e73 7461 6e63 6520 6d61 7920  n` instance may 
-000312d0: 6265 2072 6169 7365 642e 2060 636f 636f  be raised. `coco
-000312e0: 6e75 742e 6170 692e 436f 636f 6e75 7445  nut.api.CoconutE
-000312f0: 7863 6570 7469 6f6e 6020 6973 2070 726f  xception` is pro
-00031300: 7669 6465 6420 746f 2061 6c6c 6f77 2063  vided to allow c
-00031310: 6174 6368 696e 6720 7375 6368 2065 7272  atching such err
-00031320: 6f72 732e 0d0a 0d0a 2323 2320 6063 6f63  ors.....### `coc
-00031330: 6f6e 7574 2e5f 5f63 6f63 6f6e 7574 5f5f  onut.__coconut__
-00031340: 600d 0a0d 0a49 7420 6973 2073 6f6d 6574  `....It is somet
-00031350: 696d 6573 2075 7365 6675 6c20 746f 2062  imes useful to b
-00031360: 6520 6162 6c65 2074 6f20 6163 6365 7373  e able to access
-00031370: 2043 6f63 6f6e 7574 2062 7569 6c74 2d69   Coconut built-i
-00031380: 6e73 2066 726f 6d20 7075 7265 2050 7974  ns from pure Pyt
-00031390: 686f 6e2e 2054 6f20 6163 636f 6d70 6c69  hon. To accompli
-000313a0: 7368 2074 6869 732c 2043 6f63 6f6e 7574  sh this, Coconut
-000313b0: 2070 726f 7669 6465 7320 6063 6f63 6f6e   provides `cocon
-000313c0: 7574 2e5f 5f63 6f63 6f6e 7574 5f5f 602c  ut.__coconut__`,
-000313d0: 2077 6869 6368 2062 6568 6176 6573 2065   which behaves e
-000313e0: 7861 6374 6c79 206c 696b 6520 7468 6520  xactly like the 
-000313f0: 605f 5f63 6f63 6f6e 7574 5f5f 2e70 7960  `__coconut__.py`
-00031400: 2068 6561 6465 7220 6669 6c65 2069 6e63   header file inc
-00031410: 6c75 6465 6420 7768 656e 2043 6f63 6f6e  luded when Cocon
-00031420: 7574 2069 7320 636f 6d70 696c 6564 2069  ut is compiled i
-00031430: 6e20 7061 636b 6167 6520 6d6f 6465 2e0d  n package mode..
-00031440: 0a0d 0a41 6c6c 2043 6f63 6f6e 7574 2062  ...All Coconut b
-00031450: 7569 6c74 2d69 6e73 2061 7265 2061 6363  uilt-ins are acc
-00031460: 6573 7369 626c 6520 6672 6f6d 2060 636f  essible from `co
-00031470: 636f 6e75 742e 5f5f 636f 636f 6e75 745f  conut.__coconut_
-00031480: 5f60 2e20 5468 6520 7265 636f 6d6d 656e  _`. The recommen
-00031490: 6465 6420 7761 7920 746f 2069 6d70 6f72  ded way to impor
-000314a0: 7420 7468 656d 2069 7320 746f 2075 7365  t them is to use
-000314b0: 2060 6672 6f6d 2063 6f63 6f6e 7574 2e5f   `from coconut._
-000314c0: 5f63 6f63 6f6e 7574 5f5f 2069 6d70 6f72  _coconut__ impor
-000314d0: 7460 2061 6e64 2069 6d70 6f72 7420 7768  t` and import wh
-000314e0: 6174 6576 6572 2062 7569 6c74 2d69 6e73  atever built-ins
-000314f0: 2079 6f75 276c 6c20 6265 2075 7369 6e67   you'll be using
-00031500: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
-00031510: 6c65 0d0a 0d0a 6060 6063 6f63 6f6e 7574  le....```coconut
-00031520: 5f70 7974 686f 6e0d 0a66 726f 6d20 636f  _python..from co
-00031530: 636f 6e75 742e 5f5f 636f 636f 6e75 745f  conut.__coconut_
-00031540: 5f20 696d 706f 7274 2070 6172 616c 6c65  _ import paralle
-00031550: 6c5f 6d61 700d 0a60 6060 0d0a            l_map..```..
+00002680: 2020 2020 2068 6176 656e 2774 2063 6861       haven't cha
+00002690: 6e67 6564 0d0a 2d2d 6d69 6e69 6679 2020  nged..--minify  
+000026a0: 2020 2020 2020 2020 2020 2020 7265 6475              redu
+000026b0: 6365 2073 697a 6520 6f66 2063 6f6d 7069  ce size of compi
+000026c0: 6c65 6420 5079 7468 6f6e 0d0a 2d2d 6a75  led Python..--ju
+000026d0: 7079 7465 7220 2e2e 2e2c 202d 2d69 7079  pyter ..., --ipy
+000026e0: 7468 6f6e 202e 2e2e 0d0a 2020 2020 2020  thon .....      
+000026f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002700: 7275 6e20 4a75 7079 7465 722f 4950 7974  run Jupyter/IPyt
+00002710: 686f 6e20 7769 7468 2043 6f63 6f6e 7574  hon with Coconut
+00002720: 2061 7320 7468 6520 6b65 726e 656c 2028   as the kernel (
+00002730: 7265 6d61 696e 696e 6720 6172 6773 2070  remaining args p
+00002740: 6173 7365 640d 0a20 2020 2020 2020 2020  assed..         
+00002750: 2020 2020 2020 2020 2020 2020 2074 6f20               to 
+00002760: 4a75 7079 7465 7229 0d0a 2d2d 6d79 7079  Jupyter)..--mypy
+00002770: 202e 2e2e 2020 2020 2020 2020 2020 2020   ...            
+00002780: 7275 6e20 4d79 5079 206f 6e20 636f 6d70  run MyPy on comp
+00002790: 696c 6564 2050 7974 686f 6e20 2872 656d  iled Python (rem
+000027a0: 6169 6e69 6e67 2061 7267 7320 7061 7373  aining args pass
+000027b0: 6564 2074 6f20 4d79 5079 2920 2869 6d70  ed to MyPy) (imp
+000027c0: 6c69 6573 0d0a 2020 2020 2020 2020 2020  lies..          
+000027d0: 2020 2020 2020 2020 2020 2020 2d2d 7061              --pa
+000027e0: 636b 6167 6520 2d2d 6c69 6e65 2d6e 756d  ckage --line-num
+000027f0: 6265 7273 290d 0a2d 2d61 7267 7620 2e2e  bers)..--argv ..
+00002800: 2e2c 202d 2d61 7267 7320 2e2e 2e0d 0a20  ., --args ..... 
+00002810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002820: 2020 2020 2073 6574 2073 7973 2e61 7267       set sys.arg
+00002830: 7620 746f 2073 6f75 7263 6520 706c 7573  v to source plus
+00002840: 2072 656d 6169 6e69 6e67 2061 7267 7320   remaining args 
+00002850: 666f 7220 7573 6520 696e 2074 6865 2043  for use in the C
+00002860: 6f63 6f6e 7574 0d0a 2020 2020 2020 2020  oconut..        
+00002870: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+00002880: 7269 7074 2062 6569 6e67 2072 756e 0d0a  ript being run..
+00002890: 2d2d 7475 746f 7269 616c 2020 2020 2020  --tutorial      
+000028a0: 2020 2020 2020 6f70 656e 2043 6f63 6f6e        open Cocon
+000028b0: 7574 2773 2074 7574 6f72 6961 6c20 696e  ut's tutorial in
+000028c0: 2074 6865 2064 6566 6175 6c74 2077 6562   the default web
+000028d0: 2062 726f 7773 6572 0d0a 2d2d 646f 6373   browser..--docs
+000028e0: 2c20 2d2d 646f 6375 6d65 6e74 6174 696f  , --documentatio
+000028f0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+00002900: 2020 2020 2020 2020 206f 7065 6e20 436f           open Co
+00002910: 636f 6e75 7427 7320 646f 6375 6d65 6e74  conut's document
+00002920: 6174 696f 6e20 696e 2074 6865 2064 6566  ation in the def
+00002930: 6175 6c74 2077 6562 2062 726f 7773 6572  ault web browser
+00002940: 0d0a 2d2d 7374 796c 6520 6e61 6d65 2020  ..--style name  
+00002950: 2020 2020 2020 2020 7365 7420 5079 676d          set Pygm
+00002960: 656e 7473 2073 796e 7461 7820 6869 6768  ents syntax high
+00002970: 6c69 6768 7469 6e67 2073 7479 6c65 2028  lighting style (
+00002980: 6f72 2027 6c69 7374 2720 746f 206c 6973  or 'list' to lis
+00002990: 7420 7374 796c 6573 290d 0a20 2020 2020  t styles)..     
+000029a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000029b0: 2028 6465 6661 756c 7473 2074 6f20 434f   (defaults to CO
+000029c0: 434f 4e55 545f 5354 594c 4520 656e 7669  CONUT_STYLE envi
+000029d0: 726f 6e6d 656e 7420 7661 7269 6162 6c65  ronment variable
+000029e0: 2069 6620 6974 2065 7869 7374 732c 0d0a   if it exists,..
+000029f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a00: 2020 2020 2020 6f74 6865 7277 6973 6520        otherwise 
+00002a10: 2764 6566 6175 6c74 2729 0d0a 2d2d 6869  'default')..--hi
+00002a20: 7374 6f72 792d 6669 6c65 2070 6174 6820  story-file path 
+00002a30: 2020 7365 7420 6869 7374 6f72 7920 6669    set history fi
+00002a40: 6c65 2028 6f72 2027 2720 666f 7220 6e6f  le (or '' for no
+00002a50: 2066 696c 6529 2028 6361 6e20 6265 206d   file) (can be m
+00002a60: 6f64 6966 6965 6420 6279 2073 6574 7469  odified by setti
+00002a70: 6e67 0d0a 2020 2020 2020 2020 2020 2020  ng..            
+00002a80: 2020 2020 2020 2020 2020 434f 434f 4e55            COCONU
+00002a90: 545f 484f 4d45 2065 6e76 6972 6f6e 6d65  T_HOME environme
+00002aa0: 6e74 2076 6172 6961 626c 6529 0d0a 2d2d  nt variable)..--
+00002ab0: 7669 2d6d 6f64 652c 202d 2d76 696d 6f64  vi-mode, --vimod
+00002ac0: 6520 2020 656e 6162 6c65 2076 6920 6d6f  e   enable vi mo
+00002ad0: 6465 2069 6e20 7468 6520 696e 7465 7270  de in the interp
+00002ae0: 7265 7465 7220 2863 7572 7265 6e74 6c79  reter (currently
+00002af0: 2073 6574 2074 6f20 4661 6c73 6529 2028   set to False) (
+00002b00: 6361 6e20 6265 0d0a 2020 2020 2020 2020  can be..        
+00002b10: 2020 2020 2020 2020 2020 2020 2020 6d6f                mo
+00002b20: 6469 6669 6564 2062 7920 7365 7474 696e  dified by settin
+00002b30: 6720 434f 434f 4e55 545f 5649 5f4d 4f44  g COCONUT_VI_MOD
+00002b40: 4520 656e 7669 726f 6e6d 656e 7420 7661  E environment va
+00002b50: 7269 6162 6c65 290d 0a2d 2d72 6563 7572  riable)..--recur
+00002b60: 7369 6f6e 2d6c 696d 6974 206c 696d 6974  sion-limit limit
+00002b70: 2c20 2d2d 7265 6375 7273 696f 6e6c 696d  , --recursionlim
+00002b80: 6974 206c 696d 6974 0d0a 2020 2020 2020  it limit..      
+00002b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002ba0: 7365 7420 6d61 7869 6d75 6d20 7265 6375  set maximum recu
+00002bb0: 7273 696f 6e20 6465 7074 6820 696e 2063  rsion depth in c
+00002bc0: 6f6d 7069 6c65 7220 2864 6566 6175 6c74  ompiler (default
+00002bd0: 7320 746f 2031 3932 3029 2028 7768 656e  s to 1920) (when
+00002be0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002bf0: 2020 2020 2020 2020 696e 6372 6561 7369          increasi
+00002c00: 6e67 202d 2d72 6563 7572 7369 6f6e 2d6c  ng --recursion-l
+00002c10: 696d 6974 2c20 796f 7520 6d61 7920 616c  imit, you may al
+00002c20: 736f 206e 6565 6420 746f 2069 6e63 7265  so need to incre
+00002c30: 6173 6520 2d2d 7374 6163 6b2d 0d0a 2020  ase --stack-..  
+00002c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c50: 2020 2020 7369 7a65 3b20 7365 7474 696e      size; settin
+00002c60: 6720 7468 656d 2074 6f20 6170 7072 6f78  g them to approx
+00002c70: 696d 6174 656c 7920 6571 7561 6c20 7661  imately equal va
+00002c80: 6c75 6573 2069 7320 7265 636f 6d6d 656e  lues is recommen
+00002c90: 6465 6429 0d0a 2d2d 7374 6163 6b2d 7369  ded)..--stack-si
+00002ca0: 7a65 206b 6273 2c20 2d2d 7374 6163 6b73  ze kbs, --stacks
+00002cb0: 697a 6520 6b62 730d 0a20 2020 2020 2020  ize kbs..       
+00002cc0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00002cd0: 756e 2074 6865 2063 6f6d 7069 6c65 7220  un the compiler 
+00002ce0: 696e 2061 2073 6570 6172 6174 6520 7468  in a separate th
+00002cf0: 7265 6164 2077 6974 6820 7468 6520 6769  read with the gi
+00002d00: 7665 6e20 7374 6163 6b20 7369 7a65 2069  ven stack size i
+00002d10: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+00002d20: 2020 2020 2020 2020 206b 696c 6f62 7974           kilobyt
+00002d30: 6573 0d0a 2d2d 7369 7465 2d69 6e73 7461  es..--site-insta
+00002d40: 6c6c 2c20 2d2d 7369 7465 696e 7374 616c  ll, --siteinstal
+00002d50: 6c0d 0a20 2020 2020 2020 2020 2020 2020  l..             
+00002d60: 2020 2020 2020 2020 2073 6574 2075 7020           set up 
+00002d70: 636f 636f 6e75 742e 6170 6920 746f 2062  coconut.api to b
+00002d80: 6520 696d 706f 7274 6564 206f 6e20 5079  e imported on Py
+00002d90: 7468 6f6e 2073 7461 7274 0d0a 2d2d 7369  thon start..--si
+00002da0: 7465 2d75 6e69 6e73 7461 6c6c 2c20 2d2d  te-uninstall, --
+00002db0: 7369 7465 756e 696e 7374 616c 6c0d 0a20  siteuninstall.. 
+00002dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002dd0: 2020 2020 2072 6576 6572 7420 7468 6520       revert the 
+00002de0: 6566 6665 6374 7320 6f66 202d 2d73 6974  effects of --sit
+00002df0: 652d 696e 7374 616c 6c0d 0a2d 2d76 6572  e-install..--ver
+00002e00: 626f 7365 2020 2020 2020 2020 2020 2020  bose            
+00002e10: 2070 7269 6e74 2076 6572 626f 7365 2064   print verbose d
+00002e20: 6562 7567 206f 7574 7075 740d 0a2d 2d74  ebug output..--t
+00002e30: 7261 6365 2020 2020 2020 2020 2020 2020  race            
+00002e40: 2020 2070 7269 6e74 2076 6572 626f 7365     print verbose
+00002e50: 2070 6172 7369 6e67 2064 6174 6120 286f   parsing data (o
+00002e60: 6e6c 7920 6176 6169 6c61 626c 6520 696e  nly available in
+00002e70: 2063 6f63 6f6e 7574 2d64 6576 656c 6f70   coconut-develop
+00002e80: 290d 0a2d 2d70 726f 6669 6c65 2020 2020  )..--profile    
+00002e90: 2020 2020 2020 2020 2063 6f6c 6c65 6374           collect
+00002ea0: 2061 6e64 2070 7269 6e74 2074 696d 696e   and print timin
+00002eb0: 6720 696e 666f 2028 6f6e 6c79 2061 7661  g info (only ava
+00002ec0: 696c 6162 6c65 2069 6e20 636f 636f 6e75  ilable in coconu
+00002ed0: 742d 6465 7665 6c6f 7029 0d0a 6060 600d  t-develop)..```.
+00002ee0: 0a0d 0a23 2323 2320 436f 636f 6e75 7420  ...#### Coconut 
+00002ef0: 5363 7269 7074 730d 0a0d 0a54 6f20 7275  Scripts....To ru
+00002f00: 6e20 6120 436f 636f 6e75 7420 6669 6c65  n a Coconut file
+00002f10: 2061 7320 6120 7363 7269 7074 2c20 436f   as a script, Co
+00002f20: 636f 6e75 7420 7072 6f76 6964 6573 2074  conut provides t
+00002f30: 6865 2063 6f6d 6d61 6e64 0d0a 6060 600d  he command..```.
+00002f40: 0a63 6f63 6f6e 7574 2d72 756e 203c 736f  .coconut-run <so
+00002f50: 7572 6365 3e20 3c61 7267 733e 0d0a 6060  urce> <args>..``
+00002f60: 600d 0a61 7320 616e 2061 6c69 6173 2066  `..as an alias f
+00002f70: 6f72 0d0a 6060 600d 0a63 6f63 6f6e 7574  or..```..coconut
+00002f80: 202d 2d71 7569 6574 202d 2d74 6172 6765   --quiet --targe
+00002f90: 7420 7379 7320 2d2d 6b65 6570 2d6c 696e  t sys --keep-lin
+00002fa0: 6573 202d 2d72 756e 203c 736f 7572 6365  es --run <source
+00002fb0: 3e20 2d2d 6172 6776 203c 6172 6773 3e0d  > --argv <args>.
+00002fc0: 0a60 6060 0d0a 7768 6963 6820 7769 6c6c  .```..which will
+00002fd0: 2071 7569 6574 6c79 2063 6f6d 7069 6c65   quietly compile
+00002fe0: 2061 6e64 2072 756e 2060 3c73 6f75 7263   and run `<sourc
+00002ff0: 653e 602c 2070 6173 7369 6e67 2061 6e79  e>`, passing any
+00003000: 2061 6464 6974 696f 6e61 6c20 6172 6775   additional argu
+00003010: 6d65 6e74 7320 746f 2074 6865 2073 6372  ments to the scr
+00003020: 6970 742c 206d 696d 6963 6b69 6e67 2068  ipt, mimicking h
+00003030: 6f77 2074 6865 2060 7079 7468 6f6e 6020  ow the `python` 
+00003040: 636f 6d6d 616e 6420 776f 726b 732e 0d0a  command works...
+00003050: 0d0a 6063 6f63 6f6e 7574 2d72 756e 6020  ..`coconut-run` 
+00003060: 6361 6e20 6265 2075 7365 6420 696e 2061  can be used in a
+00003070: 2055 6e69 7820 7368 6562 616e 6720 6c69   Unix shebang li
+00003080: 6e65 2074 6f20 6372 6561 7465 2061 2043  ne to create a C
+00003090: 6f63 6f6e 7574 2073 6372 6970 7420 6279  oconut script by
+000030a0: 2061 6464 696e 6720 7468 6520 666f 6c6c   adding the foll
+000030b0: 6f77 696e 6720 6c69 6e65 2074 6f20 7468  owing line to th
+000030c0: 6520 7374 6172 7420 6f66 2079 6f75 7220  e start of your 
+000030d0: 7363 7269 7074 3a0d 0a60 6060 6261 7368  script:..```bash
+000030e0: 0d0a 2321 2f75 7372 2f62 696e 2f65 6e76  ..#!/usr/bin/env
+000030f0: 2063 6f63 6f6e 7574 2d72 756e 0d0a 6060   coconut-run..``
+00003100: 600d 0a0d 0a54 6f20 7061 7373 2061 6464  `....To pass add
+00003110: 6974 696f 6e61 6c20 636f 6d70 696c 6174  itional compilat
+00003120: 696f 6e20 6172 6775 6d65 6e74 7320 746f  ion arguments to
+00003130: 2060 636f 636f 6e75 742d 7275 6e60 2028   `coconut-run` (
+00003140: 652e 672e 2060 2d2d 6e6f 2d74 636f 6029  e.g. `--no-tco`)
+00003150: 2c20 7075 7420 7468 656d 2062 6566 6f72  , put them befor
+00003160: 6520 7468 6520 603c 736f 7572 6365 3e60  e the `<source>`
+00003170: 2066 696c 652e 0d0a 0d0a 6063 6f63 6f6e   file.....`cocon
+00003180: 7574 2d72 756e 6020 7769 6c6c 2061 6c77  ut-run` will alw
+00003190: 6179 7320 656e 6162 6c65 205b 6175 746f  ays enable [auto
+000031a0: 6d61 7469 6320 636f 6d70 696c 6174 696f  matic compilatio
+000031b0: 6e5d 2823 6175 746f 6d61 7469 632d 636f  n](#automatic-co
+000031c0: 6d70 696c 6174 696f 6e29 2c20 7375 6368  mpilation), such
+000031d0: 2074 6861 7420 436f 636f 6e75 7420 736f   that Coconut so
+000031e0: 7572 6365 2066 696c 6573 2063 616e 2062  urce files can b
+000031f0: 6520 6469 7265 6374 6c79 2069 6d70 6f72  e directly impor
+00003200: 7465 6420 6672 6f6d 2061 6e79 2043 6f63  ted from any Coc
+00003210: 6f6e 7574 2066 696c 6573 2072 756e 2076  onut files run v
+00003220: 6961 2060 636f 636f 6e75 742d 7275 6e60  ia `coconut-run`
+00003230: 2e20 4164 6469 7469 6f6e 616c 6c79 2c20  . Additionally, 
+00003240: 636f 6d70 696c 6174 696f 6e20 7061 7261  compilation para
+00003250: 6d65 7465 7273 2028 652e 672e 2060 2d2d  meters (e.g. `--
+00003260: 6e6f 2d74 636f 6029 2075 7365 6420 696e  no-tco`) used in
+00003270: 2060 636f 636f 6e75 742d 7275 6e60 2077   `coconut-run` w
+00003280: 696c 6c20 6265 2070 6173 7365 6420 616c  ill be passed al
+00003290: 6f6e 6720 616e 6420 7573 6564 2066 6f72  ong and used for
+000032a0: 2061 6e79 2061 7574 6f20 636f 6d70 696c   any auto compil
+000032b0: 6174 696f 6e2e 0d0a 0d0a 4f6e 2050 7974  ation.....On Pyt
+000032c0: 686f 6e20 332e 342b 2c20 6063 6f63 6f6e  hon 3.4+, `cocon
+000032d0: 7574 2d72 756e 6020 7769 6c6c 2075 7365  ut-run` will use
+000032e0: 2061 2060 5f5f 636f 636f 6e75 745f 6361   a `__coconut_ca
+000032f0: 6368 655f 5f60 2064 6972 6563 746f 7279  che__` directory
+00003300: 2074 6f20 6361 6368 6520 7468 6520 636f   to cache the co
+00003310: 6d70 696c 6564 2050 7974 686f 6e2e 204e  mpiled Python. N
+00003320: 6f74 6520 7468 6174 2060 5f5f 636f 636f  ote that `__coco
+00003330: 6e75 745f 6361 6368 655f 5f60 2077 696c  nut_cache__` wil
+00003340: 6c20 616c 7761 7973 2062 6520 7265 6d6f  l always be remo
+00003350: 7665 6420 6672 6f6d 2060 5f5f 6669 6c65  ved from `__file
+00003360: 5f5f 602e 0d0a 0d0a 2323 2323 204e 616d  __`.....#### Nam
+00003370: 696e 6720 536f 7572 6365 2046 696c 6573  ing Source Files
+00003380: 0d0a 0d0a 436f 636f 6e75 7420 736f 7572  ....Coconut sour
+00003390: 6365 2066 696c 6573 2073 686f 756c 642c  ce files should,
+000033a0: 2073 6f20 7468 6520 636f 6d70 696c 6572   so the compiler
+000033b0: 2063 616e 2072 6563 6f67 6e69 7a65 2074   can recognize t
+000033c0: 6865 6d2c 2075 7365 2074 6865 2065 7874  hem, use the ext
+000033d0: 656e 7369 6f6e 2060 2e63 6f63 6f60 2028  ension `.coco` (
+000033e0: 7072 6566 6572 7265 6429 2c20 602e 636f  preferred), `.co
+000033f0: 6360 2c20 6f72 2060 2e63 6f63 6f6e 7574  c`, or `.coconut
+00003400: 602e 0d0a 0d0a 5768 656e 2043 6f63 6f6e  `.....When Cocon
+00003410: 7574 2063 6f6d 7069 6c65 7320 6120 602e  ut compiles a `.
+00003420: 636f 636f 6020 6669 6c65 2c20 6974 2077  coco` file, it w
+00003430: 696c 6c20 636f 6d70 696c 6520 746f 2061  ill compile to a
+00003440: 6e6f 7468 6572 2066 696c 6520 7769 7468  nother file with
+00003450: 2074 6865 2073 616d 6520 6e61 6d65 2c20   the same name, 
+00003460: 6578 6365 7074 2077 6974 6820 602e 7079  except with `.py
+00003470: 6020 696e 7374 6561 6420 6f66 2060 2e63  ` instead of `.c
+00003480: 6f63 6f60 2c20 7768 6963 6820 7769 6c6c  oco`, which will
+00003490: 2068 6f6c 6420 7468 6520 636f 6d70 696c   hold the compil
+000034a0: 6564 2063 6f64 652e 0d0a 0d0a 4966 2061  ed code.....If a
+000034b0: 6e20 6578 7465 6e73 696f 6e20 6f74 6865  n extension othe
+000034c0: 7220 7468 616e 2060 2e70 7960 2069 7320  r than `.py` is 
+000034d0: 6465 7369 7265 6420 666f 7220 7468 6520  desired for the 
+000034e0: 636f 6d70 696c 6564 2066 696c 6573 2c20  compiled files, 
+000034f0: 7468 656e 2074 6861 7420 6578 7465 6e73  then that extens
+00003500: 696f 6e20 6361 6e20 6265 2070 7574 2062  ion can be put b
+00003510: 6566 6f72 6520 602e 636f 636f 6020 696e  efore `.coco` in
+00003520: 2074 6865 2073 6f75 7263 6520 6669 6c65   the source file
+00003530: 206e 616d 652c 2061 6e64 2069 7420 7769   name, and it wi
+00003540: 6c6c 2062 6520 7573 6564 2069 6e73 7465  ll be used inste
+00003550: 6164 206f 6620 602e 7079 6020 666f 7220  ad of `.py` for 
+00003560: 7468 6520 636f 6d70 696c 6564 2066 696c  the compiled fil
+00003570: 6573 2e20 466f 7220 6578 616d 706c 652c  es. For example,
+00003580: 2060 6e61 6d65 2e63 6f63 6f60 2077 696c   `name.coco` wil
+00003590: 6c20 636f 6d70 696c 6520 746f 2060 6e61  l compile to `na
+000035a0: 6d65 2e70 7960 2c20 7768 6572 6561 7320  me.py`, whereas 
+000035b0: 606e 616d 652e 6162 632e 636f 636f 6020  `name.abc.coco` 
+000035c0: 7769 6c6c 2063 6f6d 7069 6c65 2074 6f20  will compile to 
+000035d0: 606e 616d 652e 6162 6360 2e0d 0a0d 0a23  `name.abc`.....#
+000035e0: 2323 2320 436f 6d70 696c 6174 696f 6e20  ### Compilation 
+000035f0: 4d6f 6465 730d 0a0d 0a46 696c 6573 2063  Modes....Files c
+00003600: 6f6d 7069 6c65 6420 6279 2074 6865 2060  ompiled by the `
+00003610: 636f 636f 6e75 7460 2063 6f6d 6d61 6e64  coconut` command
+00003620: 2d6c 696e 6520 7574 696c 6974 7920 7769  -line utility wi
+00003630: 6c6c 2076 6172 7920 6261 7365 6420 6f6e  ll vary based on
+00003640: 2063 6f6d 7069 6c61 7469 6f6e 2070 6172   compilation par
+00003650: 616d 6574 6572 732e 2049 6620 616e 2065  ameters. If an e
+00003660: 6e74 6972 6520 6469 7265 6374 6f72 7920  ntire directory 
+00003670: 6f66 2066 696c 6573 2069 7320 636f 6d70  of files is comp
+00003680: 696c 6564 2028 7768 6963 6820 7468 6520  iled (which the 
+00003690: 636f 6d70 696c 6572 2077 696c 6c20 7365  compiler will se
+000036a0: 6172 6368 2072 6563 7572 7369 7665 6c79  arch recursively
+000036b0: 2066 6f72 2061 6e79 2066 6f6c 6465 7273   for any folders
+000036c0: 2063 6f6e 7461 696e 696e 6720 602e 636f   containing `.co
+000036d0: 636f 602c 2060 2e63 6f63 602c 206f 7220  co`, `.coc`, or 
+000036e0: 602e 636f 636f 6e75 7460 2066 696c 6573  `.coconut` files
+000036f0: 292c 2061 2060 5f5f 636f 636f 6e75 745f  ), a `__coconut_
+00003700: 5f2e 7079 6020 6669 6c65 2077 696c 6c20  _.py` file will 
+00003710: 6265 2063 7265 6174 6564 2074 6f20 686f  be created to ho
+00003720: 7573 6520 6e65 6365 7373 6172 7920 6675  use necessary fu
+00003730: 6e63 7469 6f6e 7320 2870 6163 6b61 6765  nctions (package
+00003740: 206d 6f64 6529 2c20 7768 6572 6561 7320   mode), whereas 
+00003750: 6966 206f 6e6c 7920 6120 7369 6e67 6c65  if only a single
+00003760: 2066 696c 6520 6973 2063 6f6d 7069 6c65   file is compile
+00003770: 642c 2074 6861 7420 696e 666f 726d 6174  d, that informat
+00003780: 696f 6e20 7769 6c6c 2062 6520 7374 6f72  ion will be stor
+00003790: 6564 2077 6974 6869 6e20 6120 6865 6164  ed within a head
+000037a0: 6572 2069 6e73 6964 6520 7468 6520 6669  er inside the fi
+000037b0: 6c65 2028 7374 616e 6461 6c6f 6e65 206d  le (standalone m
+000037c0: 6f64 6529 2e20 5374 616e 6461 6c6f 6e65  ode). Standalone
+000037d0: 206d 6f64 6520 6973 2062 6574 7465 7220   mode is better 
+000037e0: 666f 7220 7369 6e67 6c65 2066 696c 6573  for single files
+000037f0: 2062 6563 6175 7365 2069 7420 6765 7473   because it gets
+00003800: 2072 6964 206f 6620 7468 6520 6f76 6572   rid of the over
+00003810: 6865 6164 2069 6e76 6f6c 7665 6420 696e  head involved in
+00003820: 2069 6d70 6f72 7469 6e67 2060 5f5f 636f   importing `__co
+00003830: 636f 6e75 745f 5f2e 7079 602c 2062 7574  conut__.py`, but
+00003840: 2070 6163 6b61 6765 206d 6f64 6520 6973   package mode is
+00003850: 2062 6574 7465 7220 666f 7220 6c61 7267   better for larg
+00003860: 6520 7061 636b 6167 6573 2062 6563 6175  e packages becau
+00003870: 7365 2069 7420 6765 7473 2072 6964 206f  se it gets rid o
+00003880: 6620 7468 6520 6e65 6564 2074 6f20 7275  f the need to ru
+00003890: 6e20 7468 6520 7361 6d65 2043 6f63 6f6e  n the same Cocon
+000038a0: 7574 2068 6561 6465 7220 636f 6465 2061  ut header code a
+000038b0: 6761 696e 2069 6e20 6576 6572 7920 6669  gain in every fi
+000038c0: 6c65 2c20 7369 6e63 6520 6974 2063 616e  le, since it can
+000038d0: 206a 7573 7420 6265 2069 6d70 6f72 7465   just be importe
+000038e0: 6420 6672 6f6d 2060 5f5f 636f 636f 6e75  d from `__coconu
+000038f0: 745f 5f2e 7079 602e 0d0a 0d0a 4279 2064  t__.py`.....By d
+00003900: 6566 6175 6c74 2c20 6966 2074 6865 2060  efault, if the `
+00003910: 736f 7572 6365 6020 6172 6775 6d65 6e74  source` argument
+00003920: 2074 6f20 7468 6520 636f 6d6d 616e 642d   to the command-
+00003930: 6c69 6e65 2075 7469 6c69 7479 2069 7320  line utility is 
+00003940: 6120 6669 6c65 2c20 6974 2077 696c 6c20  a file, it will 
+00003950: 7065 7266 6f72 6d20 7374 616e 6461 6c6f  perform standalo
+00003960: 6e65 2063 6f6d 7069 6c61 7469 6f6e 206f  ne compilation o
+00003970: 6e20 6974 2c20 7768 6572 6561 7320 6966  n it, whereas if
+00003980: 2069 7420 6973 2061 2064 6972 6563 746f   it is a directo
+00003990: 7279 2c20 6974 2077 696c 6c20 7265 6375  ry, it will recu
+000039a0: 7273 6976 656c 7920 7365 6172 6368 2066  rsively search f
+000039b0: 6f72 2061 6c6c 2060 2e63 6f63 6f60 2066  or all `.coco` f
+000039c0: 696c 6573 2061 6e64 2070 6572 666f 726d  iles and perform
+000039d0: 2070 6163 6b61 6765 2063 6f6d 7069 6c61   package compila
+000039e0: 7469 6f6e 206f 6e20 7468 656d 2e20 5468  tion on them. Th
+000039f0: 7573 2c20 696e 206d 6f73 7420 6361 7365  us, in most case
+00003a00: 732c 2074 6865 206d 6f64 6520 6368 6f73  s, the mode chos
+00003a10: 656e 2062 7920 436f 636f 6e75 7420 6175  en by Coconut au
+00003a20: 746f 6d61 7469 6361 6c6c 7920 7769 6c6c  tomatically will
+00003a30: 2062 6520 7468 6520 7269 6768 7420 6f6e   be the right on
+00003a40: 652e 2042 7574 2069 6620 6974 2069 7320  e. But if it is 
+00003a50: 7665 7279 2069 6d70 6f72 7461 6e74 2074  very important t
+00003a60: 6861 7420 6e6f 2061 6464 6974 696f 6e61  hat no additiona
+00003a70: 6c20 6669 6c65 7320 6c69 6b65 2060 5f5f  l files like `__
+00003a80: 636f 636f 6e75 745f 5f2e 7079 6020 6265  coconut__.py` be
+00003a90: 2063 7265 6174 6564 2c20 666f 7220 6578   created, for ex
+00003aa0: 616d 706c 652c 2074 6865 6e20 7468 6520  ample, then the 
+00003ab0: 636f 6d6d 616e 642d 6c69 6e65 2075 7469  command-line uti
+00003ac0: 6c69 7479 2063 616e 2061 6c73 6f20 6265  lity can also be
+00003ad0: 2066 6f72 6365 6420 746f 2075 7365 2061   forced to use a
+00003ae0: 2073 7065 6369 6669 6320 6d6f 6465 2077   specific mode w
+00003af0: 6974 6820 7468 6520 602d 2d70 6163 6b61  ith the `--packa
+00003b00: 6765 6020 2860 2d70 6029 2061 6e64 2060  ge` (`-p`) and `
+00003b10: 2d2d 7374 616e 6461 6c6f 6e65 6020 2860  --standalone` (`
+00003b20: 2d61 6029 2066 6c61 6773 2e0d 0a0d 0a23  -a`) flags.....#
+00003b30: 2323 2320 436f 6d70 6174 6962 6c65 2050  ### Compatible P
+00003b40: 7974 686f 6e20 5665 7273 696f 6e73 0d0a  ython Versions..
+00003b50: 0d0a 5768 696c 6520 436f 636f 6e75 7420  ..While Coconut 
+00003b60: 7379 6e74 6178 2069 7320 6261 7365 6420  syntax is based 
+00003b70: 6f66 6620 6f66 2074 6865 206c 6174 6573  off of the lates
+00003b80: 7420 5079 7468 6f6e 2033 2c20 436f 636f  t Python 3, Coco
+00003b90: 6e75 7420 636f 6465 2063 6f6d 7069 6c65  nut code compile
+00003ba0: 6420 696e 2075 6e69 7665 7273 616c 206d  d in universal m
+00003bb0: 6f64 6520 2874 6865 2064 6566 6175 6c74  ode (the default
+00003bc0: 2060 2d2d 7461 7267 6574 6029 e280 9461   `--target`)...a
+00003bd0: 6e64 2074 6865 2043 6f63 6f6e 7574 2063  nd the Coconut c
+00003be0: 6f6d 7069 6c65 7220 6974 7365 6c66 e280  ompiler itself..
+00003bf0: 9473 686f 756c 6420 7275 6e20 6f6e 2061  .should run on a
+00003c00: 6e79 2050 7974 686f 6e20 7665 7273 696f  ny Python versio
+00003c10: 6e20 603e 3d20 322e 3660 206f 6e20 7468  n `>= 2.6` on th
+00003c20: 6520 6032 2e78 6020 6272 616e 6368 206f  e `2.x` branch o
+00003c30: 7220 603e 3d20 332e 3260 206f 6e20 7468  r `>= 3.2` on th
+00003c40: 6520 6033 2e78 6020 6272 616e 6368 2028  e `3.x` branch (
+00003c50: 616e 6420 6f6e 2065 6974 6865 7220 5b43  and on either [C
+00003c60: 5079 7468 6f6e 5d28 6874 7470 733a 2f2f  Python](https://
+00003c70: 7777 772e 7079 7468 6f6e 2e6f 7267 2f29  www.python.org/)
+00003c80: 206f 7220 5b50 7950 795d 2868 7474 703a   or [PyPy](http:
+00003c90: 2f2f 7079 7079 2e6f 7267 2f29 292e 0d0a  //pypy.org/))...
+00003ca0: 0d0a 546f 206d 616b 6520 436f 636f 6e75  ..To make Coconu
+00003cb0: 7420 6275 696c 742d 696e 7320 756e 6976  t built-ins univ
+00003cc0: 6572 7361 6c20 6163 726f 7373 2050 7974  ersal across Pyt
+00003cd0: 686f 6e20 7665 7273 696f 6e73 2c20 436f  hon versions, Co
+00003ce0: 636f 6e75 7420 6d61 6b65 7320 6176 6169  conut makes avai
+00003cf0: 6c61 626c 6520 6f6e 2061 6e79 2050 7974  lable on any Pyt
+00003d00: 686f 6e20 7665 7273 696f 6e20 6275 696c  hon version buil
+00003d10: 742d 696e 7320 7468 6174 206f 6e6c 7920  t-ins that only 
+00003d20: 6578 6973 7420 696e 206c 6174 6572 2076  exist in later v
+00003d30: 6572 7369 6f6e 732c 2069 6e63 6c75 6469  ersions, includi
+00003d40: 6e67 202a 2a61 7574 6f6d 6174 6963 616c  ng **automatical
+00003d50: 6c79 206f 7665 7277 7269 7469 6e67 2050  ly overwriting P
+00003d60: 7974 686f 6e20 3220 6275 696c 742d 696e  ython 2 built-in
+00003d70: 7320 7769 7468 2074 6865 6972 2050 7974  s with their Pyt
+00003d80: 686f 6e20 3320 636f 756e 7465 7270 6172  hon 3 counterpar
+00003d90: 7473 2e2a 2a20 4164 6469 7469 6f6e 616c  ts.** Additional
+00003da0: 6c79 2c20 436f 636f 6e75 7420 616c 736f  ly, Coconut also
+00003db0: 205b 6f76 6572 7772 6974 6573 2073 6f6d   [overwrites som
+00003dc0: 6520 5079 7468 6f6e 2033 2062 7569 6c74  e Python 3 built
+00003dd0: 2d69 6e73 2066 6f72 206f 7074 696d 697a  -ins for optimiz
+00003de0: 6174 696f 6e20 616e 6420 656e 6861 6e63  ation and enhanc
+00003df0: 656d 656e 7420 7075 7270 6f73 6573 5d28  ement purposes](
+00003e00: 2365 6e68 616e 6365 642d 6275 696c 742d  #enhanced-built-
+00003e10: 696e 7329 2e20 4966 2061 6363 6573 7320  ins). If access 
+00003e20: 746f 2074 6865 206f 7269 6769 6e61 6c20  to the original 
+00003e30: 5079 7468 6f6e 2076 6572 7369 6f6e 7320  Python versions 
+00003e40: 6f66 2061 6e79 206f 7665 7277 7269 7474  of any overwritt
+00003e50: 656e 2062 7569 6c74 2d69 6e73 2069 7320  en built-ins is 
+00003e60: 6465 7369 7265 642c 2074 6865 206f 6c64  desired, the old
+00003e70: 2062 7569 6c74 2d69 6e73 2063 616e 2062   built-ins can b
+00003e80: 6520 7265 7472 6965 7665 6420 6279 2070  e retrieved by p
+00003e90: 7265 6669 7869 6e67 2074 6865 6d20 7769  refixing them wi
+00003ea0: 7468 2060 7079 5f60 2e20 5370 6563 6966  th `py_`. Specif
+00003eb0: 6963 616c 6c79 2c20 7468 6520 6f76 6572  ically, the over
+00003ec0: 7772 6974 7465 6e20 6275 696c 742d 696e  written built-in
+00003ed0: 7320 6172 653a 0d0a 0d0a 2d20 6070 795f  s are:....- `py_
+00003ee0: 6368 7260 0d0a 2d20 6070 795f 6469 6374  chr`..- `py_dict
+00003ef0: 600d 0a2d 2060 7079 5f68 6578 600d 0a2d  `..- `py_hex`..-
+00003f00: 2060 7079 5f69 6e70 7574 600d 0a2d 2060   `py_input`..- `
+00003f10: 7079 5f69 6e74 600d 0a2d 2060 7079 5f6d  py_int`..- `py_m
+00003f20: 6170 600d 0a2d 2060 7079 5f6f 626a 6563  ap`..- `py_objec
+00003f30: 7460 0d0a 2d20 6070 795f 6f63 7460 0d0a  t`..- `py_oct`..
+00003f40: 2d20 6070 795f 6f70 656e 600d 0a2d 2060  - `py_open`..- `
+00003f50: 7079 5f70 7269 6e74 600d 0a2d 2060 7079  py_print`..- `py
+00003f60: 5f72 616e 6765 600d 0a2d 2060 7079 5f73  _range`..- `py_s
+00003f70: 7472 600d 0a2d 2060 7079 5f73 7570 6572  tr`..- `py_super
+00003f80: 600d 0a2d 2060 7079 5f7a 6970 600d 0a2d  `..- `py_zip`..-
+00003f90: 2060 7079 5f66 696c 7465 7260 0d0a 2d20   `py_filter`..- 
+00003fa0: 6070 795f 7265 7665 7273 6564 600d 0a2d  `py_reversed`..-
+00003fb0: 2060 7079 5f65 6e75 6d65 7261 7465 600d   `py_enumerate`.
+00003fc0: 0a2d 2060 7079 5f72 6177 5f69 6e70 7574  .- `py_raw_input
+00003fd0: 600d 0a2d 2060 7079 5f78 7261 6e67 6560  `..- `py_xrange`
+00003fe0: 0d0a 2d20 6070 795f 7265 7072 600d 0a2d  ..- `py_repr`..-
+00003ff0: 2060 7079 5f62 7265 616b 706f 696e 7460   `py_breakpoint`
+00004000: 0d0a 0d0a 5f4e 6f74 653a 2043 6f63 6f6e  ...._Note: Cocon
+00004010: 7574 2773 2060 7265 7072 6020 6361 6e20  ut's `repr` can 
+00004020: 6265 2073 6f6d 6577 6861 7420 7472 6963  be somewhat tric
+00004030: 6b79 2c20 6173 2069 7420 7769 6c6c 2061  ky, as it will a
+00004040: 7474 656d 7074 2074 6f20 7265 6d6f 7665  ttempt to remove
+00004050: 2074 6865 2060 7560 2062 6566 6f72 6520   the `u` before 
+00004060: 7265 7072 7320 6f66 2075 6e69 636f 6465  reprs of unicode
+00004070: 2073 7472 696e 6773 206f 6e20 5079 7468   strings on Pyth
+00004080: 6f6e 2032 2c20 6275 7420 7769 6c6c 206e  on 2, but will n
+00004090: 6f74 2061 6c77 6179 7320 6265 2061 626c  ot always be abl
+000040a0: 6520 746f 2064 6f20 736f 2069 6620 7468  e to do so if th
+000040b0: 6520 756e 6963 6f64 6520 7374 7269 6e67  e unicode string
+000040c0: 2069 7320 6e65 7374 6564 2e5f 0d0a 0d0a   is nested._....
+000040d0: 466f 7220 7374 616e 6461 7264 206c 6962  For standard lib
+000040e0: 7261 7279 2063 6f6d 7061 7469 6269 6c69  rary compatibili
+000040f0: 7479 2c20 2a2a 436f 636f 6e75 7420 6175  ty, **Coconut au
+00004100: 746f 6d61 7469 6361 6c6c 7920 6d61 7073  tomatically maps
+00004110: 2069 6d70 6f72 7473 2075 6e64 6572 2050   imports under P
+00004120: 7974 686f 6e20 3320 6e61 6d65 7320 746f  ython 3 names to
+00004130: 2069 6d70 6f72 7473 2075 6e64 6572 2050   imports under P
+00004140: 7974 686f 6e20 3220 6e61 6d65 732a 2a2e  ython 2 names**.
+00004150: 2054 6875 732c 2043 6f63 6f6e 7574 2077   Thus, Coconut w
+00004160: 696c 6c20 6175 746f 6d61 7469 6361 6c6c  ill automaticall
+00004170: 7920 7461 6b65 2063 6172 6520 6f66 2061  y take care of a
+00004180: 6e79 2073 7461 6e64 6172 6420 6c69 6272  ny standard libr
+00004190: 6172 7920 6d6f 6475 6c65 7320 7468 6174  ary modules that
+000041a0: 2077 6572 6520 7265 6e61 6d65 6420 6672   were renamed fr
+000041b0: 6f6d 2050 7974 686f 6e20 3220 746f 2050  om Python 2 to P
+000041c0: 7974 686f 6e20 3320 6966 206a 7573 7420  ython 3 if just 
+000041d0: 7468 6520 5079 7468 6f6e 2033 206e 616d  the Python 3 nam
+000041e0: 6520 6973 2075 7365 642e 2046 6f72 206d  e is used. For m
+000041f0: 6f64 756c 6573 206f 7220 7061 636b 6167  odules or packag
+00004200: 6573 2074 6861 7420 6f6e 6c79 2065 7869  es that only exi
+00004210: 7374 2069 6e20 5079 7468 6f6e 2033 2c20  st in Python 3, 
+00004220: 686f 7765 7665 722c 2043 6f63 6f6e 7574  however, Coconut
+00004230: 2068 6173 206e 6f20 7761 7920 6f66 206d   has no way of m
+00004240: 6169 6e74 6169 6e69 6e67 2063 6f6d 7061  aintaining compa
+00004250: 7469 6269 6c69 7479 2e0d 0a0d 0a46 696e  tibility.....Fin
+00004260: 616c 6c79 2c20 7768 696c 6520 436f 636f  ally, while Coco
+00004270: 6e75 7420 7769 6c6c 2074 7279 2074 6f20  nut will try to 
+00004280: 636f 6d70 696c 6520 5079 7468 6f6e 2d33  compile Python-3
+00004290: 2d73 7065 6369 6669 6320 7379 6e74 6178  -specific syntax
+000042a0: 2074 6f20 6974 7320 756e 6976 6572 7361   to its universa
+000042b0: 6c20 6571 7569 7661 6c65 6e74 2c20 7468  l equivalent, th
+000042c0: 6520 666f 6c6c 6f77 696e 6720 636f 6e73  e following cons
+000042d0: 7472 7563 7473 2068 6176 6520 6e6f 2065  tructs have no e
+000042e0: 7175 6976 616c 656e 7420 696e 2050 7974  quivalent in Pyt
+000042f0: 686f 6e20 322c 2061 6e64 2072 6571 7569  hon 2, and requi
+00004300: 7265 2074 6865 2073 7065 6369 6669 6361  re the specifica
+00004310: 7469 6f6e 206f 6620 6120 7461 7267 6574  tion of a target
+00004320: 206f 6620 6174 206c 6561 7374 2060 3360   of at least `3`
+00004330: 2074 6f20 6265 2075 7365 643a 0d0a 0d0a   to be used:....
+00004340: 2d20 7468 6520 606e 6f6e 6c6f 6361 6c60  - the `nonlocal`
+00004350: 206b 6579 776f 7264 2c0d 0a2d 206b 6579   keyword,..- key
+00004360: 776f 7264 2d6f 6e6c 7920 6675 6e63 7469  word-only functi
+00004370: 6f6e 2070 6172 616d 6574 6572 7320 2875  on parameters (u
+00004380: 7365 205b 7061 7474 6572 6e2d 6d61 7463  se [pattern-matc
+00004390: 6869 6e67 2066 756e 6374 696f 6e20 6465  hing function de
+000043a0: 6669 6e69 7469 6f6e 5d28 2370 6174 7465  finition](#patte
+000043b0: 726e 2d6d 6174 6368 696e 672d 6675 6e63  rn-matching-func
+000043c0: 7469 6f6e 7329 2066 6f72 2075 6e69 7665  tions) for unive
+000043d0: 7273 616c 2063 6f64 6529 2c0d 0a2d 2060  rsal code),..- `
+000043e0: 6173 796e 6360 2061 6e64 2060 6177 6169  async` and `awai
+000043f0: 7460 2073 7461 7465 6d65 6e74 7320 2872  t` statements (r
+00004400: 6571 7569 7265 7320 6120 7370 6563 6966  equires a specif
+00004410: 6963 2074 6172 6765 743b 2043 6f63 6f6e  ic target; Cocon
+00004420: 7574 2077 696c 6c20 6174 7465 6d70 7420  ut will attempt 
+00004430: 6469 6666 6572 656e 7420 6261 636b 706f  different backpo
+00004440: 7274 7320 6261 7365 6420 6f6e 2074 6865  rts based on the
+00004450: 2074 6172 6765 7465 6420 7665 7273 696f   targeted versio
+00004460: 6e29 2c0d 0a2d 2060 3a3d 6020 6173 7369  n),..- `:=` assi
+00004470: 676e 6d65 6e74 2065 7870 7265 7373 696f  gnment expressio
+00004480: 6e73 2028 7265 7175 6972 6573 2060 2d2d  ns (requires `--
+00004490: 7461 7267 6574 2033 2e38 6029 2c0d 0a2d  target 3.8`),..-
+000044a0: 2070 6f73 6974 696f 6e61 6c2d 6f6e 6c79   positional-only
+000044b0: 2066 756e 6374 696f 6e20 7061 7261 6d65   function parame
+000044c0: 7465 7273 2028 7573 6520 5b70 6174 7465  ters (use [patte
+000044d0: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+000044e0: 7469 6f6e 2064 6566 696e 6974 696f 6e5d  tion definition]
+000044f0: 2823 7061 7474 6572 6e2d 6d61 7463 6869  (#pattern-matchi
+00004500: 6e67 2d66 756e 6374 696f 6e73 2920 666f  ng-functions) fo
+00004510: 7220 756e 6976 6572 7361 6c20 636f 6465  r universal code
+00004520: 2920 2872 6571 7569 7265 7320 602d 2d74  ) (requires `--t
+00004530: 6172 6765 7420 332e 3860 292c 0d0a 2d20  arget 3.8`),..- 
+00004540: 6061 5b78 2c20 2a79 5d60 2076 6172 6961  `a[x, *y]` varia
+00004550: 6469 6320 6765 6e65 7269 6320 7379 6e74  dic generic synt
+00004560: 6178 2028 7573 6520 5b74 7970 6520 7061  ax (use [type pa
+00004570: 7261 6d65 7465 7220 7379 6e74 6178 5d28  rameter syntax](
+00004580: 2374 7970 652d 7061 7261 6d65 7465 722d  #type-parameter-
+00004590: 7379 6e74 6178 2920 666f 7220 756e 6976  syntax) for univ
+000045a0: 6572 7361 6c20 636f 6465 2920 2872 6571  ersal code) (req
+000045b0: 7569 7265 7320 602d 2d74 6172 6765 7420  uires `--target 
+000045c0: 332e 3131 6029 2c20 616e 640d 0a2d 2060  3.11`), and..- `
+000045d0: 6578 6365 7074 2a60 206d 756c 7469 2d65  except*` multi-e
+000045e0: 7863 6570 7420 7374 6174 656d 656e 7473  xcept statements
+000045f0: 2028 7265 7175 6972 6573 2060 2d2d 7461   (requires `--ta
+00004600: 7267 6574 2033 2e31 3160 292e 0d0a 0d0a  rget 3.11`).....
+00004610: 5f4e 6f74 653a 2043 6f63 6f6e 7574 2061  _Note: Coconut a
+00004620: 6c73 6f20 756e 6976 6572 7361 6c69 7a65  lso universalize
+00004630: 7320 6d61 6e79 206d 6167 6963 206d 6574  s many magic met
+00004640: 686f 6473 2c20 696e 636c 7564 696e 6720  hods, including 
+00004650: 6d61 6b69 6e67 2060 5f5f 626f 6f6c 5f5f  making `__bool__
+00004660: 6020 616e 6420 5b60 5f5f 7365 745f 6e61  ` and [`__set_na
+00004670: 6d65 5f5f 605d 2868 7474 7073 3a2f 2f64  me__`](https://d
+00004680: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+00004690: 2f72 6566 6572 656e 6365 2f64 6174 616d  /reference/datam
+000046a0: 6f64 656c 2e68 746d 6c23 6f62 6a65 6374  odel.html#object
+000046b0: 2e5f 5f73 6574 5f6e 616d 655f 5f29 2077  .__set_name__) w
+000046c0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
+000046d0: 6e20 7665 7273 696f 6e2e 5f0d 0a0d 0a23  n version._....#
+000046e0: 2323 2320 416c 6c6f 7761 626c 6520 5461  ### Allowable Ta
+000046f0: 7267 6574 730d 0a0d 0a49 6620 7468 6520  rgets....If the 
+00004700: 7665 7273 696f 6e20 6f66 2050 7974 686f  version of Pytho
+00004710: 6e20 7468 6174 2074 6865 2063 6f6d 7069  n that the compi
+00004720: 6c65 6420 636f 6465 2077 696c 6c20 6265  led code will be
+00004730: 2072 756e 6e69 6e67 206f 6e20 6973 206b   running on is k
+00004740: 6e6f 776e 2061 6865 6164 206f 6620 7469  nown ahead of ti
+00004750: 6d65 2c20 6120 7461 7267 6574 2073 686f  me, a target sho
+00004760: 756c 6420 6265 2073 7065 6369 6669 6564  uld be specified
+00004770: 2077 6974 6820 602d 2d74 6172 6765 7460   with `--target`
+00004780: 2e20 5468 6520 6769 7665 6e20 7461 7267  . The given targ
+00004790: 6574 2077 696c 6c20 6f6e 6c79 2061 6666  et will only aff
+000047a0: 6563 7420 7468 6520 636f 6d70 696c 6564  ect the compiled
+000047b0: 2063 6f64 6520 616e 6420 7768 6574 6865   code and whethe
+000047c0: 7220 6f72 206e 6f74 2074 6865 2050 7974  r or not the Pyt
+000047d0: 686f 6e2d 332d 7370 6563 6966 6963 2073  hon-3-specific s
+000047e0: 796e 7461 7820 6465 7461 696c 6564 2061  yntax detailed a
+000047f0: 626f 7665 2069 7320 616c 6c6f 7765 642e  bove is allowed.
+00004800: 2057 6865 7265 2050 7974 686f 6e20 7379   Where Python sy
+00004810: 6e74 6178 2064 6966 6665 7273 2061 6372  ntax differs acr
+00004820: 6f73 7320 7665 7273 696f 6e73 2c20 436f  oss versions, Co
+00004830: 636f 6e75 7420 7379 6e74 6178 2077 696c  conut syntax wil
+00004840: 6c20 616c 7761 7973 2066 6f6c 6c6f 7720  l always follow 
+00004850: 7468 6520 6c61 7465 7374 2050 7974 686f  the latest Pytho
+00004860: 6e20 3320 6163 726f 7373 2061 6c6c 2074  n 3 across all t
+00004870: 6172 6765 7473 2e20 5468 6520 7375 7070  argets. The supp
+00004880: 6f72 7465 6420 7461 7267 6574 7320 6172  orted targets ar
+00004890: 653a 0d0a 0d0a 2d20 6075 6e69 7665 7273  e:....- `univers
+000048a0: 616c 602c 2060 756e 6976 6020 2874 6865  al`, `univ` (the
+000048b0: 2064 6566 6175 6c74 293a 2077 696c 6c20   default): will 
+000048c0: 776f 726b 206f 6e20 5f61 6e79 5f20 6f66  work on _any_ of
+000048d0: 2074 6865 2062 656c 6f77 0d0a 2d20 6032   the below..- `2
+000048e0: 602c 2060 322e 3660 3a20 7769 6c6c 2077  `, `2.6`: will w
+000048f0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
+00004900: 6e20 603e 3d20 322e 3660 2062 7574 2060  n `>= 2.6` but `
+00004910: 3c20 3360 0d0a 2d20 6032 2e37 603a 2077  < 3`..- `2.7`: w
+00004920: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
+00004930: 5079 7468 6f6e 2060 3e3d 2032 2e37 6020  Python `>= 2.7` 
+00004940: 6275 7420 603c 2033 600d 0a2d 2060 3360  but `< 3`..- `3`
+00004950: 2c20 6033 2e32 603a 2077 696c 6c20 776f  , `3.2`: will wo
+00004960: 726b 206f 6e20 616e 7920 5079 7468 6f6e  rk on any Python
+00004970: 2060 3e3d 2033 2e32 600d 0a2d 2060 332e   `>= 3.2`..- `3.
+00004980: 3360 3a20 7769 6c6c 2077 6f72 6b20 6f6e  3`: will work on
+00004990: 2061 6e79 2050 7974 686f 6e20 603e 3d20   any Python `>= 
+000049a0: 332e 3360 0d0a 2d20 6033 2e34 603a 2077  3.3`..- `3.4`: w
+000049b0: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
+000049c0: 5079 7468 6f6e 2060 3e3d 2033 2e34 600d  Python `>= 3.4`.
+000049d0: 0a2d 2060 332e 3560 3a20 7769 6c6c 2077  .- `3.5`: will w
+000049e0: 6f72 6b20 6f6e 2061 6e79 2050 7974 686f  ork on any Pytho
+000049f0: 6e20 603e 3d20 332e 3560 0d0a 2d20 6033  n `>= 3.5`..- `3
+00004a00: 2e36 603a 2077 696c 6c20 776f 726b 206f  .6`: will work o
+00004a10: 6e20 616e 7920 5079 7468 6f6e 2060 3e3d  n any Python `>=
+00004a20: 2033 2e36 600d 0a2d 2060 332e 3760 3a20   3.6`..- `3.7`: 
+00004a30: 7769 6c6c 2077 6f72 6b20 6f6e 2061 6e79  will work on any
+00004a40: 2050 7974 686f 6e20 603e 3d20 332e 3760   Python `>= 3.7`
+00004a50: 0d0a 2d20 6033 2e38 603a 2077 696c 6c20  ..- `3.8`: will 
+00004a60: 776f 726b 206f 6e20 616e 7920 5079 7468  work on any Pyth
+00004a70: 6f6e 2060 3e3d 2033 2e38 600d 0a2d 2060  on `>= 3.8`..- `
+00004a80: 332e 3960 3a20 7769 6c6c 2077 6f72 6b20  3.9`: will work 
+00004a90: 6f6e 2061 6e79 2050 7974 686f 6e20 603e  on any Python `>
+00004aa0: 3d20 332e 3960 0d0a 2d20 6033 2e31 3060  = 3.9`..- `3.10`
+00004ab0: 3a20 7769 6c6c 2077 6f72 6b20 6f6e 2061  : will work on a
+00004ac0: 6e79 2050 7974 686f 6e20 603e 3d20 332e  ny Python `>= 3.
+00004ad0: 3130 600d 0a2d 2060 332e 3131 603a 2077  10`..- `3.11`: w
+00004ae0: 696c 6c20 776f 726b 206f 6e20 616e 7920  ill work on any 
+00004af0: 5079 7468 6f6e 2060 3e3d 2033 2e31 3160  Python `>= 3.11`
+00004b00: 0d0a 2d20 6033 2e31 3260 3a20 7769 6c6c  ..- `3.12`: will
+00004b10: 2077 6f72 6b20 6f6e 2061 6e79 2050 7974   work on any Pyt
+00004b20: 686f 6e20 603e 3d20 332e 3132 600d 0a2d  hon `>= 3.12`..-
+00004b30: 2060 332e 3133 603a 2077 696c 6c20 776f   `3.13`: will wo
+00004b40: 726b 206f 6e20 616e 7920 5079 7468 6f6e  rk on any Python
+00004b50: 2060 3e3d 2033 2e31 3360 0d0a 2d20 6073   `>= 3.13`..- `s
+00004b60: 7973 603a 2063 686f 6f73 6573 2074 6865  ys`: chooses the
+00004b70: 2074 6172 6765 7420 636f 7272 6573 706f   target correspo
+00004b80: 6e64 696e 6720 746f 2074 6865 2063 7572  nding to the cur
+00004b90: 7265 6e74 2050 7974 686f 6e20 7665 7273  rent Python vers
+00004ba0: 696f 6e0d 0a2d 2060 7073 6660 3a20 7769  ion..- `psf`: wi
+00004bb0: 6c6c 2077 6f72 6b20 6f6e 2061 6e79 2050  ll work on any P
+00004bc0: 7974 686f 6e20 6e6f 7420 636f 6e73 6964  ython not consid
+00004bd0: 6572 6564 205b 656e 642d 6f66 2d6c 6966  ered [end-of-lif
+00004be0: 655d 2868 7474 7073 3a2f 2f64 6576 6775  e](https://devgu
+00004bf0: 6964 652e 7079 7468 6f6e 2e6f 7267 2f76  ide.python.org/v
+00004c00: 6572 7369 6f6e 732f 2920 6279 2074 6865  ersions/) by the
+00004c10: 2050 5346 2028 5079 7468 6f6e 2053 6f66   PSF (Python Sof
+00004c20: 7477 6172 6520 466f 756e 6461 7469 6f6e  tware Foundation
+00004c30: 290d 0a0d 0a5f 4e6f 7465 3a20 5065 7269  )...._Note: Peri
+00004c40: 6f64 7320 6172 6520 6f70 7469 6f6e 616c  ods are optional
+00004c50: 2069 6e20 7461 7267 6574 2073 7065 6369   in target speci
+00004c60: 6669 6361 7469 6f6e 732c 2073 7563 6820  fications, such 
+00004c70: 7468 6174 2074 6865 2074 6172 6765 7420  that the target 
+00004c80: 6032 3760 2069 7320 6571 7569 7661 6c65  `27` is equivale
+00004c90: 6e74 2074 6f20 7468 6520 7461 7267 6574  nt to the target
+00004ca0: 2060 322e 3760 2e5f 0d0a 0d0a 2323 2323   `2.7`._....####
+00004cb0: 2060 7374 7269 6374 6020 4d6f 6465 0d0a   `strict` Mode..
+00004cc0: 0d0a 4966 2074 6865 2060 2d2d 7374 7269  ..If the `--stri
+00004cd0: 6374 6020 2860 2d73 6020 666f 7220 7368  ct` (`-s` for sh
+00004ce0: 6f72 7429 2066 6c61 6720 6973 2065 6e61  ort) flag is ena
+00004cf0: 626c 6564 2c20 436f 636f 6e75 7420 7769  bled, Coconut wi
+00004d00: 6c6c 2070 6572 666f 726d 2061 6464 6974  ll perform addit
+00004d10: 696f 6e61 6c20 6368 6563 6b73 206f 6e20  ional checks on 
+00004d20: 7468 6520 636f 6465 2062 6569 6e67 2063  the code being c
+00004d30: 6f6d 7069 6c65 642e 2049 7420 6973 2072  ompiled. It is r
+00004d40: 6563 6f6d 6d65 6e64 6564 2074 6861 7420  ecommended that 
+00004d50: 796f 7520 7573 6520 7468 6520 602d 2d73  you use the `--s
+00004d60: 7472 6963 7460 2066 6c61 6720 6966 2079  trict` flag if y
+00004d70: 6f75 2061 7265 2073 7461 7274 696e 6720  ou are starting 
+00004d80: 6120 6e65 7720 436f 636f 6e75 7420 7072  a new Coconut pr
+00004d90: 6f6a 6563 742c 2061 7320 6974 2077 696c  oject, as it wil
+00004da0: 6c20 6865 6c70 2079 6f75 2077 7269 7465  l help you write
+00004db0: 2063 6c65 616e 6572 2063 6f64 652e 2053   cleaner code. S
+00004dc0: 7065 6369 6669 6361 6c6c 792c 2074 6865  pecifically, the
+00004dd0: 2065 7874 7261 2063 6865 636b 7320 646f   extra checks do
+00004de0: 6e65 2062 7920 602d 2d73 7472 6963 7460  ne by `--strict`
+00004df0: 2061 7265 3a0d 0a0d 0a2d 2064 6973 6162   are:....- disab
+00004e00: 6c69 6e67 2064 6570 7265 6361 7465 6420  ling deprecated 
+00004e10: 6665 6174 7572 6573 2028 6d61 6b69 6e67  features (making
+00004e20: 2074 6865 6d20 656e 7469 7265 6c79 2075   them entirely u
+00004e30: 6e61 7661 696c 6162 6c65 2074 6f20 636f  navailable to co
+00004e40: 6465 2063 6f6d 7069 6c65 6420 7769 7468  de compiled with
+00004e50: 2060 2d2d 7374 7269 6374 6029 2c0d 0a2d   `--strict`),..-
+00004e60: 2065 7272 6f72 7320 696e 7374 6561 6420   errors instead 
+00004e70: 6f66 2077 6172 6e69 6e67 7320 6f6e 2075  of warnings on u
+00004e80: 6e75 7365 6420 696d 706f 7274 7320 2875  nused imports (u
+00004e90: 6e6c 6573 7320 7468 6579 2068 6176 6520  nless they have 
+00004ea0: 6120 6023 204e 4f51 4160 206f 7220 6023  a `# NOQA` or `#
+00004eb0: 206e 6f71 6160 2063 6f6d 6d65 6e74 292c   noqa` comment),
+00004ec0: 0d0a 2d20 6572 726f 7273 2069 6e73 7465  ..- errors inste
+00004ed0: 6164 206f 6620 7761 726e 696e 6773 2077  ad of warnings w
+00004ee0: 6865 6e20 6f76 6572 7772 6974 696e 6720  hen overwriting 
+00004ef0: 6275 696c 742d 696e 7320 2875 6e6c 6573  built-ins (unles
+00004f00: 7320 6120 6261 636b 736c 6173 6820 6973  s a backslash is
+00004f10: 2075 7365 6420 746f 2065 7363 6170 6520   used to escape 
+00004f20: 7468 6520 6275 696c 742d 696e 206e 616d  the built-in nam
+00004f30: 6529 2c0d 0a2d 2077 6172 6e69 6e67 206f  e),..- warning o
+00004f40: 6e20 6d69 7373 696e 6720 605f 5f69 6e69  n missing `__ini
+00004f50: 745f 5f2e 636f 636f 6020 6669 6c65 7320  t__.coco` files 
+00004f60: 7768 656e 2063 6f6d 7069 6c69 6e67 2069  when compiling i
+00004f70: 6e20 602d 2d70 6163 6b61 6765 6020 6d6f  n `--package` mo
+00004f80: 6465 2c0d 0a2d 2074 6872 6f77 696e 6720  de,..- throwing 
+00004f90: 6572 726f 7273 206f 6e20 7661 7269 6f75  errors on variou
+00004fa0: 7320 7374 796c 6520 7072 6f62 6c65 6d73  s style problems
+00004fb0: 2028 7365 6520 6c69 7374 2062 656c 6f77   (see list below
+00004fc0: 292e 0d0a 0d0a 5468 6520 7374 796c 6520  ).....The style 
+00004fd0: 6973 7375 6573 2077 6869 6368 2077 696c  issues which wil
+00004fe0: 6c20 6361 7573 6520 602d 2d73 7472 6963  l cause `--stric
+00004ff0: 7460 2074 6f20 7468 726f 7720 616e 2065  t` to throw an e
+00005000: 7272 6f72 2061 7265 3a0d 0a0d 0a2d 206d  rror are:....- m
+00005010: 6978 696e 6720 6f66 2074 6162 7320 616e  ixing of tabs an
+00005020: 6420 7370 6163 6573 0d0a 2d20 7573 6520  d spaces..- use 
+00005030: 6f66 2060 6672 6f6d 205f 5f66 7574 7572  of `from __futur
+00005040: 655f 5f60 2069 6d70 6f72 7473 2028 436f  e__` imports (Co
+00005050: 636f 6e75 7420 646f 6573 2074 6865 7365  conut does these
+00005060: 2061 7574 6f6d 6174 6963 616c 6c79 290d   automatically).
+00005070: 0a2d 2069 6e68 6572 6974 696e 6720 6672  .- inheriting fr
+00005080: 6f6d 2060 6f62 6a65 6374 6020 696e 2063  om `object` in c
+00005090: 6c61 7373 6573 2028 436f 636f 6e75 7420  lasses (Coconut 
+000050a0: 646f 6573 2074 6869 7320 6175 746f 6d61  does this automa
+000050b0: 7469 6361 6c6c 7929 0d0a 2d20 7365 6d69  tically)..- semi
+000050c0: 636f 6c6f 6e73 2061 7420 656e 6420 6f66  colons at end of
+000050d0: 206c 696e 6573 0d0a 2d20 7573 6520 6f66   lines..- use of
+000050e0: 2060 7560 2074 6f20 6465 6e6f 7465 2055   `u` to denote U
+000050f0: 6e69 636f 6465 2073 7472 696e 6773 2028  nicode strings (
+00005100: 616c 6c20 436f 636f 6e75 7420 7374 7269  all Coconut stri
+00005110: 6e67 7320 6172 6520 556e 6963 6f64 6520  ngs are Unicode 
+00005120: 7374 7269 6e67 7329 0d0a 2d20 6066 602d  strings)..- `f`-
+00005130: 7374 7269 6e67 7320 7769 7468 206e 6f20  strings with no 
+00005140: 666f 726d 6174 2065 7870 7265 7373 696f  format expressio
+00005150: 6e73 2069 6e20 7468 656d 0d0a 2d20 636f  ns in them..- co
+00005160: 6d6d 6173 2061 6674 6572 205b 7374 6174  mmas after [stat
+00005170: 656d 656e 7420 6c61 6d62 6461 735d 2823  ement lambdas](#
+00005180: 7374 6174 656d 656e 742d 6c61 6d62 6461  statement-lambda
+00005190: 7329 2028 6e6f 7420 7265 636f 6d6d 656e  s) (not recommen
+000051a0: 6465 6420 6173 2069 7420 6361 6e20 6265  ded as it can be
+000051b0: 2075 6e63 6c65 6172 2077 6865 7468 6572   unclear whether
+000051c0: 2074 6865 2063 6f6d 6d61 2069 7320 696e   the comma is in
+000051d0: 7369 6465 206f 7220 6f75 7473 6964 6520  side or outside 
+000051e0: 7468 6520 6c61 6d62 6461 290d 0a2d 206d  the lambda)..- m
+000051f0: 6973 7369 6e67 206e 6577 206c 696e 6520  issing new line 
+00005200: 6174 2065 6e64 206f 6620 6669 6c65 0d0a  at end of file..
+00005210: 2d20 7472 6169 6c69 6e67 2077 6869 7465  - trailing white
+00005220: 7370 6163 6520 6174 2065 6e64 206f 6620  space at end of 
+00005230: 6c69 6e65 730d 0a2d 2075 7365 206f 6620  lines..- use of 
+00005240: 7468 6520 5079 7468 6f6e 2d73 7479 6c65  the Python-style
+00005250: 2060 6c61 6d62 6461 6020 7374 6174 656d   `lambda` statem
+00005260: 656e 7420 2875 7365 205b 436f 636f 6e75  ent (use [Coconu
+00005270: 7427 7320 6c61 6d62 6461 2073 796e 7461  t's lambda synta
+00005280: 785d 2823 6c61 6d62 6461 7329 2069 6e73  x](#lambdas) ins
+00005290: 7465 6164 290d 0a2d 2075 7365 206f 6620  tead)..- use of 
+000052a0: 6261 636b 736c 6173 6820 636f 6e74 696e  backslash contin
+000052b0: 7561 7469 6f6e 2028 7573 6520 5b70 6172  uation (use [par
+000052c0: 656e 7468 6574 6963 616c 2063 6f6e 7469  enthetical conti
+000052d0: 6e75 6174 696f 6e5d 2823 656e 6861 6e63  nuation](#enhanc
+000052e0: 6564 2d70 6172 656e 7468 6574 6963 616c  ed-parenthetical
+000052f0: 2d63 6f6e 7469 6e75 6174 696f 6e29 2069  -continuation) i
+00005300: 6e73 7465 6164 290d 0a2d 2050 7974 686f  nstead)..- Pytho
+00005310: 6e2d 332e 3130 2f50 4550 2d36 3334 2d73  n-3.10/PEP-634-s
+00005320: 7479 6c65 2064 6f74 7465 6420 6e61 6d65  tyle dotted name
+00005330: 7320 696e 2070 6174 7465 726e 2d6d 6174  s in pattern-mat
+00005340: 6368 696e 6720 2843 6f63 6f6e 7574 2073  ching (Coconut s
+00005350: 7479 6c65 2069 7320 746f 2070 7265 6661  tyle is to prefa
+00005360: 6365 2074 6865 7365 2077 6974 6820 603d  ce these with `=
+00005370: 3d60 290d 0a2d 2075 7365 206f 6620 603a  =`)..- use of `:
+00005380: 6020 696e 7374 6561 6420 6f66 2060 3c3a  ` instead of `<:
+00005390: 6020 746f 2073 7065 6369 6679 2075 7070  ` to specify upp
+000053a0: 6572 2062 6f75 6e64 7320 696e 205b 436f  er bounds in [Co
+000053b0: 636f 6e75 7427 7320 7479 7065 2070 6172  conut's type par
+000053c0: 616d 6574 6572 2073 796e 7461 785d 2823  ameter syntax](#
+000053d0: 7479 7065 2d70 6172 616d 6574 6572 2d73  type-parameter-s
+000053e0: 796e 7461 7829 0d0a 0d0a 4e6f 7465 2074  yntax)....Note t
+000053f0: 6861 7420 6d61 6e79 206f 6620 7468 6520  hat many of the 
+00005400: 6162 6f76 6520 7374 796c 6520 6973 7375  above style issu
+00005410: 6573 2077 696c 6c20 7374 696c 6c20 7368  es will still sh
+00005420: 6f77 2061 2077 6172 6e69 6e67 2069 6620  ow a warning if 
+00005430: 602d 2d73 7472 6963 7460 2069 7320 6e6f  `--strict` is no
+00005440: 7420 7072 6573 656e 742e 0d0a 0d0a 2323  t present.....##
+00005450: 2049 6e74 6567 7261 7469 6f6e 730d 0a0d   Integrations...
+00005460: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+00005470: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+00005480: 7468 3a20 320d 0a2d 2d2d 0d0a 6060 600d  th: 2..---..```.
+00005490: 0a0d 0a23 2323 2320 5379 6e74 6178 2048  ...#### Syntax H
+000054a0: 6967 686c 6967 6874 696e 670d 0a0d 0a54  ighlighting....T
+000054b0: 6578 7420 6564 6974 6f72 7320 7769 7468  ext editors with
+000054c0: 2073 7570 706f 7274 2066 6f72 2043 6f63   support for Coc
+000054d0: 6f6e 7574 2073 796e 7461 7820 6869 6768  onut syntax high
+000054e0: 6c69 6768 7469 6e67 2061 7265 3a0d 0a0d  lighting are:...
+000054f0: 0a2d 202a 2a56 5343 6f64 652a 2a3a 2049  .- **VSCode**: I
+00005500: 6e73 7461 6c6c 205b 436f 636f 6e75 7420  nstall [Coconut 
+00005510: 284f 6666 6963 6961 6c29 5d28 6874 7470  (Official)](http
+00005520: 733a 2f2f 6d61 726b 6574 706c 6163 652e  s://marketplace.
+00005530: 7669 7375 616c 7374 7564 696f 2e63 6f6d  visualstudio.com
+00005540: 2f69 7465 6d73 3f69 7465 6d4e 616d 653d  /items?itemName=
+00005550: 6576 6875 622e 636f 636f 6e75 7429 2028  evhub.coconut) (
+00005560: 666f 7220 2a2a 5653 436f 6469 756d 2a2a  for **VSCodium**
+00005570: 2c20 696e 7374 616c 6c20 6672 6f6d 204f  , install from O
+00005580: 7065 6e20 5653 5820 5b68 6572 655d 2868  pen VSX [here](h
+00005590: 7474 7073 3a2f 2f6f 7065 6e2d 7673 782e  ttps://open-vsx.
+000055a0: 6f72 672f 6578 7465 6e73 696f 6e2f 6576  org/extension/ev
+000055b0: 6875 622f 636f 636f 6e75 7429 2069 6e73  hub/coconut) ins
+000055c0: 7465 6164 292e 0d0a 2d20 2a2a 5375 626c  tead)...- **Subl
+000055d0: 696d 6554 6578 742a 2a3a 2053 6565 2053  imeText**: See S
+000055e0: 7562 6c69 6d65 5465 7874 2073 6563 7469  ublimeText secti
+000055f0: 6f6e 2062 656c 6f77 2e0d 0a2d 202a 2a53  on below...- **S
+00005600: 7079 6465 722a 2a20 286f 7220 616e 7920  pyder** (or any 
+00005610: 6f74 6865 7220 6564 6974 6f72 2074 6861  other editor tha
+00005620: 7420 7375 7070 6f72 7473 202a 2a50 7967  t supports **Pyg
+00005630: 6d65 6e74 732a 2a29 3a20 5365 6520 5079  ments**): See Py
+00005640: 676d 656e 7473 2073 6563 7469 6f6e 2062  gments section b
+00005650: 656c 6f77 2e0d 0a2d 202a 2a56 696d 2a2a  elow...- **Vim**
+00005660: 3a20 5365 6520 5b60 636f 636f 6e75 742e  : See [`coconut.
+00005670: 7669 6d60 5d28 6874 7470 733a 2f2f 6769  vim`](https://gi
+00005680: 7468 7562 2e63 6f6d 2f6d 616e 6963 6d61  thub.com/manicma
+00005690: 6e69 6163 2f63 6f63 6f6e 7574 2e76 696d  niac/coconut.vim
+000056a0: 292e 0d0a 2d20 2a2a 456d 6163 732a 2a3a  )...- **Emacs**:
+000056b0: 2053 6565 205b 6065 6d61 6373 2d63 6f63   See [`emacs-coc
+000056c0: 6f6e 7574 605d 2868 7474 7073 3a2f 2f63  onut`](https://c
+000056d0: 6f64 6562 6572 672e 6f72 672f 6b6f 6261  odeberg.org/koba
+000056e0: 7269 7479 2f65 6d61 6373 2d63 6f63 6f6e  rity/emacs-cocon
+000056f0: 7574 292f 5b60 656d 6163 732d 6f62 2d63  ut)/[`emacs-ob-c
+00005700: 6f63 6f6e 7574 605d 2868 7474 7073 3a2f  oconut`](https:/
+00005710: 2f63 6f64 6562 6572 672e 6f72 672f 6b6f  /codeberg.org/ko
+00005720: 6261 7269 7479 2f65 6d61 6373 2d6f 622d  barity/emacs-ob-
+00005730: 636f 636f 6e75 7429 2e0d 0a2d 202a 2a41  coconut)...- **A
+00005740: 746f 6d2a 2a3a 2053 6565 205b 606c 616e  tom**: See [`lan
+00005750: 6775 6167 652d 636f 636f 6e75 7460 5d28  guage-coconut`](
+00005760: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005770: 6f6d 2f65 6e69 6c73 656e 3136 2f6c 616e  om/enilsen16/lan
+00005780: 6775 6167 652d 636f 636f 6e75 7429 2e0d  guage-coconut)..
+00005790: 0a0d 0a41 6c74 6572 6e61 7469 7665 6c79  ...Alternatively
+000057a0: 2c20 6966 206e 6f6e 6520 6f66 2074 6865  , if none of the
+000057b0: 2061 626f 7665 2077 6f72 6b20 666f 7220   above work for 
+000057c0: 796f 752c 2079 6f75 2063 616e 206a 7573  you, you can jus
+000057d0: 7420 7472 6561 7420 436f 636f 6e75 7420  t treat Coconut 
+000057e0: 6173 2050 7974 686f 6e2e 2053 696d 706c  as Python. Simpl
+000057f0: 7920 7365 7420 7570 2079 6f75 7220 6564  y set up your ed
+00005800: 6974 6f72 2073 6f20 6974 2069 6e74 6572  itor so it inter
+00005810: 7072 6574 7320 616c 6c20 602e 636f 636f  prets all `.coco
+00005820: 6020 6669 6c65 7320 6173 2050 7974 686f  ` files as Pytho
+00005830: 6e20 616e 6420 7468 6174 2073 686f 756c  n and that shoul
+00005840: 6420 6869 6768 6c69 6768 7420 6d6f 7374  d highlight most
+00005850: 206f 6620 796f 7572 2063 6f64 6520 7765   of your code we
+00005860: 6c6c 2065 6e6f 7567 6820 2865 2e67 2e20  ll enough (e.g. 
+00005870: 666f 7220 496e 7465 6c6c 694a 2049 4445  for IntelliJ IDE
+00005880: 4120 7365 6520 5b72 6567 6973 7465 7269  A see [registeri
+00005890: 6e67 2066 696c 6520 7479 7065 735d 2868  ng file types](h
+000058a0: 7474 7073 3a2f 2f77 7777 2e6a 6574 6272  ttps://www.jetbr
+000058b0: 6169 6e73 2e63 6f6d 2f68 656c 702f 6964  ains.com/help/id
+000058c0: 6561 2f63 7265 6174 696e 672d 616e 642d  ea/creating-and-
+000058d0: 7265 6769 7374 6572 696e 672d 6669 6c65  registering-file
+000058e0: 2d74 7970 6573 2e68 746d 6c29 292e 0d0a  -types.html))...
+000058f0: 0d0a 2323 2323 2320 5375 626c 696d 6554  ..##### SublimeT
+00005900: 6578 740d 0a0d 0a43 6f63 6f6e 7574 2073  ext....Coconut s
+00005910: 796e 7461 7820 6869 6768 6c69 6768 7469  yntax highlighti
+00005920: 6e67 2066 6f72 2053 7562 6c69 6d65 5465  ng for SublimeTe
+00005930: 7874 2072 6571 7569 7265 7320 7468 6174  xt requires that
+00005940: 205b 5061 636b 6167 6520 436f 6e74 726f   [Package Contro
+00005950: 6c5d 2868 7474 7073 3a2f 2f70 6163 6b61  l](https://packa
+00005960: 6765 636f 6e74 726f 6c2e 696f 2f69 6e73  gecontrol.io/ins
+00005970: 7461 6c6c 6174 696f 6e29 2c20 7468 6520  tallation), the 
+00005980: 7374 616e 6461 7264 2070 6163 6b61 6765  standard package
+00005990: 206d 616e 6167 6572 2066 6f72 2053 7562   manager for Sub
+000059a0: 6c69 6d65 5465 7874 2c20 6265 2069 6e73  limeText, be ins
+000059b0: 7461 6c6c 6564 2e20 4f6e 6365 2074 6861  talled. Once tha
+000059c0: 7420 6973 2064 6f6e 652c 2073 696d 706c  t is done, simpl
+000059d0: 793a 0d0a 0d0a 312e 206f 7065 6e20 7468  y:....1. open th
+000059e0: 6520 5375 626c 696d 6554 6578 7420 636f  e SublimeText co
+000059f0: 6d6d 616e 6420 7061 6c65 7474 6520 6279  mmand palette by
+00005a00: 2070 7265 7373 696e 6720 6043 7472 6c2b   pressing `Ctrl+
+00005a10: 5368 6966 742b 5060 2028 6f72 2060 436d  Shift+P` (or `Cm
+00005a20: 642b 5368 6966 742b 5060 206f 6e20 4d61  d+Shift+P` on Ma
+00005a30: 6329 2c0d 0a32 2e20 7479 7065 2061 6e64  c),..2. type and
+00005a40: 2065 6e74 6572 2060 5061 636b 6167 6520   enter `Package 
+00005a50: 436f 6e74 726f 6c3a 2049 6e73 7461 6c6c  Control: Install
+00005a60: 2050 6163 6b61 6765 602c 2061 6e64 0d0a   Package`, and..
+00005a70: 332e 2066 696e 616c 6c79 2074 7970 6520  3. finally type 
+00005a80: 616e 6420 656e 7465 7220 6043 6f63 6f6e  and enter `Cocon
+00005a90: 7574 602e 0d0a 0d0a 546f 206d 616b 6520  ut`.....To make 
+00005aa0: 7375 7265 2065 7665 7279 7468 696e 6720  sure everything 
+00005ab0: 6973 2077 6f72 6b69 6e67 2070 726f 7065  is working prope
+00005ac0: 726c 792c 206f 7065 6e20 6120 602e 636f  rly, open a `.co
+00005ad0: 636f 6020 6669 6c65 2c20 616e 6420 6d61  co` file, and ma
+00005ae0: 6b65 2073 7572 6520 6043 6f63 6f6e 7574  ke sure `Coconut
+00005af0: 6020 6170 7065 6172 7320 696e 2074 6865  ` appears in the
+00005b00: 2062 6f74 746f 6d20 7269 6768 742d 6861   bottom right-ha
+00005b10: 6e64 2063 6f72 6e65 722e 2049 6620 736f  nd corner. If so
+00005b20: 6d65 7468 696e 6720 656c 7365 2061 7070  mething else app
+00005b30: 6561 7273 2c20 6c69 6b65 2060 506c 6169  ears, like `Plai
+00005b40: 6e20 5465 7874 602c 2063 6c69 636b 206f  n Text`, click o
+00005b50: 6e20 6974 2c20 7365 6c65 6374 2060 4f70  n it, select `Op
+00005b60: 656e 2061 6c6c 2077 6974 6820 6375 7272  en all with curr
+00005b70: 656e 7420 6578 7465 6e73 696f 6e20 6173  ent extension as
+00005b80: 2e2e 2e60 2061 7420 7468 6520 746f 7020  ...` at the top 
+00005b90: 6f66 2074 6865 2072 6573 756c 7469 6e67  of the resulting
+00005ba0: 206d 656e 752c 2061 6e64 2074 6865 6e20   menu, and then 
+00005bb0: 7365 6c65 6374 2060 436f 636f 6e75 7460  select `Coconut`
+00005bc0: 2e0d 0a0d 0a5f 4e6f 7465 3a20 436f 636f  ....._Note: Coco
+00005bd0: 6e75 7420 7379 6e74 6178 2068 6967 686c  nut syntax highl
+00005be0: 6967 6874 696e 6720 666f 7220 5375 626c  ighting for Subl
+00005bf0: 696d 6554 6578 7420 6973 2070 726f 7669  imeText is provi
+00005c00: 6465 6420 6279 2074 6865 205b 7375 626c  ded by the [subl
+00005c10: 696d 652d 636f 636f 6e75 745d 2868 7474  ime-coconut](htt
+00005c20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00005c30: 6576 6875 622f 7375 626c 696d 652d 636f  evhub/sublime-co
+00005c40: 636f 6e75 7429 2070 6163 6b61 6765 2e5f  conut) package._
+00005c50: 0d0a 0d0a 2323 2323 2320 5079 676d 656e  ....##### Pygmen
+00005c60: 7473 0d0a 0d0a 5468 6520 7361 6d65 2060  ts....The same `
+00005c70: 7069 7020 696e 7374 616c 6c20 636f 636f  pip install coco
+00005c80: 6e75 7460 2063 6f6d 6d61 6e64 2074 6861  nut` command tha
+00005c90: 7420 696e 7374 616c 6c73 2074 6865 2043  t installs the C
+00005ca0: 6f63 6f6e 7574 2063 6f6d 6d61 6e64 2d6c  oconut command-l
+00005cb0: 696e 6520 7574 696c 6974 7920 7769 6c6c  ine utility will
+00005cc0: 2061 6c73 6f20 696e 7374 616c 6c20 7468   also install th
+00005cd0: 6520 6063 6f63 6f6e 7574 6020 5079 676d  e `coconut` Pygm
+00005ce0: 656e 7473 206c 6578 6572 2e20 486f 7720  ents lexer. How 
+00005cf0: 746f 2075 7365 2074 6869 7320 6c65 7865  to use this lexe
+00005d00: 7220 6465 7065 6e64 7320 6f6e 2074 6865  r depends on the
+00005d10: 2050 7967 6d65 6e74 732d 656e 6162 6c65   Pygments-enable
+00005d20: 6420 6170 706c 6963 6174 696f 6e20 6265  d application be
+00005d30: 696e 6720 7573 6564 2c20 6275 7420 696e  ing used, but in
+00005d40: 2067 656e 6572 616c 2073 696d 706c 7920   general simply 
+00005d50: 7573 6520 7468 6520 602e 636f 636f 6020  use the `.coco` 
+00005d60: 6669 6c65 2065 7874 656e 7369 6f6e 2028  file extension (
+00005d70: 7368 6f75 6c64 2062 6520 616c 6c20 796f  should be all yo
+00005d80: 7520 6e65 6564 2074 6f20 646f 2066 6f72  u need to do for
+00005d90: 2053 7079 6465 7229 2061 6e64 2f6f 7220   Spyder) and/or 
+00005da0: 656e 7465 7220 6063 6f63 6f6e 7574 6020  enter `coconut` 
+00005db0: 6173 2074 6865 206c 616e 6775 6167 6520  as the language 
+00005dc0: 6265 696e 6720 6869 6768 6c69 6768 7465  being highlighte
+00005dd0: 6420 616e 6420 5079 676d 656e 7473 2073  d and Pygments s
+00005de0: 686f 756c 6420 6265 2061 626c 6520 746f  hould be able to
+00005df0: 2066 6967 7572 6520 6974 206f 7574 2e0d   figure it out..
+00005e00: 0a0d 0a46 6f72 2065 7861 6d70 6c65 2c20  ...For example, 
+00005e10: 7468 6973 2064 6f63 756d 656e 7461 7469  this documentati
+00005e20: 6f6e 2069 7320 6765 6e65 7261 7465 6420  on is generated 
+00005e30: 7769 7468 205b 5370 6869 6e78 5d28 6874  with [Sphinx](ht
+00005e40: 7470 3a2f 2f77 7777 2e73 7068 696e 782d  tp://www.sphinx-
+00005e50: 646f 632e 6f72 672f 656e 2f73 7461 626c  doc.org/en/stabl
+00005e60: 652f 292c 2077 6974 6820 7468 6520 7379  e/), with the sy
+00005e70: 6e74 6178 2068 6967 686c 6967 6874 696e  ntax highlightin
+00005e80: 6720 796f 7520 7365 6520 6372 6561 7465  g you see create
+00005e90: 6420 6279 2061 6464 696e 6720 7468 6520  d by adding the 
+00005ea0: 6c69 6e65 0d0a 6060 6063 6f63 6f6e 7574  line..```coconut
+00005eb0: 5f70 7974 686f 6e0d 0a68 6967 686c 6967  _python..highlig
+00005ec0: 6874 5f6c 616e 6775 6167 6520 3d20 2263  ht_language = "c
+00005ed0: 6f63 6f6e 7574 220d 0a60 6060 0d0a 746f  oconut"..```..to
+00005ee0: 2043 6f63 6f6e 7574 2773 2060 636f 6e66   Coconut's `conf
+00005ef0: 2e70 7960 2e0d 0a0d 0a23 2323 2320 4950  .py`.....#### IP
+00005f00: 7974 686f 6e2f 4a75 7079 7465 7220 5375  ython/Jupyter Su
+00005f10: 7070 6f72 740d 0a0d 0a49 6620 796f 7520  pport....If you 
+00005f20: 7573 6520 5b49 5079 7468 6f6e 5d28 6874  use [IPython](ht
+00005f30: 7470 3a2f 2f69 7079 7468 6f6e 2e6f 7267  tp://ipython.org
+00005f40: 2f29 2028 7468 6520 5079 7468 6f6e 206b  /) (the Python k
+00005f50: 6572 6e65 6c20 666f 7220 7468 6520 5b4a  ernel for the [J
+00005f60: 7570 7974 6572 5d28 6874 7470 3a2f 2f6a  upyter](http://j
+00005f70: 7570 7974 6572 2e6f 7267 2f29 2066 7261  upyter.org/) fra
+00005f80: 6d65 776f 726b 2920 6e6f 7465 626f 6f6b  mework) notebook
+00005f90: 7320 6f72 2063 6f6e 736f 6c65 2c20 436f  s or console, Co
+00005fa0: 636f 6e75 7420 6361 6e20 6265 2075 7365  conut can be use
+00005fb0: 6420 6173 2061 204a 7570 7974 6572 206b  d as a Jupyter k
+00005fc0: 6572 6e65 6c20 6f72 2049 5079 7468 6f6e  ernel or IPython
+00005fd0: 2065 7874 656e 7369 6f6e 2e0d 0a0d 0a23   extension.....#
+00005fe0: 2323 2323 204b 6572 6e65 6c0d 0a0d 0a49  #### Kernel....I
+00005ff0: 6620 436f 636f 6e75 7420 6973 2075 7365  f Coconut is use
+00006000: 6420 6173 2061 206b 6572 6e65 6c2c 2061  d as a kernel, a
+00006010: 6c6c 2063 6f64 6520 696e 2074 6865 2063  ll code in the c
+00006020: 6f6e 736f 6c65 206f 7220 6e6f 7465 626f  onsole or notebo
+00006030: 6f6b 2077 696c 6c20 6265 2073 656e 7420  ok will be sent 
+00006040: 6469 7265 6374 6c79 2074 6f20 436f 636f  directly to Coco
+00006050: 6e75 7420 696e 7374 6561 6420 6f66 2050  nut instead of P
+00006060: 7974 686f 6e20 746f 2062 6520 6576 616c  ython to be eval
+00006070: 7561 7465 642e 204f 7468 6572 7769 7365  uated. Otherwise
+00006080: 2c20 7468 6520 436f 636f 6e75 7420 6b65  , the Coconut ke
+00006090: 726e 656c 2062 6568 6176 6573 2065 7861  rnel behaves exa
+000060a0: 6374 6c79 206c 696b 6520 7468 6520 4950  ctly like the IP
+000060b0: 7974 686f 6e20 6b65 726e 656c 2c20 696e  ython kernel, in
+000060c0: 636c 7564 696e 6720 7375 7070 6f72 7420  cluding support 
+000060d0: 666f 7220 6025 6d61 6769 6360 2063 6f6d  for `%magic` com
+000060e0: 6d61 6e64 732e 0d0a 0d0a 5369 6d70 6c79  mands.....Simply
+000060f0: 2069 6e73 7461 6c6c 696e 6720 436f 636f   installing Coco
+00006100: 6e75 7420 7368 6f75 6c64 2061 6464 2061  nut should add a
+00006110: 2060 436f 636f 6e75 7460 206b 6572 6e65   `Coconut` kerne
+00006120: 6c20 746f 2079 6f75 7220 4a75 7079 7465  l to your Jupyte
+00006130: 722f 4950 7974 686f 6e20 6e6f 7465 626f  r/IPython notebo
+00006140: 6f6b 732e 2049 6620 796f 7520 6172 6520  oks. If you are 
+00006150: 6861 7669 6e67 2069 7373 7565 7320 6163  having issues ac
+00006160: 6365 7373 696e 6720 7468 6520 436f 636f  cessing the Coco
+00006170: 6e75 7420 6b65 726e 656c 2c20 686f 7765  nut kernel, howe
+00006180: 7665 722c 2074 6865 2073 7065 6369 616c  ver, the special
+00006190: 2063 6f6d 6d61 6e64 2060 636f 636f 6e75   command `coconu
+000061a0: 7420 2d2d 6a75 7079 7465 7220 696e 7374  t --jupyter inst
+000061b0: 616c 6c60 2077 696c 6c20 7265 2d69 6e73  all` will re-ins
+000061c0: 7461 6c6c 2074 6865 2060 436f 636f 6e75  tall the `Coconu
+000061d0: 7460 206b 6572 6e65 6c20 746f 2065 6e73  t` kernel to ens
+000061e0: 7572 6520 6974 2069 7320 7573 696e 6720  ure it is using 
+000061f0: 7468 6520 6375 7272 656e 7420 5079 7468  the current Pyth
+00006200: 6f6e 2061 7320 7765 6c6c 2061 7320 6164  on as well as ad
+00006210: 6420 7468 6520 6164 6469 7469 6f6e 616c  d the additional
+00006220: 206b 6572 6e65 6c73 2060 436f 636f 6e75   kernels `Coconu
+00006230: 7420 2844 6566 6175 6c74 2050 7974 686f  t (Default Pytho
+00006240: 6e29 602c 2060 436f 636f 6e75 7420 2844  n)`, `Coconut (D
+00006250: 6566 6175 6c74 2050 7974 686f 6e20 3229  efault Python 2)
+00006260: 602c 2061 6e64 2060 436f 636f 6e75 7420  `, and `Coconut 
+00006270: 2844 6566 6175 6c74 2050 7974 686f 6e20  (Default Python 
+00006280: 3329 6020 7768 6963 6820 7769 6c6c 2075  3)` which will u
+00006290: 7365 2c20 7265 7370 6563 7469 7665 6c79  se, respectively
+000062a0: 2c20 7468 6520 5079 7468 6f6e 2061 6363  , the Python acc
+000062b0: 6573 7369 626c 6520 6173 2060 7079 7468  essible as `pyth
+000062c0: 6f6e 602c 2060 7079 7468 6f6e 3260 2c20  on`, `python2`, 
+000062d0: 616e 6420 6070 7974 686f 6e33 6020 2874  and `python3` (t
+000062e0: 6865 7365 206b 6572 6e65 6c73 2061 7265  hese kernels are
+000062f0: 2061 6363 6573 7369 626c 6520 696e 2074   accessible in t
+00006300: 6865 2063 6f6e 736f 6c65 2061 7320 6063  he console as `c
+00006310: 6f63 6f6e 7574 5f70 7960 2c20 6063 6f63  oconut_py`, `coc
+00006320: 6f6e 7574 5f70 7932 602c 2061 6e64 2060  onut_py2`, and `
+00006330: 636f 636f 6e75 745f 7079 3360 292e 2043  coconut_py3`). C
+00006340: 6f63 6f6e 7574 2061 6c73 6f20 7375 7070  oconut also supp
+00006350: 6f72 7473 2060 636f 636f 6e75 7420 2d2d  orts `coconut --
+00006360: 6a75 7079 7465 7220 696e 7374 616c 6c20  jupyter install 
+00006370: 2d2d 7573 6572 6020 666f 7220 7573 6572  --user` for user
+00006380: 2069 6e73 7461 6c6c 6174 696f 6e2e 2046   installation. F
+00006390: 7572 7468 6572 6d6f 7265 2c20 7468 6520  urthermore, the 
+000063a0: 436f 636f 6e75 7420 6b65 726e 656c 2066  Coconut kernel f
+000063b0: 756c 6c79 2073 7570 706f 7274 7320 5b60  ully supports [`
+000063c0: 6e62 5f63 6f6e 6461 5f6b 6572 6e65 6c73  nb_conda_kernels
+000063d0: 605d 2868 7474 7073 3a2f 2f67 6974 6875  `](https://githu
+000063e0: 622e 636f 6d2f 416e 6163 6f6e 6461 2d50  b.com/Anaconda-P
+000063f0: 6c61 7466 6f72 6d2f 6e62 5f63 6f6e 6461  latform/nb_conda
+00006400: 5f6b 6572 6e65 6c73 2920 746f 2065 6e61  _kernels) to ena
+00006410: 626c 6520 6163 6365 7373 696e 6720 7468  ble accessing th
+00006420: 6520 436f 636f 6e75 7420 6b65 726e 656c  e Coconut kernel
+00006430: 2069 6e20 6f6e 6520 436f 6e64 6120 656e   in one Conda en
+00006440: 7669 726f 6e6d 656e 7420 6672 6f6d 2061  vironment from a
+00006450: 6e6f 7468 6572 2043 6f6e 6461 2065 6e76  nother Conda env
+00006460: 6972 6f6e 6d65 6e74 2e0d 0a0d 0a54 6865  ironment.....The
+00006470: 2043 6f63 6f6e 7574 206b 6572 6e65 6c20   Coconut kernel 
+00006480: 7769 6c6c 2061 6c77 6179 7320 636f 6d70  will always comp
+00006490: 696c 6520 7573 696e 6720 7468 6520 7061  ile using the pa
+000064a0: 7261 6d65 7465 7273 3a20 602d 2d74 6172  rameters: `--tar
+000064b0: 6765 7420 7379 7320 2d2d 6c69 6e65 2d6e  get sys --line-n
+000064c0: 756d 6265 7273 202d 2d6b 6565 702d 6c69  umbers --keep-li
+000064d0: 6e65 7320 2d2d 6e6f 2d77 7261 702d 7479  nes --no-wrap-ty
+000064e0: 7065 7360 2e0d 0a0d 0a43 6f63 6f6e 7574  pes`.....Coconut
+000064f0: 2061 6c73 6f20 7072 6f76 6964 6573 2074   also provides t
+00006500: 6865 2066 6f6c 6c6f 7769 6e67 2061 7069  he following api
+00006510: 2063 6f6d 6d61 6e64 733a 0d0a 0d0a 2d20   commands:....- 
+00006520: 6063 6f63 6f6e 7574 202d 2d6a 7570 7974  `coconut --jupyt
+00006530: 6572 206e 6f74 6562 6f6f 6b60 2077 696c  er notebook` wil
+00006540: 6c20 656e 7375 7265 2074 6861 7420 7468  l ensure that th
+00006550: 6520 436f 636f 6e75 7420 6b65 726e 656c  e Coconut kernel
+00006560: 2069 7320 6176 6169 6c61 626c 6520 616e   is available an
+00006570: 6420 6c61 756e 6368 2061 204a 7570 7974  d launch a Jupyt
+00006580: 6572 2f49 5079 7468 6f6e 206e 6f74 6562  er/IPython noteb
+00006590: 6f6f 6b2e 0d0a 2d20 6063 6f63 6f6e 7574  ook...- `coconut
+000065a0: 202d 2d6a 7570 7974 6572 2063 6f6e 736f   --jupyter conso
+000065b0: 6c65 6020 7769 6c6c 206c 6175 6e63 6820  le` will launch 
+000065c0: 6120 4a75 7079 7465 722f 4950 7974 686f  a Jupyter/IPytho
+000065d0: 6e20 636f 6e73 6f6c 6520 7573 696e 6720  n console using 
+000065e0: 7468 6520 436f 636f 6e75 7420 6b65 726e  the Coconut kern
+000065f0: 656c 2e0d 0a2d 2060 636f 636f 6e75 7420  el...- `coconut 
+00006600: 2d2d 6a75 7079 7465 7220 6c61 6260 2077  --jupyter lab` w
+00006610: 696c 6c20 656e 7375 7265 2074 6861 7420  ill ensure that 
+00006620: 7468 6520 436f 636f 6e75 7420 6b65 726e  the Coconut kern
+00006630: 656c 2069 7320 6176 6169 6c61 626c 6520  el is available 
+00006640: 616e 6420 6c61 756e 6368 205b 4a75 7079  and launch [Jupy
+00006650: 7465 724c 6162 5d28 6874 7470 733a 2f2f  terLab](https://
+00006660: 6769 7468 7562 2e63 6f6d 2f6a 7570 7974  github.com/jupyt
+00006670: 6572 6c61 622f 6a75 7079 7465 726c 6162  erlab/jupyterlab
+00006680: 292e 0d0a 0d0a 4164 6469 7469 6f6e 616c  ).....Additional
+00006690: 6c79 2c20 5b4a 7570 7974 6578 745d 2868  ly, [Jupytext](h
+000066a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000066b0: 6d2f 6d77 6f75 7473 2f6a 7570 7974 6578  m/mwouts/jupytex
+000066c0: 7429 2063 6f6e 7461 696e 7320 7370 6563  t) contains spec
+000066d0: 6961 6c20 7375 7070 6f72 7420 666f 7220  ial support for 
+000066e0: 7468 6520 436f 636f 6e75 7420 6b65 726e  the Coconut kern
+000066f0: 656c 2061 6e64 2043 6f63 6f6e 7574 2063  el and Coconut c
+00006700: 6f6e 7461 696e 7320 7370 6563 6961 6c20  ontains special 
+00006710: 7375 7070 6f72 7420 666f 7220 5b50 6170  support for [Pap
+00006720: 6572 6d69 6c6c 5d28 6874 7470 733a 2f2f  ermill](https://
+00006730: 7061 7065 726d 696c 6c2e 7265 6164 7468  papermill.readth
+00006740: 6564 6f63 732e 696f 2f65 6e2f 6c61 7465  edocs.io/en/late
+00006750: 7374 2f29 2e0d 0a0d 0a23 2323 2323 2045  st/).....##### E
+00006760: 7874 656e 7369 6f6e 0d0a 0d0a 4966 2043  xtension....If C
+00006770: 6f63 6f6e 7574 2069 7320 7573 6564 2061  oconut is used a
+00006780: 7320 616e 2065 7874 656e 7369 6f6e 2c20  s an extension, 
+00006790: 6120 7370 6563 6961 6c20 6d61 6769 6320  a special magic 
+000067a0: 636f 6d6d 616e 6420 7769 6c6c 2073 656e  command will sen
+000067b0: 6420 736e 6970 7065 7473 206f 6620 636f  d snippets of co
+000067c0: 6465 2074 6f20 6265 2065 7661 6c75 6174  de to be evaluat
+000067d0: 6564 2075 7369 6e67 2043 6f63 6f6e 7574  ed using Coconut
+000067e0: 2069 6e73 7465 6164 206f 6620 4950 7974   instead of IPyt
+000067f0: 686f 6e2c 2062 7574 2049 5079 7468 6f6e  hon, but IPython
+00006800: 2077 696c 6c20 7374 696c 6c20 6265 2075   will still be u
+00006810: 7365 6420 6173 2074 6865 2064 6566 6175  sed as the defau
+00006820: 6c74 2e0d 0a0d 0a54 6865 206c 696e 6520  lt.....The line 
+00006830: 6d61 6769 6320 6025 6c6f 6164 5f65 7874  magic `%load_ext
+00006840: 2063 6f63 6f6e 7574 6020 7769 6c6c 206c   coconut` will l
+00006850: 6f61 6420 436f 636f 6e75 7420 6173 2061  oad Coconut as a
+00006860: 6e20 6578 7465 6e73 696f 6e2c 2070 726f  n extension, pro
+00006870: 7669 6469 6e67 2074 6865 2060 2563 6f63  viding the `%coc
+00006880: 6f6e 7574 6020 616e 6420 6025 2563 6f63  onut` and `%%coc
+00006890: 6f6e 7574 6020 6d61 6769 6373 2061 6e64  onut` magics and
+000068a0: 2061 6464 696e 6720 436f 636f 6e75 7420   adding Coconut 
+000068b0: 6275 696c 742d 696e 732e 2054 6865 2060  built-ins. The `
+000068c0: 2563 6f63 6f6e 7574 6020 6c69 6e65 206d  %coconut` line m
+000068d0: 6167 6963 2077 696c 6c20 7275 6e20 6120  agic will run a 
+000068e0: 6c69 6e65 206f 6620 436f 636f 6e75 7420  line of Coconut 
+000068f0: 7769 7468 2064 6566 6175 6c74 2070 6172  with default par
+00006900: 616d 6574 6572 732c 2061 6e64 2074 6865  ameters, and the
+00006910: 2060 2525 636f 636f 6e75 7460 2062 6c6f   `%%coconut` blo
+00006920: 636b 206d 6167 6963 2077 696c 6c20 7461  ck magic will ta
+00006930: 6b65 2063 6f6d 6d61 6e64 2d6c 696e 6520  ke command-line 
+00006940: 6172 6775 6d65 6e74 7320 6f6e 2074 6865  arguments on the
+00006950: 2066 6972 7374 206c 696e 652c 2061 6e64   first line, and
+00006960: 2072 756e 2061 6e79 2043 6f63 6f6e 7574   run any Coconut
+00006970: 2063 6f64 6520 7072 6f76 6964 6564 2069   code provided i
+00006980: 6e20 7468 6520 7265 7374 206f 6620 7468  n the rest of th
+00006990: 6520 6365 6c6c 2077 6974 6820 7468 6f73  e cell with thos
+000069a0: 6520 7061 7261 6d65 7465 7273 2e0d 0a0d  e parameters....
+000069b0: 0a5f 4e6f 7465 3a20 556e 6c69 6b65 2074  ._Note: Unlike t
+000069c0: 6865 206e 6f72 6d61 6c20 436f 636f 6e75  he normal Coconu
+000069d0: 7420 636f 6d6d 616e 642d 6c69 6e65 2c20  t command-line, 
+000069e0: 6025 2563 6f63 6f6e 7574 6020 6465 6661  `%%coconut` defa
+000069f0: 756c 7473 2074 6f20 7468 6520 6073 7973  ults to the `sys
+00006a00: 6020 7461 7267 6574 2072 6174 6865 7220  ` target rather 
+00006a10: 7468 616e 2074 6865 2060 756e 6976 6572  than the `univer
+00006a20: 7361 6c60 2074 6172 6765 742e 5f0d 0a0d  sal` target._...
+00006a30: 0a23 2323 2320 5479 7065 2043 6865 636b  .#### Type Check
+00006a40: 696e 670d 0a0d 0a23 2323 2323 204d 7950  ing....##### MyP
+00006a50: 7920 496e 7465 6772 6174 696f 6e0d 0a0d  y Integration...
+00006a60: 0a43 6f63 6f6e 7574 2068 6173 2074 6865  .Coconut has the
+00006a70: 2061 6269 6c69 7479 2074 6f20 696e 7465   ability to inte
+00006a80: 6772 6174 6520 7769 7468 205b 4d79 5079  grate with [MyPy
+00006a90: 5d28 6874 7470 3a2f 2f6d 7970 792d 6c61  ](http://mypy-la
+00006aa0: 6e67 2e6f 7267 2f29 2074 6f20 7072 6f76  ng.org/) to prov
+00006ab0: 6964 6520 6f70 7469 6f6e 616c 2073 7461  ide optional sta
+00006ac0: 7469 6320 7479 7065 5f63 6865 636b 696e  tic type_checkin
+00006ad0: 672c 2069 6e63 6c75 6469 6e67 2066 6f72  g, including for
+00006ae0: 2061 6c6c 2043 6f63 6f6e 7574 2062 7569   all Coconut bui
+00006af0: 6c74 2d69 6e73 2e20 5369 6d70 6c79 2070  lt-ins. Simply p
+00006b00: 6173 7320 602d 2d6d 7970 7960 2074 6f20  ass `--mypy` to 
+00006b10: 6063 6f63 6f6e 7574 6020 746f 2065 6e61  `coconut` to ena
+00006b20: 626c 6520 4d79 5079 2069 6e74 6567 7261  ble MyPy integra
+00006b30: 7469 6f6e 2c20 7468 6f75 6768 2062 6520  tion, though be 
+00006b40: 6361 7265 6675 6c20 746f 2070 6173 7320  careful to pass 
+00006b50: 6974 206f 6e6c 7920 6173 2074 6865 206c  it only as the l
+00006b60: 6173 7420 6172 6775 6d65 6e74 2c20 7369  ast argument, si
+00006b70: 6e63 6520 616c 6c20 6172 6775 6d65 6e74  nce all argument
+00006b80: 7320 6166 7465 7220 602d 2d6d 7970 7960  s after `--mypy`
+00006b90: 2061 7265 2070 6173 7365 6420 746f 2060   are passed to `
+00006ba0: 6d79 7079 602c 206e 6f74 2043 6f63 6f6e  mypy`, not Cocon
+00006bb0: 7574 2e0d 0a0d 0a59 6f75 2063 616e 2061  ut.....You can a
+00006bc0: 6c73 6f20 7275 6e20 606d 7970 7960 e280  lso run `mypy`..
+00006bd0: 946f 7220 616e 7920 6f74 6865 7220 7374  .or any other st
+00006be0: 6174 6963 2074 7970 6520 6368 6563 6b65  atic type checke
+00006bf0: 72e2 8094 6469 7265 6374 6c79 206f 6e20  r...directly on 
+00006c00: 7468 6520 636f 6d70 696c 6564 2043 6f63  the compiled Coc
+00006c10: 6f6e 7574 2e20 4966 2074 6865 2073 7461  onut. If the sta
+00006c20: 7469 6320 7479 7065 2063 6865 636b 6572  tic type checker
+00006c30: 2069 7320 756e 6162 6c65 2074 6f20 6669   is unable to fi
+00006c40: 6e64 2074 6865 206e 6563 6573 7361 7279  nd the necessary
+00006c50: 2073 7475 6220 6669 6c65 732c 2068 6f77   stub files, how
+00006c60: 6576 6572 2c20 7468 656e 2079 6f75 206d  ever, then you m
+00006c70: 6179 206e 6565 6420 746f 3a0d 0a0d 0a31  ay need to:....1
+00006c80: 2e20 7275 6e20 6063 6f63 6f6e 7574 202d  . run `coconut -
+00006c90: 2d6d 7970 7920 696e 7374 616c 6c60 2061  -mypy install` a
+00006ca0: 6e64 0d0a 322e 2074 656c 6c20 796f 7572  nd..2. tell your
+00006cb0: 2073 7461 7469 6320 7479 7065 2063 6865   static type che
+00006cc0: 636b 6572 206f 6620 6368 6f69 6365 2074  cker of choice t
+00006cd0: 6f20 6c6f 6f6b 2069 6e20 607e 2f2e 636f  o look in `~/.co
+00006ce0: 636f 6e75 745f 7374 7562 7360 2066 6f72  conut_stubs` for
+00006cf0: 2073 7475 6220 6669 6c65 7320 2866 6f72   stub files (for
+00006d00: 2060 6d79 7079 602c 2074 6869 7320 6973   `mypy`, this is
+00006d10: 2064 6f6e 6520 6279 2061 6464 696e 6720   done by adding 
+00006d20: 6974 2074 6f20 796f 7572 205b 604d 5950  it to your [`MYP
+00006d30: 5950 4154 4860 5d28 6874 7470 733a 2f2f  YPATH`](https://
+00006d40: 6d79 7079 2e72 6561 6474 6865 646f 6373  mypy.readthedocs
+00006d50: 2e69 6f2f 656e 2f6c 6174 6573 742f 7275  .io/en/latest/ru
+00006d60: 6e6e 696e 675f 6d79 7079 2e68 746d 6c23  nning_mypy.html#
+00006d70: 686f 772d 696d 706f 7274 732d 6172 652d  how-imports-are-
+00006d80: 666f 756e 6429 292e 0d0a 0d0a 546f 2064  found)).....To d
+00006d90: 6973 7472 6962 7574 6520 796f 7572 2063  istribute your c
+00006da0: 6f64 6520 7769 7468 2063 6865 636b 6162  ode with checkab
+00006db0: 6c65 2074 7970 6520 616e 6e6f 7461 7469  le type annotati
+00006dc0: 6f6e 732c 2079 6f75 276c 6c20 6e65 6564  ons, you'll need
+00006dd0: 2074 6f20 696e 636c 7564 6520 6063 6f63   to include `coc
+00006de0: 6f6e 7574 6020 6173 2061 2064 6570 656e  onut` as a depen
+00006df0: 6465 6e63 7920 2874 686f 7567 6820 6120  dency (though a 
+00006e00: 602d 2d6e 6f2d 6465 7073 6020 696e 7374  `--no-deps` inst
+00006e10: 616c 6c20 7368 6f75 6c64 2062 6520 6669  all should be fi
+00006e20: 6e65 292c 2061 7320 696e 7374 616c 6c69  ne), as installi
+00006e30: 6e67 2069 7420 6973 206e 6563 6573 7361  ng it is necessa
+00006e40: 7279 2074 6f20 6d61 6b65 2074 6865 2072  ry to make the r
+00006e50: 6571 7569 7369 7465 2073 7475 6220 6669  equisite stub fi
+00006e60: 6c65 7320 6176 6169 6c61 626c 652e 2059  les available. Y
+00006e70: 6f75 276c 6c20 616c 736f 2070 726f 6261  ou'll also proba
+00006e80: 626c 7920 7761 6e74 2074 6f20 696e 636c  bly want to incl
+00006e90: 7564 6520 6120 5b60 7079 2e74 7970 6564  ude a [`py.typed
+00006ea0: 605d 2868 7474 7073 3a2f 2f70 6570 732e  `](https://peps.
+00006eb0: 7079 7468 6f6e 2e6f 7267 2f70 6570 2d30  python.org/pep-0
+00006ec0: 3536 312f 2920 6669 6c65 2e0d 0a0d 0a23  561/) file.....#
+00006ed0: 2323 2323 2053 796e 7461 780d 0a0d 0a54  #### Syntax....T
+00006ee0: 6f20 6578 706c 6963 6974 6c79 2061 6e6e  o explicitly ann
+00006ef0: 6f74 6174 6520 796f 7572 2063 6f64 6520  otate your code 
+00006f00: 7769 7468 2074 7970 6573 2074 6f20 6265  with types to be
+00006f10: 2063 6865 636b 6564 2c20 436f 636f 6e75   checked, Coconu
+00006f20: 7420 7375 7070 6f72 7473 2028 6f6e 2061  t supports (on a
+00006f30: 6c6c 2050 7974 686f 6e20 7665 7273 696f  ll Python versio
+00006f40: 6e73 293a 0d0a 2a20 5b50 7974 686f 6e20  ns):..* [Python 
+00006f50: 3320 6675 6e63 7469 6f6e 2074 7970 6520  3 function type 
+00006f60: 616e 6e6f 7461 7469 6f6e 735d 2868 7474  annotations](htt
+00006f70: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00006f80: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+00006f90: 2d30 3438 342f 292c 0d0a 2a20 5b50 7974  -0484/),..* [Pyt
+00006fa0: 686f 6e20 332e 3620 7661 7269 6162 6c65  hon 3.6 variable
+00006fb0: 2074 7970 6520 616e 6e6f 7461 7469 6f6e   type annotation
+00006fc0: 735d 2868 7474 7073 3a2f 2f77 7777 2e70  s](https://www.p
+00006fd0: 7974 686f 6e2e 6f72 672f 6465 762f 7065  ython.org/dev/pe
+00006fe0: 7073 2f70 6570 2d30 3532 362f 292c 0d0a  ps/pep-0526/),..
+00006ff0: 2a20 5b50 7974 686f 6e20 332e 3132 2074  * [Python 3.12 t
+00007000: 7970 6520 7061 7261 6d65 7465 7220 7379  ype parameter sy
+00007010: 6e74 6178 5d28 2374 7970 652d 7061 7261  ntax](#type-para
+00007020: 6d65 7465 722d 7379 6e74 6178 2920 666f  meter-syntax) fo
+00007030: 7220 6561 7369 6c79 2061 6464 696e 6720  r easily adding 
+00007040: 7479 7065 2070 6172 616d 6574 6572 7320  type parameters 
+00007050: 746f 2063 6c61 7373 6573 2c20 6675 6e63  to classes, func
+00007060: 7469 6f6e 732c 205b 6064 6174 6160 2074  tions, [`data` t
+00007070: 7970 6573 5d28 2364 6174 6129 2c20 616e  ypes](#data), an
+00007080: 6420 7479 7065 2061 6c69 6173 6573 2c0d  d type aliases,.
+00007090: 0a2a 2043 6f63 6f6e 7574 2773 206f 776e  .* Coconut's own
+000070a0: 205b 656e 6861 6e63 6564 2074 7970 6520   [enhanced type 
+000070b0: 616e 6e6f 7461 7469 6f6e 2073 796e 7461  annotation synta
+000070c0: 785d 2823 656e 6861 6e63 6564 2d74 7970  x](#enhanced-typ
+000070d0: 652d 616e 6e6f 7461 7469 6f6e 292c 2061  e-annotation), a
+000070e0: 6e64 0d0a 2a20 436f 636f 6e75 7427 7320  nd..* Coconut's 
+000070f0: 5b70 726f 746f 636f 6c20 696e 7465 7273  [protocol inters
+00007100: 6563 7469 6f6e 206f 7065 7261 746f 725d  ection operator]
+00007110: 2823 7072 6f74 6f63 6f6c 2d69 6e74 6572  (#protocol-inter
+00007120: 7365 6374 696f 6e29 2e0d 0a0d 0a42 7920  section).....By 
+00007130: 6465 6661 756c 742c 2061 6c6c 2074 7970  default, all typ
+00007140: 6520 616e 6e6f 7461 7469 6f6e 7320 6172  e annotations ar
+00007150: 6520 636f 6d70 696c 6564 2074 6f20 5079  e compiled to Py
+00007160: 7468 6f6e 2d32 2d63 6f6d 7061 7469 626c  thon-2-compatibl
+00007170: 6520 7479 7065 2063 6f6d 6d65 6e74 732c  e type comments,
+00007180: 2077 6869 6368 206d 6561 6e73 2074 6865   which means the
+00007190: 7920 7368 6f75 6c64 2061 6c6c 2077 6f72  y should all wor
+000071a0: 6b20 6f6e 2061 6e79 2050 7974 686f 6e20  k on any Python 
+000071b0: 7665 7273 696f 6e2e 0d0a 0d0a 536f 6d65  version.....Some
+000071c0: 7469 6d65 732c 204d 7950 7920 7769 6c6c  times, MyPy will
+000071d0: 206e 6f74 206b 6e6f 7720 686f 7720 746f   not know how to
+000071e0: 2068 616e 646c 6520 6365 7274 6169 6e20   handle certain 
+000071f0: 436f 636f 6e75 7420 636f 6e73 7472 7563  Coconut construc
+00007200: 7473 2c20 7375 6368 2061 7320 6061 6464  ts, such as `add
+00007210: 7061 7474 6572 6e60 2e20 466f 7220 7468  pattern`. For th
+00007220: 6520 6061 6464 7061 7474 6572 6e60 2063  e `addpattern` c
+00007230: 6173 652c 2069 7420 6973 2072 6563 6f6d  ase, it is recom
+00007240: 6d65 6e64 6564 2074 6f20 7061 7373 2060  mended to pass `
+00007250: 2d2d 616c 6c6f 772d 7265 6465 6669 6e69  --allow-redefini
+00007260: 7469 6f6e 6020 746f 204d 7950 7920 2869  tion` to MyPy (i
+00007270: 2e65 2e20 7275 6e20 6063 6f63 6f6e 7574  .e. run `coconut
+00007280: 203c 6172 6773 3e20 2d2d 6d79 7079 202d   <args> --mypy -
+00007290: 2d61 6c6c 6f77 2d72 6564 6566 696e 6974  -allow-redefinit
+000072a0: 696f 6e60 292c 2074 686f 7567 6820 696e  ion`), though in
+000072b0: 2073 6f6d 6520 6361 7365 7320 602d 2d61   some cases `--a
+000072c0: 6c6c 6f77 2d72 6564 6566 696e 6974 696f  llow-redefinitio
+000072d0: 6e60 206d 6179 206e 6f74 2062 6520 7375  n` may not be su
+000072e0: 6666 6963 6965 6e74 2e20 496e 2074 6861  fficient. In tha
+000072f0: 7420 6361 7365 2c20 6569 7468 6572 2068  t case, either h
+00007300: 6964 6520 7468 6520 6f66 6665 6e64 696e  ide the offendin
+00007310: 6720 636f 6465 2075 7369 6e67 205b 6054  g code using [`T
+00007320: 5950 455f 4348 4543 4b49 4e47 605d 2823  YPE_CHECKING`](#
+00007330: 7479 7065 5f63 6865 636b 696e 6729 206f  type_checking) o
+00007340: 7220 7075 7420 6120 6023 2074 7970 653a  r put a `# type:
+00007350: 2069 676e 6f72 6560 2063 6f6d 6d65 6e74   ignore` comment
+00007360: 206f 6e20 7468 6520 436f 636f 6e75 7420   on the Coconut 
+00007370: 6c69 6e65 2077 6869 6368 2069 7320 6765  line which is ge
+00007380: 6e65 7261 7469 6e67 2074 6865 206c 696e  nerating the lin
+00007390: 6520 4d79 5079 2069 7320 636f 6d70 6c61  e MyPy is compla
+000073a0: 696e 696e 6720 6162 6f75 7420 616e 6420  ining about and 
+000073b0: 7468 6520 636f 6d6d 656e 7420 7769 6c6c  the comment will
+000073c0: 2062 6520 6164 6465 6420 746f 2065 7665   be added to eve
+000073d0: 7279 2067 656e 6572 6174 6564 206c 696e  ry generated lin
+000073e0: 652e 0d0a 0d0a 2323 2323 2320 496e 7465  e.....##### Inte
+000073f0: 7270 7265 7465 720d 0a0d 0a43 6f63 6f6e  rpreter....Cocon
+00007400: 7574 2065 7665 6e20 7375 7070 6f72 7473  ut even supports
+00007410: 2060 2d2d 6d79 7079 6020 696e 2074 6865   `--mypy` in the
+00007420: 2069 6e74 6572 7072 6574 6572 2c20 7768   interpreter, wh
+00007430: 6963 6820 7769 6c6c 2069 6e74 656c 6c69  ich will intelli
+00007440: 6765 6e74 6c79 2073 6361 6e20 6561 6368  gently scan each
+00007450: 206e 6577 206c 696e 6520 6f66 2063 6f64   new line of cod
+00007460: 652c 2069 6e20 7468 6520 636f 6e74 6578  e, in the contex
+00007470: 7420 6f66 2070 7265 7669 6f75 7320 6c69  t of previous li
+00007480: 6e65 732c 2066 6f72 206e 6577 6c79 2d69  nes, for newly-i
+00007490: 6e74 726f 6475 6365 6420 4d79 5079 2065  ntroduced MyPy e
+000074a0: 7272 6f72 732e 2046 6f72 2065 7861 6d70  rrors. For examp
+000074b0: 6c65 3a0d 0a60 6060 636f 636f 6e75 745f  le:..```coconut_
+000074c0: 7079 636f 6e0d 0a3e 3e3e 2061 3a20 7374  pycon..>>> a: st
+000074d0: 7220 3d20 636f 756e 7428 295b 305d 0d0a  r = count()[0]..
+000074e0: 3c73 7472 696e 673e 3a31 343a 2065 7272  <string>:14: err
+000074f0: 6f72 3a20 496e 636f 6d70 6174 6962 6c65  or: Incompatible
+00007500: 2074 7970 6573 2069 6e20 6173 7369 676e   types in assign
+00007510: 6d65 6e74 2028 6578 7072 6573 7369 6f6e  ment (expression
+00007520: 2068 6173 2074 7970 6520 2269 6e74 222c   has type "int",
+00007530: 2076 6172 6961 626c 6520 6861 7320 7479   variable has ty
+00007540: 7065 2022 7374 7222 290d 0a3e 3e3e 2072  pe "str")..>>> r
+00007550: 6576 6561 6c5f 7479 7065 2861 290d 0a30  eveal_type(a)..0
+00007560: 0d0a 3c73 7472 696e 673e 3a31 393a 206e  ..<string>:19: n
+00007570: 6f74 653a 2052 6576 6561 6c65 6420 7479  ote: Revealed ty
+00007580: 7065 2069 7320 2762 7569 6c74 696e 732e  pe is 'builtins.
+00007590: 756e 6963 6f64 6527 0d0a 6060 600d 0a5f  unicode'..```.._
+000075a0: 466f 7220 6d6f 7265 2069 6e66 6f72 6d61  For more informa
+000075b0: 7469 6f6e 206f 6e20 6072 6576 6561 6c5f  tion on `reveal_
+000075c0: 7479 7065 602c 2073 6565 205b 6072 6576  type`, see [`rev
+000075d0: 6561 6c5f 7479 7065 6020 616e 6420 6072  eal_type` and `r
+000075e0: 6576 6561 6c5f 6c6f 6361 6c73 605d 2823  eveal_locals`](#
+000075f0: 7265 7665 616c 2d74 7970 652d 616e 642d  reveal-type-and-
+00007600: 7265 7665 616c 2d6c 6f63 616c 7329 2e5f  reveal-locals)._
+00007610: 0d0a 0d0a 2323 2323 2060 6e75 6d70 7960  ....#### `numpy`
+00007620: 2049 6e74 6567 7261 7469 6f6e 0d0a 0d0a   Integration....
+00007630: 546f 2061 6c6c 6f77 2066 6f72 2062 6574  To allow for bet
+00007640: 7465 7220 7573 6520 6f66 205b 606e 756d  ter use of [`num
+00007650: 7079 605d 2868 7474 7073 3a2f 2f6e 756d  py`](https://num
+00007660: 7079 2e6f 7267 2f29 206f 626a 6563 7473  py.org/) objects
+00007670: 2069 6e20 436f 636f 6e75 742c 2061 6c6c   in Coconut, all
+00007680: 2063 6f6d 7069 6c65 6420 436f 636f 6e75   compiled Coconu
+00007690: 7420 636f 6465 2077 696c 6c20 646f 2061  t code will do a
+000076a0: 206e 756d 6265 7220 6f66 2073 7065 6369   number of speci
+000076b0: 616c 2074 6869 6e67 7320 746f 2062 6574  al things to bet
+000076c0: 7465 7220 696e 7465 6772 6174 6520 7769  ter integrate wi
+000076d0: 7468 2060 6e75 6d70 7960 2028 6966 2060  th `numpy` (if `
+000076e0: 6e75 6d70 7960 2069 7320 6176 6169 6c61  numpy` is availa
+000076f0: 626c 6520 746f 2069 6d70 6f72 7420 7768  ble to import wh
+00007700: 656e 2074 6865 2063 6f64 6520 6973 2072  en the code is r
+00007710: 756e 292e 2053 7065 6369 6669 6361 6c6c  un). Specificall
+00007720: 793a 0d0a 0d0a 2d20 436f 636f 6e75 7427  y:....- Coconut'
+00007730: 7320 5b6d 756c 7469 6469 6d65 6e73 696f  s [multidimensio
+00007740: 6e61 6c20 6172 7261 7920 6c69 7465 7261  nal array litera
+00007750: 6c20 616e 6420 6172 7261 7920 636f 6e63  l and array conc
+00007760: 6174 656e 6174 696f 6e20 7379 6e74 6178  atenation syntax
+00007770: 5d28 236d 756c 7469 6469 6d65 6e73 696f  ](#multidimensio
+00007780: 6e61 6c2d 6172 7261 792d 6c69 7465 7261  nal-array-litera
+00007790: 6c63 6f6e 6361 7465 6e61 7469 6f6e 2d73  lconcatenation-s
+000077a0: 796e 7461 7829 2073 7570 706f 7274 7320  yntax) supports 
+000077b0: 606e 756d 7079 6020 6f62 6a65 6374 732c  `numpy` objects,
+000077c0: 2069 6e63 6c75 6469 6e67 2075 7369 6e67   including using
+000077d0: 2066 6173 7420 606e 756d 7079 6020 636f   fast `numpy` co
+000077e0: 6e63 6174 656e 6174 696f 6e20 6d65 7468  ncatenation meth
+000077f0: 6f64 7320 6966 2067 6976 656e 2060 6e75  ods if given `nu
+00007800: 6d70 7960 2061 7272 6179 7320 7261 7468  mpy` arrays rath
+00007810: 6572 2074 6861 6e20 436f 636f 6e75 7427  er than Coconut'
+00007820: 7320 6465 6661 756c 7420 6d75 6368 2073  s default much s
+00007830: 6c6f 7765 7220 696d 706c 656d 656e 7461  lower implementa
+00007840: 7469 6f6e 2062 7569 6c74 2066 6f72 2050  tion built for P
+00007850: 7974 686f 6e20 6c69 7374 7320 6f66 206c  ython lists of l
+00007860: 6973 7473 2e0d 0a2d 204d 616e 7920 6f66  ists...- Many of
+00007870: 2043 6f63 6f6e 7574 2773 2062 7569 6c74   Coconut's built
+00007880: 2d69 6e73 2069 6e63 6c75 6465 2073 7065  -ins include spe
+00007890: 6369 616c 2060 6e75 6d70 7960 2073 7570  cial `numpy` sup
+000078a0: 706f 7274 2c20 7370 6563 6966 6963 616c  port, specifical
+000078b0: 6c79 3a0d 0a20 202a 205b 6066 6d61 7060  ly:..  * [`fmap`
+000078c0: 5d28 2366 6d61 7029 2077 696c 6c20 7573  ](#fmap) will us
+000078d0: 6520 5b60 6e75 6d70 792e 7665 6374 6f72  e [`numpy.vector
+000078e0: 697a 6560 5d28 6874 7470 733a 2f2f 6e75  ize`](https://nu
+000078f0: 6d70 792e 6f72 672f 646f 632f 7374 6162  mpy.org/doc/stab
+00007900: 6c65 2f72 6566 6572 656e 6365 2f67 656e  le/reference/gen
+00007910: 6572 6174 6564 2f6e 756d 7079 2e76 6563  erated/numpy.vec
+00007920: 746f 7269 7a65 2e68 746d 6c29 2074 6f20  torize.html) to 
+00007930: 6d61 7020 6f76 6572 2060 6e75 6d70 7960  map over `numpy`
+00007940: 2061 7272 6179 732e 0d0a 2020 2a20 5b60   arrays...  * [`
+00007950: 6d75 6c74 695f 656e 756d 6572 6174 6560  multi_enumerate`
+00007960: 5d28 236d 756c 7469 5f65 6e75 6d65 7261  ](#multi_enumera
+00007970: 7465 2920 616c 6c6f 7773 2066 6f72 2065  te) allows for e
+00007980: 6173 696c 7920 6c6f 6f70 696e 6720 6f76  asily looping ov
+00007990: 6572 2061 6c6c 2074 6865 206d 756c 7469  er all the multi
+000079a0: 2d64 696d 656e 7369 6f6e 616c 2069 6e64  -dimensional ind
+000079b0: 6963 6573 2069 6e20 6120 606e 756d 7079  ices in a `numpy
+000079c0: 6020 6172 7261 792e 0d0a 2020 2a20 5b60  ` array...  * [`
+000079d0: 6361 7274 6573 6961 6e5f 7072 6f64 7563  cartesian_produc
+000079e0: 7460 5d28 2363 6172 7465 7369 616e 5f70  t`](#cartesian_p
+000079f0: 726f 6475 6374 2920 6361 6e20 636f 6d70  roduct) can comp
+00007a00: 7574 6520 7468 6520 4361 7274 6573 6961  ute the Cartesia
+00007a10: 6e20 7072 6f64 7563 7420 6f66 2067 6976  n product of giv
+00007a20: 656e 2060 6e75 6d70 7960 2061 7272 6179  en `numpy` array
+00007a30: 7320 6173 2061 2060 6e75 6d70 7960 2061  s as a `numpy` a
+00007a40: 7272 6179 2e0d 0a20 202a 205b 6061 6c6c  rray...  * [`all
+00007a50: 5f65 7175 616c 605d 2823 616c 6c5f 6571  _equal`](#all_eq
+00007a60: 7561 6c29 2061 6c6c 6f77 7320 666f 7220  ual) allows for 
+00007a70: 6561 7369 6c79 2063 6865 636b 696e 6720  easily checking 
+00007a80: 6966 2061 6c6c 2074 6865 2065 6c65 6d65  if all the eleme
+00007a90: 6e74 7320 696e 2061 2060 6e75 6d70 7960  nts in a `numpy`
+00007aa0: 2061 7272 6179 2061 7265 2074 6865 2073   array are the s
+00007ab0: 616d 652e 0d0a 2d20 5b60 6e75 6d70 792e  ame...- [`numpy.
+00007ac0: 6e64 6172 7261 7960 5d28 6874 7470 733a  ndarray`](https:
+00007ad0: 2f2f 6e75 6d70 792e 6f72 672f 646f 632f  //numpy.org/doc/
+00007ae0: 7374 6162 6c65 2f72 6566 6572 656e 6365  stable/reference
+00007af0: 2f67 656e 6572 6174 6564 2f6e 756d 7079  /generated/numpy
+00007b00: 2e6e 6461 7272 6179 2e68 746d 6c29 2069  .ndarray.html) i
+00007b10: 7320 7265 6769 7374 6572 6564 2061 7320  s registered as 
+00007b20: 6120 5b60 636f 6c6c 6563 7469 6f6e 732e  a [`collections.
+00007b30: 6162 632e 5365 7175 656e 6365 605d 2868  abc.Sequence`](h
+00007b40: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
+00007b50: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
+00007b60: 2f63 6f6c 6c65 6374 696f 6e73 2e61 6263  /collections.abc
+00007b70: 2e68 746d 6c23 636f 6c6c 6563 7469 6f6e  .html#collection
+00007b80: 732e 6162 632e 5365 7175 656e 6365 292c  s.abc.Sequence),
+00007b90: 2065 6e61 626c 696e 6720 6974 2074 6f20   enabling it to 
+00007ba0: 6265 2075 7365 6420 696e 205b 7365 7175  be used in [sequ
+00007bb0: 656e 6365 2070 6174 7465 726e 735d 2823  ence patterns](#
+00007bc0: 7365 6d61 6e74 6963 732d 7370 6563 6966  semantics-specif
+00007bd0: 6963 6174 696f 6e29 2e0d 0a2d 2060 6e75  ication)...- `nu
+00007be0: 6d70 7960 206f 626a 6563 7473 2061 7265  mpy` objects are
+00007bf0: 2061 6c6c 6f77 6564 2073 6561 6d6c 6573   allowed seamles
+00007c00: 736c 7920 696e 2043 6f63 6f6e 7574 2773  sly in Coconut's
+00007c10: 205b 696d 706c 6963 6974 2063 6f65 6666   [implicit coeff
+00007c20: 6963 6965 6e74 2073 796e 7461 785d 2823  icient syntax](#
+00007c30: 696d 706c 6963 6974 2d66 756e 6374 696f  implicit-functio
+00007c40: 6e2d 6170 706c 6963 6174 696f 6e2d 616e  n-application-an
+00007c50: 642d 636f 6566 6669 6369 656e 7473 292c  d-coefficients),
+00007c60: 2061 6c6c 6f77 696e 6720 7468 6520 7573   allowing the us
+00007c70: 6520 6f66 2065 2e67 2e20 6041 2042 2a2a  e of e.g. `A B**
+00007c80: 3260 2073 686f 7274 6861 6e64 2066 6f72  2` shorthand for
+00007c90: 2060 4120 2a20 422a 2a32 6020 7768 656e   `A * B**2` when
+00007ca0: 2060 4160 2061 6e64 2060 4260 2061 7265   `A` and `B` are
+00007cb0: 2060 6e75 6d70 7960 2061 7272 6179 7320   `numpy` arrays 
+00007cc0: 286e 6f74 653a 202a 2a6e 6f74 2a2a 2060  (note: **not** `
+00007cd0: 4120 4020 422a 2a32 6029 2e0d 0a2d 2043  A @ B**2`)...- C
+00007ce0: 6f63 6f6e 7574 2073 7570 706f 7274 7320  oconut supports 
+00007cf0: 6040 6020 666f 7220 6d61 7472 6978 206d  `@` for matrix m
+00007d00: 756c 7469 706c 6963 6174 696f 6e20 6f66  ultiplication of
+00007d10: 2060 6e75 6d70 7960 2061 7272 6179 7320   `numpy` arrays 
+00007d20: 6f6e 2061 6c6c 2050 7974 686f 6e20 7665  on all Python ve
+00007d30: 7273 696f 6e73 2c20 6173 2077 656c 6c20  rsions, as well 
+00007d40: 6173 2073 7570 706c 7969 6e67 2074 6865  as supplying the
+00007d50: 2060 2840 2960 205b 6f70 6572 6174 6f72   `(@)` [operator
+00007d60: 2066 756e 6374 696f 6e5d 2823 6f70 6572   function](#oper
+00007d70: 6174 6f72 2d66 756e 6374 696f 6e73 292e  ator-functions).
+00007d80: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
+00007d90: 2c20 436f 636f 6e75 7420 7072 6f76 6964  , Coconut provid
+00007da0: 6573 2074 6865 2065 7861 6374 2073 616d  es the exact sam
+00007db0: 6520 7375 7070 6f72 7420 666f 7220 5b60  e support for [`
+00007dc0: 7061 6e64 6173 605d 2868 7474 7073 3a2f  pandas`](https:/
+00007dd0: 2f70 616e 6461 732e 7079 6461 7461 2e6f  /pandas.pydata.o
+00007de0: 7267 2f29 2c20 5b60 7079 746f 7263 6860  rg/), [`pytorch`
+00007df0: 5d28 6874 7470 733a 2f2f 7079 746f 7263  ](https://pytorc
+00007e00: 682e 6f72 672f 292c 2061 6e64 205b 606a  h.org/), and [`j
+00007e10: 6178 2e6e 756d 7079 605d 2868 7474 7073  ax.numpy`](https
+00007e20: 3a2f 2f6a 6178 2e72 6561 6474 6865 646f  ://jax.readthedo
+00007e30: 6373 2e69 6f2f 656e 2f6c 6174 6573 742f  cs.io/en/latest/
+00007e40: 6a61 782e 6e75 6d70 792e 6874 6d6c 292c  jax.numpy.html),
+00007e50: 2069 6e63 6c75 6469 6e67 2075 7369 6e67   including using
+00007e60: 2060 7061 6e64 6173 602f 606a 6178 602d   `pandas`/`jax`-
+00007e70: 7370 6563 6966 6963 206d 6574 686f 6473  specific methods
+00007e80: 206f 7665 7220 606e 756d 7079 6020 6d65   over `numpy` me
+00007e90: 7468 6f64 7320 7768 656e 2067 6976 656e  thods when given
+00007ea0: 2060 7061 6e64 6173 602f 606a 6178 6020   `pandas`/`jax` 
+00007eb0: 6f62 6a65 6374 732e 0d0a 0d0a 2323 2323  objects.....####
+00007ec0: 2060 786f 6e73 6860 2053 7570 706f 7274   `xonsh` Support
+00007ed0: 0d0a 0d0a 436f 636f 6e75 7420 696e 7465  ....Coconut inte
+00007ee0: 6772 6174 6573 2077 6974 6820 5b60 786f  grates with [`xo
+00007ef0: 6e73 6860 5d28 6874 7470 733a 2f2f 786f  nsh`](https://xo
+00007f00: 6e2e 7368 2f29 2074 6f20 616c 6c6f 7720  n.sh/) to allow 
+00007f10: 7468 6520 7573 6520 6f66 2043 6f63 6f6e  the use of Cocon
+00007f20: 7574 2063 6f64 6520 6469 7265 6374 6c79  ut code directly
+00007f30: 2066 726f 6d20 796f 7572 2063 6f6d 6d61   from your comma
+00007f40: 6e64 206c 696e 652e 2054 6f20 7573 6520  nd line. To use 
+00007f50: 436f 636f 6e75 7420 696e 2060 786f 6e73  Coconut in `xons
+00007f60: 6860 2c20 7369 6d70 6c79 2060 7069 7020  h`, simply `pip 
+00007f70: 696e 7374 616c 6c20 636f 636f 6e75 7460  install coconut`
+00007f80: 2073 686f 756c 6420 6265 2061 6c6c 2079   should be all y
+00007f90: 6f75 206e 6565 6420 746f 2065 6e61 626c  ou need to enabl
+00007fa0: 6520 7468 6520 7573 6520 6f66 2043 6f63  e the use of Coc
+00007fb0: 6f6e 7574 2073 796e 7461 7820 696e 2074  onut syntax in t
+00007fc0: 6865 2060 786f 6e73 6860 2073 6865 6c6c  he `xonsh` shell
+00007fd0: 2e20 496e 2073 6f6d 6520 6369 7263 756d  . In some circum
+00007fe0: 7374 616e 6365 732c 2069 6e20 7061 7274  stances, in part
+00007ff0: 6963 756c 6172 2064 6570 656e 6469 6e67  icular depending
+00008000: 206f 6e20 7468 6520 696e 7374 616c 6c65   on the installe
+00008010: 6420 6078 6f6e 7368 6020 7665 7273 696f  d `xonsh` versio
+00008020: 6e2c 2061 6464 696e 6720 6078 6f6e 7472  n, adding `xontr
+00008030: 6962 206c 6f61 6420 636f 636f 6e75 7460  ib load coconut`
+00008040: 2074 6f20 796f 7572 205b 6078 6f6e 7368   to your [`xonsh
+00008050: 7263 605d 2868 7474 7073 3a2f 2f78 6f6e  rc`](https://xon
+00008060: 2e73 682f 786f 6e73 6872 632e 6874 6d6c  .sh/xonshrc.html
+00008070: 2920 6669 6c65 206d 6967 6874 2062 6520  ) file might be 
+00008080: 6e65 6365 7373 6172 792e 0d0a 0d0a 466f  necessary.....Fo
+00008090: 7220 616e 2065 7861 6d70 6c65 206f 6620  r an example of 
+000080a0: 7573 696e 6720 436f 636f 6e75 7420 6672  using Coconut fr
+000080b0: 6f6d 2060 786f 6e73 6860 3a0d 0a60 6060  om `xonsh`:..```
+000080c0: 0d0a 7573 6572 4063 6f6d 7075 7465 7220  ..user@computer 
+000080d0: 7e20 2420 786f 6e74 7269 6220 6c6f 6164  ~ $ xontrib load
+000080e0: 2063 6f63 6f6e 7574 0d0a 7573 6572 4063   coconut..user@c
+000080f0: 6f6d 7075 7465 7220 7e20 2420 6364 202e  omputer ~ $ cd .
+00008100: 2f66 696c 6573 0d0a 7573 6572 4063 6f6d  /files..user@com
+00008110: 7075 7465 7220 7e20 2420 2428 6c73 202d  puter ~ $ $(ls -
+00008120: 6c61 2920 7c3e 202e 7370 6c69 746c 696e  la) |> .splitlin
+00008130: 6573 2829 207c 3e20 6c65 6e0d 0a33 300d  es() |> len..30.
+00008140: 0a60 6060 0d0a 0d0a 436f 6d70 696c 6174  .```....Compilat
+00008150: 696f 6e20 616c 7761 7973 2075 7365 7320  ion always uses 
+00008160: 7468 6520 7361 6d65 2070 6172 616d 6574  the same paramet
+00008170: 6572 7320 6173 2069 6e20 7468 6520 5b43  ers as in the [C
+00008180: 6f63 6f6e 7574 204a 7570 7974 6572 206b  oconut Jupyter k
+00008190: 6572 6e65 6c5d 2823 6b65 726e 656c 292e  ernel](#kernel).
+000081a0: 0d0a 0d0a 4e6f 7465 2074 6861 7420 7468  ....Note that th
+000081b0: 6520 7761 7920 7468 6174 2043 6f63 6f6e  e way that Cocon
+000081c0: 7574 2069 6e74 6567 7261 7465 7320 7769  ut integrates wi
+000081d0: 7468 2060 786f 6e73 6860 2c20 6040 283c  th `xonsh`, `@(<
+000081e0: 636f 6465 3e29 6020 7379 6e74 6178 2061  code>)` syntax a
+000081f0: 6e64 2074 6865 2060 6578 6563 7860 2063  nd the `execx` c
+00008200: 6f6d 6d61 6e64 2077 696c 6c20 6f6e 6c79  ommand will only
+00008210: 2077 6f72 6b20 7769 7468 2050 7974 686f   work with Pytho
+00008220: 6e20 636f 6465 2c20 6e6f 7420 436f 636f  n code, not Coco
+00008230: 6e75 7420 636f 6465 2e20 4164 6469 7469  nut code. Additi
+00008240: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
+00008250: 7769 6c6c 206f 6e6c 7920 636f 6d70 696c  will only compil
+00008260: 6520 696e 6469 7669 6475 616c 2063 6f6d  e individual com
+00008270: 6d61 6e64 73e2 8094 436f 636f 6e75 7420  mands...Coconut 
+00008280: 7769 6c6c 206e 6f74 2074 6f75 6368 2074  will not touch t
+00008290: 6865 2060 2e78 6f6e 7368 7263 6020 6f72  he `.xonshrc` or
+000082a0: 2061 6e79 206f 7468 6572 2060 2e78 7368   any other `.xsh
+000082b0: 6020 6669 6c65 732e 0d0a 0d0a 2323 204f  ` files.....## O
+000082c0: 7065 7261 746f 7273 0d0a 0d0a 6060 607b  perators....```{
+000082d0: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
+000082e0: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2031  local:..depth: 1
+000082f0: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
+00008300: 2320 5072 6563 6564 656e 6365 0d0a 0d0a  # Precedence....
+00008310: 496e 206f 7264 6572 206f 6620 7072 6563  In order of prec
+00008320: 6564 656e 6365 2c20 6869 6768 6573 7420  edence, highest 
+00008330: 6669 7273 742c 2074 6865 206f 7065 7261  first, the opera
+00008340: 746f 7273 2073 7570 706f 7274 6564 2069  tors supported i
+00008350: 6e20 436f 636f 6e75 7420 6172 653a 0d0a  n Coconut are:..
+00008360: 6060 600d 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  ```..===========
+00008370: 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 3d3d 3d3d  =========== ====
+00008380: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00008390: 3d3d 3d3d 3d3d 0d0a 5379 6d62 6f6c 2873  ======..Symbol(s
+000083a0: 2920 2020 2020 2020 2020 2020 2020 2041  )              A
+000083b0: 7373 6f63 6961 7469 7669 7479 0d0a 3d3d  ssociativity..==
+000083c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000083d0: 3d3d 3d3d 203d 3d3d 3d3d 3d3d 3d3d 3d3d  ==== ===========
+000083e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0d  ===============.
+000083f0: 0a61 7761 6974 2078 2020 2020 2020 2020  .await x        
+00008400: 2020 2020 2020 2020 6e2f 610d 0a2a 2a20          n/a..** 
+00008410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008420: 2020 2020 7269 6768 7420 2861 6c6c 6f77      right (allow
+00008430: 7320 756e 6172 7929 0d0a 6620 7820 2020  s unary)..f x   
+00008440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008450: 206e 2f61 0d0a 2b2c 202d 2c20 7e20 2020   n/a..+, -, ~   
+00008460: 2020 2020 2020 2020 2020 2020 2075 6e61               una
+00008470: 7279 0d0a 2a2c 202f 2c20 2f2f 2c20 252c  ry..*, /, //, %,
+00008480: 2040 2020 2020 2020 2020 206c 6566 740d   @         left.
+00008490: 0a2b 2c20 2d20 2020 2020 2020 2020 2020  .+, -           
+000084a0: 2020 2020 2020 2020 6c65 6674 0d0a 3c3c          left..<<
+000084b0: 2c20 3e3e 2020 2020 2020 2020 2020 2020  , >>            
+000084c0: 2020 2020 206c 6566 740d 0a26 2020 2020       left..&    
+000084d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000084e0: 2020 6c65 6674 0d0a 263a 2020 2020 2020    left..&:      
+000084f0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00008500: 6566 740d 0a5e 2020 2020 2020 2020 2020  eft..^          
+00008510: 2020 2020 2020 2020 2020 2020 6c65 6674              left
+00008520: 0d0a 7c20 2020 2020 2020 2020 2020 2020  ..|             
+00008530: 2020 2020 2020 2020 206c 6566 740d 0a3a           left..:
+00008540: 3a20 2020 2020 2020 2020 2020 2020 2020  :               
+00008550: 2020 2020 2020 6e2f 6120 286c 617a 7929        n/a (lazy)
+00008560: 0d0a 2e2e 2020 2020 2020 2020 2020 2020  ....            
+00008570: 2020 2020 2020 2020 206e 2f61 0d0a 6120           n/a..a 
+00008580: 6062 6020 632c 2020 2020 2020 2020 2020  `b` c,          
+00008590: 2020 2020 206c 6566 7420 2863 6170 7475       left (captu
+000085a0: 7265 7320 6c61 6d62 6461 290d 0a20 2061  res lambda)..  a
+000085b0: 6c6c 2063 7573 746f 6d20 6f70 6572 6174  ll custom operat
+000085c0: 6f72 730d 0a3f 3f20 2020 2020 2020 2020  ors..??         
+000085d0: 2020 2020 2020 2020 2020 2020 6c65 6674              left
+000085e0: 2028 7368 6f72 742d 6369 7263 7569 7473   (short-circuits
+000085f0: 290d 0a2e 2e3e 2c20 3c2e 2e2c 202e 2e2a  )....>, <.., ..*
+00008600: 3e2c 203c 2a2e 2e2c 2020 6e2f 6120 2863  >, <*..,  n/a (c
+00008610: 6170 7475 7265 7320 6c61 6d62 6461 290d  aptures lambda).
+00008620: 0a20 202e 2e2a 2a3e 2c20 3c2a 2a2e 2e0d  .  ..**>, <**...
+00008630: 0a7c 3e2c 203c 7c2c 207c 2a3e 2c20 3c2a  .|>, <|, |*>, <*
+00008640: 7c2c 2020 2020 2020 6c65 6674 2028 6361  |,      left (ca
+00008650: 7074 7572 6573 206c 616d 6264 6129 0d0a  ptures lambda)..
+00008660: 2020 7c2a 2a3e 2c20 3c2a 2a7c 0d0a 3d3d    |**>, <**|..==
+00008670: 2c20 213d 2c20 3c2c 203e 2c0d 0a20 203c  , !=, <, >,..  <
+00008680: 3d2c 203e 3d2c 0d0a 2020 696e 2c20 6e6f  =, >=,..  in, no
+00008690: 7420 696e 2c0d 0a20 2069 732c 2069 7320  t in,..  is, is 
+000086a0: 6e6f 7420 2020 2020 2020 2020 2020 6e2f  not           n/
+000086b0: 610d 0a6e 6f74 2020 2020 2020 2020 2020  a..not          
+000086c0: 2020 2020 2020 2020 2020 756e 6172 790d            unary.
+000086d0: 0a61 6e64 2020 2020 2020 2020 2020 2020  .and            
+000086e0: 2020 2020 2020 2020 6c65 6674 2028 7368          left (sh
+000086f0: 6f72 742d 6369 7263 7569 7473 290d 0a6f  ort-circuits)..o
+00008700: 7220 2020 2020 2020 2020 2020 2020 2020  r               
+00008710: 2020 2020 2020 6c65 6674 2028 7368 6f72        left (shor
+00008720: 742d 6369 7263 7569 7473 290d 0a78 2069  t-circuits)..x i
+00008730: 6620 6320 656c 7365 2079 2c20 2020 2020  f c else y,     
+00008740: 2020 2020 7465 726e 6172 7920 6c65 6674      ternary left
+00008750: 2028 7368 6f72 742d 6369 7263 7569 7473   (short-circuits
+00008760: 290d 0a20 2069 6620 6320 7468 656e 2078  )..  if c then x
+00008770: 2065 6c73 6520 790d 0a3d 3e20 2020 2020   else y..=>     
+00008780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008790: 7269 6768 740d 0a3d 3d3d 3d3d 3d3d 3d3d  right..=========
+000087a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 3d3d  ============= ==
+000087b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000087c0: 3d3d 3d3d 3d3d 3d3d 0d0a 6060 600d 0a0d  ========..```...
+000087d0: 0a46 6f72 2065 7861 6d70 6c65 2c20 7369  .For example, si
+000087e0: 6e63 6520 6164 6469 7469 6f6e 2068 6173  nce addition has
+000087f0: 2061 2068 6967 6865 7220 7072 6563 6564   a higher preced
+00008800: 656e 6365 2074 6861 6e20 7069 7069 6e67  ence than piping
+00008810: 2c20 6578 7072 6573 7369 6f6e 7320 6f66  , expressions of
+00008820: 2074 6865 2066 6f72 6d20 6078 207c 3e20   the form `x |> 
+00008830: 7920 2b20 7a60 2061 7265 2065 7175 6976  y + z` are equiv
+00008840: 616c 656e 7420 746f 2060 7820 7c3e 2028  alent to `x |> (
+00008850: 7920 2b20 7a29 602e 0d0a 0d0a 2323 2320  y + z)`.....### 
+00008860: 4c61 6d62 6461 730d 0a0d 0a43 6f63 6f6e  Lambdas....Cocon
+00008870: 7574 2070 726f 7669 6465 7320 7468 6520  ut provides the 
+00008880: 7369 6d70 6c65 2c20 636c 6561 6e20 603d  simple, clean `=
+00008890: 3e60 206f 7065 7261 746f 7220 6173 2061  >` operator as a
+000088a0: 6e20 616c 7465 726e 6174 6976 6520 746f  n alternative to
+000088b0: 2050 7974 686f 6e27 7320 606c 616d 6264   Python's `lambd
+000088c0: 6160 2073 7461 7465 6d65 6e74 732e 2054  a` statements. T
+000088d0: 6865 2073 796e 7461 7820 666f 7220 7468  he syntax for th
+000088e0: 6520 603d 3e60 206f 7065 7261 746f 7220  e `=>` operator 
+000088f0: 6973 2060 2870 6172 616d 6574 6572 7329  is `(parameters)
+00008900: 203d 3e20 6578 7072 6573 7369 6f6e 6020   => expression` 
+00008910: 286f 7220 6070 6172 616d 6574 6572 203d  (or `parameter =
+00008920: 3e20 6578 7072 6573 7369 6f6e 6020 666f  > expression` fo
+00008930: 7220 6f6e 652d 6172 6775 6d65 6e74 206c  r one-argument l
+00008940: 616d 6264 6173 292e 2054 6865 206f 7065  ambdas). The ope
+00008950: 7261 746f 7220 6861 7320 7468 6520 7361  rator has the sa
+00008960: 6d65 2070 7265 6365 6465 6e63 6520 6173  me precedence as
+00008970: 2074 6865 206f 6c64 2073 7461 7465 6d65   the old stateme
+00008980: 6e74 2c20 7768 6963 6820 6d65 616e 7320  nt, which means 
+00008990: 6974 2077 696c 6c20 6f66 7465 6e20 6265  it will often be
+000089a0: 206e 6563 6573 7361 7279 2074 6f20 7375   necessary to su
+000089b0: 7272 6f75 6e64 2074 6865 206c 616d 6264  rround the lambd
+000089c0: 6120 696e 2070 6172 656e 7468 6573 6573  a in parentheses
+000089d0: 2c20 616e 6420 6973 2072 6967 6874 2d61  , and is right-a
+000089e0: 7373 6f63 6961 7469 7665 2e0d 0a0d 0a41  ssociative.....A
+000089f0: 6464 6974 696f 6e61 6c6c 792c 2043 6f63  dditionally, Coc
+00008a00: 6f6e 7574 2061 6c73 6f20 7375 7070 6f72  onut also suppor
+00008a10: 7473 2061 6e20 696d 706c 6963 6974 2075  ts an implicit u
+00008a20: 7361 6765 206f 6620 7468 6520 603d 3e60  sage of the `=>`
+00008a30: 206f 7065 7261 746f 7220 6f66 2074 6865   operator of the
+00008a40: 2066 6f72 6d20 6028 3d3e 2065 7870 7265   form `(=> expre
+00008a50: 7373 696f 6e29 602c 2077 6869 6368 2069  ssion)`, which i
+00008a60: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+00008a70: 6028 285f 3d4e 6f6e 6529 203d 3e20 6578  `((_=None) => ex
+00008a80: 7072 6573 7369 6f6e 2960 2c20 7768 6963  pression)`, whic
+00008a90: 6820 616c 6c6f 7773 2061 6e20 696d 706c  h allows an impl
+00008aa0: 6963 6974 206c 616d 6264 6120 746f 2062  icit lambda to b
+00008ab0: 6520 7573 6564 2062 6f74 6820 7768 656e  e used both when
+00008ac0: 206e 6f20 6172 6775 6d65 6e74 7320 6172   no arguments ar
+00008ad0: 6520 7265 7175 6972 6564 2c20 616e 6420  e required, and 
+00008ae0: 7768 656e 206f 6e65 2061 7267 756d 656e  when one argumen
+00008af0: 7420 2861 7373 6967 6e65 6420 746f 2060  t (assigned to `
+00008b00: 5f60 2920 6973 2072 6571 7569 7265 642e  _`) is required.
+00008b10: 0d0a 0d0a 5f4e 6f74 653a 2049 6620 6e6f  ...._Note: If no
+00008b20: 726d 616c 206c 616d 6264 6120 7379 6e74  rmal lambda synt
+00008b30: 6178 2069 7320 696e 7375 6666 6963 6965  ax is insufficie
+00008b40: 6e74 2c20 436f 636f 6e75 7420 616c 736f  nt, Coconut also
+00008b50: 2073 7570 706f 7274 7320 616e 2065 7874   supports an ext
+00008b60: 656e 6465 6420 6c61 6d62 6461 2073 796e  ended lambda syn
+00008b70: 7461 7820 696e 2074 6865 2066 6f72 6d20  tax in the form 
+00008b80: 6f66 205b 7374 6174 656d 656e 7420 6c61  of [statement la
+00008b90: 6d62 6461 735d 2823 7374 6174 656d 656e  mbdas](#statemen
+00008ba0: 742d 6c61 6d62 6461 7329 2e20 5374 6174  t-lambdas). Stat
+00008bb0: 656d 656e 7420 6c61 6d62 6461 7320 7375  ement lambdas su
+00008bc0: 7070 6f72 7420 6675 6c6c 2073 7461 7465  pport full state
+00008bd0: 6d65 6e74 7320 7261 7468 6572 2074 6861  ments rather tha
+00008be0: 6e20 6a75 7374 2065 7870 7265 7373 696f  n just expressio
+00008bf0: 6e73 2061 6e64 2061 6c6c 6f77 2066 6f72  ns and allow for
+00008c00: 2074 6865 2075 7365 206f 6620 5b70 6174   the use of [pat
+00008c10: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
+00008c20: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+00008c30: 6e5d 2823 7061 7474 6572 6e2d 6d61 7463  n](#pattern-matc
+00008c40: 6869 6e67 2d66 756e 6374 696f 6e73 292e  hing-functions).
+00008c50: 5f0d 0a0d 0a5f 4465 7072 6563 6174 6564  _...._Deprecated
+00008c60: 3a20 602d 3e60 2063 616e 2062 6520 7573  : `->` can be us
+00008c70: 6564 2061 7320 616e 2061 6c74 6572 6e61  ed as an alterna
+00008c80: 7469 7665 2074 6f20 603d 3e60 2c20 7468  tive to `=>`, th
+00008c90: 6f75 6768 2060 2d3e 602d 6261 7365 6420  ough `->`-based 
+00008ca0: 6c61 6d62 6461 7320 6172 6520 6469 7361  lambdas are disa
+00008cb0: 626c 6564 2069 6e73 6964 6520 7479 7065  bled inside type
+00008cc0: 2061 6e6e 6f74 6174 696f 6e73 2074 6f20   annotations to 
+00008cd0: 6176 6f69 6420 636f 6e66 6c69 6374 696e  avoid conflictin
+00008ce0: 6720 7769 7468 2043 6f63 6f6e 7574 2773  g with Coconut's
+00008cf0: 205b 656e 6861 6e63 6564 2074 7970 6520   [enhanced type 
+00008d00: 616e 6e6f 7461 7469 6f6e 2073 796e 7461  annotation synta
+00008d10: 785d 2823 656e 6861 6e63 6564 2d74 7970  x](#enhanced-typ
+00008d20: 652d 616e 6e6f 7461 7469 6f6e 292e 5f0d  e-annotation)._.
+00008d30: 0a0d 0a23 2323 2323 2052 6174 696f 6e61  ...##### Rationa
+00008d40: 6c65 0d0a 0d0a 496e 2050 7974 686f 6e2c  le....In Python,
+00008d50: 206c 616d 6264 6173 2061 7265 2075 676c   lambdas are ugl
+00008d60: 7920 616e 6420 6275 6c6b 792c 2072 6571  y and bulky, req
+00008d70: 7569 7269 6e67 2074 6865 2065 6e74 6972  uiring the entir
+00008d80: 6520 776f 7264 2060 6c61 6d62 6461 6020  e word `lambda` 
+00008d90: 746f 2062 6520 7772 6974 7465 6e20 6f75  to be written ou
+00008da0: 7420 6576 6572 7920 7469 6d65 206f 6e65  t every time one
+00008db0: 2069 7320 636f 6e73 7472 7563 7465 642e   is constructed.
+00008dc0: 2054 6869 7320 6973 2066 696e 6520 6966   This is fine if
+00008dd0: 2069 6e2d 6c69 6e65 2066 756e 6374 696f   in-line functio
+00008de0: 6e73 2061 7265 2076 6572 7920 7261 7265  ns are very rare
+00008df0: 6c79 206e 6565 6465 642c 2062 7574 2069  ly needed, but i
+00008e00: 6e20 6675 6e63 7469 6f6e 616c 2070 726f  n functional pro
+00008e10: 6772 616d 6d69 6e67 2069 6e2d 6c69 6e65  gramming in-line
+00008e20: 2066 756e 6374 696f 6e73 2061 7265 2061   functions are a
+00008e30: 6e20 6573 7365 6e74 6961 6c20 746f 6f6c  n essential tool
+00008e40: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
+00008e50: 6e20 446f 6373 0d0a 0d0a 4c61 6d62 6461  n Docs....Lambda
+00008e60: 2066 6f72 6d73 2028 6c61 6d62 6461 2065   forms (lambda e
+00008e70: 7870 7265 7373 696f 6e73 2920 6861 7665  xpressions) have
+00008e80: 2074 6865 2073 616d 6520 7379 6e74 6163   the same syntac
+00008e90: 7469 6320 706f 7369 7469 6f6e 2061 7320  tic position as 
+00008ea0: 6578 7072 6573 7369 6f6e 732e 2054 6865  expressions. The
+00008eb0: 7920 6172 6520 6120 7368 6f72 7468 616e  y are a shorthan
+00008ec0: 6420 746f 2063 7265 6174 6520 616e 6f6e  d to create anon
+00008ed0: 796d 6f75 7320 6675 6e63 7469 6f6e 733b  ymous functions;
+00008ee0: 2074 6865 2065 7870 7265 7373 696f 6e20   the expression 
+00008ef0: 6028 6172 6775 6d65 6e74 7329 203d 3e20  `(arguments) => 
+00008f00: 6578 7072 6573 7369 6f6e 6020 7969 656c  expression` yiel
+00008f10: 6473 2061 2066 756e 6374 696f 6e20 6f62  ds a function ob
+00008f20: 6a65 6374 2e20 5468 6520 756e 6e61 6d65  ject. The unname
+00008f30: 6420 6f62 6a65 6374 2062 6568 6176 6573  d object behaves
+00008f40: 206c 696b 6520 6120 6675 6e63 7469 6f6e   like a function
+00008f50: 206f 626a 6563 7420 6465 6669 6e65 6420   object defined 
+00008f60: 7769 7468 3a0d 0a60 6060 636f 636f 6e75  with:..```coconu
+00008f70: 740d 0a64 6566 203c 6c61 6d62 6461 3e28  t..def <lambda>(
+00008f80: 6172 6775 6d65 6e74 7329 3a0d 0a20 2020  arguments):..   
+00008f90: 2072 6574 7572 6e20 6578 7072 6573 7369   return expressi
+00008fa0: 6f6e 0d0a 6060 600d 0a4e 6f74 6520 7468  on..```..Note th
+00008fb0: 6174 2066 756e 6374 696f 6e73 2063 7265  at functions cre
+00008fc0: 6174 6564 2077 6974 6820 6c61 6d62 6461  ated with lambda
+00008fd0: 2066 6f72 6d73 2063 616e 6e6f 7420 636f   forms cannot co
+00008fe0: 6e74 6169 6e20 7374 6174 656d 656e 7473  ntain statements
+00008ff0: 206f 7220 616e 6e6f 7461 7469 6f6e 732e   or annotations.
+00009000: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00009010: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00009020: 2a0d 0a60 6060 636f 636f 6e75 740d 0a64  *..```coconut..d
+00009030: 7562 7375 6d73 203d 206d 6170 2828 782c  ubsums = map((x,
+00009040: 2079 2920 3d3e 2032 2a28 782b 7929 2c20   y) => 2*(x+y), 
+00009050: 7261 6e67 6528 302c 2031 3029 2c20 7261  range(0, 10), ra
+00009060: 6e67 6528 3130 2c20 3230 2929 0d0a 6475  nge(10, 20))..du
+00009070: 6273 756d 7320 7c3e 206c 6973 7420 7c3e  bsums |> list |>
+00009080: 2070 7269 6e74 0d0a 6060 600d 0a0d 0a2a   print..```....*
+00009090: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
+000090a0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+000090b0: 7562 7375 6d73 203d 206d 6170 286c 616d  ubsums = map(lam
+000090c0: 6264 6120 782c 2079 3a20 322a 2878 2b79  bda x, y: 2*(x+y
+000090d0: 292c 2072 616e 6765 2830 2c20 3130 292c  ), range(0, 10),
+000090e0: 2072 616e 6765 2831 302c 2032 3029 290d   range(10, 20)).
+000090f0: 0a70 7269 6e74 286c 6973 7428 6475 6273  .print(list(dubs
+00009100: 756d 7329 290d 0a60 6060 0d0a 0d0a 2323  ums))..```....##
+00009110: 2323 2049 6d70 6c69 6369 7420 4c61 6d62  ## Implicit Lamb
+00009120: 6461 730d 0a0d 0a43 6f63 6f6e 7574 2061  das....Coconut a
+00009130: 6c73 6f20 7375 7070 6f72 7473 2069 6d70  lso supports imp
+00009140: 6c69 6369 7420 6c61 6d62 6461 732c 2077  licit lambdas, w
+00009150: 6869 6368 2061 6c6c 6f77 2061 206c 616d  hich allow a lam
+00009160: 6264 6120 746f 2074 616b 6520 6569 7468  bda to take eith
+00009170: 6572 206e 6f20 6172 6775 6d65 6e74 7320  er no arguments 
+00009180: 6f72 2061 2073 696e 676c 6520 6172 6775  or a single argu
+00009190: 6d65 6e74 2e20 496d 706c 6963 6974 206c  ment. Implicit l
+000091a0: 616d 6264 6173 2061 7265 2066 6f72 6d65  ambdas are forme
+000091b0: 6420 7769 7468 2074 6865 2075 7375 616c  d with the usual
+000091c0: 2043 6f63 6f6e 7574 206c 616d 6264 6120   Coconut lambda 
+000091d0: 6f70 6572 6174 6f72 2060 3d3e 602c 2069  operator `=>`, i
+000091e0: 6e20 7468 6520 666f 726d 2060 283d 3e20  n the form `(=> 
+000091f0: 6578 7072 6573 7369 6f6e 2960 2e20 5468  expression)`. Th
+00009200: 6973 2069 7320 6571 7569 7661 6c65 6e74  is is equivalent
+00009210: 2074 6f20 6028 285f 3d4e 6f6e 6529 203d   to `((_=None) =
+00009220: 3e20 6578 7072 6573 7369 6f6e 2960 2e20  > expression)`. 
+00009230: 5768 656e 2061 6e20 6172 6775 6d65 6e74  When an argument
+00009240: 2069 7320 7061 7373 6564 2074 6f20 616e   is passed to an
+00009250: 2069 6d70 6c69 6369 7420 6c61 6d62 6461   implicit lambda
+00009260: 2c20 6974 2077 696c 6c20 6265 2061 7373  , it will be ass
+00009270: 6967 6e65 6420 746f 2060 5f60 2c20 7265  igned to `_`, re
+00009280: 706c 6163 696e 6720 7468 6520 6465 6661  placing the defa
+00009290: 756c 7420 7661 6c75 6520 604e 6f6e 6560  ult value `None`
+000092a0: 2e0d 0a0d 0a42 656c 6f77 2061 7265 2074  .....Below are t
+000092b0: 776f 2065 7861 6d70 6c65 7320 6f66 2069  wo examples of i
+000092c0: 6d70 6c69 6369 7420 6c61 6d62 6461 732e  mplicit lambdas.
+000092d0: 2054 6865 2066 6972 7374 2075 7365 7320   The first uses 
+000092e0: 7468 6520 696d 706c 6963 6974 2061 7267  the implicit arg
+000092f0: 756d 656e 7420 605f 602c 2077 6869 6c65  ument `_`, while
+00009300: 2074 6865 2073 6563 6f6e 6420 646f 6573   the second does
+00009310: 206e 6f74 2e0d 0a0d 0a2a 2a53 696e 676c   not.....**Singl
+00009320: 6520 4172 6775 6d65 6e74 2045 7861 6d70  e Argument Examp
+00009330: 6c65 3a2a 2a0d 0a60 6060 636f 636f 6e75  le:**..```coconu
+00009340: 740d 0a73 7175 6172 6520 3d20 283d 3e20  t..square = (=> 
+00009350: 5f2a 2a32 290d 0a60 6060 0d0a 0d0a 2a2a  _**2)..```....**
+00009360: 4e6f 2d41 7267 756d 656e 7420 4578 616d  No-Argument Exam
+00009370: 706c 653a 2a2a 0d0a 6060 6063 6f63 6f6e  ple:**..```cocon
+00009380: 7574 0d0a 696d 706f 7274 2072 616e 646f  ut..import rando
+00009390: 6d0d 0a0d 0a67 6574 5f72 616e 646f 6d5f  m....get_random_
+000093a0: 6e75 6d62 6572 203d 2028 3d3e 2072 616e  number = (=> ran
+000093b0: 646f 6d2e 7261 6e64 6f6d 2829 290d 0a60  dom.random())..`
+000093c0: 6060 0d0a 0d0a 5f4e 6f74 653a 204e 6573  ``...._Note: Nes
+000093d0: 7469 6e67 2069 6d70 6c69 6369 7420 6c61  ting implicit la
+000093e0: 6d62 6461 7320 6361 6e20 6c65 6164 2074  mbdas can lead t
+000093f0: 6f20 7072 6f62 6c65 6d73 2077 6974 6820  o problems with 
+00009400: 7468 6520 7363 6f70 6520 6f66 2074 6865  the scope of the
+00009410: 2060 5f60 2070 6172 616d 6574 6572 2074   `_` parameter t
+00009420: 6f20 6561 6368 206c 616d 6264 612e 2049  o each lambda. I
+00009430: 7420 6973 2072 6563 6f6d 6d65 6e64 6564  t is recommended
+00009440: 2074 6861 7420 6e65 7374 696e 6720 696d   that nesting im
+00009450: 706c 6963 6974 206c 616d 6264 6173 2062  plicit lambdas b
+00009460: 6520 6176 6f69 6465 642e 5f0d 0a0d 0a23  e avoided._....#
+00009470: 2323 2050 6172 7469 616c 2041 7070 6c69  ## Partial Appli
+00009480: 6361 7469 6f6e 0d0a 0d0a 436f 636f 6e75  cation....Coconu
+00009490: 7420 7573 6573 2061 2060 2460 2073 6967  t uses a `$` sig
+000094a0: 6e20 7269 6768 7420 6166 7465 7220 6120  n right after a 
+000094b0: 6675 6e63 7469 6f6e 2773 206e 616d 6520  function's name 
+000094c0: 6275 7420 6265 666f 7265 2074 6865 206f  but before the o
+000094d0: 7065 6e20 7061 7265 6e74 6865 7369 7320  pen parenthesis 
+000094e0: 7573 6564 2074 6f20 6361 6c6c 2074 6865  used to call the
+000094f0: 2066 756e 6374 696f 6e20 746f 2064 656e   function to den
+00009500: 6f74 6520 7061 7274 6961 6c20 6170 706c  ote partial appl
+00009510: 6963 6174 696f 6e2e 0d0a 0d0a 436f 636f  ication.....Coco
+00009520: 6e75 7427 7320 7061 7274 6961 6c20 6170  nut's partial ap
+00009530: 706c 6963 6174 696f 6e20 616c 736f 2073  plication also s
+00009540: 7570 706f 7274 7320 7468 6520 7573 6520  upports the use 
+00009550: 6f66 2061 2060 3f60 2074 6f20 736b 6970  of a `?` to skip
+00009560: 2070 6172 7469 616c 6c79 2061 7070 6c79   partially apply
+00009570: 696e 6720 616e 2061 7267 756d 656e 742c  ing an argument,
+00009580: 2064 6566 6572 7269 6e67 2066 696c 6c69   deferring filli
+00009590: 6e67 2069 6e20 7468 6174 2061 7267 756d  ng in that argum
+000095a0: 656e 7420 756e 7469 6c20 7468 6520 7061  ent until the pa
+000095b0: 7274 6961 6c6c 792d 6170 706c 6965 6420  rtially-applied 
+000095c0: 6675 6e63 7469 6f6e 2069 7320 6361 6c6c  function is call
+000095d0: 6564 2e20 5468 6973 2069 7320 7573 6566  ed. This is usef
+000095e0: 756c 2069 6620 796f 7520 7761 6e74 2074  ul if you want t
+000095f0: 6f20 7061 7274 6961 6c6c 7920 6170 706c  o partially appl
+00009600: 7920 6172 6775 6d65 6e74 7320 7468 6174  y arguments that
+00009610: 2061 7265 6e27 7420 6669 7273 7420 696e   aren't first in
+00009620: 2074 6865 2061 7267 756d 656e 7420 6f72   the argument or
+00009630: 6465 722e 0d0a 0d0a 4164 6469 7469 6f6e  der.....Addition
+00009640: 616c 6c79 2c20 603f 6020 6361 6e20 6576  ally, `?` can ev
+00009650: 656e 2062 6520 7573 6564 2061 7320 7468  en be used as th
+00009660: 6520 7661 6c75 6520 6f66 206b 6579 776f  e value of keywo
+00009670: 7264 2061 7267 756d 656e 7473 2074 6f20  rd arguments to 
+00009680: 636f 6e76 6572 7420 7468 656d 2069 6e74  convert them int
+00009690: 6f20 706f 7369 7469 6f6e 616c 2061 7267  o positional arg
+000096a0: 756d 656e 7473 2e20 466f 7220 6578 616d  uments. For exam
+000096b0: 706c 652c 2060 6624 2878 3d3f 2960 2069  ple, `f$(x=?)` i
+000096c0: 7320 6566 6665 6374 6976 656c 7920 6571  s effectively eq
+000096d0: 7569 7661 6c65 6e74 2074 6f0d 0a60 6060  uivalent to..```
+000096e0: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+000096f0: 6465 6620 6e65 775f 6628 782c 202a 6172  def new_f(x, *ar
+00009700: 6773 2c20 2a2a 6b77 6172 6773 293a 0d0a  gs, **kwargs):..
+00009710: 2020 2020 6b77 6172 6773 5b22 7822 5d20      kwargs["x"] 
+00009720: 3d20 780d 0a20 2020 2072 6574 7572 6e20  = x..    return 
+00009730: 6628 2a61 7267 732c 202a 2a6b 7761 7267  f(*args, **kwarg
+00009740: 7329 0d0a 6060 600d 0a0d 0a23 2323 2323  s)..```....#####
+00009750: 2052 6174 696f 6e61 6c65 0d0a 0d0a 5061   Rationale....Pa
+00009760: 7274 6961 6c20 6170 706c 6963 6174 696f  rtial applicatio
+00009770: 6e2c 206f 7220 6375 7272 7969 6e67 2c20  n, or currying, 
+00009780: 6973 2061 206d 6169 6e73 7461 7920 6f66  is a mainstay of
+00009790: 2066 756e 6374 696f 6e61 6c20 7072 6f67   functional prog
+000097a0: 7261 6d6d 696e 672c 2061 6e64 2066 6f72  ramming, and for
+000097b0: 2067 6f6f 6420 7265 6173 6f6e 3a20 6974   good reason: it
+000097c0: 2061 6c6c 6f77 7320 7468 6520 6479 6e61   allows the dyna
+000097d0: 6d69 6320 6375 7374 6f6d 697a 6174 696f  mic customizatio
+000097e0: 6e20 6f66 2066 756e 6374 696f 6e73 2074  n of functions t
+000097f0: 6f20 6669 7420 7468 6520 6e65 6564 7320  o fit the needs 
+00009800: 6f66 2077 6865 7265 2074 6865 7920 6172  of where they ar
+00009810: 6520 6265 696e 6720 7573 6564 2e20 5061  e being used. Pa
+00009820: 7274 6961 6c20 6170 706c 6963 6174 696f  rtial applicatio
+00009830: 6e20 616c 6c6f 7773 2061 206e 6577 2066  n allows a new f
+00009840: 756e 6374 696f 6e20 746f 2062 6520 6372  unction to be cr
+00009850: 6561 7465 6420 6f75 7420 6f66 2061 6e20  eated out of an 
+00009860: 6f6c 6420 6675 6e63 7469 6f6e 2077 6974  old function wit
+00009870: 6820 736f 6d65 206f 6620 6974 7320 6172  h some of its ar
+00009880: 6775 6d65 6e74 7320 7072 652d 7370 6563  guments pre-spec
+00009890: 6966 6965 642e 0d0a 0d0a 2323 2323 2320  ified.....##### 
+000098a0: 5079 7468 6f6e 2044 6f63 730d 0a0d 0a52  Python Docs....R
+000098b0: 6574 7572 6e20 6120 6e65 7720 6070 6172  eturn a new `par
+000098c0: 7469 616c 6020 6f62 6a65 6374 2077 6869  tial` object whi
+000098d0: 6368 2077 6865 6e20 6361 6c6c 6564 2077  ch when called w
+000098e0: 696c 6c20 6265 6861 7665 206c 696b 6520  ill behave like 
+000098f0: 5f66 756e 635f 2063 616c 6c65 6420 7769  _func_ called wi
+00009900: 7468 2074 6865 2070 6f73 6974 696f 6e61  th the positiona
+00009910: 6c20 6172 6775 6d65 6e74 7320 5f61 7267  l arguments _arg
+00009920: 735f 2061 6e64 206b 6579 776f 7264 2061  s_ and keyword a
+00009930: 7267 756d 656e 7473 205f 6b65 7977 6f72  rguments _keywor
+00009940: 6473 5f2e 2049 6620 6d6f 7265 2061 7267  ds_. If more arg
+00009950: 756d 656e 7473 2061 7265 2073 7570 706c  uments are suppl
+00009960: 6965 6420 746f 2074 6865 2063 616c 6c2c  ied to the call,
+00009970: 2074 6865 7920 6172 6520 6170 7065 6e64   they are append
+00009980: 6564 2074 6f20 5f61 7267 735f 2e20 4966  ed to _args_. If
+00009990: 2061 6464 6974 696f 6e61 6c20 6b65 7977   additional keyw
+000099a0: 6f72 6420 6172 6775 6d65 6e74 7320 6172  ord arguments ar
+000099b0: 6520 7375 7070 6c69 6564 2c20 7468 6579  e supplied, they
+000099c0: 2065 7874 656e 6420 616e 6420 6f76 6572   extend and over
+000099d0: 7269 6465 205f 6b65 7977 6f72 6473 5f2e  ride _keywords_.
+000099e0: 2052 6f75 6768 6c79 2065 7175 6976 616c   Roughly equival
+000099f0: 656e 7420 746f 3a0d 0a60 6060 636f 636f  ent to:..```coco
+00009a00: 6e75 745f 7079 7468 6f6e 0d0a 6465 6620  nut_python..def 
+00009a10: 7061 7274 6961 6c28 6675 6e63 2c20 2a61  partial(func, *a
+00009a20: 7267 732c 202a 2a6b 6579 776f 7264 7329  rgs, **keywords)
+00009a30: 3a0d 0a20 2020 2064 6566 206e 6577 6675  :..    def newfu
+00009a40: 6e63 282a 6661 7267 732c 202a 2a66 6b65  nc(*fargs, **fke
+00009a50: 7977 6f72 6473 293a 0d0a 2020 2020 2020  ywords):..      
+00009a60: 2020 6e65 776b 6579 776f 7264 7320 3d20    newkeywords = 
+00009a70: 6b65 7977 6f72 6473 2e63 6f70 7928 290d  keywords.copy().
+00009a80: 0a20 2020 2020 2020 206e 6577 6b65 7977  .        newkeyw
+00009a90: 6f72 6473 2e75 7064 6174 6528 666b 6579  ords.update(fkey
+00009aa0: 776f 7264 7329 0d0a 2020 2020 2020 2020  words)..        
+00009ab0: 7265 7475 726e 2066 756e 6328 2a28 6172  return func(*(ar
+00009ac0: 6773 202b 2066 6172 6773 292c 202a 2a6e  gs + fargs), **n
+00009ad0: 6577 6b65 7977 6f72 6473 290d 0a20 2020  ewkeywords)..   
+00009ae0: 206e 6577 6675 6e63 2e66 756e 6320 3d20   newfunc.func = 
+00009af0: 6675 6e63 0d0a 2020 2020 6e65 7766 756e  func..    newfun
+00009b00: 632e 6172 6773 203d 2061 7267 730d 0a20  c.args = args.. 
+00009b10: 2020 206e 6577 6675 6e63 2e6b 6579 776f     newfunc.keywo
+00009b20: 7264 7320 3d20 6b65 7977 6f72 6473 0d0a  rds = keywords..
+00009b30: 2020 2020 7265 7475 726e 206e 6577 6675      return newfu
+00009b40: 6e63 0d0a 6060 600d 0a54 6865 2060 7061  nc..```..The `pa
+00009b50: 7274 6961 6c60 206f 626a 6563 7420 6973  rtial` object is
+00009b60: 2075 7365 6420 666f 7220 7061 7274 6961   used for partia
+00009b70: 6c20 6675 6e63 7469 6f6e 2061 7070 6c69  l function appli
+00009b80: 6361 7469 6f6e 2077 6869 6368 20e2 809c  cation which ...
+00009b90: 6672 6565 7a65 73e2 809d 2073 6f6d 6520  freezes... some 
+00009ba0: 706f 7274 696f 6e20 6f66 2061 2066 756e  portion of a fun
+00009bb0: 6374 696f 6e27 7320 6172 6775 6d65 6e74  ction's argument
+00009bc0: 7320 616e 642f 6f72 206b 6579 776f 7264  s and/or keyword
+00009bd0: 7320 7265 7375 6c74 696e 6720 696e 2061  s resulting in a
+00009be0: 206e 6577 206f 626a 6563 7420 7769 7468   new object with
+00009bf0: 2061 2073 696d 706c 6966 6965 6420 7369   a simplified si
+00009c00: 676e 6174 7572 652e 0d0a 0d0a 2323 2323  gnature.....####
+00009c10: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+00009c20: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+00009c30: 636f 6e75 740d 0a65 7870 6e75 6d73 203d  conut..expnums =
+00009c40: 2072 616e 6765 2835 2920 7c3e 206d 6170   range(5) |> map
+00009c50: 2428 706f 7724 283f 2c20 3229 290d 0a65  $(pow$(?, 2))..e
+00009c60: 7870 6e75 6d73 207c 3e20 6c69 7374 207c  xpnums |> list |
+00009c70: 3e20 7072 696e 740d 0a60 6060 0d0a 0d0a  > print..```....
+00009c80: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+00009c90: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+00009ca0: 2320 756e 6c69 6b65 2074 6869 7320 7369  # unlike this si
+00009cb0: 6d70 6c65 206c 616d 6264 612c 2024 2070  mple lambda, $ p
+00009cc0: 726f 6475 6365 7320 6120 7069 636b 6c65  roduces a pickle
+00009cd0: 6162 6c65 206f 626a 6563 740d 0a65 7870  able object..exp
+00009ce0: 6e75 6d73 203d 206d 6170 286c 616d 6264  nums = map(lambd
+00009cf0: 6120 783a 2070 6f77 2878 2c20 3229 2c20  a x: pow(x, 2), 
+00009d00: 7261 6e67 6528 3529 290d 0a70 7269 6e74  range(5))..print
+00009d10: 286c 6973 7428 6578 706e 756d 7329 290d  (list(expnums)).
+00009d20: 0a60 6060 0d0a 0d0a 2323 2320 5069 7065  .```....### Pipe
+00009d30: 730d 0a0d 0a43 6f63 6f6e 7574 2075 7365  s....Coconut use
+00009d40: 7320 7069 7065 206f 7065 7261 746f 7273  s pipe operators
+00009d50: 2066 6f72 2070 6970 656c 696e 652d 7374   for pipeline-st
+00009d60: 796c 6520 6675 6e63 7469 6f6e 2061 7070  yle function app
+00009d70: 6c69 6361 7469 6f6e 2e20 416c 6c20 7468  lication. All th
+00009d80: 6520 6f70 6572 6174 6f72 7320 6861 7665  e operators have
+00009d90: 2061 2070 7265 6365 6465 6e63 6520 696e   a precedence in
+00009da0: 2d62 6574 7765 656e 2066 756e 6374 696f  -between functio
+00009db0: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
+00009dc0: 7065 7320 616e 6420 636f 6d70 6172 6973  pes and comparis
+00009dd0: 6f6e 732c 2061 6e64 2061 7265 206c 6566  ons, and are lef
+00009de0: 742d 6173 736f 6369 6174 6976 652e 2041  t-associative. A
+00009df0: 6c6c 206f 7065 7261 746f 7273 2061 6c73  ll operators als
+00009e00: 6f20 7375 7070 6f72 7420 696e 2d70 6c61  o support in-pla
+00009e10: 6365 2076 6572 7369 6f6e 732e 2054 6865  ce versions. The
+00009e20: 2064 6966 6665 7265 6e74 206f 7065 7261   different opera
+00009e30: 746f 7273 2061 7265 3a0d 0a60 6060 636f  tors are:..```co
+00009e40: 636f 6e75 740d 0a28 7c3e 2920 2020 203d  conut..(|>)    =
+00009e50: 3e20 7069 7065 2066 6f72 7761 7264 0d0a  > pipe forward..
+00009e60: 287c 2a3e 2920 2020 3d3e 206d 756c 7469  (|*>)   => multi
+00009e70: 706c 652d 6172 6775 6d65 6e74 2070 6970  ple-argument pip
+00009e80: 6520 666f 7277 6172 640d 0a28 7c2a 2a3e  e forward..(|**>
+00009e90: 2920 203d 3e20 6b65 7977 6f72 6420 6172  )  => keyword ar
+00009ea0: 6775 6d65 6e74 2070 6970 6520 666f 7277  gument pipe forw
+00009eb0: 6172 640d 0a28 3c7c 2920 2020 203d 3e20  ard..(<|)    => 
+00009ec0: 7069 7065 2062 6163 6b77 6172 640d 0a28  pipe backward..(
+00009ed0: 3c2a 7c29 2020 203d 3e20 6d75 6c74 6970  <*|)   => multip
+00009ee0: 6c65 2d61 7267 756d 656e 7420 7069 7065  le-argument pipe
+00009ef0: 2062 6163 6b77 6172 640d 0a28 3c2a 2a7c   backward..(<**|
+00009f00: 2920 203d 3e20 6b65 7977 6f72 6420 6172  )  => keyword ar
+00009f10: 6775 6d65 6e74 2070 6970 6520 6261 636b  gument pipe back
+00009f20: 7761 7264 0d0a 287c 3f3e 2920 2020 3d3e  ward..(|?>)   =>
+00009f30: 204e 6f6e 652d 6177 6172 6520 7069 7065   None-aware pipe
+00009f40: 2066 6f72 7761 7264 0d0a 287c 3f2a 3e29   forward..(|?*>)
+00009f50: 2020 3d3e 204e 6f6e 652d 6177 6172 6520    => None-aware 
+00009f60: 6d75 6c74 692d 6172 6720 7069 7065 2066  multi-arg pipe f
+00009f70: 6f72 7761 7264 0d0a 287c 3f2a 2a3e 2920  orward..(|?**>) 
+00009f80: 3d3e 204e 6f6e 652d 6177 6172 6520 6b65  => None-aware ke
+00009f90: 7977 6f72 6420 6172 6720 7069 7065 2066  yword arg pipe f
+00009fa0: 6f72 7761 7264 0d0a 283c 3f7c 2920 2020  orward..(<?|)   
+00009fb0: 3d3e 204e 6f6e 652d 6177 6172 6520 7069  => None-aware pi
+00009fc0: 7065 2062 6163 6b77 6172 640d 0a28 3c2a  pe backward..(<*
+00009fd0: 3f7c 2920 203d 3e20 4e6f 6e65 2d61 7761  ?|)  => None-awa
+00009fe0: 7265 206d 756c 7469 2d61 7267 2070 6970  re multi-arg pip
+00009ff0: 6520 6261 636b 7761 7264 0d0a 283c 2a2a  e backward..(<**
+0000a000: 3f7c 2920 3d3e 204e 6f6e 652d 6177 6172  ?|) => None-awar
+0000a010: 6520 6b65 7977 6f72 6420 6172 6720 7069  e keyword arg pi
+0000a020: 7065 2062 6163 6b77 6172 640d 0a60 6060  pe backward..```
+0000a030: 0d0a 0d0a 5468 6520 4e6f 6e65 2d61 7761  ....The None-awa
+0000a040: 7265 2070 6970 6520 6f70 6572 6174 6f72  re pipe operator
+0000a050: 7320 6865 7265 2061 7265 2065 7175 6976  s here are equiv
+0000a060: 616c 656e 7420 746f 2061 205b 6d6f 6e61  alent to a [mona
+0000a070: 6469 6320 6269 6e64 5d28 6874 7470 733a  dic bind](https:
+0000a080: 2f2f 656e 2e77 696b 6970 6564 6961 2e6f  //en.wikipedia.o
+0000a090: 7267 2f77 696b 692f 4d6f 6e61 645f 2866  rg/wiki/Monad_(f
+0000a0a0: 756e 6374 696f 6e61 6c5f 7072 6f67 7261  unctional_progra
+0000a0b0: 6d6d 696e 6729 2920 7472 6561 7469 6e67  mming)) treating
+0000a0c0: 2074 6865 206f 626a 6563 7420 6173 2061   the object as a
+0000a0d0: 2060 4d61 7962 6560 206d 6f6e 6164 2063   `Maybe` monad c
+0000a0e0: 6f6d 706f 7365 6420 6f66 2065 6974 6865  omposed of eithe
+0000a0f0: 7220 604e 6f6e 6560 206f 7220 7468 6520  r `None` or the 
+0000a100: 6769 7665 6e20 6f62 6a65 6374 2e20 5468  given object. Th
+0000a110: 7573 2c20 6078 207c 3f3e 2066 6020 6973  us, `x |?> f` is
+0000a120: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
+0000a130: 4e6f 6e65 2069 6620 7820 6973 204e 6f6e  None if x is Non
+0000a140: 6520 656c 7365 2066 2878 2960 2e20 4e6f  e else f(x)`. No
+0000a150: 7465 2074 6861 7420 6f6e 6c79 2074 6865  te that only the
+0000a160: 206f 626a 6563 7420 6265 696e 6720 7069   object being pi
+0000a170: 7065 642c 206e 6f74 2074 6865 2066 756e  ped, not the fun
+0000a180: 6374 696f 6e20 6265 696e 6720 7069 7065  ction being pipe
+0000a190: 6420 696e 746f 2c20 6d61 7920 6265 2060  d into, may be `
+0000a1a0: 4e6f 6e65 6020 666f 7220 604e 6f6e 6560  None` for `None`
+0000a1b0: 2d61 7761 7265 2070 6970 6573 2e0d 0a0d  -aware pipes....
+0000a1c0: 0a46 6f72 2077 6f72 6b69 6e67 2077 6974  .For working wit
+0000a1d0: 6820 6061 7379 6e63 6020 6675 6e63 7469  h `async` functi
+0000a1e0: 6f6e 7320 696e 2070 6970 6573 2c20 616c  ons in pipes, al
+0000a1f0: 6c20 6e6f 6e2d 7374 6172 7265 6420 7069  l non-starred pi
+0000a200: 7065 7320 7375 7070 6f72 7420 7069 7069  pes support pipi
+0000a210: 6e67 2069 6e74 6f20 6061 7761 6974 6020  ng into `await` 
+0000a220: 746f 2061 7761 6974 2074 6865 2061 7761  to await the awa
+0000a230: 6974 6162 6c65 2070 6970 6564 2069 6e74  itable piped int
+0000a240: 6f20 7468 656d 2c20 7375 6368 2074 6861  o them, such tha
+0000a250: 7420 6078 207c 3e20 6177 6169 7460 2069  t `x |> await` i
+0000a260: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000a270: 6061 7761 6974 2078 602e 0d0a 0d0a 4164  `await x`.....Ad
+0000a280: 6469 7469 6f6e 616c 6c79 2c20 616c 6c20  ditionally, all 
+0000a290: 7069 7065 206f 7065 7261 746f 7273 2073  pipe operators s
+0000a2a0: 7570 706f 7274 2061 206c 616d 6264 6120  upport a lambda 
+0000a2b0: 6173 2074 6865 206c 6173 7420 6172 6775  as the last argu
+0000a2c0: 6d65 6e74 2c20 6465 7370 6974 6520 6c61  ment, despite la
+0000a2d0: 6d62 6461 7320 6861 7669 6e67 2061 206c  mbdas having a l
+0000a2e0: 6f77 6572 2070 7265 6365 6465 6e63 652e  ower precedence.
+0000a2f0: 2054 6875 732c 2060 6120 7c3e 2078 203d   Thus, `a |> x =
+0000a300: 3e20 6220 7c3e 2063 6020 6973 2065 7175  > b |> c` is equ
+0000a310: 6976 616c 656e 7420 746f 2060 6120 7c3e  ivalent to `a |>
+0000a320: 2028 7820 3d3e 2062 207c 3e20 6329 602c   (x => b |> c)`,
+0000a330: 206e 6f74 2060 6120 7c3e 2028 7820 3d3e   not `a |> (x =>
+0000a340: 2062 2920 7c3e 2063 602e 0d0a 0d0a 5f4e   b) |> c`....._N
+0000a350: 6f74 653a 2054 6f20 7669 7375 616c 6c79  ote: To visually
+0000a360: 2073 7072 6561 6420 6f70 6572 6174 696f   spread operatio
+0000a370: 6e73 2061 6372 6f73 7320 7365 7665 7261  ns across severa
+0000a380: 6c20 6c69 6e65 732c 206a 7573 7420 7573  l lines, just us
+0000a390: 6520 5b70 6172 656e 7468 6574 6963 616c  e [parenthetical
+0000a3a0: 2063 6f6e 7469 6e75 6174 696f 6e5d 2823   continuation](#
+0000a3b0: 656e 6861 6e63 6564 2d70 6172 656e 7468  enhanced-parenth
+0000a3c0: 6574 6963 616c 2d63 6f6e 7469 6e75 6174  etical-continuat
+0000a3d0: 696f 6e29 2e5f 0d0a 0d0a 2323 2323 2320  ion)._....##### 
+0000a3e0: 4f70 7469 6d69 7a61 7469 6f6e 730d 0a0d  Optimizations...
+0000a3f0: 0a49 7420 6973 2063 6f6d 6d6f 6e20 696e  .It is common in
+0000a400: 2043 6f63 6f6e 7574 2074 6f20 7772 6974   Coconut to writ
+0000a410: 6520 636f 6465 2074 6861 7420 7573 6573  e code that uses
+0000a420: 2070 6970 6573 2074 6f20 7061 7373 2061   pipes to pass a
+0000a430: 6e20 6f62 6a65 6374 2074 6872 6f75 6768  n object through
+0000a440: 2061 2073 6572 6965 7320 6f66 205b 7061   a series of [pa
+0000a450: 7274 6961 6c73 5d28 2370 6172 7469 616c  rtials](#partial
+0000a460: 2d61 7070 6c69 6361 7469 6f6e 2920 616e  -application) an
+0000a470: 642f 6f72 205b 696d 706c 6963 6974 2070  d/or [implicit p
+0000a480: 6172 7469 616c 735d 2823 696d 706c 6963  artials](#implic
+0000a490: 6974 2d70 6172 7469 616c 2d61 7070 6c69  it-partial-appli
+0000a4a0: 6361 7469 6f6e 292c 2061 7320 696e 0d0a  cation), as in..
+0000a4b0: 6060 6063 6f63 6f6e 7574 0d0a 6f62 6a20  ```coconut..obj 
+0000a4c0: 7c3e 202e 6174 7472 6962 7574 6520 7c3e  |> .attribute |>
+0000a4d0: 202e 6d65 7468 6f64 2861 7267 7329 207c   .method(args) |
+0000a4e0: 3e20 6675 6e63 2428 6172 6773 2920 7c3e  > func$(args) |>
+0000a4f0: 202e 5b69 6e64 6578 5d0d 0a60 6060 0d0a   .[index]..```..
+0000a500: 7768 6963 6820 6973 206f 6674 656e 206d  which is often m
+0000a510: 7563 6820 6d6f 7265 2072 6561 6461 626c  uch more readabl
+0000a520: 652c 2061 7320 6974 2061 6c6c 6f77 7320  e, as it allows 
+0000a530: 7468 6520 6f70 6572 6174 696f 6e73 2074  the operations t
+0000a540: 6f20 6265 2077 7269 7474 656e 2069 6e20  o be written in 
+0000a550: 7468 6520 6f72 6465 7220 696e 2077 6869  the order in whi
+0000a560: 6368 2074 6865 7920 6172 6520 7065 7266  ch they are perf
+0000a570: 6f72 6d65 642c 2069 6e73 7465 6164 206f  ormed, instead o
+0000a580: 6620 6173 2069 6e0d 0a60 6060 636f 636f  f as in..```coco
+0000a590: 6e75 745f 7079 7468 6f6e 0d0a 6675 6e63  nut_python..func
+0000a5a0: 2861 7267 732c 206f 626a 2e61 7474 7269  (args, obj.attri
+0000a5b0: 6275 7465 2e6d 6574 686f 6428 6172 6773  bute.method(args
+0000a5c0: 2929 5b69 6e64 6578 5d0d 0a60 6060 0d0a  ))[index]..```..
+0000a5d0: 7768 6572 6520 6066 756e 6360 2068 6173  where `func` has
+0000a5e0: 2074 6f20 676f 2061 7420 7468 6520 6265   to go at the be
+0000a5f0: 6769 6e6e 696e 672e 0d0a 0d0a 4966 2043  ginning.....If C
+0000a600: 6f63 6f6e 7574 2063 6f6d 7069 6c65 6420  oconut compiled 
+0000a610: 6561 6368 206f 6620 7468 6520 7061 7274  each of the part
+0000a620: 6961 6c73 2069 6e20 7468 6520 7069 7065  ials in the pipe
+0000a630: 2073 796e 7461 7820 6173 2061 6e20 6163   syntax as an ac
+0000a640: 7475 616c 2070 6172 7469 616c 2061 7070  tual partial app
+0000a650: 6c69 6361 7469 6f6e 206f 626a 6563 742c  lication object,
+0000a660: 2069 7420 776f 756c 6420 6d61 6b65 2074   it would make t
+0000a670: 6865 2043 6f63 6f6e 7574 2d73 7479 6c65  he Coconut-style
+0000a680: 2073 796e 7461 7820 7369 676e 6966 6963   syntax signific
+0000a690: 616e 746c 7920 736c 6f77 6572 2074 6861  antly slower tha
+0000a6a0: 6e20 7468 6520 5079 7468 6f6e 2d73 7479  n the Python-sty
+0000a6b0: 6c65 2073 796e 7461 782e 2054 6875 732c  le syntax. Thus,
+0000a6c0: 2043 6f63 6f6e 7574 2064 6f65 7320 6e6f   Coconut does no
+0000a6d0: 7420 646f 2074 6861 742e 2049 6620 616e  t do that. If an
+0000a6e0: 7920 6f66 2074 6865 2061 626f 7665 2073  y of the above s
+0000a6f0: 7479 6c65 7320 6f66 2070 6172 7469 616c  tyles of partial
+0000a700: 7320 6f72 2069 6d70 6c69 6369 7420 7061  s or implicit pa
+0000a710: 7274 6961 6c73 2061 7265 2075 7365 6420  rtials are used 
+0000a720: 696e 2070 6970 6573 2c20 7468 6579 2077  in pipes, they w
+0000a730: 696c 6c20 7768 656e 6576 6572 2070 6f73  ill whenever pos
+0000a740: 7369 626c 6520 6265 2063 6f6d 7069 6c65  sible be compile
+0000a750: 6420 746f 2074 6865 2050 7974 686f 6e2d  d to the Python-
+0000a760: 7374 796c 6520 7379 6e74 6178 2c20 7072  style syntax, pr
+0000a770: 6f64 7563 696e 6720 6e6f 2069 6e74 6572  oducing no inter
+0000a780: 6d65 6469 6174 6520 7061 7274 6961 6c20  mediate partial 
+0000a790: 6170 706c 6963 6174 696f 6e20 6f62 6a65  application obje
+0000a7a0: 6374 732e 0d0a 0d0a 5468 6973 2061 7070  cts.....This app
+0000a7b0: 6c69 6573 2065 7665 6e20 746f 2069 6e2d  lies even to in-
+0000a7c0: 706c 6163 6520 7069 7065 7320 7375 6368  place pipes such
+0000a7d0: 2061 7320 607c 3e3d 602e 0d0a 0d0a 2323   as `|>=`.....##
+0000a7e0: 2323 2320 4578 616d 706c 6573 0d0a 0d0a  ### Examples....
+0000a7f0: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+0000a800: 6063 6f63 6f6e 7574 0d0a 6465 6620 7371  `coconut..def sq
+0000a810: 2878 2920 3d20 782a 2a32 0d0a 2831 2c20  (x) = x**2..(1, 
+0000a820: 3229 207c 2a3e 2028 2b29 207c 3e20 7371  2) |*> (+) |> sq
+0000a830: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
+0000a840: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6173  ..```coconut..as
+0000a850: 796e 6320 6465 6620 646f 5f73 7475 6666  ync def do_stuff
+0000a860: 2873 6f6d 655f 6461 7461 2920 3d20 280d  (some_data) = (.
+0000a870: 0a20 2020 2073 6f6d 655f 6461 7461 0d0a  .    some_data..
+0000a880: 2020 2020 7c3e 2061 7379 6e63 5f66 756e      |> async_fun
+0000a890: 630d 0a20 2020 207c 3e20 6177 6169 740d  c..    |> await.
+0000a8a0: 0a20 2020 207c 3e20 706f 7374 5f70 726f  .    |> post_pro
+0000a8b0: 630d 0a29 0d0a 6060 600d 0a0d 0a2a 2a50  c..)..```....**P
+0000a8c0: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+0000a8d0: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6d70  onut_python..imp
+0000a8e0: 6f72 7420 6f70 6572 6174 6f72 0d0a 6465  ort operator..de
+0000a8f0: 6620 7371 2878 293a 2072 6574 7572 6e20  f sq(x): return 
+0000a900: 782a 2a32 0d0a 7072 696e 7428 7371 286f  x**2..print(sq(o
+0000a910: 7065 7261 746f 722e 6164 6428 312c 2032  perator.add(1, 2
+0000a920: 2929 290d 0a60 6060 0d0a 0d0a 6060 6063  )))..```....```c
+0000a930: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a61  oconut_python..a
+0000a940: 7379 6e63 2064 6566 2064 6f5f 7374 7566  sync def do_stuf
+0000a950: 6628 736f 6d65 5f64 6174 6129 3a0d 0a20  f(some_data):.. 
+0000a960: 2020 2072 6574 7572 6e20 706f 7374 5f70     return post_p
+0000a970: 726f 6328 6177 6169 7420 6173 796e 635f  roc(await async_
+0000a980: 6675 6e63 2873 6f6d 655f 6461 7461 2929  func(some_data))
+0000a990: 0d0a 6060 600d 0a0d 0a23 2323 2046 756e  ..```....### Fun
+0000a9a0: 6374 696f 6e20 436f 6d70 6f73 6974 696f  ction Compositio
+0000a9b0: 6e0d 0a0d 0a43 6f63 6f6e 7574 2068 6173  n....Coconut has
+0000a9c0: 2074 6872 6565 2062 6173 6963 2066 756e   three basic fun
+0000a9d0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000a9e0: 6e20 6f70 6572 6174 6f72 733a 2060 2e2e  n operators: `..
+0000a9f0: 602c 2060 2e2e 3e60 2c20 616e 6420 603c  `, `..>`, and `<
+0000aa00: 2e2e 602e 2042 6f74 6820 602e 2e60 2061  ..`. Both `..` a
+0000aa10: 6e64 2060 3c2e 2e60 2075 7365 206d 6174  nd `<..` use mat
+0000aa20: 682d 7374 796c 6520 2262 6163 6b77 6172  h-style "backwar
+0000aa30: 6473 2220 6675 6e63 7469 6f6e 2063 6f6d  ds" function com
+0000aa40: 706f 7369 7469 6f6e 2c20 7768 6572 6520  position, where 
+0000aa50: 7468 6520 6669 7273 7420 6675 6e63 7469  the first functi
+0000aa60: 6f6e 2069 7320 6361 6c6c 6564 206c 6173  on is called las
+0000aa70: 742c 2077 6869 6c65 2060 2e2e 3e60 2075  t, while `..>` u
+0000aa80: 7365 7320 2266 6f72 7761 7264 7322 2066  ses "forwards" f
+0000aa90: 756e 6374 696f 6e20 636f 6d70 6f73 6974  unction composit
+0000aaa0: 696f 6e2c 2077 6865 7265 2074 6865 2066  ion, where the f
+0000aab0: 6972 7374 2066 756e 6374 696f 6e20 6973  irst function is
+0000aac0: 2063 616c 6c65 6420 6669 7273 742e 2046   called first. F
+0000aad0: 6f72 7761 7264 7320 616e 6420 6261 636b  orwards and back
+0000aae0: 7761 7264 7320 6675 6e63 7469 6f6e 2063  wards function c
+0000aaf0: 6f6d 706f 7369 7469 6f6e 2070 6970 6573  omposition pipes
+0000ab00: 2063 616e 6e6f 7420 6265 2075 7365 6420   cannot be used 
+0000ab10: 746f 6765 7468 6572 2069 6e20 7468 6520  together in the 
+0000ab20: 7361 6d65 2065 7870 7265 7373 696f 6e20  same expression 
+0000ab30: 2875 6e6c 696b 6520 6e6f 726d 616c 2070  (unlike normal p
+0000ab40: 6970 6573 2920 616e 6420 6861 7665 2070  ipes) and have p
+0000ab50: 7265 6365 6465 6e63 6520 696e 2d62 6574  recedence in-bet
+0000ab60: 7765 656e 2060 4e6f 6e65 602d 636f 616c  ween `None`-coal
+0000ab70: 6573 6369 6e67 2061 6e64 206e 6f72 6d61  escing and norma
+0000ab80: 6c20 7069 7065 732e 0d0a 0d0a 5468 6520  l pipes.....The 
+0000ab90: 602e 2e3e 6020 616e 6420 603c 2e2e 6020  `..>` and `<..` 
+0000aba0: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000abb0: 7469 6f6e 2070 6970 6520 6f70 6572 6174  tion pipe operat
+0000abc0: 6f72 7320 616c 736f 2068 6176 6520 6d75  ors also have mu
+0000abd0: 6c74 692d 6172 672c 206b 6579 776f 7264  lti-arg, keyword
+0000abe0: 2c20 616e 6420 4e6f 6e65 2076 6172 6961  , and None varia
+0000abf0: 6e74 7320 6173 2077 6974 6820 5b6e 6f72  nts as with [nor
+0000ac00: 6d61 6c20 7069 7065 735d 2823 7069 7065  mal pipes](#pipe
+0000ac10: 7329 2e20 5468 6520 6675 6c6c 206c 6973  s). The full lis
+0000ac20: 7420 6f66 2066 756e 6374 696f 6e20 636f  t of function co
+0000ac30: 6d70 6f73 6974 696f 6e20 7069 7065 206f  mposition pipe o
+0000ac40: 7065 7261 746f 7273 2069 733a 0d0a 6060  perators is:..``
+0000ac50: 600d 0a2e 2e3e 2020 2020 3d3e 2066 6f72  `....>    => for
+0000ac60: 7761 7264 7320 6675 6e63 7469 6f6e 2063  wards function c
+0000ac70: 6f6d 706f 7369 7469 6f6e 2070 6970 650d  omposition pipe.
+0000ac80: 0a3c 2e2e 2020 2020 3d3e 2062 6163 6b77  .<..    => backw
+0000ac90: 6172 6473 2066 756e 6374 696f 6e20 636f  ards function co
+0000aca0: 6d70 6f73 6974 696f 6e20 7069 7065 0d0a  mposition pipe..
+0000acb0: 2e2e 2a3e 2020 203d 3e20 666f 7277 6172  ..*>   => forwar
+0000acc0: 6473 206d 756c 7469 2d61 7267 2066 756e  ds multi-arg fun
+0000acd0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+0000ace0: 6e20 7069 7065 0d0a 3c2a 2e2e 2020 203d  n pipe..<*..   =
+0000acf0: 3e20 6261 636b 7761 7264 7320 6d75 6c74  > backwards mult
+0000ad00: 692d 6172 6720 6675 6e63 7469 6f6e 2063  i-arg function c
+0000ad10: 6f6d 706f 7369 7469 6f6e 2070 6970 650d  omposition pipe.
+0000ad20: 0a2e 2e2a 2a3e 2020 3d3e 2066 6f72 7761  ...**>  => forwa
+0000ad30: 7264 7320 6b65 7977 6f72 6420 6172 6720  rds keyword arg 
+0000ad40: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000ad50: 7469 6f6e 2070 6970 650d 0a3c 2a2a 2e2e  tion pipe..<**..
+0000ad60: 2020 3d3e 2062 6163 6b77 6172 6473 206b    => backwards k
+0000ad70: 6579 776f 7264 2061 7267 2066 756e 6374  eyword arg funct
+0000ad80: 696f 6e20 636f 6d70 6f73 6974 696f 6e20  ion composition 
+0000ad90: 7069 7065 0d0a 2e2e 3f3e 2020 203d 3e20  pipe....?>   => 
+0000ada0: 666f 7277 6172 6473 204e 6f6e 652d 6177  forwards None-aw
+0000adb0: 6172 6520 6675 6e63 7469 6f6e 2063 6f6d  are function com
+0000adc0: 706f 7369 7469 6f6e 2070 6970 650d 0a3c  position pipe..<
+0000add0: 3f2e 2e20 2020 3d3e 2062 6163 6b77 6172  ?..   => backwar
+0000ade0: 6473 204e 6f6e 652d 6177 6172 6520 6675  ds None-aware fu
+0000adf0: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
+0000ae00: 6f6e 2070 6970 650d 0a2e 2e3f 2a3e 2020  on pipe....?*>  
+0000ae10: 3d3e 2066 6f72 7761 7264 7320 4e6f 6e65  => forwards None
+0000ae20: 2d61 7761 7265 206d 756c 7469 2d61 7267  -aware multi-arg
+0000ae30: 2066 756e 6374 696f 6e20 636f 6d70 6f73   function compos
+0000ae40: 6974 696f 6e20 7069 7065 0d0a 3c2a 3f2e  ition pipe..<*?.
+0000ae50: 2e20 203d 3e20 6261 636b 7761 7264 7320  .  => backwards 
+0000ae60: 4e6f 6e65 2d61 7761 7265 206d 756c 7469  None-aware multi
+0000ae70: 2d61 7267 2066 756e 6374 696f 6e20 636f  -arg function co
+0000ae80: 6d70 6f73 6974 696f 6e20 7069 7065 0d0a  mposition pipe..
+0000ae90: 2e2e 3f2a 2a3e 203d 3e20 666f 7277 6172  ..?**> => forwar
+0000aea0: 6473 204e 6f6e 652d 6177 6172 6520 6b65  ds None-aware ke
+0000aeb0: 7977 6f72 6420 6172 6720 6675 6e63 7469  yword arg functi
+0000aec0: 6f6e 2063 6f6d 706f 7369 7469 6f6e 2070  on composition p
+0000aed0: 6970 650d 0a3c 2a2a 3f2e 2e20 3d3e 2062  ipe..<**?.. => b
+0000aee0: 6163 6b77 6172 6473 204e 6f6e 652d 6177  ackwards None-aw
+0000aef0: 6172 6520 6b65 7977 6f72 6420 6172 6720  are keyword arg 
+0000af00: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+0000af10: 7469 6f6e 2070 6970 650d 0a60 6060 0d0a  tion pipe..```..
+0000af20: 0d0a 4e6f 7465 2074 6861 7420 604e 6f6e  ..Note that `Non
+0000af30: 6560 2d61 7761 7265 2066 756e 6374 696f  e`-aware functio
+0000af40: 6e20 636f 6d70 6f73 6974 696f 6e20 7069  n composition pi
+0000af50: 7065 7320 646f 6e27 7420 616c 6c6f 7720  pes don't allow 
+0000af60: 6569 7468 6572 2066 756e 6374 696f 6e20  either function 
+0000af70: 746f 2062 6520 604e 6f6e 6560 e280 9472  to be `None`...r
+0000af80: 6174 6865 722c 2074 6865 7920 616c 6c6f  ather, they allo
+0000af90: 7720 7468 6520 7265 7475 726e 206f 6620  w the return of 
+0000afa0: 7468 6520 6669 7273 7420 6576 616c 7561  the first evalua
+0000afb0: 7465 6420 6675 6e63 7469 6f6e 2074 6f20  ted function to 
+0000afc0: 6265 2060 4e6f 6e65 602c 2069 6e20 7768  be `None`, in wh
+0000afd0: 6963 6820 6361 7365 2060 4e6f 6e65 6020  ich case `None` 
+0000afe0: 6973 2072 6574 7572 6e65 6420 696d 6d65  is returned imme
+0000aff0: 6469 6174 656c 7920 7261 7468 6572 2074  diately rather t
+0000b000: 6861 6e20 6361 6c6c 696e 6720 7468 6520  han calling the 
+0000b010: 6e65 7874 2066 756e 6374 696f 6e2e 0d0a  next function...
+0000b020: 0d0a 5468 6520 602e 2e60 206f 7065 7261  ..The `..` opera
+0000b030: 746f 7220 6861 7320 6c6f 7765 7220 7072  tor has lower pr
+0000b040: 6563 6564 656e 6365 2074 6861 6e20 603a  ecedence than `:
+0000b050: 3a60 2062 7574 2068 6967 6865 7220 7072  :` but higher pr
+0000b060: 6563 6564 656e 6365 2074 6861 6e20 696e  ecedence than in
+0000b070: 6669 7820 6675 6e63 7469 6f6e 7320 7768  fix functions wh
+0000b080: 696c 6520 7468 6520 602e 2e3e 6020 7069  ile the `..>` pi
+0000b090: 7065 206f 7065 7261 746f 7273 2068 6176  pe operators hav
+0000b0a0: 6520 6120 7072 6563 6564 656e 6365 2064  e a precedence d
+0000b0b0: 6972 6563 746c 7920 6869 6768 6572 2074  irectly higher t
+0000b0c0: 6861 6e20 6e6f 726d 616c 2070 6970 6573  han normal pipes
+0000b0d0: 2e0d 0a0d 0a41 6c6c 2066 756e 6374 696f  .....All functio
+0000b0e0: 6e20 636f 6d70 6f73 6974 696f 6e20 6f70  n composition op
+0000b0f0: 6572 6174 6f72 7320 616c 736f 2068 6176  erators also hav
+0000b100: 6520 696e 2d70 6c61 6365 2076 6572 7369  e in-place versi
+0000b110: 6f6e 7320 2865 2e67 2e20 602e 2e3d 6029  ons (e.g. `..=`)
+0000b120: 2e0d 0a0d 0a53 696e 6365 2061 6c6c 2066  .....Since all f
+0000b130: 6f72 6d73 206f 6620 6675 6e63 7469 6f6e  orms of function
+0000b140: 2063 6f6d 706f 7369 7469 6f6e 2061 6c77   composition alw
+0000b150: 6179 7320 6361 6c6c 2074 6865 2066 6972  ays call the fir
+0000b160: 7374 2066 756e 6374 696f 6e20 696e 2074  st function in t
+0000b170: 6865 2063 6f6d 706f 7369 7469 6f6e 2028  he composition (
+0000b180: 6066 6020 696e 2060 6620 2e2e 3e20 6760  `f` in `f ..> g`
+0000b190: 2061 6e64 2060 6760 2069 6e20 6066 203c   and `g` in `f <
+0000b1a0: 2e2e 2067 6029 2077 6974 6820 6578 6163  .. g`) with exac
+0000b1b0: 746c 7920 7468 6520 6172 6775 6d65 6e74  tly the argument
+0000b1c0: 7320 7061 7373 6564 2069 6e74 6f20 7468  s passed into th
+0000b1d0: 6520 636f 6d70 6f73 6974 696f 6e2c 2061  e composition, a
+0000b1e0: 6c6c 2066 6f72 6d73 206f 6620 6675 6e63  ll forms of func
+0000b1f0: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+0000b200: 2077 696c 6c20 7072 6573 6572 7665 2061   will preserve a
+0000b210: 6c6c 206d 6574 6164 6174 6120 6174 7461  ll metadata atta
+0000b220: 6368 6564 2074 6f20 7468 6520 6669 7273  ched to the firs
+0000b230: 7420 6675 6e63 7469 6f6e 2069 6e20 7468  t function in th
+0000b240: 6520 636f 6d70 6f73 6974 696f 6e2c 2069  e composition, i
+0000b250: 6e63 6c75 6469 6e67 2074 6865 2066 756e  ncluding the fun
+0000b260: 6374 696f 6e27 7320 5b73 6967 6e61 7475  ction's [signatu
+0000b270: 7265 5d28 6874 7470 733a 2f2f 646f 6373  re](https://docs
+0000b280: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
+0000b290: 6272 6172 792f 696e 7370 6563 742e 6874  brary/inspect.ht
+0000b2a0: 6d6c 2369 6e73 7065 6374 2e73 6967 6e61  ml#inspect.signa
+0000b2b0: 7475 7265 2920 616e 6420 616e 7920 6f66  ture) and any of
+0000b2c0: 2074 6861 7420 6675 6e63 7469 6f6e 2773   that function's
+0000b2d0: 2061 7474 7269 6275 7465 732e 0d0a 0d0a   attributes.....
+0000b2e0: 5f4e 6f74 653a 2066 6f72 2063 6f6d 706f  _Note: for compo
+0000b2f0: 7369 6e67 2060 6173 796e 6360 2066 756e  sing `async` fun
+0000b300: 6374 696f 6e73 2c20 7365 6520 5b60 616e  ctions, see [`an
+0000b310: 645f 7468 656e 6020 616e 6420 6061 6e64  d_then` and `and
+0000b320: 5f74 6865 6e5f 6177 6169 7460 5d28 2361  _then_await`](#a
+0000b330: 6e64 5f74 6865 6e2d 616e 642d 616e 645f  nd_then-and-and_
+0000b340: 7468 656e 5f61 7761 6974 292e 5f0d 0a0d  then_await)._...
+0000b350: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0000b360: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0000b370: 6060 6063 6f63 6f6e 7574 0d0a 666f 6720  ```coconut..fog 
+0000b380: 3d20 662e 2e67 0d0a 665f 696e 746f 5f67  = f..g..f_into_g
+0000b390: 203d 2066 202e 2e3e 2067 0d0a 6060 600d   = f ..> g..```.
+0000b3a0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+0000b3b0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0000b3c0: 6e0d 0a23 2075 6e6c 696b 6520 7468 6573  n..# unlike thes
+0000b3d0: 6520 7369 6d70 6c65 206c 616d 6264 6173  e simple lambdas
+0000b3e0: 2c20 436f 636f 6e75 7420 7072 6f64 7563  , Coconut produc
+0000b3f0: 6573 2070 6963 6b6c 6561 626c 6520 6f62  es pickleable ob
+0000b400: 6a65 6374 730d 0a66 6f67 203d 206c 616d  jects..fog = lam
+0000b410: 6264 6120 2a61 7267 732c 202a 2a6b 7761  bda *args, **kwa
+0000b420: 7267 733a 2066 2867 282a 6172 6773 2c20  rgs: f(g(*args, 
+0000b430: 2a2a 6b77 6172 6773 2929 0d0a 665f 696e  **kwargs))..f_in
+0000b440: 746f 5f67 203d 206c 616d 6264 6120 2a61  to_g = lambda *a
+0000b450: 7267 732c 202a 2a6b 7761 7267 733a 2067  rgs, **kwargs: g
+0000b460: 2866 282a 6172 6773 2c20 2a2a 6b77 6172  (f(*args, **kwar
+0000b470: 6773 2929 0d0a 6060 600d 0a0d 0a23 2323  gs))..```....###
+0000b480: 2049 7465 7261 746f 7220 536c 6963 696e   Iterator Slicin
+0000b490: 670d 0a0d 0a43 6f63 6f6e 7574 2075 7365  g....Coconut use
+0000b4a0: 7320 6120 6024 6020 7369 676e 2072 6967  s a `$` sign rig
+0000b4b0: 6874 2061 6674 6572 2061 6e20 6974 6572  ht after an iter
+0000b4c0: 6174 6f72 2062 6566 6f72 6520 6120 736c  ator before a sl
+0000b4d0: 6963 6520 746f 2070 6572 666f 726d 2069  ice to perform i
+0000b4e0: 7465 7261 746f 7220 736c 6963 696e 672c  terator slicing,
+0000b4f0: 2061 7320 696e 2060 6974 245b 3a35 5d60   as in `it$[:5]`
+0000b500: 2e20 436f 636f 6e75 7427 7320 6974 6572  . Coconut's iter
+0000b510: 6174 6f72 2073 6c69 6369 6e67 2077 6f72  ator slicing wor
+0000b520: 6b73 206d 7563 6820 7468 6520 7361 6d65  ks much the same
+0000b530: 2061 7320 5079 7468 6f6e 2773 2073 6571   as Python's seq
+0000b540: 7565 6e63 6520 736c 6963 696e 672c 2061  uence slicing, a
+0000b550: 6e64 206c 6f6f 6b73 206d 7563 6820 7468  nd looks much th
+0000b560: 6520 7361 6d65 2061 7320 436f 636f 6e75  e same as Coconu
+0000b570: 7427 7320 7061 7274 6961 6c20 6170 706c  t's partial appl
+0000b580: 6963 6174 696f 6e2c 2062 7574 2077 6974  ication, but wit
+0000b590: 6820 6272 6163 6b65 7473 2069 6e73 7465  h brackets inste
+0000b5a0: 6164 206f 6620 7061 7265 6e74 6865 7365  ad of parenthese
+0000b5b0: 732e 0d0a 0d0a 4974 6572 6174 6f72 2073  s.....Iterator s
+0000b5c0: 6c69 6369 6e67 2077 6f72 6b73 206a 7573  licing works jus
+0000b5d0: 7420 6c69 6b65 2073 6571 7565 6e63 6520  t like sequence 
+0000b5e0: 736c 6963 696e 672c 2069 6e63 6c75 6469  slicing, includi
+0000b5f0: 6e67 2073 7570 706f 7274 2066 6f72 206e  ng support for n
+0000b600: 6567 6174 6976 6520 696e 6469 6365 7320  egative indices 
+0000b610: 616e 6420 736c 6963 6573 2c20 616e 6420  and slices, and 
+0000b620: 7375 7070 6f72 7420 666f 7220 6073 6c69  support for `sli
+0000b630: 6365 6020 6f62 6a65 6374 7320 696e 2074  ce` objects in t
+0000b640: 6865 2073 616d 6520 7761 7920 6173 2063  he same way as c
+0000b650: 616e 2062 6520 646f 6e65 2077 6974 6820  an be done with 
+0000b660: 6e6f 726d 616c 2073 6c69 6369 6e67 2e20  normal slicing. 
+0000b670: 4974 6572 6174 6f72 2073 6c69 6369 6e67  Iterator slicing
+0000b680: 206d 616b 6573 206e 6f20 6775 6172 616e   makes no guaran
+0000b690: 7465 652c 2068 6f77 6576 6572 2c20 7468  tee, however, th
+0000b6a0: 6174 2074 6865 206f 7269 6769 6e61 6c20  at the original 
+0000b6b0: 6974 6572 6174 6f72 2070 6173 7365 6420  iterator passed 
+0000b6c0: 746f 2069 7420 6265 2070 7265 7365 7276  to it be preserv
+0000b6d0: 6564 2028 746f 2070 7265 7365 7276 6520  ed (to preserve 
+0000b6e0: 7468 6520 6974 6572 6174 6f72 2c20 7573  the iterator, us
+0000b6f0: 6520 436f 636f 6e75 7427 7320 5b60 7265  e Coconut's [`re
+0000b700: 6974 6572 6162 6c65 605d 2823 7265 6974  iterable`](#reit
+0000b710: 6572 6162 6c65 2920 6275 696c 742d 696e  erable) built-in
+0000b720: 292e 0d0a 0d0a 436f 636f 6e75 7427 7320  ).....Coconut's 
+0000b730: 6974 6572 6174 6f72 2073 6c69 6369 6e67  iterator slicing
+0000b740: 2069 7320 7665 7279 2073 696d 696c 6172   is very similar
+0000b750: 2074 6f20 5079 7468 6f6e 2773 2060 6974   to Python's `it
+0000b760: 6572 746f 6f6c 732e 6973 6c69 6365 602c  ertools.islice`,
+0000b770: 2062 7574 2075 6e6c 696b 6520 6069 7465   but unlike `ite
+0000b780: 7274 6f6f 6c73 2e69 736c 6963 6560 2c20  rtools.islice`, 
+0000b790: 436f 636f 6e75 7427 7320 6974 6572 6174  Coconut's iterat
+0000b7a0: 6f72 2073 6c69 6369 6e67 2073 7570 706f  or slicing suppo
+0000b7b0: 7274 7320 6e65 6761 7469 7665 2069 6e64  rts negative ind
+0000b7c0: 6963 6573 2c20 616e 6420 7769 6c6c 2070  ices, and will p
+0000b7d0: 7265 6665 7265 6e74 6961 6c6c 7920 6361  referentially ca
+0000b7e0: 6c6c 2061 6e20 6f62 6a65 6374 2773 2060  ll an object's `
+0000b7f0: 5f5f 6974 6572 5f67 6574 6974 656d 5f5f  __iter_getitem__
+0000b800: 6020 2861 6c77 6179 7320 7573 6564 2069  ` (always used i
+0000b810: 6620 6176 6169 6c61 626c 6529 206f 7220  f available) or 
+0000b820: 605f 5f67 6574 6974 656d 5f5f 6020 286f  `__getitem__` (o
+0000b830: 6e6c 7920 7573 6564 2069 6620 7468 6520  nly used if the 
+0000b840: 6f62 6a65 6374 2069 7320 6120 6063 6f6c  object is a `col
+0000b850: 6c65 6374 696f 6e73 2e61 6263 2e53 6571  lections.abc.Seq
+0000b860: 7565 6e63 6560 292e 2043 6f63 6f6e 7574  uence`). Coconut
+0000b870: 2773 2069 7465 7261 746f 7220 736c 6963  's iterator slic
+0000b880: 696e 6720 6973 2061 6c73 6f20 6f70 7469  ing is also opti
+0000b890: 6d69 7a65 6420 746f 2077 6f72 6b20 7765  mized to work we
+0000b8a0: 6c6c 2077 6974 6820 616c 6c20 6f66 2043  ll with all of C
+0000b8b0: 6f63 6f6e 7574 2773 2062 7569 6c74 2d69  oconut's built-i
+0000b8c0: 6e20 6f62 6a65 6374 732c 206f 6e6c 7920  n objects, only 
+0000b8d0: 636f 6d70 7574 696e 6720 7468 6520 656c  computing the el
+0000b8e0: 656d 656e 7473 206f 6620 6561 6368 2074  ements of each t
+0000b8f0: 6861 7420 6172 6520 6163 7475 616c 6c79  hat are actually
+0000b900: 206e 6563 6573 7361 7279 2074 6f20 6578   necessary to ex
+0000b910: 7472 6163 7420 7468 6520 6465 7369 7265  tract the desire
+0000b920: 6420 736c 6963 652e 0d0a 0d0a 2323 2323  d slice.....####
+0000b930: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0000b940: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0000b950: 636f 6e75 740d 0a6d 6170 2878 203d 3e20  conut..map(x => 
+0000b960: 782a 322c 2072 616e 6765 2831 302a 2a31  x*2, range(10**1
+0000b970: 3030 2929 245b 2d31 5d20 7c3e 2070 7269  00))$[-1] |> pri
+0000b980: 6e74 0d0a 6060 600d 0a0d 0a2a 2a50 7974  nt..```....**Pyt
+0000b990: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+0000b9a0: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+0000b9b0: 2063 6f6d 706c 6963 6174 6564 2069 7465   complicated ite
+0000b9c0: 7261 746f 7220 736c 6963 696e 6720 6675  rator slicing fu
+0000b9d0: 6e63 7469 6f6e 2061 6e64 2069 6e73 7065  nction and inspe
+0000b9e0: 6374 696f 6e20 6f66 2063 7573 746f 6d20  ction of custom 
+0000b9f0: 6f62 6a65 6374 732e 2054 6865 206e 6563  objects. The nec
+0000ba00: 6573 7361 7279 2064 6566 696e 6974 696f  essary definitio
+0000ba10: 6e73 2069 6e20 5079 7468 6f6e 2063 616e  ns in Python can
+0000ba20: 2062 6520 666f 756e 6420 696e 2074 6865   be found in the
+0000ba30: 2043 6f63 6f6e 7574 2068 6561 6465 722e   Coconut header.
+0000ba40: 5f0d 0a0d 0a23 2323 2049 7465 7261 746f  _....### Iterato
+0000ba50: 7220 4368 6169 6e69 6e67 0d0a 0d0a 436f  r Chaining....Co
+0000ba60: 636f 6e75 7420 7573 6573 2074 6865 2060  conut uses the `
+0000ba70: 3a3a 6020 6f70 6572 6174 6f72 2066 6f72  ::` operator for
+0000ba80: 2069 7465 7261 746f 7220 6368 6169 6e69   iterator chaini
+0000ba90: 6e67 2e20 436f 636f 6e75 7427 7320 6974  ng. Coconut's it
+0000baa0: 6572 6174 6f72 2063 6861 696e 696e 6720  erator chaining 
+0000bab0: 6973 2064 6f6e 6520 6c61 7a69 6c79 2c20  is done lazily, 
+0000bac0: 696e 2074 6861 7420 7468 6520 6172 6775  in that the argu
+0000bad0: 6d65 6e74 7320 6172 6520 6e6f 7420 6576  ments are not ev
+0000bae0: 616c 7561 7465 6420 756e 7469 6c20 7468  aluated until th
+0000baf0: 6579 2061 7265 206e 6565 6465 642e 2049  ey are needed. I
+0000bb00: 7420 6861 7320 6120 7072 6563 6564 656e  t has a preceden
+0000bb10: 6365 2069 6e2d 6265 7477 6565 6e20 6269  ce in-between bi
+0000bb20: 7477 6973 6520 6f72 2061 6e64 2069 6e66  twise or and inf
+0000bb30: 6978 2063 616c 6c73 2e20 4368 6169 6e73  ix calls. Chains
+0000bb40: 2061 7265 2072 6569 7465 7261 626c 6520   are reiterable 
+0000bb50: 2863 616e 2062 6520 6974 6572 6174 6564  (can be iterated
+0000bb60: 206f 7665 7220 6d75 6c74 6970 6c65 2074   over multiple t
+0000bb70: 696d 6573 2061 6e64 2067 6574 2074 6865  imes and get the
+0000bb80: 2073 616d 6520 7265 7375 6c74 2920 6f6e   same result) on
+0000bb90: 6c79 2077 6865 6e20 7468 6520 6974 6572  ly when the iter
+0000bba0: 6174 6f72 7320 7061 7373 6564 2069 6e20  ators passed in 
+0000bbb0: 6172 6520 7265 6974 6572 6162 6c65 2e20  are reiterable. 
+0000bbc0: 5468 6520 696e 2d70 6c61 6365 206f 7065  The in-place ope
+0000bbd0: 7261 746f 7220 6973 2060 3a3a 3d60 2e0d  rator is `::=`..
+0000bbe0: 0a0d 0a5f 4e6f 7465 2074 6861 7420 5b6c  ..._Note that [l
+0000bbf0: 617a 7920 6c69 7374 735d 2823 6c61 7a79  azy lists](#lazy
+0000bc00: 2d6c 6973 7473 2920 616e 6420 5b66 6c61  -lists) and [fla
+0000bc10: 7474 656e 5d28 2366 6c61 7474 656e 2920  tten](#flatten) 
+0000bc20: 6172 6520 7573 6564 2075 6e64 6572 2074  are used under t
+0000bc30: 6865 2068 6f6f 6420 746f 2069 6d70 6c65  he hood to imple
+0000bc40: 6d65 6e74 2063 6861 696e 696e 6720 7375  ment chaining su
+0000bc50: 6368 2074 6861 7420 6061 203a 3a20 6260  ch that `a :: b`
+0000bc60: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+0000bc70: 6f20 6066 6c61 7474 656e 2828 7c61 2c20  o `flatten((|a, 
+0000bc80: 627c 2929 602e 5f0d 0a0d 0a23 2323 2323  b|))`._....#####
+0000bc90: 2052 6174 696f 6e61 6c65 0d0a 0d0a 4120   Rationale....A 
+0000bca0: 7573 6566 756c 2074 6f6f 6c20 746f 206d  useful tool to m
+0000bcb0: 616b 6520 776f 726b 696e 6720 7769 7468  ake working with
+0000bcc0: 2069 7465 7261 746f 7273 2061 7320 6561   iterators as ea
+0000bcd0: 7379 2061 7320 776f 726b 696e 6720 7769  sy as working wi
+0000bce0: 7468 2073 6571 7565 6e63 6573 2069 7320  th sequences is 
+0000bcf0: 7468 6520 6162 696c 6974 7920 746f 206c  the ability to l
+0000bd00: 617a 696c 7920 636f 6d62 696e 6520 6d75  azily combine mu
+0000bd10: 6c74 6970 6c65 2069 7465 7261 746f 7273  ltiple iterators
+0000bd20: 2074 6f67 6574 6865 722e 2054 6869 7320   together. This 
+0000bd30: 6f70 6572 6174 696f 6e20 6973 2063 616c  operation is cal
+0000bd40: 6c65 6420 6368 6169 6e2c 2061 6e64 2069  led chain, and i
+0000bd50: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000bd60: 6164 6469 7469 6f6e 2077 6974 6820 7365  addition with se
+0000bd70: 7175 656e 6365 732c 2065 7863 6570 7420  quences, except 
+0000bd80: 7468 6174 206e 6f74 6869 6e67 2067 6574  that nothing get
+0000bd90: 7320 6576 616c 7561 7465 6420 756e 7469  s evaluated unti
+0000bda0: 6c20 6974 2069 7320 6e65 6564 6564 2e0d  l it is needed..
+0000bdb0: 0a0d 0a23 2323 2323 2050 7974 686f 6e20  ...##### Python 
+0000bdc0: 446f 6373 0d0a 0d0a 4d61 6b65 2061 6e20  Docs....Make an 
+0000bdd0: 6974 6572 6174 6f72 2074 6861 7420 7265  iterator that re
+0000bde0: 7475 726e 7320 656c 656d 656e 7473 2066  turns elements f
+0000bdf0: 726f 6d20 7468 6520 6669 7273 7420 6974  rom the first it
+0000be00: 6572 6162 6c65 2075 6e74 696c 2069 7420  erable until it 
+0000be10: 6973 2065 7868 6175 7374 6564 2c20 7468  is exhausted, th
+0000be20: 656e 2070 726f 6365 6564 7320 746f 2074  en proceeds to t
+0000be30: 6865 206e 6578 7420 6974 6572 6162 6c65  he next iterable
+0000be40: 2c20 756e 7469 6c20 616c 6c20 6f66 2074  , until all of t
+0000be50: 6865 2069 7465 7261 626c 6573 2061 7265  he iterables are
+0000be60: 2065 7868 6175 7374 6564 2e20 5573 6564   exhausted. Used
+0000be70: 2066 6f72 2074 7265 6174 696e 6720 636f   for treating co
+0000be80: 6e73 6563 7574 6976 6520 7365 7175 656e  nsecutive sequen
+0000be90: 6365 7320 6173 2061 2073 696e 676c 6520  ces as a single 
+0000bea0: 7365 7175 656e 6365 2e20 4368 6169 6e65  sequence. Chaine
+0000beb0: 6420 696e 7075 7473 2061 7265 2065 7661  d inputs are eva
+0000bec0: 6c75 6174 6564 206c 617a 696c 792e 2052  luated lazily. R
+0000bed0: 6f75 6768 6c79 2065 7175 6976 616c 656e  oughly equivalen
+0000bee0: 7420 746f 3a0d 0a60 6060 636f 636f 6e75  t to:..```coconu
+0000bef0: 745f 7079 7468 6f6e 0d0a 6465 6620 6368  t_python..def ch
+0000bf00: 6169 6e28 2a69 7465 7261 626c 6573 293a  ain(*iterables):
+0000bf10: 0d0a 2020 2020 2320 6368 6169 6e28 2741  ..    # chain('A
+0000bf20: 4243 272c 2027 4445 4627 2920 2d2d 3e20  BC', 'DEF') --> 
+0000bf30: 4120 4220 4320 4420 4520 460d 0a20 2020  A B C D E F..   
+0000bf40: 2066 6f72 2069 7420 696e 2069 7465 7261   for it in itera
+0000bf50: 626c 6573 3a0d 0a20 2020 2020 2020 2066  bles:..        f
+0000bf60: 6f72 2065 6c65 6d65 6e74 2069 6e20 6974  or element in it
+0000bf70: 3a0d 0a20 2020 2020 2020 2020 2020 2079  :..            y
+0000bf80: 6965 6c64 2065 6c65 6d65 6e74 0d0a 6060  ield element..``
+0000bf90: 600d 0a0d 0a23 2323 2323 2045 7861 6d70  `....##### Examp
+0000bfa0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0000bfb0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0000bfc0: 6465 6620 4e28 6e3d 3029 203d 2028 6e2c  def N(n=0) = (n,
+0000bfd0: 2920 3a3a 204e 286e 2b31 2920 2023 206e  ) :: N(n+1)  # n
+0000bfe0: 6f20 696e 6669 6e69 7465 206c 6f6f 7020  o infinite loop 
+0000bff0: 6265 6361 7573 6520 3a3a 2069 7320 6c61  because :: is la
+0000c000: 7a79 0d0a 0d0a 2872 616e 6765 282d 3130  zy....(range(-10
+0000c010: 2c20 3029 203a 3a20 4e28 2929 245b 353a  , 0) :: N())$[5:
+0000c020: 3135 5d20 7c3e 206c 6973 7420 7c3e 2070  15] |> list |> p
+0000c030: 7269 6e74 0d0a 6060 600d 0a0d 0a2a 2a50  rint..```....**P
+0000c040: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
+0000c050: 2062 6520 646f 6e65 2077 6974 686f 7574   be done without
+0000c060: 2061 2063 6f6d 706c 6963 6174 6564 2069   a complicated i
+0000c070: 7465 7261 746f 7220 636f 6d70 7265 6865  terator comprehe
+0000c080: 6e73 696f 6e20 696e 2070 6c61 6365 206f  nsion in place o
+0000c090: 6620 7468 6520 6c61 7a79 2063 6861 696e  f the lazy chain
+0000c0a0: 696e 672e 2053 6565 2074 6865 2063 6f6d  ing. See the com
+0000c0b0: 7069 6c65 6420 636f 6465 2066 6f72 2074  piled code for t
+0000c0c0: 6865 2050 7974 686f 6e20 7379 6e74 6178  he Python syntax
+0000c0d0: 2e5f 0d0a 0d0a 2323 2320 496e 6669 7820  ._....### Infix 
+0000c0e0: 4675 6e63 7469 6f6e 730d 0a0d 0a43 6f63  Functions....Coc
+0000c0f0: 6f6e 7574 2061 6c6c 6f77 7320 666f 7220  onut allows for 
+0000c100: 696e 6669 7820 6675 6e63 7469 6f6e 2063  infix function c
+0000c110: 616c 6c69 6e67 2c20 7768 6572 6520 616e  alling, where an
+0000c120: 2065 7870 7265 7373 696f 6e20 7468 6174   expression that
+0000c130: 2065 7661 6c75 6174 6573 2074 6f20 6120   evaluates to a 
+0000c140: 6675 6e63 7469 6f6e 2069 7320 7375 7272  function is surr
+0000c150: 6f75 6e64 6564 2062 7920 6261 636b 7469  ounded by backti
+0000c160: 636b 7320 616e 6420 7468 656e 2063 616e  cks and then can
+0000c170: 2068 6176 6520 6172 6775 6d65 6e74 7320   have arguments 
+0000c180: 706c 6163 6564 2069 6e20 6672 6f6e 7420  placed in front 
+0000c190: 6f66 206f 7220 6265 6869 6e64 2069 742e  of or behind it.
+0000c1a0: 2049 6e66 6978 2063 616c 6c69 6e67 2068   Infix calling h
+0000c1b0: 6173 2061 2070 7265 6365 6465 6e63 6520  as a precedence 
+0000c1c0: 696e 2d62 6574 7765 656e 2063 6861 696e  in-between chain
+0000c1d0: 696e 6720 616e 6420 604e 6f6e 6560 2d63  ing and `None`-c
+0000c1e0: 6f61 6c65 7363 696e 672c 2061 6e64 2069  oalescing, and i
+0000c1f0: 7320 6c65 6674 2d61 7373 6f63 6961 7469  s left-associati
+0000c200: 7665 2e0d 0a0d 0a54 6865 2061 6c6c 6f77  ve.....The allow
+0000c210: 6162 6c65 206e 6f74 6174 696f 6e73 2066  able notations f
+0000c220: 6f72 2069 6e66 6978 2063 616c 6c73 2061  or infix calls a
+0000c230: 7265 3a0d 0a60 6060 636f 636f 6e75 740d  re:..```coconut.
+0000c240: 0a78 2060 6660 2079 2020 3d3e 2020 6628  .x `f` y  =>  f(
+0000c250: 782c 2079 290d 0a60 6660 2078 2020 2020  x, y)..`f` x    
+0000c260: 3d3e 2020 6628 7829 0d0a 7820 6066 6020  =>  f(x)..x `f` 
+0000c270: 2020 203d 3e20 2066 2878 290d 0a60 6660     =>  f(x)..`f`
+0000c280: 2020 2020 2020 3d3e 2020 6628 290d 0a60        =>  f()..`
+0000c290: 6060 0d0a 4164 6469 7469 6f6e 616c 6c79  ``..Additionally
+0000c2a0: 2c20 696e 6669 7820 6e6f 7461 7469 6f6e  , infix notation
+0000c2b0: 2073 7570 706f 7274 7320 6120 6c61 6d62   supports a lamb
+0000c2c0: 6461 2061 7320 7468 6520 6c61 7374 2061  da as the last a
+0000c2d0: 7267 756d 656e 742c 2064 6573 7069 7465  rgument, despite
+0000c2e0: 206c 616d 6264 6173 2068 6176 696e 6720   lambdas having 
+0000c2f0: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
+0000c300: 6365 2e20 5468 7573 2c20 6060 6120 6066  ce. Thus, ``a `f
+0000c310: 756e 6360 2062 203d 3e20 6360 6020 6973  unc` b => c`` is
+0000c320: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
+0000c330: 6675 6e63 2861 2c20 6220 3d3e 2063 2960  func(a, b => c)`
+0000c340: 2e0d 0a0d 0a43 6f63 6f6e 7574 2061 6c73  .....Coconut als
+0000c350: 6f20 7375 7070 6f72 7473 2069 6e66 6978  o supports infix
+0000c360: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
+0000c370: 7469 6f6e 2074 6f20 6d61 6b65 2064 6566  tion to make def
+0000c380: 696e 696e 6720 6675 6e63 7469 6f6e 7320  ining functions 
+0000c390: 7468 6174 2061 7265 2069 6e74 656e 6465  that are intende
+0000c3a0: 6420 666f 7220 696e 6669 7820 7573 6167  d for infix usag
+0000c3b0: 6520 7369 6d70 6c65 722e 2054 6865 2073  e simpler. The s
+0000c3c0: 796e 7461 7820 666f 7220 696e 6669 7820  yntax for infix 
+0000c3d0: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0000c3e0: 696f 6e20 6973 0d0a 6060 6063 6f63 6f6e  ion is..```cocon
+0000c3f0: 7574 0d0a 6465 6620 3c61 7267 3e20 603c  ut..def <arg> `<
+0000c400: 6e61 6d65 3e60 203c 6172 673e 3a0d 0a20  name>` <arg>:.. 
+0000c410: 2020 203c 626f 6479 3e0d 0a60 6060 0d0a     <body>..```..
+0000c420: 7768 6572 6520 603c 6e61 6d65 3e60 2069  where `<name>` i
+0000c430: 7320 7468 6520 6e61 6d65 206f 6620 7468  s the name of th
+0000c440: 6520 6675 6e63 7469 6f6e 2c20 7468 6520  e function, the 
+0000c450: 603c 6172 673e 6073 2061 7265 2074 6865  `<arg>`s are the
+0000c460: 2066 756e 6374 696f 6e20 6172 6775 6d65   function argume
+0000c470: 6e74 732c 2061 6e64 2060 3c62 6f64 793e  nts, and `<body>
+0000c480: 6020 6973 2074 6865 2062 6f64 7920 6f66  ` is the body of
+0000c490: 2074 6865 2066 756e 6374 696f 6e2e 2049   the function. I
+0000c4a0: 6620 616e 2060 3c61 7267 3e60 2069 6e63  f an `<arg>` inc
+0000c4b0: 6c75 6465 7320 6120 6465 6661 756c 742c  ludes a default,
+0000c4c0: 2074 6865 2060 3c61 7267 3e60 206d 7573   the `<arg>` mus
+0000c4d0: 7420 6265 2073 7572 726f 756e 6465 6420  t be surrounded 
+0000c4e0: 696e 2070 6172 656e 7468 6573 6573 2e0d  in parentheses..
+0000c4f0: 0a0d 0a5f 4e6f 7465 3a20 496e 6669 7820  ..._Note: Infix 
+0000c500: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0000c510: 696f 6e20 6361 6e20 6265 2063 6f6d 6269  ion can be combi
+0000c520: 6e65 6420 7769 7468 2061 7373 6967 6e6d  ned with assignm
+0000c530: 656e 7420 616e 642f 6f72 2070 6174 7465  ent and/or patte
+0000c540: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+0000c550: 7469 6f6e 2064 6566 696e 6974 696f 6e2e  tion definition.
+0000c560: 5f0d 0a0d 0a23 2323 2323 2052 6174 696f  _....##### Ratio
+0000c570: 6e61 6c65 0d0a 0d0a 4120 636f 6d6d 6f6e  nale....A common
+0000c580: 2069 6469 6f6d 2069 6e20 6675 6e63 7469   idiom in functi
+0000c590: 6f6e 616c 2070 726f 6772 616d 6d69 6e67  onal programming
+0000c5a0: 2069 7320 746f 2077 7269 7465 2066 756e   is to write fun
+0000c5b0: 6374 696f 6e73 2074 6861 7420 6172 6520  ctions that are 
+0000c5c0: 696e 7465 6e64 6564 2074 6f20 6265 6861  intended to beha
+0000c5d0: 7665 2073 6f6d 6577 6861 7420 6c69 6b65  ve somewhat like
+0000c5e0: 206f 7065 7261 746f 7273 2c20 616e 6420   operators, and 
+0000c5f0: 746f 2063 616c 6c20 616e 6420 6465 6669  to call and defi
+0000c600: 6e65 2074 6865 6d20 6279 2070 6c61 6369  ne them by placi
+0000c610: 6e67 2074 6865 6d20 6265 7477 6565 6e20  ng them between 
+0000c620: 7468 6569 7220 6172 6775 6d65 6e74 732e  their arguments.
+0000c630: 2043 6f63 6f6e 7574 2773 2069 6e66 6978   Coconut's infix
+0000c640: 2073 796e 7461 7820 6d61 6b65 7320 7468   syntax makes th
+0000c650: 6973 2070 6f73 7369 626c 652e 0d0a 0d0a  is possible.....
+0000c660: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0000c670: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0000c680: 6060 636f 636f 6e75 740d 0a64 6566 2061  ``coconut..def a
+0000c690: 2060 6d6f 6460 2062 203d 2061 2025 2062   `mod` b = a % b
+0000c6a0: 0d0a 2878 2060 6d6f 6460 2032 2920 6070  ..(x `mod` 2) `p
+0000c6b0: 7269 6e74 600d 0a60 6060 0d0a 0d0a 2a2a  rint`..```....**
+0000c6c0: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+0000c6d0: 636f 6e75 745f 7079 7468 6f6e 0d0a 6465  conut_python..de
+0000c6e0: 6620 6d6f 6428 612c 2062 293a 2072 6574  f mod(a, b): ret
+0000c6f0: 7572 6e20 6120 2520 620d 0a70 7269 6e74  urn a % b..print
+0000c700: 286d 6f64 2878 2c20 3229 290d 0a60 6060  (mod(x, 2))..```
+0000c710: 0d0a 0d0a 2323 2320 4375 7374 6f6d 204f  ....### Custom O
+0000c720: 7065 7261 746f 7273 0d0a 0d0a 436f 636f  perators....Coco
+0000c730: 6e75 7420 616c 6c6f 7773 2079 6f75 2074  nut allows you t
+0000c740: 6f20 6465 636c 6172 6520 796f 7572 206f  o declare your o
+0000c750: 776e 2063 7573 746f 6d20 6f70 6572 6174  wn custom operat
+0000c760: 6f72 7320 7769 7468 2074 6865 2073 796e  ors with the syn
+0000c770: 7461 780d 0a60 6060 0d0a 6f70 6572 6174  tax..```..operat
+0000c780: 6f72 203c 6f70 3e0d 0a60 6060 0d0a 7768  or <op>..```..wh
+0000c790: 6572 6520 603c 6f70 3e60 2069 7320 7768  ere `<op>` is wh
+0000c7a0: 6174 6576 6572 2073 6571 7565 6e63 6520  atever sequence 
+0000c7b0: 6f66 2055 6e69 636f 6465 2063 6861 7261  of Unicode chara
+0000c7c0: 6374 6572 7320 796f 7520 7761 6e74 2074  cters you want t
+0000c7d0: 6f20 7573 6520 6173 2061 2063 7573 746f  o use as a custo
+0000c7e0: 6d20 6f70 6572 6174 6f72 2e20 5468 6520  m operator. The 
+0000c7f0: 606f 7065 7261 746f 7260 2073 7461 7465  `operator` state
+0000c800: 6d65 6e74 206d 7573 7420 6170 7065 6172  ment must appear
+0000c810: 2061 7420 7468 6520 746f 7020 6c65 7665   at the top leve
+0000c820: 6c20 616e 6420 6f6e 6c79 2061 6666 6563  l and only affec
+0000c830: 7473 2063 6f64 6520 7468 6174 2063 6f6d  ts code that com
+0000c840: 6573 2061 6674 6572 2069 742e 0d0a 0d0a  es after it.....
+0000c850: 4f6e 6365 2064 6563 6c61 7265 642c 2079  Once declared, y
+0000c860: 6f75 2063 616e 2075 7365 2079 6f75 7220  ou can use your 
+0000c870: 6375 7374 6f6d 206f 7065 7261 746f 7220  custom operator 
+0000c880: 616e 7977 6865 7265 2077 6865 7265 2079  anywhere where y
+0000c890: 6f75 2077 6f75 6c64 2062 6520 6162 6c65  ou would be able
+0000c8a0: 2074 6f20 7573 6520 616e 205b 696e 6669   to use an [infi
+0000c8b0: 7820 6675 6e63 7469 6f6e 5d28 2369 6e66  x function](#inf
+0000c8c0: 6978 2d66 756e 6374 696f 6e73 2920 6173  ix-functions) as
+0000c8d0: 2077 656c 6c20 6173 2072 6566 6572 2074   well as refer t
+0000c8e0: 6f20 7468 6520 6163 7475 616c 206f 7065  o the actual ope
+0000c8f0: 7261 746f 7220 6974 7365 6c66 2077 6974  rator itself wit
+0000c900: 6820 7468 6520 7361 6d65 2060 283c 6f70  h the same `(<op
+0000c910: 3e29 6020 7379 6e74 6178 2061 7320 696e  >)` syntax as in
+0000c920: 206f 7468 6572 205b 6f70 6572 6174 6f72   other [operator
+0000c930: 2066 756e 6374 696f 6e73 5d28 236f 7065   functions](#ope
+0000c940: 7261 746f 722d 6675 6e63 7469 6f6e 7329  rator-functions)
+0000c950: 2e20 5369 6e63 6520 6375 7374 6f6d 206f  . Since custom o
+0000c960: 7065 7261 746f 7273 2077 6f72 6b20 6c69  perators work li
+0000c970: 6b65 2069 6e66 6978 2066 756e 6374 696f  ke infix functio
+0000c980: 6e73 2c20 7468 6579 2061 6c77 6179 7320  ns, they always 
+0000c990: 6861 7665 2074 6865 2073 616d 6520 7072  have the same pr
+0000c9a0: 6563 6564 656e 6365 2061 7320 696e 6669  ecedence as infi
+0000c9b0: 7820 6675 6e63 7469 6f6e 7320 616e 6420  x functions and 
+0000c9c0: 6172 6520 616c 7761 7973 206c 6566 742d  are always left-
+0000c9d0: 6173 736f 6369 6174 6976 652e 2043 7573  associative. Cus
+0000c9e0: 746f 6d20 6f70 6572 6174 6f72 7320 6361  tom operators ca
+0000c9f0: 6e20 6265 2075 7365 6420 6173 2062 696e  n be used as bin
+0000ca00: 6172 792c 2075 6e61 7279 2c20 6f72 206e  ary, unary, or n
+0000ca10: 6f6e 652d 6172 7920 6f70 6572 6174 6f72  one-ary operator
+0000ca20: 732c 2061 6e64 2062 6f74 6820 7072 6566  s, and both pref
+0000ca30: 6978 2061 6e64 2070 6f73 7466 6978 206e  ix and postfix n
+0000ca40: 6f74 6174 696f 6e20 666f 7220 756e 6172  otation for unar
+0000ca50: 7920 6f70 6572 6174 6f72 7320 6973 2073  y operators is s
+0000ca60: 7570 706f 7274 6564 2e0d 0a0d 0a53 6f6d  upported.....Som
+0000ca70: 6520 6578 616d 706c 6520 7379 6e74 6178  e example syntax
+0000ca80: 6573 2066 6f72 2064 6566 696e 696e 6720  es for defining 
+0000ca90: 6375 7374 6f6d 206f 7065 7261 746f 7273  custom operators
+0000caa0: 206f 6e63 6520 6465 636c 6172 6564 3a0d   once declared:.
+0000cab0: 0a60 6060 0d0a 6465 6620 7820 3c6f 703e  .```..def x <op>
+0000cac0: 2079 3a20 2e2e 2e0d 0a64 6566 203c 6f70   y: .....def <op
+0000cad0: 3e20 7820 3d20 2e2e 2e0d 0a6d 6174 6368  > x = .....match
+0000cae0: 2064 6566 2028 7829 203c 6f70 3e20 2879   def (x) <op> (y
+0000caf0: 293a 202e 2e2e 0d0a 283c 6f70 3e29 203d  ): .....(<op>) =
+0000cb00: 202e 2e2e 0d0a 6672 6f6d 206d 6f64 756c   .....from modul
+0000cb10: 6520 696d 706f 7274 206e 616d 6520 6173  e import name as
+0000cb20: 2028 3c6f 703e 290d 0a60 6060 0d0a 0d0a   (<op>)..```....
+0000cb30: 416e 6420 736f 6d65 2065 7861 6d70 6c65  And some example
+0000cb40: 2073 796e 7461 7865 7320 666f 7220 7573   syntaxes for us
+0000cb50: 696e 6720 6375 7374 6f6d 206f 7065 7261  ing custom opera
+0000cb60: 746f 7273 3a0d 0a60 6060 0d0a 7820 3c6f  tors:..```..x <o
+0000cb70: 703e 2079 0d0a 7820 3c6f 703e 2079 203c  p> y..x <op> y <
+0000cb80: 6f70 3e20 7a0d 0a3c 6f70 3e20 780d 0a78  op> z..<op> x..x
+0000cb90: 203c 6f70 3e0d 0a78 203d 2028 3c6f 703e   <op>..x = (<op>
+0000cba0: 290d 0a66 283c 6f70 3e29 0d0a 2878 203c  )..f(<op>)..(x <
+0000cbb0: 6f70 3e20 2e29 0d0a 282e 203c 6f70 3e20  op> .)..(. <op> 
+0000cbc0: 7929 0d0a 6d61 7463 6820 7820 3c6f 703e  y)..match x <op>
+0000cbd0: 2069 6e20 2e2e 2e3a 202e 2e2e 0d0a 6d61   in ...: .....ma
+0000cbe0: 7463 6820 7820 3c6f 703e 2079 2069 6e20  tch x <op> y in 
+0000cbf0: 2e2e 2e3a 202e 2e2e 0d0a 6060 600d 0a0d  ...: .....```...
+0000cc00: 0a41 6464 6974 696f 6e61 6c6c 792c 2074  .Additionally, t
+0000cc10: 6f20 696d 706f 7274 2063 7573 746f 6d20  o import custom 
+0000cc20: 6f70 6572 6174 6f72 7320 6672 6f6d 206f  operators from o
+0000cc30: 7468 6572 206d 6f64 756c 6573 2c20 436f  ther modules, Co
+0000cc40: 636f 6e75 7420 7375 7070 6f72 7473 2074  conut supports t
+0000cc50: 6865 2073 7065 6369 616c 2073 796e 7461  he special synta
+0000cc60: 783a 0d0a 6060 600d 0a66 726f 6d20 3c6d  x:..```..from <m
+0000cc70: 6f64 756c 653e 2069 6d70 6f72 7420 6f70  odule> import op
+0000cc80: 6572 6174 6f72 203c 6f70 3e0d 0a60 6060  erator <op>..```
+0000cc90: 0d0a 0d0a 4375 7374 6f6d 206f 7065 7261  ....Custom opera
+0000cca0: 746f 7273 2077 696c 6c20 6f66 7465 6e20  tors will often 
+0000ccb0: 6e65 6564 2074 6f20 6265 2073 7572 726f  need to be surro
+0000ccc0: 756e 6465 6420 6279 2077 6869 7465 7370  unded by whitesp
+0000ccd0: 6163 6520 286f 7220 7061 7265 6e74 6865  ace (or parenthe
+0000cce0: 7365 7320 7768 656e 2075 7365 6420 6173  ses when used as
+0000ccf0: 2061 6e20 6f70 6572 6174 6f72 2066 756e   an operator fun
+0000cd00: 6374 696f 6e29 2074 6f20 6265 2070 6172  ction) to be par
+0000cd10: 7365 6420 636f 7272 6563 746c 792e 0d0a  sed correctly...
+0000cd20: 0d0a 4966 2061 2063 7573 746f 6d20 6f70  ..If a custom op
+0000cd30: 6572 6174 6f72 2074 6861 7420 6973 2061  erator that is a
+0000cd40: 6c73 6f20 6120 7661 6c69 6420 6e61 6d65  lso a valid name
+0000cd50: 2069 7320 6465 7369 7265 642c 2079 6f75   is desired, you
+0000cd60: 2063 616e 2075 7365 2061 2062 6163 6b73   can use a backs
+0000cd70: 6c61 7368 2062 6566 6f72 6520 7468 6520  lash before the 
+0000cd80: 6e61 6d65 2074 6f20 6765 7420 6261 636b  name to get back
+0000cd90: 2074 6865 206e 616d 6520 696e 7374 6561   the name instea
+0000cda0: 6420 7573 696e 6720 436f 636f 6e75 7427  d using Coconut'
+0000cdb0: 7320 5b6b 6579 776f 7264 2f76 6172 6961  s [keyword/varia
+0000cdc0: 626c 6520 6469 7361 6d62 6967 7561 7469  ble disambiguati
+0000cdd0: 6f6e 2073 796e 7461 785d 2823 6861 6e64  on syntax](#hand
+0000cde0: 6c69 6e67 2d6b 6579 776f 7264 7661 7269  ling-keywordvari
+0000cdf0: 6162 6c65 2d6e 616d 652d 6f76 6572 6c61  able-name-overla
+0000ce00: 7029 2e0d 0a0d 0a5f 4e6f 7465 3a20 7265  p)....._Note: re
+0000ce10: 6465 6669 6e69 6e67 2065 7869 7374 696e  defining existin
+0000ce20: 6720 436f 636f 6e75 7420 6f70 6572 6174  g Coconut operat
+0000ce30: 6f72 7320 7573 696e 6720 6375 7374 6f6d  ors using custom
+0000ce40: 206f 7065 7261 746f 7220 6465 6669 6e69   operator defini
+0000ce50: 7469 6f6e 2073 796e 7461 7820 6973 2066  tion syntax is f
+0000ce60: 6f72 6269 6464 656e 2c20 696e 636c 7564  orbidden, includ
+0000ce70: 696e 6720 436f 636f 6e75 7427 7320 6275  ing Coconut's bu
+0000ce80: 696c 742d 696e 205b 556e 6963 6f64 6520  ilt-in [Unicode 
+0000ce90: 6f70 6572 6174 6f72 2061 6c74 6572 6e61  operator alterna
+0000cea0: 7469 7665 735d 2823 756e 6963 6f64 652d  tives](#unicode-
+0000ceb0: 616c 7465 726e 6174 6976 6573 292e 5f0d  alternatives)._.
+0000cec0: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0000ced0: 730d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  s....**Coconut:*
+0000cee0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a6f  *..```coconut..o
+0000cef0: 7065 7261 746f 7220 2525 0d0a 2825 2529  perator %%..(%%)
+0000cf00: 203d 206d 6174 682e 7265 6d61 696e 6465   = math.remainde
+0000cf10: 720d 0a31 3020 2525 2033 207c 3e20 7072  r..10 %% 3 |> pr
+0000cf20: 696e 740d 0a0d 0a6f 7065 7261 746f 7220  int....operator 
+0000cf30: 2121 0d0a 2821 2129 203d 2062 6f6f 6c0d  !!..(!!) = bool.
+0000cf40: 0a21 2120 3020 7c3e 2070 7269 6e74 0d0a  .!! 0 |> print..
+0000cf50: 0d0a 6f70 6572 6174 6f72 206c 6f67 3130  ..operator log10
+0000cf60: 0d0a 6672 6f6d 206d 6174 6820 696d 706f  ..from math impo
+0000cf70: 7274 205c 6c6f 6731 3020 6173 2028 6c6f  rt \log10 as (lo
+0000cf80: 6731 3029 0d0a 3130 3020 6c6f 6731 3020  g10)..100 log10 
+0000cf90: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
+0000cfa0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+0000cfb0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0000cfc0: 0a70 7269 6e74 286d 6174 682e 7265 6d61  .print(math.rema
+0000cfd0: 696e 6465 7228 3130 2c20 3329 290d 0a0d  inder(10, 3))...
+0000cfe0: 0a70 7269 6e74 2862 6f6f 6c28 3029 290d  .print(bool(0)).
+0000cff0: 0a0d 0a70 7269 6e74 286d 6174 682e 6c6f  ...print(math.lo
+0000d000: 6731 3028 3130 3029 290d 0a60 6060 0d0a  g10(100))..```..
+0000d010: 0d0a 2323 2320 4e6f 6e65 2043 6f61 6c65  ..### None Coale
+0000d020: 7363 696e 670d 0a0d 0a43 6f63 6f6e 7574  scing....Coconut
+0000d030: 2070 726f 7669 6465 7320 603f 3f60 2061   provides `??` a
+0000d040: 7320 6120 604e 6f6e 6560 2d63 6f61 6c65  s a `None`-coale
+0000d050: 7363 696e 6720 6f70 6572 6174 6f72 2c20  scing operator, 
+0000d060: 7369 6d69 6c61 7220 746f 2074 6865 2060  similar to the `
+0000d070: 3f3f 6020 6e75 6c6c 2d63 6f61 6c65 7363  ??` null-coalesc
+0000d080: 696e 6720 6f70 6572 6174 6f72 2069 6e20  ing operator in 
+0000d090: 4323 2061 6e64 2053 7769 6674 2e20 4164  C# and Swift. Ad
+0000d0a0: 6469 7469 6f6e 616c 6c79 2c20 436f 636f  ditionally, Coco
+0000d0b0: 6e75 7420 696d 706c 656d 656e 7473 2061  nut implements a
+0000d0c0: 6c6c 206f 6620 7468 6520 604e 6f6e 6560  ll of the `None`
+0000d0d0: 2d61 7761 7265 206f 7065 7261 746f 7273  -aware operators
+0000d0e0: 2070 726f 706f 7365 6420 696e 205b 5045   proposed in [PE
+0000d0f0: 5020 3530 355d 2868 7474 7073 3a2f 2f77  P 505](https://w
+0000d100: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
+0000d110: 762f 7065 7073 2f70 6570 2d30 3530 352f  v/peps/pep-0505/
+0000d120: 292e 0d0a 0d0a 436f 636f 6e75 7427 7320  ).....Coconut's 
+0000d130: 603f 3f60 206f 7065 7261 746f 7220 6576  `??` operator ev
+0000d140: 616c 7561 7465 7320 746f 2069 7473 206c  aluates to its l
+0000d150: 6566 7420 6f70 6572 616e 6420 6966 2074  eft operand if t
+0000d160: 6861 7420 6f70 6572 616e 6420 6973 206e  hat operand is n
+0000d170: 6f74 2060 4e6f 6e65 602c 206f 7468 6572  ot `None`, other
+0000d180: 7769 7365 2069 7473 2072 6967 6874 206f  wise its right o
+0000d190: 7065 7261 6e64 2e20 5468 6520 6578 7072  perand. The expr
+0000d1a0: 6573 7369 6f6e 2060 666f 6f20 3f3f 2062  ession `foo ?? b
+0000d1b0: 6172 6020 6576 616c 7561 7465 7320 746f  ar` evaluates to
+0000d1c0: 2060 666f 6f60 2061 7320 6c6f 6e67 2061   `foo` as long a
+0000d1d0: 7320 6974 2069 736e 2774 2060 4e6f 6e65  s it isn't `None
+0000d1e0: 602c 2061 6e64 2074 6f20 6062 6172 6020  `, and to `bar` 
+0000d1f0: 6966 2069 7420 6973 2e20 5468 6520 604e  if it is. The `N
+0000d200: 6f6e 6560 2d63 6f61 6c65 7363 696e 6720  one`-coalescing 
+0000d210: 6f70 6572 6174 6f72 2069 7320 7368 6f72  operator is shor
+0000d220: 742d 6369 7263 7569 7469 6e67 2c20 7375  t-circuiting, su
+0000d230: 6368 2074 6861 7420 6966 2074 6865 206c  ch that if the l
+0000d240: 6566 7420 6f70 6572 616e 6420 6973 206e  eft operand is n
+0000d250: 6f74 2060 4e6f 6e65 602c 2074 6865 2072  ot `None`, the r
+0000d260: 6967 6874 206f 7065 7261 6e64 2077 6f6e  ight operand won
+0000d270: 2774 2062 6520 6576 616c 7561 7465 642e  't be evaluated.
+0000d280: 2054 6869 7320 616c 6c6f 7773 2074 6865   This allows the
+0000d290: 2072 6967 6874 206f 7065 7261 6e64 2074   right operand t
+0000d2a0: 6f20 6265 2061 2070 6f74 656e 7469 616c  o be a potential
+0000d2b0: 6c79 2065 7870 656e 7369 7665 206f 7065  ly expensive ope
+0000d2c0: 7261 7469 6f6e 2077 6974 686f 7574 2069  ration without i
+0000d2d0: 6e63 7572 7269 6e67 2061 6e79 2075 6e6e  ncurring any unn
+0000d2e0: 6563 6573 7361 7279 2063 6f73 742e 0d0a  ecessary cost...
+0000d2f0: 0d0a 5468 6520 604e 6f6e 6560 2d63 6f61  ..The `None`-coa
+0000d300: 6c65 7363 696e 6720 6f70 6572 6174 6f72  lescing operator
+0000d310: 2068 6173 2061 2070 7265 6365 6465 6e63   has a precedenc
+0000d320: 6520 696e 2d62 6574 7765 656e 2069 6e66  e in-between inf
+0000d330: 6978 2066 756e 6374 696f 6e20 6361 6c6c  ix function call
+0000d340: 7320 616e 6420 636f 6d70 6f73 6974 696f  s and compositio
+0000d350: 6e20 7069 7065 732c 2061 6e64 2069 7320  n pipes, and is 
+0000d360: 6c65 6674 2d61 7373 6f63 6961 7469 7665  left-associative
+0000d370: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0000d380: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0000d390: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0000d3a0: 636f 756c 645f 6265 5f6e 6f6e 6528 2920  could_be_none() 
+0000d3b0: 3f3f 2063 616c 6375 6c61 7465 5f64 6566  ?? calculate_def
+0000d3c0: 6175 6c74 5f76 616c 7565 2829 0d0a 6060  ault_value()..``
+0000d3d0: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+0000d3e0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+0000d3f0: 686f 6e0d 0a28 6c61 6d62 6461 2072 6573  hon..(lambda res
+0000d400: 756c 743a 2072 6573 756c 7420 6966 2072  ult: result if r
+0000d410: 6573 756c 7420 6973 206e 6f74 204e 6f6e  esult is not Non
+0000d420: 6520 656c 7365 2063 616c 6375 6c61 7465  e else calculate
+0000d430: 5f64 6566 6175 6c74 5f76 616c 7565 2829  _default_value()
+0000d440: 2928 636f 756c 645f 6265 5f6e 6f6e 6528  )(could_be_none(
+0000d450: 2929 0d0a 6060 600d 0a0d 0a23 2323 2320  ))..```....#### 
+0000d460: 436f 616c 6573 6369 6e67 2041 7373 6967  Coalescing Assig
+0000d470: 6e6d 656e 7420 4f70 6572 6174 6f72 0d0a  nment Operator..
+0000d480: 0d0a 5468 6520 696e 2d70 6c61 6365 2061  ..The in-place a
+0000d490: 7373 6967 6e6d 656e 7420 6f70 6572 6174  ssignment operat
+0000d4a0: 6f72 2069 7320 603f 3f3d 602c 2077 6869  or is `??=`, whi
+0000d4b0: 6368 2061 6c6c 6f77 7320 636f 6e64 6974  ch allows condit
+0000d4c0: 696f 6e61 6c6c 7920 7365 7474 696e 6720  ionally setting 
+0000d4d0: 6120 7661 7269 6162 6c65 2069 6620 6974  a variable if it
+0000d4e0: 2069 7320 6375 7272 656e 746c 7920 604e   is currently `N
+0000d4f0: 6f6e 6560 2e0d 0a0d 0a60 6060 636f 636f  one`.....```coco
+0000d500: 6e75 740d 0a66 6f6f 203d 2031 0d0a 6261  nut..foo = 1..ba
+0000d510: 7220 3d20 4e6f 6e65 0d0a 666f 6f20 3f3f  r = None..foo ??
+0000d520: 3d20 3130 2020 2320 666f 6f20 6973 2073  = 10  # foo is s
+0000d530: 7469 6c6c 2031 0d0a 6261 7220 3f3f 3d20  till 1..bar ??= 
+0000d540: 3130 2020 2320 6261 7220 6973 206e 6f77  10  # bar is now
+0000d550: 2031 300d 0a60 6060 0d0a 0d0a 4173 2064   10..```....As d
+0000d560: 6573 6372 6962 6564 2077 6974 6820 7468  escribed with th
+0000d570: 6520 7374 616e 6461 7264 2060 3f3f 6020  e standard `??` 
+0000d580: 6f70 6572 6174 6f72 2c20 7468 6520 604e  operator, the `N
+0000d590: 6f6e 6560 2d63 6f61 6c65 7363 696e 6720  one`-coalescing 
+0000d5a0: 6173 7369 676e 6d65 6e74 206f 7065 7261  assignment opera
+0000d5b0: 746f 7220 7769 6c6c 206e 6f74 2065 7661  tor will not eva
+0000d5c0: 6c75 6174 6520 7468 6520 7269 6768 7420  luate the right 
+0000d5d0: 6861 6e64 2073 6964 6520 756e 6c65 7373  hand side unless
+0000d5e0: 2074 6865 206c 6566 7420 6861 6e64 2073   the left hand s
+0000d5f0: 6964 6520 6973 2060 4e6f 6e65 602e 0d0a  ide is `None`...
+0000d600: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6261  ..```coconut..ba
+0000d610: 7a20 3d20 300d 0a62 617a 203f 3f3d 2065  z = 0..baz ??= e
+0000d620: 7870 656e 7369 7665 5f74 6173 6b28 2920  xpensive_task() 
+0000d630: 2023 2072 6967 6874 2068 616e 6420 7369   # right hand si
+0000d640: 6465 2069 736e 2774 2065 7661 6c75 6174  de isn't evaluat
+0000d650: 6564 0d0a 6060 600d 0a0d 0a23 2323 2320  ed..```....#### 
+0000d660: 4f74 6865 7220 4e6f 6e65 2d41 7761 7265  Other None-Aware
+0000d670: 204f 7065 7261 746f 7273 0d0a 0d0a 436f   Operators....Co
+0000d680: 636f 6e75 7420 616c 736f 2061 6c6c 6f77  conut also allow
+0000d690: 7320 6120 7369 6e67 6c65 2060 3f60 2062  s a single `?` b
+0000d6a0: 6566 6f72 6520 6174 7472 6962 7574 6520  efore attribute 
+0000d6b0: 6163 6365 7373 2c20 6675 6e63 7469 6f6e  access, function
+0000d6c0: 2063 616c 6c69 6e67 2c20 7061 7274 6961   calling, partia
+0000d6d0: 6c20 6170 706c 6963 6174 696f 6e2c 2061  l application, a
+0000d6e0: 6e64 2028 6974 6572 6174 6f72 2920 696e  nd (iterator) in
+0000d6f0: 6465 7869 6e67 2074 6f20 7368 6f72 742d  dexing to short-
+0000d700: 6369 7263 7569 7420 7468 6520 7265 7374  circuit the rest
+0000d710: 206f 6620 7468 6520 6576 616c 7561 7469   of the evaluati
+0000d720: 6f6e 2069 6620 6576 6572 7974 6869 6e67  on if everything
+0000d730: 2073 6f20 6661 7220 6576 616c 7561 7465   so far evaluate
+0000d740: 7320 746f 2060 4e6f 6e65 602e 2054 6869  s to `None`. Thi
+0000d750: 7320 6973 2073 6f6d 6574 696d 6573 206b  s is sometimes k
+0000d760: 6e6f 776e 2061 7320 6120 2273 6166 6520  nown as a "safe 
+0000d770: 6e61 7669 6761 7469 6f6e 2220 6f70 6572  navigation" oper
+0000d780: 6174 6f72 2e0d 0a0d 0a57 6865 6e20 7573  ator.....When us
+0000d790: 696e 6720 6120 604e 6f6e 6560 2d61 7761  ing a `None`-awa
+0000d7a0: 7265 206f 7065 7261 746f 7220 666f 7220  re operator for 
+0000d7b0: 6d65 6d62 6572 2061 6363 6573 732c 2065  member access, e
+0000d7c0: 6974 6865 7220 666f 7220 6120 6d65 7468  ither for a meth
+0000d7d0: 6f64 206f 7220 616e 2061 7474 7269 6275  od or an attribu
+0000d7e0: 7465 2c20 7468 6520 7379 6e74 6178 2069  te, the syntax i
+0000d7f0: 7320 606f 626a 3f2e 6d65 7468 6f64 2829  s `obj?.method()
+0000d800: 6020 6f72 2060 6f62 6a3f 2e61 7474 7260  ` or `obj?.attr`
+0000d810: 2072 6573 7065 6374 6976 656c 792e 2060   respectively. `
+0000d820: 6f62 6a3f 2e61 7474 7260 2069 7320 6571  obj?.attr` is eq
+0000d830: 7569 7661 6c65 6e74 2074 6f20 606f 626a  uivalent to `obj
+0000d840: 2e61 7474 7220 6966 206f 626a 2069 7320  .attr if obj is 
+0000d850: 6e6f 7420 4e6f 6e65 2065 6c73 6520 6f62  not None else ob
+0000d860: 6a60 2e20 5468 6973 2064 6f65 7320 6e6f  j`. This does no
+0000d870: 7420 7072 6576 656e 7420 616e 2060 4174  t prevent an `At
+0000d880: 7472 6962 7574 6545 7272 6f72 6020 6966  tributeError` if
+0000d890: 2060 6174 7472 6020 6973 206e 6f74 2061   `attr` is not a
+0000d8a0: 6e20 6174 7472 6962 7574 6520 6f72 206d  n attribute or m
+0000d8b0: 6574 686f 6420 6f66 2060 6f62 6a60 2e0d  ethod of `obj`..
+0000d8c0: 0a0d 0a54 6865 2060 4e6f 6e65 602d 6177  ...The `None`-aw
+0000d8d0: 6172 6520 696e 6465 7869 6e67 206f 7065  are indexing ope
+0000d8e0: 7261 746f 7220 6973 2075 7365 6420 6964  rator is used id
+0000d8f0: 656e 7469 6361 6c6c 7920 746f 206e 6f72  entically to nor
+0000d900: 6d61 6c20 696e 6465 7869 6e67 2c20 7573  mal indexing, us
+0000d910: 696e 6720 603f 5b5d 6020 696e 7374 6561  ing `?[]` instea
+0000d920: 6420 6f66 2060 5b5d 602e 2060 7365 713f  d of `[]`. `seq?
+0000d930: 5b69 6e64 6578 5d60 2069 7320 6571 7569  [index]` is equi
+0000d940: 7661 6c65 6e74 2074 6f20 7468 6520 6578  valent to the ex
+0000d950: 7072 6573 7369 6f6e 2060 7365 715b 696e  pression `seq[in
+0000d960: 6465 785d 2069 7320 7365 7120 6973 206e  dex] is seq is n
+0000d970: 6f74 204e 6f6e 6520 656c 7365 2073 6571  ot None else seq
+0000d980: 602e 2055 7369 6e67 2074 6869 7320 6f70  `. Using this op
+0000d990: 6572 6174 6f72 2077 696c 6c20 6e6f 7420  erator will not 
+0000d9a0: 7072 6576 656e 7420 616e 2060 496e 6465  prevent an `Inde
+0000d9b0: 7845 7272 6f72 6020 6966 2060 696e 6465  xError` if `inde
+0000d9c0: 7860 2069 7320 6f75 7473 6964 6520 7468  x` is outside th
+0000d9d0: 6520 626f 756e 6473 206f 6620 6073 6571  e bounds of `seq
+0000d9e0: 602e 0d0a 0d0a 436f 636f 6e75 7420 616c  `.....Coconut al
+0000d9f0: 736f 2073 7570 706f 7274 7320 4e6f 6e65  so supports None
+0000da00: 2d61 7761 7265 205b 7069 7065 206f 7065  -aware [pipe ope
+0000da10: 7261 746f 7273 5d28 2370 6970 6573 2920  rators](#pipes) 
+0000da20: 616e 6420 5b66 756e 6374 696f 6e20 636f  and [function co
+0000da30: 6d70 6f73 6974 696f 6e20 7069 7065 735d  mposition pipes]
+0000da40: 2823 6675 6e63 7469 6f6e 2d63 6f6d 706f  (#function-compo
+0000da50: 7369 7469 6f6e 292e 0d0a 0d0a 2323 2323  sition).....####
+0000da60: 2320 4578 616d 706c 650d 0a0d 0a2a 2a43  # Example....**C
+0000da70: 6f63 6f6e 7574 3a2a 2a0d 0a60 6060 636f  oconut:**..```co
+0000da80: 636f 6e75 740d 0a63 6f75 6c64 5f62 655f  conut..could_be_
+0000da90: 6e6f 6e65 3f2e 6174 7472 2020 2020 2023  none?.attr     #
+0000daa0: 2061 7474 7269 6275 7465 2061 6363 6573   attribute acces
+0000dab0: 730d 0a63 6f75 6c64 5f62 655f 6e6f 6e65  s..could_be_none
+0000dac0: 3f28 6172 6729 2020 2020 2023 2066 756e  ?(arg)     # fun
+0000dad0: 6374 696f 6e20 6361 6c6c 696e 670d 0a63  ction calling..c
+0000dae0: 6f75 6c64 5f62 655f 6e6f 6e65 3f2e 6d65  ould_be_none?.me
+0000daf0: 7468 6f64 2829 2023 206d 6574 686f 6420  thod() # method 
+0000db00: 6361 6c6c 696e 670d 0a63 6f75 6c64 5f62  calling..could_b
+0000db10: 655f 6e6f 6e65 3f24 2861 7267 2920 2020  e_none?$(arg)   
+0000db20: 2023 2070 6172 7469 616c 2061 7070 6c69   # partial appli
+0000db30: 6361 7469 6f6e 0d0a 636f 756c 645f 6265  cation..could_be
+0000db40: 5f6e 6f6e 6528 293f 5b30 5d20 2020 2020  _none()?[0]     
+0000db50: 2320 696e 6465 7869 6e67 0d0a 636f 756c  # indexing..coul
+0000db60: 645f 6265 5f6e 6f6e 6528 293f 2e61 7474  d_be_none()?.att
+0000db70: 725b 696e 6465 785d 2e6d 6574 686f 6428  r[index].method(
+0000db80: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+0000db90: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0000dba0: 745f 7079 7468 6f6e 0d0a 696d 706f 7274  t_python..import
+0000dbb0: 2066 756e 6374 6f6f 6c73 0d0a 286c 616d   functools..(lam
+0000dbc0: 6264 6120 7265 7375 6c74 3a20 4e6f 6e65  bda result: None
+0000dbd0: 2069 6620 7265 7375 6c74 2069 7320 4e6f   if result is No
+0000dbe0: 6e65 2065 6c73 6520 7265 7375 6c74 2e61  ne else result.a
+0000dbf0: 7474 7229 2863 6f75 6c64 5f62 655f 6e6f  ttr)(could_be_no
+0000dc00: 6e65 2829 290d 0a28 6c61 6d62 6461 2072  ne())..(lambda r
+0000dc10: 6573 756c 743a 204e 6f6e 6520 6966 2072  esult: None if r
+0000dc20: 6573 756c 7420 6973 204e 6f6e 6520 656c  esult is None el
+0000dc30: 7365 2072 6573 756c 7428 6172 6729 2928  se result(arg))(
+0000dc40: 636f 756c 645f 6265 5f6e 6f6e 6528 2929  could_be_none())
+0000dc50: 0d0a 286c 616d 6264 6120 7265 7375 6c74  ..(lambda result
+0000dc60: 3a20 4e6f 6e65 2069 6620 7265 7375 6c74  : None if result
+0000dc70: 2069 7320 4e6f 6e65 2065 6c73 6520 7265   is None else re
+0000dc80: 7375 6c74 2e6d 6574 686f 6428 2929 2863  sult.method())(c
+0000dc90: 6f75 6c64 5f62 655f 6e6f 6e65 2829 290d  ould_be_none()).
+0000dca0: 0a28 6c61 6d62 6461 2072 6573 756c 743a  .(lambda result:
+0000dcb0: 204e 6f6e 6520 6966 2072 6573 756c 7420   None if result 
+0000dcc0: 6973 204e 6f6e 6520 656c 7365 2066 756e  is None else fun
+0000dcd0: 6374 6f6f 6c73 2e70 6172 7469 616c 2872  ctools.partial(r
+0000dce0: 6573 756c 742c 2061 7267 2929 2863 6f75  esult, arg))(cou
+0000dcf0: 6c64 5f62 655f 6e6f 6e65 2829 290d 0a28  ld_be_none())..(
+0000dd00: 6c61 6d62 6461 2072 6573 756c 743a 204e  lambda result: N
+0000dd10: 6f6e 6520 6966 2072 6573 756c 7420 6973  one if result is
+0000dd20: 204e 6f6e 6520 656c 7365 2072 6573 756c   None else resul
+0000dd30: 745b 305d 2928 636f 756c 645f 6265 5f6e  t[0])(could_be_n
+0000dd40: 6f6e 6528 2929 0d0a 286c 616d 6264 6120  one())..(lambda 
+0000dd50: 7265 7375 6c74 3a20 4e6f 6e65 2069 6620  result: None if 
+0000dd60: 7265 7375 6c74 2069 7320 4e6f 6e65 2065  result is None e
+0000dd70: 6c73 6520 7265 7375 6c74 2e61 7474 725b  lse result.attr[
+0000dd80: 696e 6465 785d 2e6d 6574 686f 6428 2929  index].method())
+0000dd90: 2863 6f75 6c64 5f62 655f 6e6f 6e65 2829  (could_be_none()
+0000dda0: 290d 0a60 6060 0d0a 0d0a 2323 2320 5072  )..```....### Pr
+0000ddb0: 6f74 6f63 6f6c 2049 6e74 6572 7365 6374  otocol Intersect
+0000ddc0: 696f 6e0d 0a0d 0a43 6f63 6f6e 7574 2075  ion....Coconut u
+0000ddd0: 7365 7320 7468 6520 6026 3a60 206f 7065  ses the `&:` ope
+0000dde0: 7261 746f 7220 746f 2069 6e64 6963 6174  rator to indicat
+0000ddf0: 6520 7072 6f74 6f63 6f6c 2069 6e74 6572  e protocol inter
+0000de00: 7365 6374 696f 6e2e 2054 6861 7420 6973  section. That is
+0000de10: 2c20 666f 7220 7477 6f20 5b60 7479 7069  , for two [`typi
+0000de20: 6e67 2e50 726f 746f 636f 6c60 735d 2868  ng.Protocol`s](h
+0000de30: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
+0000de40: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
+0000de50: 2f74 7970 696e 672e 6874 6d6c 2374 7970  /typing.html#typ
+0000de60: 696e 672e 5072 6f74 6f63 6f6c 2920 6050  ing.Protocol) `P
+0000de70: 726f 746f 636f 6c31 6020 616e 6420 6050  rotocol1` and `P
+0000de80: 726f 746f 636f 6c31 602c 2060 5072 6f74  rotocol1`, `Prot
+0000de90: 6f63 6f6c 3120 263a 2050 726f 746f 636f  ocol1 &: Protoco
+0000dea0: 6c32 6020 6973 2065 7175 6976 616c 656e  l2` is equivalen
+0000deb0: 7420 746f 2061 2060 5072 6f74 6f63 6f6c  t to a `Protocol
+0000dec0: 6020 7468 6174 2063 6f6d 6269 6e65 7320  ` that combines 
+0000ded0: 7468 6520 7265 7175 6972 656d 656e 7473  the requirements
+0000dee0: 206f 6620 626f 7468 2060 5072 6f74 6f63   of both `Protoc
+0000def0: 6f6c 3160 2061 6e64 2060 5072 6f74 6f63  ol1` and `Protoc
+0000df00: 6f6c 3260 2e0d 0a0d 0a54 6865 2072 6563  ol2`.....The rec
+0000df10: 6f6d 6d65 6e64 6564 2077 6179 2074 6f20  ommended way to 
+0000df20: 7573 6520 436f 636f 6e75 7427 7320 7072  use Coconut's pr
+0000df30: 6f74 6f63 6f6c 2069 6e74 6572 7365 6374  otocol intersect
+0000df40: 696f 6e20 6f70 6572 6174 6f72 2069 7320  ion operator is 
+0000df50: 696e 2063 6f6d 6269 6e61 7469 6f6e 2077  in combination w
+0000df60: 6974 6820 436f 636f 6e75 7427 7320 5b6f  ith Coconut's [o
+0000df70: 7065 7261 746f 7220 6050 726f 746f 636f  perator `Protoco
+0000df80: 6c60 735d 2823 7375 7070 6f72 7465 642d  l`s](#supported-
+0000df90: 7072 6f74 6f63 6f6c 7329 2e20 4e6f 7465  protocols). Note
+0000dfa0: 2c20 686f 7765 7665 722c 2074 6861 7420  , however, that 
+0000dfb0: 7768 696c 6520 6026 3a60 2077 696c 6c20  while `&:` will 
+0000dfc0: 776f 726b 2061 6e79 7768 6572 652c 206f  work anywhere, o
+0000dfd0: 7065 7261 746f 7220 6050 726f 746f 636f  perator `Protoco
+0000dfe0: 6c60 7320 7769 6c6c 206f 6e6c 7920 776f  l`s will only wo
+0000dff0: 726b 2069 6e73 6964 6520 7479 7065 2061  rk inside type a
+0000e000: 6e6e 6f74 6174 696f 6e73 2028 7768 6963  nnotations (whic
+0000e010: 6820 6d65 616e 732c 2066 6f72 2065 7861  h means, for exa
+0000e020: 6d70 6c65 2c20 796f 7527 6c6c 206e 6565  mple, you'll nee
+0000e030: 6420 746f 2064 6f20 6074 7970 6520 4861  d to do `type Ha
+0000e040: 7341 6464 203d 2028 2b29 6020 696e 7374  sAdd = (+)` inst
+0000e050: 6561 6420 6f66 206a 7573 7420 6048 6173  ead of just `Has
+0000e060: 4164 6420 3d20 282b 2960 292e 0d0a 0d0a  Add = (+)`).....
+0000e070: 5365 6520 436f 636f 6e75 7427 7320 5b65  See Coconut's [e
+0000e080: 6e68 616e 6365 6420 7479 7065 2061 6e6e  nhanced type ann
+0000e090: 6f74 6174 696f 6e5d 2823 656e 6861 6e63  otation](#enhanc
+0000e0a0: 6564 2d74 7970 652d 616e 6e6f 7461 7469  ed-type-annotati
+0000e0b0: 6f6e 2920 666f 7220 6d6f 7265 2069 6e66  on) for more inf
+0000e0c0: 6f72 6d61 7469 6f6e 206f 6e20 686f 7720  ormation on how 
+0000e0d0: 436f 636f 6e75 7420 6861 6e64 6c65 7320  Coconut handles 
+0000e0e0: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
+0000e0f0: 206d 6f72 6520 6765 6e65 7261 6c6c 792e   more generally.
+0000e100: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+0000e110: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+0000e120: 2a0d 0a60 6060 636f 636f 6e75 740d 0a66  *..```coconut..f
+0000e130: 726f 6d20 7479 7069 6e67 2069 6d70 6f72  rom typing impor
+0000e140: 7420 5072 6f74 6f63 6f6c 0d0a 0d0a 636c  t Protocol....cl
+0000e150: 6173 7320 5828 5072 6f74 6f63 6f6c 293a  ass X(Protocol):
+0000e160: 0d0a 2020 2020 783a 2073 7472 0d0a 0d0a  ..    x: str....
+0000e170: 636c 6173 7320 5928 5072 6f74 6f63 6f6c  class Y(Protocol
+0000e180: 293a 0d0a 2020 2020 793a 2073 7472 0d0a  ):..    y: str..
+0000e190: 0d0a 6465 6620 666f 6f28 7879 3a20 5820  ..def foo(xy: X 
+0000e1a0: 263a 2059 2920 2d3e 204e 6f6e 653a 0d0a  &: Y) -> None:..
+0000e1b0: 2020 2020 7072 696e 7428 7879 2e78 2c20      print(xy.x, 
+0000e1c0: 7879 2e79 290d 0a0d 0a74 7970 6520 4361  xy.y)....type Ca
+0000e1d0: 6e41 6464 416e 6453 7562 203d 2028 2b29  nAddAndSub = (+)
+0000e1e0: 2026 3a20 282d 290d 0a60 6060 0d0a 0d0a   &: (-)..```....
+0000e1f0: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+0000e200: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+0000e210: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
+0000e220: 7274 2050 726f 746f 636f 6c2c 2054 7970  rt Protocol, Typ
+0000e230: 6556 6172 2c20 4765 6e65 7269 630d 0a0d  eVar, Generic...
+0000e240: 0a63 6c61 7373 2058 2850 726f 746f 636f  .class X(Protoco
+0000e250: 6c29 3a0d 0a20 2020 2078 3a20 7374 720d  l):..    x: str.
+0000e260: 0a0d 0a63 6c61 7373 2059 2850 726f 746f  ...class Y(Proto
+0000e270: 636f 6c29 3a0d 0a20 2020 2079 3a20 7374  col):..    y: st
+0000e280: 720d 0a0d 0a63 6c61 7373 2058 5928 582c  r....class XY(X,
+0000e290: 2059 2c20 5072 6f74 6f63 6f6c 293a 0d0a   Y, Protocol):..
+0000e2a0: 2020 2020 7061 7373 0d0a 0d0a 6465 6620      pass....def 
+0000e2b0: 666f 6f28 7879 3a20 5859 2920 2d3e 204e  foo(xy: XY) -> N
+0000e2c0: 6f6e 653a 0d0a 2020 2020 7072 696e 7428  one:..    print(
+0000e2d0: 7879 2e78 2c20 7879 2e79 290d 0a0d 0a54  xy.x, xy.y)....T
+0000e2e0: 203d 2054 7970 6556 6172 2822 5422 2c20   = TypeVar("T", 
+0000e2f0: 696e 6665 725f 7661 7269 616e 6365 3d54  infer_variance=T
+0000e300: 7275 6529 0d0a 5520 3d20 5479 7065 5661  rue)..U = TypeVa
+0000e310: 7228 2255 222c 2069 6e66 6572 5f76 6172  r("U", infer_var
+0000e320: 6961 6e63 653d 5472 7565 290d 0a56 203d  iance=True)..V =
+0000e330: 2054 7970 6556 6172 2822 5622 2c20 696e   TypeVar("V", in
+0000e340: 6665 725f 7661 7269 616e 6365 3d54 7275  fer_variance=Tru
+0000e350: 6529 0d0a 0d0a 636c 6173 7320 4361 6e41  e)....class CanA
+0000e360: 6464 416e 6453 7562 2850 726f 746f 636f  ddAndSub(Protoco
+0000e370: 6c2c 2047 656e 6572 6963 5b54 2c20 552c  l, Generic[T, U,
+0000e380: 2056 5d29 3a0d 0a20 2020 2064 6566 205f   V]):..    def _
+0000e390: 5f61 6464 5f5f 2873 656c 663a 2054 2c20  _add__(self: T, 
+0000e3a0: 6f74 6865 723a 2055 2920 2d3e 2056 3a0d  other: U) -> V:.
+0000e3b0: 0a20 2020 2020 2020 2072 6169 7365 204e  .        raise N
+0000e3c0: 6f74 496d 706c 656d 656e 7465 6445 7272  otImplementedErr
+0000e3d0: 6f72 0d0a 2020 2020 6465 6620 5f5f 7375  or..    def __su
+0000e3e0: 625f 5f28 7365 6c66 3a20 542c 206f 7468  b__(self: T, oth
+0000e3f0: 6572 3a20 5529 202d 3e20 563a 0d0a 2020  er: U) -> V:..  
+0000e400: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
+0000e410: 6d70 6c65 6d65 6e74 6564 4572 726f 720d  mplementedError.
+0000e420: 0a20 2020 2064 6566 205f 5f6e 6567 5f5f  .    def __neg__
+0000e430: 2873 656c 663a 2054 2920 2d3e 2056 3a0d  (self: T) -> V:.
+0000e440: 0a20 2020 2020 2020 2072 6169 7365 204e  .        raise N
+0000e450: 6f74 496d 706c 656d 656e 7465 6445 7272  otImplementedErr
+0000e460: 6f72 0d0a 6060 600d 0a0d 0a23 2323 2055  or..```....### U
+0000e470: 6e69 636f 6465 2041 6c74 6572 6e61 7469  nicode Alternati
+0000e480: 7665 730d 0a0d 0a43 6f63 6f6e 7574 2073  ves....Coconut s
+0000e490: 7570 706f 7274 7320 556e 6963 6f64 6520  upports Unicode 
+0000e4a0: 616c 7465 726e 6174 6976 6573 2074 6f20  alternatives to 
+0000e4b0: 6d61 6e79 2064 6966 6665 7265 6e74 206f  many different o
+0000e4c0: 7065 7261 746f 7220 7379 6d62 6f6c 732e  perator symbols.
+0000e4d0: 2054 6865 2055 6e69 636f 6465 2061 6c74   The Unicode alt
+0000e4e0: 6572 6e61 7469 7665 7320 6172 6520 7265  ernatives are re
+0000e4f0: 6c61 7469 7665 6c79 2073 7472 6169 6768  latively straigh
+0000e500: 7466 6f72 7761 7264 2c20 616e 6420 6368  tforward, and ch
+0000e510: 6f73 656e 2074 6f20 7265 666c 6563 7420  osen to reflect 
+0000e520: 7468 6520 6c6f 6f6b 2061 6e64 2f6f 7220  the look and/or 
+0000e530: 6d65 616e 696e 6720 6f66 2074 6865 206f  meaning of the o
+0000e540: 7269 6769 6e61 6c20 7379 6d62 6f6c 2e0d  riginal symbol..
+0000e550: 0a0d 0a5f 4e6f 7465 3a20 7468 6573 6520  ..._Note: these 
+0000e560: 6172 6520 6f6e 6c79 2074 6865 2064 6566  are only the def
+0000e570: 6175 6c74 2c20 6275 696c 742d 696e 2075  ault, built-in u
+0000e580: 6e69 636f 6465 206f 7065 7261 746f 7273  nicode operators
+0000e590: 2e20 436f 636f 6e75 7420 7375 7070 6f72  . Coconut suppor
+0000e5a0: 7473 205b 6375 7374 6f6d 206f 7065 7261  ts [custom opera
+0000e5b0: 746f 7220 6465 6669 6e69 7469 6f6e 5d28  tor definition](
+0000e5c0: 2363 7573 746f 6d2d 6f70 6572 6174 6f72  #custom-operator
+0000e5d0: 7329 2074 6f20 6465 6669 6e65 2079 6f75  s) to define you
+0000e5e0: 7220 6f77 6e2e 5f0d 0a0d 0a23 2323 2323  r own._....#####
+0000e5f0: 2046 756c 6c20 4c69 7374 0d0a 0d0a 6060   Full List....``
+0000e600: 600d 0ae2 8792 2028 5c75 3231 6432 2920  `..... (\u21d2) 
+0000e610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e620: 3d3e 2022 3d3e 220d 0ae2 8692 2028 5c75  => "=>"..... (\u
+0000e630: 3231 3932 2920 2020 2020 2020 2020 2020  2192)           
+0000e640: 2020 2020 2020 203d 3e20 222d 3e22 0d0a         => "->"..
+0000e650: c397 2028 5c78 6437 2920 2020 2020 2020  .. (\xd7)       
+0000e660: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000e670: 222a 2220 286f 6e6c 7920 6d75 6c74 6970  "*" (only multip
+0000e680: 6c69 6361 7469 6f6e 290d 0ae2 8691 2028  lication)..... (
+0000e690: 5c75 3231 3931 2920 2020 2020 2020 2020  \u2191)         
+0000e6a0: 2020 2020 2020 2020 203d 3e20 222a 2a22           => "**"
+0000e6b0: 2028 6f6e 6c79 2065 7870 6f6e 656e 7469   (only exponenti
+0000e6c0: 6174 696f 6e29 0d0a c3b7 2028 5c78 6637  ation).... (\xf7
+0000e6d0: 2920 2020 2020 2020 2020 2020 2020 2020  )               
+0000e6e0: 2020 2020 203d 3e20 222f 2220 286f 6e6c       => "/" (onl
+0000e6f0: 7920 6469 7669 7369 6f6e 290d 0ac3 b72f  y division)..../
+0000e700: 2028 5c78 6637 2f29 2020 2020 2020 2020   (\xf7/)        
+0000e710: 2020 2020 2020 2020 2020 3d3e 2022 2f2f            => "//
+0000e720: 220d 0ae2 81bb 2028 5c75 3230 3762 2920  "..... (\u207b) 
+0000e730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e740: 203d 3e20 222d 2220 286f 6e6c 7920 6e65   => "-" (only ne
+0000e750: 6761 7469 6f6e 290d 0ae2 89a0 2028 5c75  gation)..... (\u
+0000e760: 3232 3630 2920 6f72 20c2 ac3d 2028 5c78  2260) or ..= (\x
+0000e770: 6163 3d29 2020 2020 3d3e 2022 213d 220d  ac=)    => "!=".
+0000e780: 0ae2 89a4 2028 5c75 3232 3634 2920 6f72  .... (\u2264) or
+0000e790: 20e2 8a86 2028 5c75 3232 3836 2920 2020   ... (\u2286)   
+0000e7a0: 203d 3e20 223c 3d22 0d0a e289 a520 285c   => "<="..... (\
+0000e7b0: 7532 3236 3529 206f 7220 e28a 8720 285c  u2265) or ... (\
+0000e7c0: 7532 3238 3729 2020 2020 3d3e 2022 3e3d  u2287)    => ">=
+0000e7d0: 220d 0ae2 8a8a 2028 5c75 3232 3861 2920  "..... (\u228a) 
+0000e7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e7f0: 203d 3e20 223c 220d 0ae2 8a8b 2028 5c75   => "<"..... (\u
+0000e800: 3232 3862 2920 2020 2020 2020 2020 2020  228b)           
+0000e810: 2020 2020 2020 203d 3e20 223e 220d 0ae2         => ">"...
+0000e820: 88a9 2028 5c75 3232 3239 2920 2020 2020  .. (\u2229)     
+0000e830: 2020 2020 2020 2020 2020 2020 203d 3e20               => 
+0000e840: 2226 220d 0ae2 88aa 2028 5c75 3232 3261  "&"..... (\u222a
+0000e850: 2920 2020 2020 2020 2020 2020 2020 2020  )               
+0000e860: 2020 203d 3e20 227c 220d 0ac2 ab20 285c     => "|".... (\
+0000e870: 7861 6229 2020 2020 2020 2020 2020 2020  xab)            
+0000e880: 2020 2020 2020 2020 3d3e 2022 3c3c 220d          => "<<".
+0000e890: 0ac2 bb20 285c 7862 6229 2020 2020 2020  ... (\xbb)      
+0000e8a0: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000e8b0: 2022 3e3e 220d 0ae2 80a6 2028 5c75 3230   ">>"..... (\u20
+0000e8c0: 3236 2920 2020 2020 2020 2020 2020 2020  26)             
+0000e8d0: 2020 2020 203d 3e20 222e 2e2e 220d 0ace       => "..."...
+0000e8e0: bb20 285c 7530 3362 6229 2020 2020 2020  . (\u03bb)      
+0000e8f0: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000e900: 6c61 6d62 6461 220d 0ae2 86a6 2028 5c75  lambda"..... (\u
+0000e910: 3231 6136 2920 2020 2020 2020 2020 2020  21a6)           
+0000e920: 2020 2020 2020 3d3e 2022 7c3e 220d 0ae2        => "|>"...
+0000e930: 86a4 2028 5c75 3231 6134 2920 2020 2020  .. (\u21a4)     
+0000e940: 2020 2020 2020 2020 2020 2020 3d3e 2022              => "
+0000e950: 3c7c 220d 0a2a e286 a620 282a 5c75 3231  <|"..*... (*\u21
+0000e960: 6136 2920 2020 2020 2020 2020 2020 2020  a6)             
+0000e970: 2020 3d3e 2022 7c2a 3e22 0d0a e286 a42a    => "|*>".....*
+0000e980: 2028 5c75 3231 6134 2a29 2020 2020 2020   (\u21a4*)      
+0000e990: 2020 2020 2020 2020 203d 3e20 223c 2a7c           => "<*|
+0000e9a0: 220d 0a2a 2ae2 86a6 2028 2a2a 5c75 3231  "..**... (**\u21
+0000e9b0: 6136 2920 2020 2020 2020 2020 2020 2020  a6)             
+0000e9c0: 3d3e 2022 7c2a 2a3e 220d 0ae2 86a4 2a2a  => "|**>".....**
+0000e9d0: 2028 5c75 3231 6134 2a2a 2920 2020 2020   (\u21a4**)     
+0000e9e0: 2020 2020 2020 2020 3d3e 2022 3c2a 2a7c          => "<**|
+0000e9f0: 220d 0a3f e286 a620 283f 5c75 3231 6136  "..?... (?\u21a6
+0000ea00: 2920 2020 2020 2020 2020 2020 2020 2020  )               
+0000ea10: 3d3e 2022 7c3f 3e22 0d0a e286 a43f 2028  => "|?>".....? (
+0000ea20: 3f5c 7532 3161 3429 2020 2020 2020 2020  ?\u21a4)        
+0000ea30: 2020 2020 2020 203d 3e20 223c 3f7c 220d         => "<?|".
+0000ea40: 0a3f 2ae2 86a6 2028 3f2a 5c75 3231 6136  .?*... (?*\u21a6
+0000ea50: 2920 2020 2020 2020 2020 2020 2020 3d3e  )             =>
+0000ea60: 2022 7c3f 2a3e 220d 0ae2 86a4 2a3f 2028   "|?*>".....*? (
+0000ea70: 5c75 3231 6134 2a3f 2920 2020 2020 2020  \u21a4*?)       
+0000ea80: 2020 2020 2020 3d3e 2022 3c2a 3f7c 220d        => "<*?|".
+0000ea90: 0a3f 2a2a e286 a620 283f 2a2a 5c75 3231  .?**... (?**\u21
+0000eaa0: 6136 2920 2020 2020 2020 2020 2020 3d3e  a6)           =>
+0000eab0: 2022 7c3f 2a2a 3e22 0d0a e286 a42a 2a3f   "|?**>".....**?
+0000eac0: 2028 5c75 3231 6134 2a2a 3f29 2020 2020   (\u21a4**?)    
+0000ead0: 2020 2020 2020 203d 3e20 223c 2a2a 3f7c         => "<**?|
+0000eae0: 220d 0ae2 8898 2028 5c75 3232 3138 2920  "..... (\u2218) 
+0000eaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eb00: 203d 3e20 222e 2e22 0d0a e288 983e 2028   => "..".....> (
+0000eb10: 5c75 3232 3138 3e29 2020 2020 2020 2020  \u2218>)        
+0000eb20: 2020 2020 2020 2020 3d3e 2022 2e2e 3e22          => "..>"
+0000eb30: 0d0a 3ce2 8898 2028 3c5c 7532 3231 3829  ..<... (<\u2218)
+0000eb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eb50: 3d3e 2022 3c2e 2e22 0d0a e288 982a 3e20  => "<..".....*> 
+0000eb60: 285c 7532 3231 382a 3e29 2020 2020 2020  (\u2218*>)      
+0000eb70: 2020 2020 2020 2020 3d3e 2022 2e2e 2a3e          => "..*>
+0000eb80: 220d 0a3c 2ae2 8898 2028 3c2a 5c75 3232  "..<*... (<*\u22
+0000eb90: 3138 2920 2020 2020 2020 2020 2020 2020  18)             
+0000eba0: 203d 3e20 223c 2a2e 2e22 0d0a e288 982a   => "<*..".....*
+0000ebb0: 2a3e 2028 5c75 3232 3138 2a2a 3e29 2020  *> (\u2218**>)  
+0000ebc0: 2020 2020 2020 2020 2020 3d3e 2022 2e2e            => "..
+0000ebd0: 2a2a 3e22 0d0a 3c2a 2ae2 8898 2028 3c2a  **>"..<**... (<*
+0000ebe0: 2a5c 7532 3231 3829 2020 2020 2020 2020  *\u2218)        
+0000ebf0: 2020 2020 3d3e 2022 3c2a 2a2e 2e22 0d0a      => "<**.."..
+0000ec00: e288 983f 3e20 285c 7532 3231 383f 3e29  ...?> (\u2218?>)
+0000ec10: 2020 2020 2020 2020 2020 2020 2020 3d3e                =>
+0000ec20: 2022 2e2e 3f3e 220d 0a3c 3fe2 8898 2028   "..?>"..<?... (
+0000ec30: 3c3f 5c75 3232 3138 2920 2020 2020 2020  <?\u2218)       
+0000ec40: 2020 2020 2020 203d 3e20 223c 3f2e 2e22         => "<?.."
+0000ec50: 0d0a e288 983f 2a3e 2028 5c75 3232 3138  .....?*> (\u2218
+0000ec60: 3f2a 3e29 2020 2020 2020 2020 2020 2020  ?*>)            
+0000ec70: 3d3e 2022 2e2e 3f2a 3e22 0d0a 3c2a 3fe2  => "..?*>"..<*?.
+0000ec80: 8898 2028 3c2a 3f5c 7532 3231 3829 2020  .. (<*?\u2218)  
+0000ec90: 2020 2020 2020 2020 2020 3d3e 2022 3c2a            => "<*
+0000eca0: 3f2e 2e22 0d0a e288 983f 2a2a 3e20 285c  ?..".....?**> (\
+0000ecb0: 7532 3231 383f 2a2a 3e29 2020 2020 2020  u2218?**>)      
+0000ecc0: 2020 2020 3d3e 2022 2e2e 3f2a 2a3e 220d      => "..?**>".
+0000ecd0: 0a3c 2a2a 3fe2 8898 2028 3c2a 2a3f 5c75  .<**?... (<**?\u
+0000ece0: 3232 3138 2920 2020 2020 2020 2020 203d  2218)          =
+0000ecf0: 3e20 223c 2a2a 3f2e 2e22 0d0a e28f a820  > "<**?.."..... 
+0000ed00: 285c 7532 3365 3829 2020 2020 2020 2020  (\u23e8)        
+0000ed10: 2020 2020 2020 2020 2020 3d3e 2022 6522            => "e"
+0000ed20: 2028 696e 2073 6369 656e 7469 6669 6320   (in scientific 
+0000ed30: 6e6f 7461 7469 6f6e 290d 0a60 6060 0d0a  notation)..```..
+0000ed40: 0d0a 2323 204b 6579 776f 7264 730d 0a0d  ..## Keywords...
+0000ed50: 0a60 6060 7b63 6f6e 7465 6e74 737d 0d0a  .```{contents}..
+0000ed60: 2d2d 2d0d 0a6c 6f63 616c 3a0d 0a64 6570  ---..local:..dep
+0000ed70: 7468 3a20 310d 0a2d 2d2d 0d0a 6060 600d  th: 1..---..```.
+0000ed80: 0a0d 0a23 2323 2060 6d61 7463 6860 0d0a  ...### `match`..
+0000ed90: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+0000eda0: 6573 2066 756c 6c79 2d66 6561 7475 7265  es fully-feature
+0000edb0: 642c 2066 756e 6374 696f 6e61 6c20 7061  d, functional pa
+0000edc0: 7474 6572 6e2d 6d61 7463 6869 6e67 2074  ttern-matching t
+0000edd0: 6872 6f75 6768 2069 7473 2060 6d61 7463  hrough its `matc
+0000ede0: 6860 2073 7461 7465 6d65 6e74 732e 0d0a  h` statements...
+0000edf0: 0d0a 2323 2323 2320 4f76 6572 7669 6577  ..##### Overview
+0000ee00: 0d0a 0d0a 4d61 7463 6820 7374 6174 656d  ....Match statem
+0000ee10: 656e 7473 2066 6f6c 6c6f 7720 7468 6520  ents follow the 
+0000ee20: 6261 7369 6320 7379 6e74 6178 2060 6d61  basic syntax `ma
+0000ee30: 7463 6820 3c70 6174 7465 726e 3e20 696e  tch <pattern> in
+0000ee40: 203c 7661 6c75 653e 602e 2054 6865 206d   <value>`. The m
+0000ee50: 6174 6368 2073 7461 7465 6d65 6e74 2077  atch statement w
+0000ee60: 696c 6c20 6174 7465 6d70 7420 746f 206d  ill attempt to m
+0000ee70: 6174 6368 2074 6865 2076 616c 7565 2061  atch the value a
+0000ee80: 6761 696e 7374 2074 6865 2070 6174 7465  gainst the patte
+0000ee90: 726e 2c20 616e 6420 6966 2073 7563 6365  rn, and if succe
+0000eea0: 7373 6675 6c2c 2062 696e 6420 616e 7920  ssful, bind any 
+0000eeb0: 7661 7269 6162 6c65 7320 696e 2074 6865  variables in the
+0000eec0: 2070 6174 7465 726e 2074 6f20 7768 6174   pattern to what
+0000eed0: 6576 6572 2069 7320 696e 2074 6865 2073  ever is in the s
+0000eee0: 616d 6520 706f 7369 7469 6f6e 2069 6e20  ame position in 
+0000eef0: 7468 6520 7661 6c75 652c 2061 6e64 2065  the value, and e
+0000ef00: 7865 6375 7465 2074 6865 2063 6f64 6520  xecute the code 
+0000ef10: 6265 6c6f 7720 7468 6520 6d61 7463 6820  below the match 
+0000ef20: 7374 6174 656d 656e 742e 204d 6174 6368  statement. Match
+0000ef30: 2073 7461 7465 6d65 6e74 7320 616c 736f   statements also
+0000ef40: 2073 7570 706f 7274 2c20 696e 2074 6865   support, in the
+0000ef50: 6972 2062 6173 6963 2073 796e 7461 782c  ir basic syntax,
+0000ef60: 2061 6e20 6069 6620 3c63 6f6e 643e 6020   an `if <cond>` 
+0000ef70: 7468 6174 2077 696c 6c20 6368 6563 6b20  that will check 
+0000ef80: 7468 6520 636f 6e64 6974 696f 6e20 6166  the condition af
+0000ef90: 7465 7220 6578 6563 7574 696e 6720 7468  ter executing th
+0000efa0: 6520 6d61 7463 6820 6265 666f 7265 2065  e match before e
+0000efb0: 7865 6375 7469 6e67 2074 6865 2063 6f64  xecuting the cod
+0000efc0: 6520 6265 6c6f 772c 2061 6e64 2061 6e20  e below, and an 
+0000efd0: 6065 6c73 6560 2073 7461 7465 6d65 6e74  `else` statement
+0000efe0: 2061 6674 6572 7761 7264 7320 7468 6174   afterwards that
+0000eff0: 2077 696c 6c20 6f6e 6c79 2062 6520 6578   will only be ex
+0000f000: 6563 7574 6564 2069 6620 7468 6520 606d  ecuted if the `m
+0000f010: 6174 6368 6020 7374 6174 656d 656e 7420  atch` statement 
+0000f020: 6973 206e 6f74 2e20 5768 6174 2069 7320  is not. What is 
+0000f030: 616c 6c6f 7765 6420 696e 2074 6865 206d  allowed in the m
+0000f040: 6174 6368 2073 7461 7465 6d65 6e74 2773  atch statement's
+0000f050: 2070 6174 7465 726e 2068 6173 206e 6f20   pattern has no 
+0000f060: 6571 7569 7661 6c65 6e74 2069 6e20 5079  equivalent in Py
+0000f070: 7468 6f6e 2c20 616e 6420 7468 7573 2074  thon, and thus t
+0000f080: 6865 2073 7065 6369 6669 6361 7469 6f6e  he specification
+0000f090: 7320 6265 6c6f 7720 6172 6520 7072 6f76  s below are prov
+0000f0a0: 6964 6564 2074 6f20 6578 706c 6169 6e20  ided to explain 
+0000f0b0: 6974 2e0d 0a0d 0a23 2323 2323 2053 796e  it.....##### Syn
+0000f0c0: 7461 7820 5370 6563 6966 6963 6174 696f  tax Specificatio
+0000f0d0: 6e0d 0a0d 0a43 6f63 6f6e 7574 206d 6174  n....Coconut mat
+0000f0e0: 6368 2073 7461 7465 6d65 6e74 2073 796e  ch statement syn
+0000f0f0: 7461 7820 6973 0d0a 6060 6063 6f63 6f6e  tax is..```cocon
+0000f100: 7574 0d0a 6d61 7463 6820 3c70 6174 7465  ut..match <patte
+0000f110: 726e 3e20 5b6e 6f74 5d20 696e 203c 7661  rn> [not] in <va
+0000f120: 6c75 653e 205b 6966 203c 636f 6e64 3e5d  lue> [if <cond>]
+0000f130: 3a0d 0a20 2020 203c 626f 6479 3e0d 0a5b  :..    <body>..[
+0000f140: 656c 7365 3a0d 0a20 2020 203c 626f 6479  else:..    <body
+0000f150: 3e5d 0d0a 6060 600d 0a77 6865 7265 2060  >]..```..where `
+0000f160: 3c76 616c 7565 3e60 2069 7320 7468 6520  <value>` is the 
+0000f170: 6974 656d 2074 6f20 6d61 7463 6820 6167  item to match ag
+0000f180: 6169 6e73 742c 2060 3c63 6f6e 643e 6020  ainst, `<cond>` 
+0000f190: 6973 2061 6e20 6f70 7469 6f6e 616c 2061  is an optional a
+0000f1a0: 6464 6974 696f 6e61 6c20 6368 6563 6b2c  dditional check,
+0000f1b0: 2061 6e64 2060 3c62 6f64 793e 6020 6973   and `<body>` is
+0000f1c0: 2073 696d 706c 7920 636f 6465 2074 6861   simply code tha
+0000f1d0: 7420 6973 2065 7865 6375 7465 6420 6966  t is executed if
+0000f1e0: 2074 6865 2068 6561 6465 7220 6162 6f76   the header abov
+0000f1f0: 6520 6974 2073 7563 6365 6564 732e 2060  e it succeeds. `
+0000f200: 3c70 6174 7465 726e 3e60 2066 6f6c 6c6f  <pattern>` follo
+0000f210: 7773 2069 7473 206f 776e 2c20 7370 6563  ws its own, spec
+0000f220: 6961 6c20 7379 6e74 6178 2c20 6465 6669  ial syntax, defi
+0000f230: 6e65 6420 726f 7567 686c 7920 6173 2062  ned roughly as b
+0000f240: 656c 6f77 2e20 496e 2074 6865 2073 796e  elow. In the syn
+0000f250: 7461 7820 7370 6563 6966 6963 6174 696f  tax specificatio
+0000f260: 6e20 6265 6c6f 772c 2062 7261 636b 6574  n below, bracket
+0000f270: 7320 6465 6e6f 7465 206f 7074 696f 6e61  s denote optiona
+0000f280: 6c20 7379 6e74 6178 2061 6e64 2070 6172  l syntax and par
+0000f290: 656e 7468 6573 6573 2066 6f6c 6c6f 7765  entheses followe
+0000f2a0: 6420 6279 2061 2060 2a60 2064 656e 6f74  d by a `*` denot
+0000f2b0: 6520 7468 6174 2074 6865 2073 796e 7461  e that the synta
+0000f2c0: 7820 6d61 7920 6170 7065 6172 207a 6572  x may appear zer
+0000f2d0: 6f20 6f72 206d 6f72 6520 7469 6d65 732e  o or more times.
+0000f2e0: 0d0a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  ....```coconut..
+0000f2f0: 7061 7474 6572 6e20 3a3a 3d20 616e 645f  pattern ::= and_
+0000f300: 7061 7474 6572 6e20 2822 6f72 2220 616e  pattern ("or" an
+0000f310: 645f 7061 7474 6572 6e29 2a20 2023 206d  d_pattern)*  # m
+0000f320: 6174 6368 2061 6e79 0d0a 0d0a 616e 645f  atch any....and_
+0000f330: 7061 7474 6572 6e20 3a3a 3d20 6173 5f70  pattern ::= as_p
+0000f340: 6174 7465 726e 2028 2261 6e64 2220 6173  attern ("and" as
+0000f350: 5f70 6174 7465 726e 292a 2020 2320 6d61  _pattern)*  # ma
+0000f360: 7463 6820 616c 6c0d 0a0d 0a61 735f 7061  tch all....as_pa
+0000f370: 7474 6572 6e20 3a3a 3d20 696e 6669 785f  ttern ::= infix_
+0000f380: 7061 7474 6572 6e20 2822 6173 2220 6e61  pattern ("as" na
+0000f390: 6d65 292a 2020 2320 6578 706c 6963 6974  me)*  # explicit
+0000f3a0: 2062 696e 6469 6e67 0d0a 0d0a 696e 6669   binding....infi
+0000f3b0: 785f 7061 7474 6572 6e20 3a3a 3d20 6261  x_pattern ::= ba
+0000f3c0: 725f 6f72 5f70 6174 7465 726e 2028 2260  r_or_pattern ("`
+0000f3d0: 2220 4558 5052 2022 6022 205b 4558 5052  " EXPR "`" [EXPR
+0000f3e0: 5d29 2a20 2023 2069 6e66 6978 2063 6865  ])*  # infix che
+0000f3f0: 636b 0d0a 0d0a 6261 725f 6f72 5f70 6174  ck....bar_or_pat
+0000f400: 7465 726e 203a 3a3d 2070 6174 7465 726e  tern ::= pattern
+0000f410: 2028 227c 2220 7061 7474 6572 6e29 2a20   ("|" pattern)* 
+0000f420: 2023 206d 6174 6368 2061 6e79 0d0a 0d0a   # match any....
+0000f430: 6261 7365 5f70 6174 7465 726e 203a 3a3d  base_pattern ::=
+0000f440: 2028 0d0a 2020 2020 2228 2220 7061 7474   (..    "(" patt
+0000f450: 6572 6e20 2229 2220 2020 2020 2020 2020  ern ")"         
+0000f460: 2020 2020 2020 2020 2023 2070 6172 656e           # paren
+0000f470: 7468 6573 6573 0d0a 2020 2020 7c20 224e  theses..    | "N
+0000f480: 6f6e 6522 207c 2022 5472 7565 2220 7c20  one" | "True" | 
+0000f490: 2246 616c 7365 2220 2020 2020 2023 2063  "False"      # c
+0000f4a0: 6f6e 7374 616e 7473 0d0a 2020 2020 7c20  onstants..    | 
+0000f4b0: 4e55 4d42 4552 2020 2020 2020 2020 2020  NUMBER          
+0000f4c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000f4d0: 206e 756d 6265 7273 0d0a 2020 2020 7c20   numbers..    | 
+0000f4e0: 5354 5249 4e47 2020 2020 2020 2020 2020  STRING          
+0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000f500: 2073 7472 696e 6773 0d0a 2020 2020 7c20   strings..    | 
+0000f510: 5b22 6173 225d 204e 414d 4520 2020 2020  ["as"] NAME     
+0000f520: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000f530: 2076 6172 6961 626c 6520 6269 6e64 696e   variable bindin
+0000f540: 670d 0a20 2020 207c 2022 3d3d 2220 4558  g..    | "==" EX
+0000f550: 5052 2020 2020 2020 2020 2020 2020 2020  PR              
+0000f560: 2020 2020 2020 2020 2320 6571 7561 6c69          # equali
+0000f570: 7479 2063 6865 636b 0d0a 2020 2020 7c20  ty check..    | 
+0000f580: 2269 7322 2045 5850 5220 2020 2020 2020  "is" EXPR       
+0000f590: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000f5a0: 2069 6465 6e74 6974 7920 6368 6563 6b0d   identity check.
+0000f5b0: 0a20 2020 207c 2044 4f54 5445 445f 4e41  .    | DOTTED_NA
+0000f5c0: 4d45 2020 2020 2020 2020 2020 2020 2020  ME              
+0000f5d0: 2020 2020 2020 2320 696d 706c 6963 6974        # implicit
+0000f5e0: 2065 7175 616c 6974 7920 6368 6563 6b20   equality check 
+0000f5f0: 2864 6973 6162 6c65 6420 696e 2064 6573  (disabled in des
+0000f600: 7472 7563 7475 7269 6e67 2061 7373 6967  tructuring assig
+0000f610: 6e6d 656e 7429 0d0a 2020 2020 7c20 4e41  nment)..    | NA
+0000f620: 4d45 2022 2822 2070 6174 7465 726e 7320  ME "(" patterns 
+0000f630: 2229 2220 2020 2020 2020 2020 2023 2063  ")"          # c
+0000f640: 6c61 7373 6573 206f 7220 6461 7461 2074  lasses or data t
+0000f650: 7970 6573 0d0a 2020 2020 7c20 2264 6174  ypes..    | "dat
+0000f660: 6122 204e 414d 4520 2228 2220 7061 7474  a" NAME "(" patt
+0000f670: 6572 6e73 2022 2922 2020 2023 2064 6174  erns ")"   # dat
+0000f680: 6120 7479 7065 730d 0a20 2020 207c 2022  a types..    | "
+0000f690: 636c 6173 7322 204e 414d 4520 2228 2220  class" NAME "(" 
+0000f6a0: 7061 7474 6572 6e73 2022 2922 2020 2320  patterns ")"  # 
+0000f6b0: 636c 6173 7365 730d 0a20 2020 207c 2022  classes..    | "
+0000f6c0: 7b22 2070 6174 7465 726e 5f70 6169 7273  {" pattern_pairs
+0000f6d0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000f6e0: 6469 6374 696f 6e61 7269 6573 0d0a 2020  dictionaries..  
+0000f6f0: 2020 2020 2020 5b22 2c22 2022 2a2a 2220        ["," "**" 
+0000f700: 284e 414d 4520 7c20 227b 7d22 295d 2022  (NAME | "{}")] "
+0000f710: 7d22 2023 2020 286b 6579 7320 6d75 7374  }" #  (keys must
+0000f720: 2062 6520 636f 6e73 7461 6e74 7320 6f72   be constants or
+0000f730: 2065 7175 616c 6974 7920 6368 6563 6b73   equality checks
+0000f740: 290d 0a20 2020 207c 205b 2273 2220 7c20  )..    | ["s" | 
+0000f750: 2266 2220 7c20 226d 225d 2022 7b22 0d0a  "f" | "m"] "{"..
+0000f760: 2020 2020 2020 2020 7061 7474 6572 6e5f          pattern_
+0000f770: 636f 6e73 7473 0d0a 2020 2020 2020 2020  consts..        
+0000f780: 5b22 2c22 2028 222a 5f22 207c 2022 2a28  ["," ("*_" | "*(
+0000f790: 2922 295d 0d0a 2020 2020 2020 227d 2220  )")]..      "}" 
+0000f7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f7b0: 2020 2020 2020 2020 2020 2023 2073 6574             # set
+0000f7c0: 730d 0a20 2020 207c 2028 4558 5052 2920  s..    | (EXPR) 
+0000f7d0: 2d3e 2070 6174 7465 726e 2020 2020 2020  -> pattern      
+0000f7e0: 2020 2020 2020 2020 2320 7669 6577 2070          # view p
+0000f7f0: 6174 7465 726e 730d 0a20 2020 207c 2022  atterns..    | "
+0000f800: 2822 2070 6174 7465 726e 7320 2229 2220  (" patterns ")" 
+0000f810: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000f820: 7365 7175 656e 6365 7320 6361 6e20 6265  sequences can be
+0000f830: 2069 6e20 7475 706c 6520 666f 726d 0d0a   in tuple form..
+0000f840: 2020 2020 7c20 225b 2220 7061 7474 6572      | "[" patter
+0000f850: 6e73 2022 5d22 2020 2020 2020 2020 2020  ns "]"          
+0000f860: 2020 2020 2023 2020 6f72 2069 6e20 6c69       #  or in li
+0000f870: 7374 2066 6f72 6d0d 0a20 2020 207c 2022  st form..    | "
+0000f880: 287c 2220 7061 7474 6572 6e73 2022 7c29  (|" patterns "|)
+0000f890: 2220 2020 2020 2020 2020 2020 2020 2320  "             # 
+0000f8a0: 6c61 7a79 206c 6973 7473 0d0a 2020 2020  lazy lists..    
+0000f8b0: 7c20 2822 2822 207c 2022 5b22 2920 2020  | ("(" | "[")   
+0000f8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f8d0: 2023 2073 7461 7220 7370 6c69 7473 0d0a   # star splits..
+0000f8e0: 2020 2020 2020 2020 5b70 6174 7465 726e          [pattern
+0000f8f0: 7320 222c 225d 0d0a 2020 2020 2020 2020  s ","]..        
+0000f900: 222a 2220 7061 7474 6572 6e0d 0a20 2020  "*" pattern..   
+0000f910: 2020 2020 205b 222c 2220 7061 7474 6572       ["," patter
+0000f920: 6e73 5d0d 0a20 2020 2020 2020 205b 222a  ns]..        ["*
+0000f930: 2220 7061 7474 6572 6e0d 0a20 2020 2020  " pattern..     
+0000f940: 2020 205b 222c 2220 7061 7474 6572 6e73     ["," patterns
+0000f950: 5d5d 0d0a 2020 2020 2020 2822 2922 207c  ]]..      (")" |
+0000f960: 2022 5d22 290d 0a20 2020 207c 205b 2820   "]")..    | [( 
+0000f970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f980: 2020 2020 2020 2020 2020 2020 2320 7365              # se
+0000f990: 7175 656e 6365 2073 706c 6974 730d 0a20  quence splits.. 
+0000f9a0: 2020 2020 2020 2022 2822 2070 6174 7465         "(" patte
+0000f9b0: 726e 7320 2229 220d 0a20 2020 2020 2020  rns ")"..       
+0000f9c0: 207c 2022 5b22 2070 6174 7465 726e 7320   | "[" patterns 
+0000f9d0: 225d 220d 0a20 2020 2020 2029 2022 2b22  "]"..      ) "+"
+0000f9e0: 5d20 4e41 4d45 205b 222b 2220 280d 0a20  ] NAME ["+" (.. 
+0000f9f0: 2020 2020 2020 2022 2822 2070 6174 7465         "(" patte
+0000fa00: 726e 7320 2229 2220 2020 2020 2020 2020  rns ")"         
+0000fa10: 2020 2020 2020 2020 2320 7468 6973 206d          # this m
+0000fa20: 6174 6368 206d 7573 7420 6265 2074 6865  atch must be the
+0000fa30: 2073 616d 650d 0a20 2020 2020 2020 207c   same..        |
+0000fa40: 2022 5b22 2070 6174 7465 726e 7320 225d   "[" patterns "]
+0000fa50: 2220 2020 2020 2020 2020 2020 2020 2020  "               
+0000fa60: 2320 2063 6f6e 7374 7275 6374 2061 7320  #  construct as 
+0000fa70: 7468 6520 6669 7273 7420 6d61 7463 680d  the first match.
+0000fa80: 0a20 2020 2020 2029 5d20 5b22 2b22 204e  .      )] ["+" N
+0000fa90: 414d 4520 5b22 2b22 2028 0d0a 2020 2020  AME ["+" (..    
+0000faa0: 2020 2020 2228 2220 7061 7474 6572 6e73      "(" patterns
+0000fab0: 2022 2922 2020 2020 2020 2020 2020 2020   ")"            
+0000fac0: 2020 2020 2023 2061 6e64 2073 616d 6520       # and same 
+0000fad0: 6865 7265 0d0a 2020 2020 2020 2020 7c20  here..        | 
+0000fae0: 225b 2220 7061 7474 6572 6e73 2022 5d22  "[" patterns "]"
+0000faf0: 0d0a 2020 2020 2020 295d 5d0d 0a20 2020  ..      )]]..   
+0000fb00: 207c 205b 2820 2020 2020 2020 2020 2020   | [(           
+0000fb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb20: 2020 2320 6974 6572 6162 6c65 2073 706c    # iterable spl
+0000fb30: 6974 730d 0a20 2020 2020 2020 2022 2822  its..        "("
+0000fb40: 2070 6174 7465 726e 7320 2229 220d 0a20   patterns ")".. 
+0000fb50: 2020 2020 2020 207c 2022 5b22 2070 6174         | "[" pat
+0000fb60: 7465 726e 7320 225d 220d 0a20 2020 2020  terns "]"..     
+0000fb70: 2020 207c 2022 287c 2220 7061 7474 6572     | "(|" patter
+0000fb80: 6e73 2022 7c29 220d 0a20 2020 2020 2029  ns "|)"..      )
+0000fb90: 2022 3a3a 225d 204e 414d 4520 5b22 3a3a   "::"] NAME ["::
+0000fba0: 2220 280d 0a20 2020 2020 2020 2022 2822  " (..        "("
+0000fbb0: 2070 6174 7465 726e 7320 2229 220d 0a20   patterns ")".. 
+0000fbc0: 2020 2020 2020 207c 2022 5b22 2070 6174         | "[" pat
+0000fbd0: 7465 726e 7320 225d 220d 0a20 2020 2020  terns "]"..     
+0000fbe0: 2020 207c 2022 287c 2220 7061 7474 6572     | "(|" patter
+0000fbf0: 6e73 2022 7c29 220d 0a20 2020 2020 2029  ns "|)"..      )
+0000fc00: 5d20 5b20 223a 3a22 204e 414d 4520 5b0d  ] [ "::" NAME [.
+0000fc10: 0a20 2020 2020 2020 2022 2822 2070 6174  .        "(" pat
+0000fc20: 7465 726e 7320 2229 220d 0a20 2020 2020  terns ")"..     
+0000fc30: 2020 207c 2022 5b22 2070 6174 7465 726e     | "[" pattern
+0000fc40: 7320 225d 220d 0a20 2020 2020 2020 207c  s "]"..        |
+0000fc50: 2022 287c 2220 7061 7474 6572 6e73 2022   "(|" patterns "
+0000fc60: 7c29 220d 0a20 2020 2020 205d 5d0d 0a20  |)"..      ]].. 
+0000fc70: 2020 207c 205b 5354 5249 4e47 2022 2b22     | [STRING "+"
+0000fc80: 5d20 4e41 4d45 2020 2020 2020 2020 2020  ] NAME          
+0000fc90: 2020 2020 2320 636f 6d70 6c65 7820 7374      # complex st
+0000fca0: 7269 6e67 206d 6174 6368 696e 670d 0a20  ring matching.. 
+0000fcb0: 2020 2020 2020 205b 222b 2220 5354 5249         ["+" STRI
+0000fcc0: 4e47 5d0d 0a20 2020 2020 2020 205b 222b  NG]..        ["+
+0000fcd0: 2220 4e41 4d45 205b 222b 2220 5354 5249  " NAME ["+" STRI
+0000fce0: 4e47 5d5d 0d0a 290d 0a60 6060 0d0a 0d0a  NG]]..)..```....
+0000fcf0: 2323 2323 2320 5365 6d61 6e74 6963 7320  ##### Semantics 
+0000fd00: 5370 6563 6966 6963 6174 696f 6e0d 0a0d  Specification...
+0000fd10: 0a60 6d61 7463 6860 2073 7461 7465 6d65  .`match` stateme
+0000fd20: 6e74 7320 7769 6c6c 2074 616b 6520 7468  nts will take th
+0000fd30: 6569 7220 7061 7474 6572 6e20 616e 6420  eir pattern and 
+0000fd40: 6174 7465 6d70 7420 746f 2022 6d61 7463  attempt to "matc
+0000fd50: 6822 2061 6761 696e 7374 2069 742c 2070  h" against it, p
+0000fd60: 6572 666f 726d 696e 6720 7468 6520 6368  erforming the ch
+0000fd70: 6563 6b73 2061 6e64 2064 6563 6f6e 7374  ecks and deconst
+0000fd80: 7275 6374 696f 6e73 206f 6e20 7468 6520  ructions on the 
+0000fd90: 6172 6775 6d65 6e74 7320 6173 2073 7065  arguments as spe
+0000fda0: 6369 6669 6564 2062 7920 7468 6520 7061  cified by the pa
+0000fdb0: 7474 6572 6e2e 2054 6865 2064 6966 6665  ttern. The diffe
+0000fdc0: 7265 6e74 2063 6f6e 7374 7275 6374 7320  rent constructs 
+0000fdd0: 7468 6174 2063 616e 2062 6520 7370 6563  that can be spec
+0000fde0: 6966 6965 6420 696e 2061 2070 6174 7465  ified in a patte
+0000fdf0: 726e 2c20 616e 6420 7468 6569 7220 6675  rn, and their fu
+0000fe00: 6e63 7469 6f6e 2c20 6172 653a 0d0a 2d20  nction, are:..- 
+0000fe10: 5661 7269 6162 6c65 2042 696e 6469 6e67  Variable Binding
+0000fe20: 733a 0d0a 2020 2d20 496d 706c 6963 6974  s:..  - Implicit
+0000fe30: 2042 696e 6469 6e67 7320 2860 3c76 6172   Bindings (`<var
+0000fe40: 3e60 293a 2077 696c 6c20 6d61 7463 6820  >`): will match 
+0000fe50: 746f 2061 6e79 7468 696e 672c 2061 6e64  to anything, and
+0000fe60: 2077 696c 6c20 6265 2062 6f75 6e64 2074   will be bound t
+0000fe70: 6f20 7768 6174 6576 6572 2074 6865 7920  o whatever they 
+0000fe80: 6d61 7463 6820 746f 2c20 7769 7468 2073  match to, with s
+0000fe90: 6f6d 6520 6578 6365 7074 696f 6e73 3a0d  ome exceptions:.
+0000fea0: 0a20 2020 202a 2049 6620 7468 6520 7361  .    * If the sa
+0000feb0: 6d65 2076 6172 6961 626c 6520 6973 2075  me variable is u
+0000fec0: 7365 6420 6d75 6c74 6970 6c65 2074 696d  sed multiple tim
+0000fed0: 6573 2c20 6120 6368 6563 6b20 7769 6c6c  es, a check will
+0000fee0: 2062 6520 7065 7266 6f72 6d65 6420 7468   be performed th
+0000fef0: 6174 2065 6163 6820 7573 6520 6d61 7463  at each use matc
+0000ff00: 6865 7320 746f 2074 6865 2073 616d 6520  hes to the same 
+0000ff10: 7661 6c75 652e 0d0a 2020 2020 2a20 4966  value...    * If
+0000ff20: 2074 6865 2076 6172 6961 626c 6520 6e61   the variable na
+0000ff30: 6d65 2060 5f60 2069 7320 7573 6564 2c20  me `_` is used, 
+0000ff40: 6e6f 7468 696e 6720 7769 6c6c 2062 6520  nothing will be 
+0000ff50: 626f 756e 6420 616e 6420 6576 6572 7974  bound and everyt
+0000ff60: 6869 6e67 2077 696c 6c20 616c 7761 7973  hing will always
+0000ff70: 206d 6174 6368 2074 6f20 6974 2028 605f   match to it (`_
+0000ff80: 6020 6973 2043 6f63 6f6e 7574 2773 2022  ` is Coconut's "
+0000ff90: 7769 6c64 6361 7264 2229 2e0d 0a20 202d  wildcard")...  -
+0000ffa0: 2045 7870 6c69 6369 7420 4269 6e64 696e   Explicit Bindin
+0000ffb0: 6773 2028 603c 7061 7474 6572 6e3e 2061  gs (`<pattern> a
+0000ffc0: 7320 3c76 6172 3e60 293a 2077 696c 6c20  s <var>`): will 
+0000ffd0: 6269 6e64 2060 3c76 6172 3e60 2074 6f20  bind `<var>` to 
+0000ffe0: 603c 7061 7474 6572 6e3e 602e 0d0a 2d20  `<pattern>`...- 
+0000fff0: 4261 7369 6320 4368 6563 6b73 3a0d 0a20  Basic Checks:.. 
+00010000: 202d 2043 6f6e 7374 616e 7473 2c20 4e75   - Constants, Nu
+00010010: 6d62 6572 732c 2061 6e64 2053 7472 696e  mbers, and Strin
+00010020: 6773 3a20 7769 6c6c 206f 6e6c 7920 6d61  gs: will only ma
+00010030: 7463 6820 746f 2074 6865 2073 616d 6520  tch to the same 
+00010040: 636f 6e73 7461 6e74 2c20 6e75 6d62 6572  constant, number
+00010050: 2c20 6f72 2073 7472 696e 6720 696e 2074  , or string in t
+00010060: 6865 2073 616d 6520 706f 7369 7469 6f6e  he same position
+00010070: 2069 6e20 7468 6520 6172 6775 6d65 6e74   in the argument
+00010080: 732e 0d0a 2020 2d20 4571 7561 6c69 7479  s...  - Equality
+00010090: 2043 6865 636b 7320 2860 3d3d 3c65 7870   Checks (`==<exp
+000100a0: 723e 6029 3a20 7769 6c6c 2063 6865 636b  r>`): will check
+000100b0: 2074 6861 7420 7768 6174 6576 6572 2069   that whatever i
+000100c0: 7320 696e 2074 6861 7420 706f 7369 7469  s in that positi
+000100d0: 6f6e 2069 7320 603d 3d60 2074 6f20 7468  on is `==` to th
+000100e0: 6520 6578 7072 6573 7369 6f6e 2060 3c65  e expression `<e
+000100f0: 7870 723e 602e 0d0a 2020 2d20 4964 656e  xpr>`...  - Iden
+00010100: 7469 7479 2043 6865 636b 7320 2860 6973  tity Checks (`is
+00010110: 203c 6578 7072 3e60 293a 2077 696c 6c20   <expr>`): will 
+00010120: 6368 6563 6b20 7468 6174 2077 6861 7465  check that whate
+00010130: 7665 7220 6973 2069 6e20 7468 6174 2070  ver is in that p
+00010140: 6f73 6974 696f 6e20 6069 7360 2074 6865  osition `is` the
+00010150: 2065 7870 7265 7373 696f 6e20 603c 6578   expression `<ex
+00010160: 7072 3e60 2e0d 0a2d 2041 7262 6974 7261  pr>`...- Arbitra
+00010170: 7279 2046 756e 6374 696f 6e20 5061 7474  ry Function Patt
+00010180: 6572 6e73 3a0d 0a20 202d 2049 6e66 6978  erns:..  - Infix
+00010190: 2043 6865 636b 7320 2860 6020 3c70 6174   Checks (`` <pat
+000101a0: 7465 726e 3e20 603c 6f70 3e60 203c 6578  tern> `<op>` <ex
+000101b0: 7072 3e20 6060 293a 2077 696c 6c20 6368  pr> ``): will ch
+000101c0: 6563 6b20 7468 6174 2074 6865 206f 7065  eck that the ope
+000101d0: 7261 746f 7220 603c 6f70 3e24 283f 2c20  rator `<op>$(?, 
+000101e0: 3c65 7870 723e 2960 2072 6574 7572 6e73  <expr>)` returns
+000101f0: 2061 2074 7275 7468 7920 7661 6c75 6520   a truthy value 
+00010200: 7768 656e 2063 616c 6c65 6420 6f6e 2077  when called on w
+00010210: 6861 7465 7665 7220 6973 2069 6e20 7468  hatever is in th
+00010220: 6174 2070 6f73 6974 696f 6e2c 2074 6865  at position, the
+00010230: 6e20 6d61 7463 6865 7320 603c 7061 7474  n matches `<patt
+00010240: 6572 6e3e 602e 2046 6f72 2065 7861 6d70  ern>`. For examp
+00010250: 6c65 2c20 6060 2078 2060 6973 696e 7374  le, `` x `isinst
+00010260: 616e 6365 6020 696e 7420 6060 2077 696c  ance` int `` wil
+00010270: 6c20 6368 6563 6b20 7468 6174 2077 6861  l check that wha
+00010280: 7465 7665 7220 6973 2069 6e20 7468 6174  tever is in that
+00010290: 2070 6f73 6974 696f 6e20 6069 7369 6e73   position `isins
+000102a0: 7461 6e63 6524 283f 2c20 696e 7429 6020  tance$(?, int)` 
+000102b0: 616e 6420 6269 6e64 2069 7420 746f 2060  and bind it to `
+000102c0: 7860 2e20 4966 2060 3c65 7870 723e 6020  x`. If `<expr>` 
+000102d0: 6973 206e 6f74 2067 6976 656e 2c20 7769  is not given, wi
+000102e0: 6c6c 2073 696d 706c 7920 6368 6563 6b20  ll simply check 
+000102f0: 603c 6f70 3e60 2064 6972 6563 746c 7920  `<op>` directly 
+00010300: 7261 7468 6572 2074 6861 6e20 603c 6f70  rather than `<op
+00010310: 3e24 283c 6578 7072 3e29 602e 2041 6464  >$(<expr>)`. Add
+00010320: 6974 696f 6e61 6c6c 792c 2060 6020 603c  itionally, `` `<
+00010330: 6f70 3e60 2060 6020 6361 6e20 696e 7374  op>` `` can inst
+00010340: 6561 6420 6265 2061 205b 6375 7374 6f6d  ead be a [custom
+00010350: 206f 7065 7261 746f 725d 2823 6375 7374   operator](#cust
+00010360: 6f6d 2d6f 7065 7261 746f 7273 2920 2869  om-operators) (i
+00010370: 6e20 7468 6174 2063 6173 652c 206e 6f20  n that case, no 
+00010380: 6261 636b 7469 636b 7320 7368 6f75 6c64  backticks should
+00010390: 2062 6520 7573 6564 292e 0d0a 2020 2d20   be used)...  - 
+000103a0: 5669 6577 2050 6174 7465 726e 7320 2860  View Patterns (`
+000103b0: 283c 6578 7072 6573 7369 6f6e 3e29 202d  (<expression>) -
+000103c0: 3e20 3c70 6174 7465 726e 3e60 293a 2063  > <pattern>`): c
+000103d0: 616c 6c73 2060 3c65 7870 7265 7373 696f  alls `<expressio
+000103e0: 6e3e 6020 6f6e 2074 6865 2069 7465 6d20  n>` on the item 
+000103f0: 6265 696e 6720 6d61 7463 6865 6420 616e  being matched an
+00010400: 6420 6d61 7463 6865 7320 7468 6520 7265  d matches the re
+00010410: 7375 6c74 2074 6f20 603c 7061 7474 6572  sult to `<patter
+00010420: 6e3e 602e 2054 6865 206d 6174 6368 2066  n>`. The match f
+00010430: 6169 6c73 2069 6620 6120 5b60 4d61 7463  ails if a [`Matc
+00010440: 6845 7272 6f72 605d 2823 6d61 7463 6865  hError`](#matche
+00010450: 7272 6f72 2920 6973 2072 6169 7365 642e  rror) is raised.
+00010460: 2060 3c65 7870 7265 7373 696f 6e3e 6020   `<expression>` 
+00010470: 6d61 7920 6265 2075 6e70 6172 656e 7468  may be unparenth
+00010480: 6573 697a 6564 206f 6e6c 7920 7768 656e  esized only when
+00010490: 2069 7420 6973 2061 2073 696e 676c 6520   it is a single 
+000104a0: 6174 6f6d 2e0d 0a2d 2043 6c61 7373 2061  atom...- Class a
+000104b0: 6e64 2044 6174 6120 5479 7065 204d 6174  nd Data Type Mat
+000104c0: 6368 696e 673a 0d0a 2020 2d20 436c 6173  ching:..  - Clas
+000104d0: 7365 7320 6f72 2044 6174 6120 5479 7065  ses or Data Type
+000104e0: 7320 2860 3c6e 616d 653e 283c 6172 6773  s (`<name>(<args
+000104f0: 3e29 6029 3a20 7769 6c6c 206d 6174 6368  >)`): will match
+00010500: 2061 7320 6120 6461 7461 2074 7970 6520   as a data type 
+00010510: 6966 2067 6976 656e 205b 6120 436f 636f  if given [a Coco
+00010520: 6e75 7420 6064 6174 6160 2074 7970 655d  nut `data` type]
+00010530: 2823 6461 7461 2920 286f 7220 6120 7475  (#data) (or a tu
+00010540: 706c 6520 6f66 2043 6f63 6f6e 7574 2064  ple of Coconut d
+00010550: 6174 6120 7479 7065 7329 2061 6e64 2061  ata types) and a
+00010560: 2063 6c61 7373 206f 7468 6572 7769 7365   class otherwise
+00010570: 2e0d 0a20 202d 2044 6174 6120 5479 7065  ...  - Data Type
+00010580: 7320 2860 6461 7461 203c 6e61 6d65 3e28  s (`data <name>(
+00010590: 3c61 7267 733e 2960 293a 2077 696c 6c20  <args>)`): will 
+000105a0: 6368 6563 6b20 7468 6174 2077 6861 7465  check that whate
+000105b0: 7665 7220 6973 2069 6e20 7468 6174 2070  ver is in that p
+000105c0: 6f73 6974 696f 6e20 6973 206f 6620 6461  osition is of da
+000105d0: 7461 2074 7970 6520 603c 6e61 6d65 3e60  ta type `<name>`
+000105e0: 2061 6e64 2077 696c 6c20 6d61 7463 6820   and will match 
+000105f0: 7468 6520 6174 7472 6962 7574 6573 2074  the attributes t
+00010600: 6f20 603c 6172 6773 3e60 2e20 4765 6e65  o `<args>`. Gene
+00010610: 7261 6c6c 792c 2060 6461 7461 203c 6e61  rally, `data <na
+00010620: 6d65 3e28 3c61 7267 733e 2960 2077 696c  me>(<args>)` wil
+00010630: 6c20 6d61 7463 6820 616e 7920 6461 7461  l match any data
+00010640: 2074 7970 6520 7468 6174 2063 6f75 6c64   type that could
+00010650: 2068 6176 6520 6265 656e 2063 6f6e 7374   have been const
+00010660: 7275 6374 6564 2077 6974 6820 606d 616b  ructed with `mak
+00010670: 6564 6174 6128 3c6e 616d 653e 2c20 3c61  edata(<name>, <a
+00010680: 7267 733e 2960 2e20 496e 636c 7564 6573  rgs>)`. Includes
+00010690: 2073 7570 706f 7274 2066 6f72 2070 6f73   support for pos
+000106a0: 6974 696f 6e61 6c20 6172 6775 6d65 6e74  itional argument
+000106b0: 732c 206e 616d 6564 2061 7267 756d 656e  s, named argumen
+000106c0: 7473 2c20 6465 6661 756c 7420 6172 6775  ts, default argu
+000106d0: 6d65 6e74 732c 2061 6e64 2073 7461 7272  ments, and starr
+000106e0: 6564 2061 7267 756d 656e 7473 2e20 416c  ed arguments. Al
+000106f0: 736f 2073 7570 706f 7274 7320 7374 7269  so supports stri
+00010700: 6374 2061 7474 7269 6275 7465 7320 6279  ct attributes by
+00010710: 2070 7265 7065 6e64 696e 6720 6120 646f   prepending a do
+00010720: 7420 746f 2074 6865 2061 7474 7269 6275  t to the attribu
+00010730: 7465 206e 616d 6520 7468 6174 2072 6169  te name that rai
+00010740: 7365 7320 6041 7474 7269 6275 7445 7272  ses `AttributErr
+00010750: 6f72 6020 6966 2074 6865 2061 7474 7269  or` if the attri
+00010760: 6275 7465 2069 7320 6e6f 7420 7072 6573  bute is not pres
+00010770: 656e 7420 7261 7468 6572 2074 6861 6e20  ent rather than 
+00010780: 6661 696c 696e 6720 7468 6520 6d61 7463  failing the matc
+00010790: 6820 2865 2e67 2e20 6064 6174 6120 4d79  h (e.g. `data My
+000107a0: 4461 7461 282e 6d79 5f61 7474 723d 3c73  Data(.my_attr=<s
+000107b0: 6f6d 655f 7061 7474 6572 6e3e 2960 292e  ome_pattern>)`).
+000107c0: 0d0a 2020 2d20 436c 6173 7365 7320 2860  ..  - Classes (`
+000107d0: 636c 6173 7320 3c6e 616d 653e 283c 6172  class <name>(<ar
+000107e0: 6773 3e29 6029 3a20 646f 6573 205b 5045  gs>)`): does [PE
+000107f0: 502d 3633 342d 7374 796c 6520 636c 6173  P-634-style clas
+00010800: 7320 6d61 7463 6869 6e67 5d28 6874 7470  s matching](http
+00010810: 733a 2f2f 7777 772e 7079 7468 6f6e 2e6f  s://www.python.o
+00010820: 7267 2f64 6576 2f70 6570 732f 7065 702d  rg/dev/peps/pep-
+00010830: 3036 3334 2f23 636c 6173 732d 7061 7474  0634/#class-patt
+00010840: 6572 6e73 292e 2041 6c73 6f20 7375 7070  erns). Also supp
+00010850: 6f72 7473 2073 7472 6963 7420 6174 7472  orts strict attr
+00010860: 6962 7574 6520 6d61 7463 6869 6e67 2061  ibute matching a
+00010870: 7320 6162 6f76 652e 0d0a 2d20 4d61 7070  s above...- Mapp
+00010880: 696e 6720 4465 7374 7275 6374 7572 696e  ing Destructurin
+00010890: 673a 0d0a 2020 2d20 4469 6374 7320 2860  g:..  - Dicts (`
+000108a0: 7b3c 6b65 793e 3a20 3c76 616c 7565 3e2c  {<key>: <value>,
+000108b0: 202e 2e2e 7d60 293a 2077 696c 6c20 6d61   ...}`): will ma
+000108c0: 7463 6820 616e 7920 6d61 7070 696e 6720  tch any mapping 
+000108d0: 2860 636f 6c6c 6563 7469 6f6e 732e 6162  (`collections.ab
+000108e0: 632e 4d61 7070 696e 6760 2920 7769 7468  c.Mapping`) with
+000108f0: 2074 6865 2067 6976 656e 206b 6579 7320   the given keys 
+00010900: 616e 6420 7661 6c75 6573 2074 6861 7420  and values that 
+00010910: 6d61 7463 6820 7468 6520 7661 6c75 6520  match the value 
+00010920: 7061 7474 6572 6e73 2e20 4b65 7973 206d  patterns. Keys m
+00010930: 7573 7420 6265 2063 6f6e 7374 616e 7473  ust be constants
+00010940: 206f 7220 6571 7561 6c69 7479 2063 6865   or equality che
+00010950: 636b 732e 0d0a 2020 2d20 4469 6374 7320  cks...  - Dicts 
+00010960: 5769 7468 2052 6573 7420 2860 7b3c 7061  With Rest (`{<pa
+00010970: 6972 733e 2c20 2a2a 3c72 6573 743e 7d60  irs>, **<rest>}`
+00010980: 293a 2077 696c 6c20 6d61 7463 6820 6120  ): will match a 
+00010990: 6d61 7070 696e 6720 2860 636f 6c6c 6563  mapping (`collec
+000109a0: 7469 6f6e 732e 6162 632e 4d61 7070 696e  tions.abc.Mappin
+000109b0: 6760 2920 636f 6e74 6169 6e69 6e67 2061  g`) containing a
+000109c0: 6c6c 2074 6865 2060 3c70 6169 7273 3e60  ll the `<pairs>`
+000109d0: 2c20 616e 6420 7769 6c6c 2070 7574 2061  , and will put a
+000109e0: 2060 6469 6374 6020 6f66 2065 7665 7279   `dict` of every
+000109f0: 7468 696e 6720 656c 7365 2069 6e74 6f20  thing else into 
+00010a00: 603c 7265 7374 3e60 2e20 4966 2060 3c72  `<rest>`. If `<r
+00010a10: 6573 743e 6020 6973 2060 7b7d 602c 2077  est>` is `{}`, w
+00010a20: 696c 6c20 656e 666f 7263 6520 7468 6174  ill enforce that
+00010a30: 2074 6865 206d 6170 7069 6e67 2069 7320   the mapping is 
+00010a40: 6578 6163 746c 7920 7468 6520 7361 6d65  exactly the same
+00010a50: 206c 656e 6774 6820 6173 2060 3c70 6169   length as `<pai
+00010a60: 7273 3e60 2e0d 0a2d 2053 6574 2044 6573  rs>`...- Set Des
+00010a70: 7472 7563 7475 7269 6e67 3a0d 0a20 202d  tructuring:..  -
+00010a80: 2053 6574 7320 2860 737b 3c63 6f6e 7374   Sets (`s{<const
+00010a90: 616e 7473 3e2c 202a 5f7d 6029 3a20 7769  ants>, *_}`): wi
+00010aa0: 6c6c 206d 6174 6368 2061 2073 6574 2028  ll match a set (
+00010ab0: 6063 6f6c 6c65 6374 696f 6e73 2e61 6263  `collections.abc
+00010ac0: 2e53 6574 6029 2074 6861 7420 636f 6e74  .Set`) that cont
+00010ad0: 6169 6e73 2074 6865 2067 6976 656e 2060  ains the given `
+00010ae0: 3c63 6f6e 7374 616e 7473 3e60 2c20 7468  <constants>`, th
+00010af0: 6f75 6768 2069 7420 6d61 7920 616c 736f  ough it may also
+00010b00: 2063 6f6e 7461 696e 206f 7468 6572 2069   contain other i
+00010b10: 7465 6d73 2e20 5468 6520 6073 6020 7072  tems. The `s` pr
+00010b20: 6566 6978 2061 6e64 2074 6865 2060 2a5f  efix and the `*_
+00010b30: 6020 6172 6520 6f70 7469 6f6e 616c 2e0d  ` are optional..
+00010b40: 0a20 202d 2046 6978 6564 2d6c 656e 6774  .  - Fixed-lengt
+00010b50: 6820 5365 7473 2028 6073 7b3c 636f 6e73  h Sets (`s{<cons
+00010b60: 7461 6e74 733e 2c20 2a28 297d 6029 3a20  tants>, *()}`): 
+00010b70: 7769 6c6c 206d 6174 6368 2061 2060 7365  will match a `se
+00010b80: 7460 2028 6063 6f6c 6c65 6374 696f 6e73  t` (`collections
+00010b90: 2e61 6263 2e53 6574 6029 2074 6861 7420  .abc.Set`) that 
+00010ba0: 636f 6e74 6169 6e73 2074 6865 2067 6976  contains the giv
+00010bb0: 656e 2060 3c63 6f6e 7374 616e 7473 3e60  en `<constants>`
+00010bc0: 2c20 616e 6420 6e6f 7468 696e 6720 656c  , and nothing el
+00010bd0: 7365 2e0d 0a20 202d 2046 726f 7a65 6e73  se...  - Frozens
+00010be0: 6574 7320 2860 667b 3c63 6f6e 7374 616e  ets (`f{<constan
+00010bf0: 7473 3e7d 6029 3a20 7769 6c6c 206d 6174  ts>}`): will mat
+00010c00: 6368 2061 2060 6672 6f7a 656e 7365 7460  ch a `frozenset`
+00010c10: 2028 6066 726f 7a65 6e73 6574 6029 2074   (`frozenset`) t
+00010c20: 6861 7420 636f 6e74 6169 6e73 2074 6865  hat contains the
+00010c30: 2067 6976 656e 2060 3c63 6f6e 7374 616e   given `<constan
+00010c40: 7473 3e60 2e20 4d61 7920 7573 6520 6569  ts>`. May use ei
+00010c50: 7468 6572 206e 6f72 6d61 6c20 6f72 2066  ther normal or f
+00010c60: 6978 6564 2d6c 656e 6774 6820 7379 6e74  ixed-length synt
+00010c70: 6178 2e0d 0a20 202d 204d 756c 7469 7365  ax...  - Multise
+00010c80: 7473 2028 606d 7b3c 636f 6e73 7461 6e74  ts (`m{<constant
+00010c90: 733e 7d60 293a 2077 696c 6c20 6d61 7463  s>}`): will matc
+00010ca0: 6820 6120 5b60 6d75 6c74 6973 6574 605d  h a [`multiset`]
+00010cb0: 2823 6d75 6c74 6973 6574 2920 2860 636f  (#multiset) (`co
+00010cc0: 6c6c 6563 7469 6f6e 732e 436f 756e 7465  llections.Counte
+00010cd0: 7260 2920 7468 6174 2063 6f6e 7461 696e  r`) that contain
+00010ce0: 7320 6174 206c 6561 7374 2074 6865 2067  s at least the g
+00010cf0: 6976 656e 2060 3c63 6f6e 7374 616e 7473  iven `<constants
+00010d00: 3e60 2e20 4d61 7920 7573 6520 6569 7468  >`. May use eith
+00010d10: 6572 206e 6f72 6d61 6c20 6f72 2066 6978  er normal or fix
+00010d20: 6564 2d6c 656e 6774 6820 7379 6e74 6178  ed-length syntax
+00010d30: 2e0d 0a2d 2053 6571 7565 6e63 6520 4465  ...- Sequence De
+00010d40: 7374 7275 6374 7572 696e 673a 0d0a 2020  structuring:..  
+00010d50: 2d20 4c69 7374 7320 2860 5b3c 7061 7474  - Lists (`[<patt
+00010d60: 6572 6e73 3e5d 6029 2c20 5475 706c 6573  erns>]`), Tuples
+00010d70: 2028 6028 3c70 6174 7465 726e 733e 2960   (`(<patterns>)`
+00010d80: 293a 2077 696c 6c20 6f6e 6c79 206d 6174  ): will only mat
+00010d90: 6368 2061 2073 6571 7565 6e63 6520 2860  ch a sequence (`
+00010da0: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+00010db0: 5365 7175 656e 6365 6029 206f 6620 7468  Sequence`) of th
+00010dc0: 6520 7361 6d65 206c 656e 6774 682c 2061  e same length, a
+00010dd0: 6e64 2077 696c 6c20 6368 6563 6b20 7468  nd will check th
+00010de0: 6520 636f 6e74 656e 7473 2061 6761 696e  e contents again
+00010df0: 7374 2060 3c70 6174 7465 726e 733e 6020  st `<patterns>` 
+00010e00: 2843 6f63 6f6e 7574 2061 7574 6f6d 6174  (Coconut automat
+00010e10: 6963 616c 6c79 2072 6567 6973 7465 7273  ically registers
+00010e20: 2060 6e75 6d70 7960 2061 7272 6179 7320   `numpy` arrays 
+00010e30: 616e 6420 6063 6f6c 6c65 6374 696f 6e73  and `collections
+00010e40: 2e64 6571 7565 6020 6f62 6a65 6374 7320  .deque` objects 
+00010e50: 6173 2073 6571 7565 6e63 6573 292e 0d0a  as sequences)...
+00010e60: 2020 2d20 4c61 7a79 206c 6973 7473 2028    - Lazy lists (
+00010e70: 6028 7c3c 7061 7474 6572 6e73 3e7c 2960  `(|<patterns>|)`
+00010e80: 293a 2073 616d 6520 6173 206c 6973 7420  ): same as list 
+00010e90: 6f72 2074 7570 6c65 206d 6174 6368 696e  or tuple matchin
+00010ea0: 672c 2062 7574 2063 6865 636b 7320 666f  g, but checks fo
+00010eb0: 7220 616e 2049 7465 7261 626c 6520 2860  r an Iterable (`
+00010ec0: 636f 6c6c 6563 7469 6f6e 732e 6162 632e  collections.abc.
+00010ed0: 4974 6572 6162 6c65 6029 2069 6e73 7465  Iterable`) inste
+00010ee0: 6164 206f 6620 6120 5365 7175 656e 6365  ad of a Sequence
+00010ef0: 2e0d 0a20 202d 2048 6561 642d 5461 696c  ...  - Head-Tail
+00010f00: 2053 706c 6974 7320 2860 3c6c 6973 742f   Splits (`<list/
+00010f10: 7475 706c 653e 202b 203c 7661 723e 6020  tuple> + <var>` 
+00010f20: 6f72 2060 283c 7061 7474 6572 6e73 3e2c  or `(<patterns>,
+00010f30: 202a 3c76 6172 3e29 6029 3a20 7769 6c6c   *<var>)`): will
+00010f40: 206d 6174 6368 2074 6865 2062 6567 696e   match the begin
+00010f50: 6e69 6e67 206f 6620 7468 6520 7365 7175  ning of the sequ
+00010f60: 656e 6365 2061 6761 696e 7374 2074 6865  ence against the
+00010f70: 2060 3c6c 6973 742f 7475 706c 653e 602f   `<list/tuple>`/
+00010f80: 603c 7061 7474 6572 6e73 3e60 2c20 7468  `<patterns>`, th
+00010f90: 656e 2062 696e 6420 7468 6520 7265 7374  en bind the rest
+00010fa0: 2074 6f20 603c 7661 723e 602c 2061 6e64   to `<var>`, and
+00010fb0: 206d 616b 6520 6974 2074 6865 2074 7970   make it the typ
+00010fc0: 6520 6f66 2074 6865 2063 6f6e 7374 7275  e of the constru
+00010fd0: 6374 2075 7365 642e 0d0a 2020 2d20 496e  ct used...  - In
+00010fe0: 6974 2d4c 6173 7420 5370 6c69 7473 2028  it-Last Splits (
+00010ff0: 603c 7661 723e 202b 203c 6c69 7374 2f74  `<var> + <list/t
+00011000: 7570 6c65 3e60 206f 7220 6028 2a3c 7661  uple>` or `(*<va
+00011010: 723e 2c20 3c70 6174 7465 726e 733e 2960  r>, <patterns>)`
+00011020: 293a 2065 7861 6374 6c79 2074 6865 2073  ): exactly the s
+00011030: 616d 6520 6173 2068 6561 642d 7461 696c  ame as head-tail
+00011040: 2073 706c 6974 732c 2062 7574 206f 6e20   splits, but on 
+00011050: 7468 6520 656e 6420 696e 7374 6561 6420  the end instead 
+00011060: 6f66 2074 6865 2062 6567 696e 6e69 6e67  of the beginning
+00011070: 206f 6620 7468 6520 7365 7175 656e 6365   of the sequence
+00011080: 2e0d 0a20 202d 2048 6561 642d 4c61 7374  ...  - Head-Last
+00011090: 2053 706c 6974 7320 2860 3c6c 6973 742f   Splits (`<list/
+000110a0: 7475 706c 653e 202b 203c 7661 723e 202b  tuple> + <var> +
+000110b0: 203c 6c69 7374 2f74 7570 6c65 3e60 206f   <list/tuple>` o
+000110c0: 7220 6028 3c70 6174 7465 726e 733e 2c20  r `(<patterns>, 
+000110d0: 2a3c 7661 723e 2c20 3c70 6174 7465 726e  *<var>, <pattern
+000110e0: 733e 2960 293a 2074 6865 2063 6f6d 6269  s>)`): the combi
+000110f0: 6e61 7469 6f6e 206f 6620 6120 6865 6164  nation of a head
+00011100: 2d74 6169 6c20 616e 6420 616e 2069 6e69  -tail and an ini
+00011110: 742d 6c61 7374 2073 706c 6974 2e0d 0a20  t-last split... 
+00011120: 202d 2053 6561 7263 6820 5370 6c69 7473   - Search Splits
+00011130: 2028 603c 7661 7231 3e20 2b20 3c6c 6973   (`<var1> + <lis
+00011140: 742f 7475 706c 653e 202b 203c 7661 7232  t/tuple> + <var2
+00011150: 3e60 206f 7220 6028 2a3c 7661 7231 3e2c  >` or `(*<var1>,
+00011160: 203c 7061 7474 6572 6e73 3e2c 202a 3c76   <patterns>, *<v
+00011170: 6172 323e 2960 293a 2073 6561 7263 6865  ar2>)`): searche
+00011180: 7320 666f 7220 7468 6520 6669 7273 7420  s for the first 
+00011190: 6f63 6375 7272 656e 6365 206f 6620 7468  occurrence of th
+000111a0: 6520 603c 6c69 7374 2f74 7570 6c65 3e60  e `<list/tuple>`
+000111b0: 2f60 3c70 6174 7465 726e 733e 6020 696e  /`<patterns>` in
+000111c0: 2074 6865 2073 6571 7565 6e63 652c 2074   the sequence, t
+000111d0: 6865 6e20 7075 7473 2065 7665 7279 7468  hen puts everyth
+000111e0: 696e 6720 6265 666f 7265 2069 6e74 6f20  ing before into 
+000111f0: 603c 7661 7231 3e60 2061 6e64 2065 7665  `<var1>` and eve
+00011200: 7279 7468 696e 6720 6166 7465 7220 696e  rything after in
+00011210: 746f 2060 3c76 6172 323e 602e 0d0a 2020  to `<var2>`...  
+00011220: 2d20 4865 6164 2d4c 6173 7420 5365 6172  - Head-Last Sear
+00011230: 6368 2053 706c 6974 7320 2860 3c6c 6973  ch Splits (`<lis
+00011240: 742f 7475 706c 653e 202b 203c 7661 723e  t/tuple> + <var>
+00011250: 202b 203c 6c69 7374 2f74 7570 6c65 3e20   + <list/tuple> 
+00011260: 2b20 3c76 6172 3e20 2b20 3c6c 6973 742f  + <var> + <list/
+00011270: 7475 706c 653e 6020 6f72 2060 283c 7061  tuple>` or `(<pa
+00011280: 7474 6572 6e73 3e2c 202a 3c76 6172 3e2c  tterns>, *<var>,
+00011290: 203c 7061 7474 6572 6e73 3e2c 202a 3c76   <patterns>, *<v
+000112a0: 6172 3e2c 203c 7061 7474 6572 6e73 3e29  ar>, <patterns>)
+000112b0: 6029 3a20 7468 6520 636f 6d62 696e 6174  `): the combinat
+000112c0: 696f 6e20 6f66 2061 2068 6561 642d 7461  ion of a head-ta
+000112d0: 696c 2073 706c 6974 2061 6e64 2061 2073  il split and a s
+000112e0: 6561 7263 6820 7370 6c69 742e 0d0a 2020  earch split...  
+000112f0: 2d20 4974 6572 6162 6c65 2053 706c 6974  - Iterable Split
+00011300: 7320 2860 3c6c 6973 742f 7475 706c 652f  s (`<list/tuple/
+00011310: 6c61 7a79 206c 6973 743e 203a 3a20 3c76  lazy list> :: <v
+00011320: 6172 3e20 3a3a 203c 6c69 7374 2f74 7570  ar> :: <list/tup
+00011330: 6c65 2f6c 617a 7920 6c69 7374 3e20 3a3a  le/lazy list> ::
+00011340: 203c 7661 723e 203a 3a20 3c6c 6973 742f   <var> :: <list/
+00011350: 7475 706c 652f 6c61 7a79 206c 6973 743e  tuple/lazy list>
+00011360: 6029 3a20 7361 6d65 2061 7320 6f74 6865  `): same as othe
+00011370: 7220 7365 7175 656e 6365 2064 6573 7472  r sequence destr
+00011380: 7563 7475 7269 6e67 2c20 6275 7420 776f  ucturing, but wo
+00011390: 726b 7320 6f6e 2061 6e79 2069 7465 7261  rks on any itera
+000113a0: 626c 6520 2860 636f 6c6c 6563 7469 6f6e  ble (`collection
+000113b0: 732e 6162 632e 4974 6572 6162 6c65 6029  s.abc.Iterable`)
+000113c0: 2c20 696e 636c 7564 696e 6720 696e 6669  , including infi
+000113d0: 6e69 7465 2069 7465 7261 746f 7273 2028  nite iterators (
+000113e0: 6e6f 7465 2074 6861 7420 6966 2061 6e20  note that if an 
+000113f0: 6974 6572 6174 6f72 2069 7320 6d61 7463  iterator is matc
+00011400: 6865 6420 6167 6169 6e73 7420 6974 2077  hed against it w
+00011410: 696c 6c20 6265 206d 6f64 6966 6965 6420  ill be modified 
+00011420: 756e 6c65 7373 2069 7420 6973 205b 6072  unless it is [`r
+00011430: 6569 7465 7261 626c 6560 5d28 2372 6569  eiterable`](#rei
+00011440: 7465 7261 626c 6529 292e 0d0a 2020 2d20  terable))...  - 
+00011450: 436f 6d70 6c65 7820 5374 7269 6e67 204d  Complex String M
+00011460: 6174 6368 696e 6720 2860 3c73 7472 696e  atching (`<strin
+00011470: 673e 202b 203c 7661 723e 202b 203c 7374  g> + <var> + <st
+00011480: 7269 6e67 3e20 2b20 3c76 6172 3e20 2b20  ring> + <var> + 
+00011490: 3c73 7472 696e 673e 6029 3a20 7374 7269  <string>`): stri
+000114a0: 6e67 206d 6174 6368 696e 6720 7375 7070  ng matching supp
+000114b0: 6f72 7473 2074 6865 2073 616d 6520 6465  orts the same de
+000114c0: 7374 7275 6374 7572 696e 6720 6f70 7469  structuring opti
+000114d0: 6f6e 7320 6173 2061 626f 7665 2e0d 0a0d  ons as above....
+000114e0: 0a5f 4e6f 7465 3a20 4c69 6b65 205b 6974  ._Note: Like [it
+000114f0: 6572 6174 6f72 2073 6c69 6369 6e67 5d28  erator slicing](
+00011500: 2369 7465 7261 746f 722d 736c 6963 696e  #iterator-slicin
+00011510: 6729 2c20 6974 6572 6174 6f72 2061 6e64  g), iterator and
+00011520: 206c 617a 7920 6c69 7374 206d 6174 6368   lazy list match
+00011530: 696e 6720 6d61 6b65 206e 6f20 6775 6172  ing make no guar
+00011540: 616e 7465 6520 7468 6174 2074 6865 206f  antee that the o
+00011550: 7269 6769 6e61 6c20 6974 6572 6174 6f72  riginal iterator
+00011560: 206d 6174 6368 6564 2061 6761 696e 7374   matched against
+00011570: 2062 6520 7072 6573 6572 7665 6420 2874   be preserved (t
+00011580: 6f20 7072 6573 6572 7665 2074 6865 2069  o preserve the i
+00011590: 7465 7261 746f 722c 2075 7365 2043 6f63  terator, use Coc
+000115a0: 6f6e 7574 2773 205b 6072 6569 7465 7261  onut's [`reitera
+000115b0: 626c 6560 5d28 2372 6569 7465 7261 626c  ble`](#reiterabl
+000115c0: 6529 2062 7569 6c74 2d69 6e29 2e5f 0d0a  e) built-in)._..
+000115d0: 0d0a 5768 656e 2063 6865 636b 696e 6720  ..When checking 
+000115e0: 7768 6574 6865 7220 6f72 206e 6f74 2061  whether or not a
+000115f0: 6e20 6f62 6a65 6374 2063 616e 2062 6520  n object can be 
+00011600: 6d61 7463 6865 6420 6167 6169 6e73 7420  matched against 
+00011610: 696e 2061 2070 6172 7469 6375 6c61 7220  in a particular 
+00011620: 6661 7368 696f 6e2c 2043 6f63 6f6e 7574  fashion, Coconut
+00011630: 206d 616b 6573 2075 7365 206f 6620 5079   makes use of Py
+00011640: 7468 6f6e 2773 2061 6273 7472 6163 7420  thon's abstract 
+00011650: 6261 7365 2063 6c61 7373 6573 2e20 5468  base classes. Th
+00011660: 6572 6566 6f72 652c 2074 6f20 656e 7375  erefore, to ensu
+00011670: 7265 2070 726f 7065 7220 6d61 7463 6869  re proper matchi
+00011680: 6e67 2066 6f72 2061 2063 7573 746f 6d20  ng for a custom 
+00011690: 6f62 6a65 6374 2c20 6974 2773 2072 6563  object, it's rec
+000116a0: 6f6d 6d65 6e64 6564 2074 6f20 7265 6769  ommended to regi
+000116b0: 7374 6572 2069 7420 7769 7468 2074 6865  ster it with the
+000116c0: 2070 726f 7065 7220 6162 7374 7261 6374   proper abstract
+000116d0: 2062 6173 6520 636c 6173 7365 732e 0d0a   base classes...
+000116e0: 0d0a 2323 2323 2320 4578 616d 706c 6573  ..##### Examples
+000116f0: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+00011700: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 6465  ..```coconut..de
+00011710: 6620 6661 6374 6f72 6961 6c28 7661 6c75  f factorial(valu
+00011720: 6529 3a0d 0a20 2020 206d 6174 6368 2030  e):..    match 0
+00011730: 2069 6e20 7661 6c75 653a 0d0a 2020 2020   in value:..    
+00011740: 2020 2020 7265 7475 726e 2031 0d0a 2020      return 1..  
+00011750: 2020 656c 7365 3a20 6d61 7463 6820 6e20    else: match n 
+00011760: 6069 7369 6e73 7461 6e63 6560 2069 6e74  `isinstance` int
+00011770: 2069 6e20 7661 6c75 6520 6966 206e 203e   in value if n >
+00011780: 2030 3a20 2023 2043 6f63 6f6e 7574 2061   0:  # Coconut a
+00011790: 6c6c 6f77 7320 6e65 7374 696e 6720 6f66  llows nesting of
+000117a0: 2073 7461 7465 6d65 6e74 7320 6f6e 2074   statements on t
+000117b0: 6865 2073 616d 6520 6c69 6e65 0d0a 2020  he same line..  
+000117c0: 2020 2020 2020 7265 7475 726e 206e 202a        return n *
+000117d0: 2066 6163 746f 7269 616c 286e 2d31 290d   factorial(n-1).
+000117e0: 0a20 2020 2065 6c73 653a 0d0a 2020 2020  .    else:..    
+000117f0: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
+00011800: 726f 7228 2269 6e76 616c 6964 2061 7267  ror("invalid arg
+00011810: 756d 656e 7420 746f 2066 6163 746f 7269  ument to factori
+00011820: 616c 206f 663a 2022 2b72 6570 7228 7661  al of: "+repr(va
+00011830: 6c75 6529 290d 0a0d 0a33 207c 3e20 6661  lue))....3 |> fa
+00011840: 6374 6f72 6961 6c20 7c3e 2070 7269 6e74  ctorial |> print
+00011850: 0d0a 6060 600d 0a5f 5368 6f77 6361 7365  ..```.._Showcase
+00011860: 7320 6065 6c73 6560 2073 7461 7465 6d65  s `else` stateme
+00011870: 6e74 732c 2077 6869 6368 2077 6f72 6b20  nts, which work 
+00011880: 6d75 6368 206c 696b 6520 6065 6c73 6560  much like `else`
+00011890: 2073 7461 7465 6d65 6e74 7320 696e 2050   statements in P
+000118a0: 7974 686f 6e3a 2074 6865 2063 6f64 6520  ython: the code 
+000118b0: 756e 6465 7220 616e 2060 656c 7365 6020  under an `else` 
+000118c0: 7374 6174 656d 656e 7420 6973 206f 6e6c  statement is onl
+000118d0: 7920 6578 6563 7574 6564 2069 6620 7468  y executed if th
+000118e0: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
+000118f0: 6d61 7463 6820 6661 696c 732e 5f0d 0a0d  match fails._...
+00011900: 0a60 6060 636f 636f 6e75 740d 0a64 6174  .```coconut..dat
+00011910: 6120 706f 696e 7428 782c 2079 293a 0d0a  a point(x, y):..
+00011920: 2020 2020 6465 6620 7472 616e 7366 6f72      def transfor
+00011930: 6d28 7365 6c66 2c20 6f74 6865 7229 3a0d  m(self, other):.
+00011940: 0a20 2020 2020 2020 206d 6174 6368 2070  .        match p
+00011950: 6f69 6e74 2878 2c20 7929 2069 6e20 6f74  oint(x, y) in ot
+00011960: 6865 723a 0d0a 2020 2020 2020 2020 2020  her:..          
+00011970: 2020 7265 7475 726e 2070 6f69 6e74 2873    return point(s
+00011980: 656c 662e 7820 2b20 782c 2073 656c 662e  elf.x + x, self.
+00011990: 7920 2b20 7929 0d0a 2020 2020 2020 2020  y + y)..        
+000119a0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+000119b0: 2020 2072 6169 7365 2054 7970 6545 7272     raise TypeErr
+000119c0: 6f72 2822 6172 6720 746f 2074 7261 6e73  or("arg to trans
+000119d0: 666f 726d 206d 7573 7420 6265 2061 2070  form must be a p
+000119e0: 6f69 6e74 2229 0d0a 0d0a 706f 696e 7428  oint")....point(
+000119f0: 312c 3229 207c 3e20 706f 696e 7428 332c  1,2) |> point(3,
+00011a00: 3429 2e74 7261 6e73 666f 726d 207c 3e20  4).transform |> 
+00011a10: 7072 696e 740d 0a70 6f69 6e74 2831 2c32  print..point(1,2
+00011a20: 2920 7c3e 2028 3d3d 2924 2870 6f69 6e74  ) |> (==)$(point
+00011a30: 2831 2c32 2929 207c 3e20 7072 696e 740d  (1,2)) |> print.
+00011a40: 0a60 6060 0d0a 5f53 686f 7763 6173 6573  .```.._Showcases
+00011a50: 206d 6174 6368 696e 6720 746f 2064 6174   matching to dat
+00011a60: 6120 7479 7065 7320 616e 6420 7468 6520  a types and the 
+00011a70: 6465 6661 756c 7420 6571 7561 6c69 7479  default equality
+00011a80: 206f 7065 7261 746f 722e 2056 616c 7565   operator. Value
+00011a90: 7320 6465 6669 6e65 6420 6279 2074 6865  s defined by the
+00011aa0: 2075 7365 7220 7769 7468 2074 6865 2060   user with the `
+00011ab0: 6461 7461 6020 7374 6174 656d 656e 7420  data` statement 
+00011ac0: 6361 6e20 6265 206d 6174 6368 6564 2061  can be matched a
+00011ad0: 6761 696e 7374 2061 6e64 2074 6865 6972  gainst and their
+00011ae0: 2063 6f6e 7465 6e74 7320 6163 6365 7373   contents access
+00011af0: 6564 2062 7920 7370 6563 6966 6963 616c  ed by specifical
+00011b00: 6c79 2072 6566 6572 656e 6369 6e67 2061  ly referencing a
+00011b10: 7267 756d 656e 7473 2074 6f20 7468 6520  rguments to the 
+00011b20: 6461 7461 2074 7970 6527 7320 636f 6e73  data type's cons
+00011b30: 7472 7563 746f 722e 5f0d 0a0d 0a60 6060  tructor._....```
+00011b40: 636f 636f 6e75 740d 0a63 6c61 7373 2054  coconut..class T
+00011b50: 7265 650d 0a64 6174 6120 456d 7074 7928  ree..data Empty(
+00011b60: 2920 6672 6f6d 2054 7265 650d 0a64 6174  ) from Tree..dat
+00011b70: 6120 4c65 6166 286e 2920 6672 6f6d 2054  a Leaf(n) from T
+00011b80: 7265 650d 0a64 6174 6120 4e6f 6465 286c  ree..data Node(l
+00011b90: 2c20 7229 2066 726f 6d20 5472 6565 0d0a  , r) from Tree..
+00011ba0: 0d0a 6465 6620 6465 7074 6828 5472 6565  ..def depth(Tree
+00011bb0: 2829 2920 3d20 300d 0a0d 0a61 6464 7061  ()) = 0....addpa
+00011bc0: 7474 6572 6e20 6465 6620 6465 7074 6828  ttern def depth(
+00011bd0: 5472 6565 286e 2929 203d 2031 0d0a 0d0a  Tree(n)) = 1....
+00011be0: 6164 6470 6174 7465 726e 2064 6566 2064  addpattern def d
+00011bf0: 6570 7468 2854 7265 6528 6c2c 2072 2929  epth(Tree(l, r))
+00011c00: 203d 2031 202b 206d 6178 285b 6465 7074   = 1 + max([dept
+00011c10: 6828 6c29 2c20 6465 7074 6828 7229 5d29  h(l), depth(r)])
+00011c20: 0d0a 0d0a 456d 7074 7928 2920 7c3e 2064  ....Empty() |> d
+00011c30: 6570 7468 207c 3e20 7072 696e 740d 0a4c  epth |> print..L
+00011c40: 6561 6628 3529 207c 3e20 6465 7074 6820  eaf(5) |> depth 
+00011c50: 7c3e 2070 7269 6e74 0d0a 4e6f 6465 284c  |> print..Node(L
+00011c60: 6561 6628 3229 2c20 4e6f 6465 2845 6d70  eaf(2), Node(Emp
+00011c70: 7479 2829 2c20 4c65 6166 2833 2929 2920  ty(), Leaf(3))) 
+00011c80: 7c3e 2064 6570 7468 207c 3e20 7072 696e  |> depth |> prin
+00011c90: 740d 0a60 6060 0d0a 5f53 686f 7763 6173  t..```.._Showcas
+00011ca0: 6573 2068 6f77 2074 6865 2063 6f6d 6269  es how the combi
+00011cb0: 6e61 7469 6f6e 206f 6620 6461 7461 2074  nation of data t
+00011cc0: 7970 6573 2061 6e64 206d 6174 6368 2073  ypes and match s
+00011cd0: 7461 7465 6d65 6e74 7320 6361 6e20 6265  tatements can be
+00011ce0: 2075 7365 6420 746f 2070 6f77 6572 6675   used to powerfu
+00011cf0: 6c20 6566 6665 6374 2074 6f20 7265 706c  l effect to repl
+00011d00: 6963 6174 6520 7468 6520 7573 6167 6520  icate the usage 
+00011d10: 6f66 2061 6c67 6562 7261 6963 2064 6174  of algebraic dat
+00011d20: 6120 7479 7065 7320 696e 206f 7468 6572  a types in other
+00011d30: 2066 756e 6374 696f 6e61 6c20 7072 6f67   functional prog
+00011d40: 7261 6d6d 696e 6720 6c61 6e67 7561 6765  ramming language
+00011d50: 732e 5f0d 0a0d 0a60 6060 636f 636f 6e75  s._....```coconu
+00011d60: 740d 0a64 6566 2064 7570 6c69 6361 7465  t..def duplicate
+00011d70: 5f66 6972 7374 285b 785d 202b 2078 7320  _first([x] + xs 
+00011d80: 6173 206c 2920 3d0d 0a20 2020 205b 785d  as l) =..    [x]
+00011d90: 202b 206c 0d0a 0d0a 5b31 2c32 2c33 5d20   + l....[1,2,3] 
+00011da0: 7c3e 2064 7570 6c69 6361 7465 5f66 6972  |> duplicate_fir
+00011db0: 7374 207c 3e20 7072 696e 740d 0a60 6060  st |> print..```
+00011dc0: 0d0a 5f53 686f 7763 6173 6573 2068 6561  .._Showcases hea
+00011dd0: 642d 7461 696c 2073 706c 6974 7469 6e67  d-tail splitting
+00011de0: 2c20 6f6e 6520 6f66 2074 6865 206d 6f73  , one of the mos
+00011df0: 7420 636f 6d6d 6f6e 2075 7365 7320 6f66  t common uses of
+00011e00: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+00011e10: 672c 2077 6865 7265 2061 2060 2b20 3c76  g, where a `+ <v
+00011e20: 6172 3e60 2028 6f72 2060 3a3a 203c 7661  ar>` (or `:: <va
+00011e30: 723e 6020 666f 7220 616e 7920 6974 6572  r>` for any iter
+00011e40: 6162 6c65 2920 6174 2074 6865 2065 6e64  able) at the end
+00011e50: 206f 6620 6120 6c69 7374 206f 7220 7475   of a list or tu
+00011e60: 706c 6520 6c69 7465 7261 6c20 6361 6e20  ple literal can 
+00011e70: 6265 2075 7365 6420 746f 206d 6174 6368  be used to match
+00011e80: 2074 6865 2072 6573 7420 6f66 2074 6865   the rest of the
+00011e90: 2073 6571 7565 6e63 652e 5f0d 0a0d 0a60   sequence._....`
+00011ea0: 6060 0d0a 6465 6620 7369 6576 6528 5b68  ``..def sieve([h
+00011eb0: 6561 645d 203a 3a20 7461 696c 2920 3d0d  ead] :: tail) =.
+00011ec0: 0a20 2020 205b 6865 6164 5d20 3a3a 2073  .    [head] :: s
+00011ed0: 6965 7665 286e 2066 6f72 206e 2069 6e20  ieve(n for n in 
+00011ee0: 7461 696c 2069 6620 6e20 2520 6865 6164  tail if n % head
+00011ef0: 290d 0a0d 0a61 6464 7061 7474 6572 6e20  )....addpattern 
+00011f00: 6465 6620 7369 6576 6528 287c 7c29 2920  def sieve((||)) 
+00011f10: 3d20 5b5d 0d0a 6060 600d 0a5f 5368 6f77  = []..```.._Show
+00011f20: 6361 7365 7320 686f 7720 746f 206d 6174  cases how to mat
+00011f30: 6368 2061 6761 696e 7374 2069 7465 7261  ch against itera
+00011f40: 746f 7273 2c20 6e61 6d65 6c79 2074 6861  tors, namely tha
+00011f50: 7420 7468 6520 656d 7074 7920 6974 6572  t the empty iter
+00011f60: 6174 6f72 2063 6173 6520 2860 287c 7c29  ator case (`(||)
+00011f70: 6029 206d 7573 7420 636f 6d65 206c 6173  `) must come las
+00011f80: 742c 206f 7468 6572 7769 7365 2074 6861  t, otherwise tha
+00011f90: 7420 6361 7365 2077 696c 6c20 6578 6861  t case will exha
+00011fa0: 7573 7420 7468 6520 7768 6f6c 6520 6974  ust the whole it
+00011fb0: 6572 6174 6f72 2062 6566 6f72 6520 616e  erator before an
+00011fc0: 7920 6f74 6865 7220 7061 7474 6572 6e20  y other pattern 
+00011fd0: 6861 7320 6120 6368 616e 6365 2074 6f20  has a chance to 
+00011fe0: 6d61 7463 6820 6167 6169 6e73 7420 6974  match against it
+00011ff0: 2e5f 0d0a 0d0a 6060 600d 0a64 6566 206f  ._....```..def o
+00012000: 6464 5f70 7269 6d65 7328 703d 3329 203d  dd_primes(p=3) =
+00012010: 0d0a 2020 2020 2870 2c29 203a 3a20 6669  ..    (p,) :: fi
+00012020: 6c74 6572 283d 3e20 5f20 2520 7020 213d  lter(=> _ % p !=
+00012030: 2030 2c20 6f64 645f 7072 696d 6573 2870   0, odd_primes(p
+00012040: 202b 2032 2929 0d0a 0d0a 6465 6620 7072   + 2))....def pr
+00012050: 696d 6573 2829 203d 0d0a 2020 2020 2832  imes() =..    (2
+00012060: 2c29 203a 3a20 6f64 645f 7072 696d 6573  ,) :: odd_primes
+00012070: 2829 0d0a 0d0a 6465 6620 7477 696e 5f70  ()....def twin_p
+00012080: 7269 6d65 7328 5f20 3a3a 205b 702c 2028  rimes(_ :: [p, (
+00012090: 2e2d 3229 202d 3e20 705d 203a 3a20 7073  .-2) -> p] :: ps
+000120a0: 2920 3d0d 0a20 2020 205b 2870 2c20 702b  ) =..    [(p, p+
+000120b0: 3229 5d20 3a3a 2074 7769 6e5f 7072 696d  2)] :: twin_prim
+000120c0: 6573 285b 7020 2b20 325d 203a 3a20 7073  es([p + 2] :: ps
+000120d0: 290d 0a0d 0a61 6464 7061 7474 6572 6e20  )....addpattern 
+000120e0: 6465 6620 7477 696e 5f70 7269 6d65 7328  def twin_primes(
+000120f0: 2920 3d20 2023 2074 7970 653a 2069 676e  ) =  # type: ign
+00012100: 6f72 650d 0a20 2020 2074 7769 6e5f 7072  ore..    twin_pr
+00012110: 696d 6573 2870 7269 6d65 7328 2929 0d0a  imes(primes())..
+00012120: 0d0a 7477 696e 5f70 7269 6d65 7328 2924  ..twin_primes()$
+00012130: 5b3a 355d 207c 3e20 6c69 7374 207c 3e20  [:5] |> list |> 
+00012140: 7072 696e 740d 0a60 6060 0d0a 5f53 686f  print..```.._Sho
+00012150: 7763 6173 6573 2074 6865 2075 7365 206f  wcases the use o
+00012160: 6620 616e 2069 7465 7261 626c 6520 7365  f an iterable se
+00012170: 6172 6368 2070 6174 7465 726e 2061 6e64  arch pattern and
+00012180: 2061 2076 6965 7720 7061 7474 6572 6e20   a view pattern 
+00012190: 746f 2063 6f6e 7374 7275 6374 2061 6e20  to construct an 
+000121a0: 6974 6572 6174 6f72 206f 6620 616c 6c20  iterator of all 
+000121b0: 7477 696e 2070 7269 6d65 732e 5f0d 0a0d  twin primes._...
+000121c0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 5f43  .**Python:**.._C
+000121d0: 616e 2774 2062 6520 646f 6e65 2077 6974  an't be done wit
+000121e0: 686f 7574 2061 206c 6f6e 6720 7365 7269  hout a long seri
+000121f0: 6573 206f 6620 6368 6563 6b73 2066 6f72  es of checks for
+00012200: 2065 6163 6820 606d 6174 6368 6020 7374   each `match` st
+00012210: 6174 656d 656e 742e 2053 6565 2074 6865  atement. See the
+00012220: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+00012230: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+00012240: 6e74 6178 2e5f 0d0a 0d0a 2323 2320 6063  ntax._....### `c
+00012250: 6173 6560 0d0a 0d0a 436f 636f 6e75 7427  ase`....Coconut'
+00012260: 7320 6063 6173 6560 2062 6c6f 636b 7320  s `case` blocks 
+00012270: 7365 7276 6520 6173 2061 6e20 6578 7465  serve as an exte
+00012280: 6e73 696f 6e20 6f66 2043 6f63 6f6e 7574  nsion of Coconut
+00012290: 2773 2060 6d61 7463 6860 2073 7461 7465  's `match` state
+000122a0: 6d65 6e74 2066 6f72 2070 6572 666f 726d  ment for perform
+000122b0: 696e 6720 6d75 6c74 6970 6c65 2060 6d61  ing multiple `ma
+000122c0: 7463 6860 2073 7461 7465 6d65 6e74 7320  tch` statements 
+000122d0: 6167 6169 6e73 7420 7468 6520 7361 6d65  against the same
+000122e0: 2076 616c 7565 2c20 7768 6572 6520 6f6e   value, where on
+000122f0: 6c79 206f 6e65 206f 6620 7468 656d 2073  ly one of them s
+00012300: 686f 756c 6420 7375 6363 6565 642e 2055  hould succeed. U
+00012310: 6e6c 696b 6520 6c6f 6e65 2060 6d61 7463  nlike lone `matc
+00012320: 6860 2073 7461 7465 6d65 6e74 732c 206f  h` statements, o
+00012330: 6e6c 7920 6f6e 6520 6d61 7463 6820 7374  nly one match st
+00012340: 6174 656d 656e 7420 696e 7369 6465 206f  atement inside o
+00012350: 6620 6120 6063 6173 6560 2062 6c6f 636b  f a `case` block
+00012360: 2077 696c 6c20 6576 6572 2073 7563 6365   will ever succe
+00012370: 6564 2c20 616e 6420 7468 7573 206d 6f72  ed, and thus mor
+00012380: 6520 6765 6e65 7261 6c20 6d61 7463 6865  e general matche
+00012390: 7320 7368 6f75 6c64 2062 6520 7075 7420  s should be put 
+000123a0: 6265 6c6f 7720 6d6f 7265 2073 7065 6369  below more speci
+000123b0: 6669 6320 6f6e 6573 2e0d 0a0d 0a43 6f63  fic ones.....Coc
+000123c0: 6f6e 7574 2773 2060 6361 7365 6020 626c  onut's `case` bl
+000123d0: 6f63 6b73 2061 7265 2061 6e20 6578 7465  ocks are an exte
+000123e0: 6e73 696f 6e20 6f66 2050 7974 686f 6e20  nsion of Python 
+000123f0: 332e 3130 2773 205b 6063 6173 6560 2062  3.10's [`case` b
+00012400: 6c6f 636b 735d 2868 7474 7073 3a2f 2f77  locks](https://w
+00012410: 7777 2e70 7974 686f 6e2e 6f72 672f 6465  ww.python.org/de
+00012420: 762f 7065 7073 2f70 6570 2d30 3633 3429  v/peps/pep-0634)
+00012430: 2074 6f20 7375 7070 6f72 7420 6164 6469   to support addi
+00012440: 7469 6f6e 616c 2070 6174 7465 726e 2d6d  tional pattern-m
+00012450: 6174 6368 696e 6720 636f 6e73 7472 7563  atching construc
+00012460: 7473 2061 6464 6564 2062 7920 436f 636f  ts added by Coco
+00012470: 6e75 7420 2861 6e64 2043 6f63 6f6e 7574  nut (and Coconut
+00012480: 2077 696c 6c20 656e 7375 7265 2074 6861   will ensure tha
+00012490: 7420 7468 6579 2077 6f72 6b20 6f6e 2061  t they work on a
+000124a0: 6c6c 2050 7974 686f 6e20 7665 7273 696f  ll Python versio
+000124b0: 6e73 2c20 6e6f 7420 6a75 7374 2033 2e31  ns, not just 3.1
+000124c0: 302b 292e 0d0a 0d0a 4561 6368 2070 6174  0+).....Each pat
+000124d0: 7465 726e 2069 6e20 6120 6361 7365 2062  tern in a case b
+000124e0: 6c6f 636b 2069 7320 6368 6563 6b65 6420  lock is checked 
+000124f0: 756e 7469 6c20 6120 6d61 7463 6820 6973  until a match is
+00012500: 2066 6f75 6e64 2c20 616e 6420 7468 656e   found, and then
+00012510: 2074 6865 2063 6f72 7265 7370 6f6e 6469   the correspondi
+00012520: 6e67 2062 6f64 7920 6973 2065 7865 6375  ng body is execu
+00012530: 7465 642c 2061 6e64 2074 6865 2063 6173  ted, and the cas
+00012540: 6520 626c 6f63 6b20 7465 726d 696e 6174  e block terminat
+00012550: 6564 2e20 5468 6520 7379 6e74 6178 2066  ed. The syntax f
+00012560: 6f72 2063 6173 6520 626c 6f63 6b73 2069  or case blocks i
+00012570: 730d 0a60 6060 636f 636f 6e75 740d 0a6d  s..```coconut..m
+00012580: 6174 6368 203c 7661 6c75 653e 3a0d 0a20  atch <value>:.. 
+00012590: 2020 2063 6173 6520 3c70 6174 7465 726e     case <pattern
+000125a0: 3e20 5b69 6620 3c63 6f6e 643e 5d3a 0d0a  > [if <cond>]:..
+000125b0: 2020 2020 2020 2020 3c62 6f64 793e 0d0a          <body>..
+000125c0: 2020 2020 6361 7365 203c 7061 7474 6572      case <patter
+000125d0: 6e3e 205b 6966 203c 636f 6e64 3e5d 3a0d  n> [if <cond>]:.
+000125e0: 0a20 2020 2020 2020 203c 626f 6479 3e0d  .        <body>.
+000125f0: 0a20 2020 202e 2e2e 0d0a 5b65 6c73 653a  .    .....[else:
+00012600: 0d0a 2020 2020 3c62 6f64 793e 5d0d 0a60  ..    <body>]..`
+00012610: 6060 0d0a 7768 6572 6520 603c 7061 7474  ``..where `<patt
+00012620: 6572 6e3e 6020 6973 2061 6e79 2060 6d61  ern>` is any `ma
+00012630: 7463 6860 2070 6174 7465 726e 2c20 603c  tch` pattern, `<
+00012640: 7661 6c75 653e 6020 6973 2074 6865 2069  value>` is the i
+00012650: 7465 6d20 746f 206d 6174 6368 2061 6761  tem to match aga
+00012660: 696e 7374 2c20 603c 636f 6e64 3e60 2069  inst, `<cond>` i
+00012670: 7320 616e 206f 7074 696f 6e61 6c20 6164  s an optional ad
+00012680: 6469 7469 6f6e 616c 2063 6865 636b 2c20  ditional check, 
+00012690: 616e 6420 603c 626f 6479 3e60 2069 7320  and `<body>` is 
+000126a0: 7369 6d70 6c79 2063 6f64 6520 7468 6174  simply code that
+000126b0: 2069 7320 6578 6563 7574 6564 2069 6620   is executed if 
+000126c0: 7468 6520 6865 6164 6572 2061 626f 7665  the header above
+000126d0: 2069 7420 7375 6363 6565 6473 2e20 4e6f   it succeeds. No
+000126e0: 7465 2074 6865 2061 6273 656e 6365 206f  te the absence o
+000126f0: 6620 616e 2060 696e 6020 696e 2074 6865  f an `in` in the
+00012700: 2060 6d61 7463 6860 2073 7461 7465 6d65   `match` stateme
+00012710: 6e74 733a 2074 6861 7427 7320 6265 6361  nts: that's beca
+00012720: 7573 6520 7468 6520 603c 7661 6c75 653e  use the `<value>
+00012730: 6020 696e 2060 6361 7365 203c 7661 6c75  ` in `case <valu
+00012740: 653e 6020 6973 2074 616b 696e 6720 6974  e>` is taking it
+00012750: 7320 706c 6163 652e 2049 6620 6e6f 2060  s place. If no `
+00012760: 656c 7365 6020 6973 2070 7265 7365 6e74  else` is present
+00012770: 2061 6e64 206e 6f20 6d61 7463 6820 7375   and no match su
+00012780: 6363 6565 6473 2c20 7468 656e 2074 6865  cceeds, then the
+00012790: 2060 6361 7365 6020 7374 6174 656d 656e   `case` statemen
+000127a0: 7420 6973 2073 696d 706c 7920 736b 6970  t is simply skip
+000127b0: 7065 6420 6f76 6572 2061 7320 7769 7468  ped over as with
+000127c0: 205b 606d 6174 6368 6020 7374 6174 656d   [`match` statem
+000127d0: 656e 7473 5d28 236d 6174 6368 2920 2874  ents](#match) (t
+000127e0: 686f 7567 6820 756e 6c69 6b65 205b 6465  hough unlike [de
+000127f0: 7374 7275 6374 7572 696e 6720 6173 7369  structuring assi
+00012800: 676e 6d65 6e74 735d 2823 6465 7374 7275  gnments](#destru
+00012810: 6374 7572 696e 672d 6173 7369 676e 6d65  cturing-assignme
+00012820: 6e74 2929 2e0d 0a0d 0a41 6464 6974 696f  nt)).....Additio
+00012830: 6e61 6c6c 792c 2060 6361 7365 7360 2063  nally, `cases` c
+00012840: 616e 2062 6520 7573 6564 2061 7320 7468  an be used as th
+00012850: 6520 746f 702d 6c65 7665 6c20 6b65 7977  e top-level keyw
+00012860: 6f72 6420 696e 7374 6561 6420 6f66 2060  ord instead of `
+00012870: 6d61 7463 6860 2c20 616e 6420 696e 2073  match`, and in s
+00012880: 7563 6820 6120 6063 6173 6560 2062 6c6f  uch a `case` blo
+00012890: 636b 2060 6d61 7463 6860 2069 7320 616c  ck `match` is al
+000128a0: 6c6f 7765 6420 666f 7220 6561 6368 2063  lowed for each c
+000128b0: 6173 6520 7261 7468 6572 2074 6861 6e20  ase rather than 
+000128c0: 6063 6173 6560 2e20 5f44 6570 7265 6361  `case`. _Depreca
+000128d0: 7465 643a 2043 6f63 6f6e 7574 2061 6c73  ted: Coconut als
+000128e0: 6f20 7375 7070 6f72 7473 2060 6361 7365  o supports `case
+000128f0: 6020 696e 7374 6561 6420 6f66 2060 6361  ` instead of `ca
+00012900: 7365 7360 2061 7320 7468 6520 746f 702d  ses` as the top-
+00012910: 6c65 7665 6c20 6b65 7977 6f72 6420 666f  level keyword fo
+00012920: 7220 6261 636b 7761 7264 732d 636f 6d70  r backwards-comp
+00012930: 6174 6962 696c 6974 7920 7075 7270 6f73  atibility purpos
+00012940: 6573 2e5f 0d0a 0d0a 2323 2323 2320 4578  es._....##### Ex
+00012950: 616d 706c 6573 0d0a 0d0a 2a2a 436f 636f  amples....**Coco
+00012960: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00012970: 7574 0d0a 6465 6620 636c 6173 7369 6679  ut..def classify
+00012980: 5f73 6571 7565 6e63 6528 7661 6c75 6529  _sequence(value)
+00012990: 3a0d 0a20 2020 206f 7574 203d 2022 2220  :..    out = "" 
+000129a0: 2020 2020 2020 2023 2075 6e6c 696b 6520         # unlike 
+000129b0: 7769 7468 206e 6f72 6d61 6c20 6d61 7463  with normal matc
+000129c0: 6865 732c 206f 6e6c 7920 6f6e 6520 6f66  hes, only one of
+000129d0: 2074 6865 2070 6174 7465 726e 730d 0a20   the patterns.. 
+000129e0: 2020 206d 6174 6368 2076 616c 7565 3a20     match value: 
+000129f0: 2020 2020 2320 2077 696c 6c20 6d61 7463      #  will matc
+00012a00: 682c 2061 6e64 206f 7574 2077 696c 6c20  h, and out will 
+00012a10: 6f6e 6c79 2067 6574 2061 7070 656e 6465  only get appende
+00012a20: 6420 746f 206f 6e63 650d 0a20 2020 2020  d to once..     
+00012a30: 2020 2063 6173 6520 2829 3a0d 0a20 2020     case ():..   
+00012a40: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
+00012a50: 2265 6d70 7479 220d 0a20 2020 2020 2020  "empty"..       
+00012a60: 2063 6173 6520 285f 2c29 3a0d 0a20 2020   case (_,):..   
+00012a70: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
+00012a80: 2273 696e 676c 6574 6f6e 220d 0a20 2020  "singleton"..   
+00012a90: 2020 2020 2063 6173 6520 2878 2c78 293a       case (x,x):
+00012aa0: 0d0a 2020 2020 2020 2020 2020 2020 6f75  ..            ou
+00012ab0: 7420 2b3d 2022 6475 706c 6963 6174 6520  t += "duplicate 
+00012ac0: 7061 6972 206f 6620 222b 7374 7228 7829  pair of "+str(x)
+00012ad0: 0d0a 2020 2020 2020 2020 6361 7365 2028  ..        case (
+00012ae0: 5f2c 5f29 3a0d 0a20 2020 2020 2020 2020  _,_):..         
+00012af0: 2020 206f 7574 202b 3d20 2270 6169 7222     out += "pair"
+00012b00: 0d0a 2020 2020 2020 2020 6361 7365 205f  ..        case _
+00012b10: 2069 7320 2874 7570 6c65 2c20 6c69 7374   is (tuple, list
+00012b20: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+00012b30: 6f75 7420 2b3d 2022 7365 7175 656e 6365  out += "sequence
+00012b40: 220d 0a20 2020 2065 6c73 653a 0d0a 2020  "..    else:..  
+00012b50: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
+00012b60: 4572 726f 7228 290d 0a20 2020 2072 6574  Error()..    ret
+00012b70: 7572 6e20 6f75 740d 0a0d 0a5b 5d20 7c3e  urn out....[] |>
+00012b80: 2063 6c61 7373 6966 795f 7365 7175 656e   classify_sequen
+00012b90: 6365 207c 3e20 7072 696e 740d 0a28 2920  ce |> print..() 
+00012ba0: 7c3e 2063 6c61 7373 6966 795f 7365 7175  |> classify_sequ
+00012bb0: 656e 6365 207c 3e20 7072 696e 740d 0a5b  ence |> print..[
+00012bc0: 315d 207c 3e20 636c 6173 7369 6679 5f73  1] |> classify_s
+00012bd0: 6571 7565 6e63 6520 7c3e 2070 7269 6e74  equence |> print
+00012be0: 0d0a 2831 2c31 2920 7c3e 2063 6c61 7373  ..(1,1) |> class
+00012bf0: 6966 795f 7365 7175 656e 6365 207c 3e20  ify_sequence |> 
+00012c00: 7072 696e 740d 0a28 312c 3229 207c 3e20  print..(1,2) |> 
+00012c10: 636c 6173 7369 6679 5f73 6571 7565 6e63  classify_sequenc
+00012c20: 6520 7c3e 2070 7269 6e74 0d0a 2831 2c31  e |> print..(1,1
+00012c30: 2c31 2920 7c3e 2063 6c61 7373 6966 795f  ,1) |> classify_
+00012c40: 7365 7175 656e 6365 207c 3e20 7072 696e  sequence |> prin
+00012c50: 740d 0a60 6060 0d0a 5f45 7861 6d70 6c65  t..```.._Example
+00012c60: 206f 6620 7573 696e 6720 436f 636f 6e75   of using Coconu
+00012c70: 7427 7320 6063 6173 6560 2073 796e 7461  t's `case` synta
+00012c80: 782e 5f0d 0a60 6060 636f 636f 6e75 740d  x._..```coconut.
+00012c90: 0a63 6173 6573 207b 2261 223a 2031 2c20  .cases {"a": 1, 
+00012ca0: 2262 223a 2032 7d3a 0d0a 2020 2020 6d61  "b": 2}:..    ma
+00012cb0: 7463 6820 7b22 6122 3a20 617d 3a0d 0a20  tch {"a": a}:.. 
+00012cc0: 2020 2020 2020 2070 6173 730d 0a20 2020         pass..   
+00012cd0: 206d 6174 6368 205f 3a0d 0a20 2020 2020   match _:..     
+00012ce0: 2020 2061 7373 6572 7420 4661 6c73 650d     assert False.
+00012cf0: 0a61 7373 6572 7420 6120 3d3d 2031 0d0a  .assert a == 1..
+00012d00: 6060 600d 0a5f 4578 616d 706c 6520 6f66  ```.._Example of
+00012d10: 2074 6865 2060 6361 7365 7360 206b 6579   the `cases` key
+00012d20: 776f 7264 2069 6e73 7465 6164 2e5f 0d0a  word instead._..
+00012d30: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f  ..**Python:**.._
+00012d40: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+00012d50: 7468 6f75 7420 6120 6c6f 6e67 2073 6572  thout a long ser
+00012d60: 6965 7320 6f66 2063 6865 636b 7320 666f  ies of checks fo
+00012d70: 7220 6561 6368 2060 6d61 7463 6860 2073  r each `match` s
+00012d80: 7461 7465 6d65 6e74 2e20 5365 6520 7468  tatement. See th
+00012d90: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
+00012da0: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
+00012db0: 796e 7461 782e 5f0d 0a0d 0a23 2323 2060  yntax._....### `
+00012dc0: 6d61 7463 6820 666f 7260 0d0a 0d0a 436f  match for`....Co
+00012dd0: 636f 6e75 7420 7375 7070 6f72 7473 2070  conut supports p
+00012de0: 6174 7465 726e 2d6d 6174 6368 696e 6720  attern-matching 
+00012df0: 696e 2066 6f72 206c 6f6f 7073 2c20 7768  in for loops, wh
+00012e00: 6572 6520 7468 6520 7061 7474 6572 6e20  ere the pattern 
+00012e10: 6973 206d 6174 6368 6564 2061 6761 696e  is matched again
+00012e20: 7374 2065 6163 6820 6974 656d 2069 6e20  st each item in 
+00012e30: 7468 6520 6974 6572 6162 6c65 2e20 5468  the iterable. Th
+00012e40: 6520 7379 6e74 6178 2069 730d 0a60 6060  e syntax is..```
+00012e50: 636f 636f 6e75 740d 0a5b 6d61 7463 685d  coconut..[match]
+00012e60: 2066 6f72 203c 7061 7474 6572 6e3e 2069   for <pattern> i
+00012e70: 6e20 3c69 7465 7261 626c 653e 3a0d 0a20  n <iterable>:.. 
+00012e80: 2020 203c 626f 6479 3e0d 0a60 6060 0d0a     <body>..```..
+00012e90: 7768 6963 6820 6973 2065 7175 6976 616c  which is equival
+00012ea0: 656e 7420 746f 2074 6865 205b 6465 7374  ent to the [dest
+00012eb0: 7275 6374 7572 696e 6720 6173 7369 676e  ructuring assign
+00012ec0: 6d65 6e74 5d28 2364 6573 7472 7563 7475  ment](#destructu
+00012ed0: 7269 6e67 2d61 7373 6967 6e6d 656e 7429  ring-assignment)
+00012ee0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 666f  ..```coconut..fo
+00012ef0: 7220 656c 656d 2069 6e20 3c69 7465 7261  r elem in <itera
+00012f00: 626c 653e 3a0d 0a20 2020 206d 6174 6368  ble>:..    match
+00012f10: 203c 7061 7474 6572 6e3e 203d 2065 6c65   <pattern> = ele
+00012f20: 6d0d 0a20 2020 203c 626f 6479 3e0d 0a60  m..    <body>..`
+00012f30: 6060 0d0a 0d0a 5061 7474 6572 6e2d 6d61  ``....Pattern-ma
+00012f40: 7463 6869 6e67 2063 616e 2061 6c73 6f20  tching can also 
+00012f50: 6265 2075 7365 6420 696e 2060 6173 796e  be used in `asyn
+00012f60: 6320 666f 7260 206c 6f6f 7073 2c20 7769  c for` loops, wi
+00012f70: 7468 2062 6f74 6820 6061 7379 6e63 206d  th both `async m
+00012f80: 6174 6368 2066 6f72 6020 616e 6420 606d  atch for` and `m
+00012f90: 6174 6368 2061 7379 6e63 2066 6f72 6020  atch async for` 
+00012fa0: 616c 6c6f 7765 6420 6173 2065 7870 6c69  allowed as expli
+00012fb0: 6369 7420 7379 6e74 6178 6573 2e0d 0a0d  cit syntaxes....
+00012fc0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+00012fd0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+00012fe0: 6060 600d 0a66 6f72 207b 2275 7365 7222  ```..for {"user"
+00012ff0: 3a20 7569 642c 202a 2a5f 7d20 696e 2067  : uid, **_} in g
+00013000: 6574 5f64 6174 6128 293a 0d0a 2020 2020  et_data():..    
+00013010: 7072 696e 7428 7569 6429 0d0a 6060 600d  print(uid)..```.
+00013020: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+00013030: 6060 600d 0a66 6f72 2075 7365 725f 6461  ```..for user_da
+00013040: 7461 2069 6e20 6765 745f 6461 7461 2829  ta in get_data()
+00013050: 3a0d 0a20 2020 2075 6964 203d 2075 7365  :..    uid = use
+00013060: 725f 6461 7461 5b22 7573 6572 225d 0d0a  r_data["user"]..
+00013070: 2020 2020 7072 696e 7428 7569 6429 0d0a      print(uid)..
+00013080: 6060 600d 0a0d 0a23 2323 2060 6461 7461  ```....### `data
+00013090: 600d 0a0d 0a43 6f63 6f6e 7574 2773 2060  `....Coconut's `
+000130a0: 6461 7461 6020 6b65 7977 6f72 6420 6973  data` keyword is
+000130b0: 2075 7365 6420 746f 2063 7265 6174 6520   used to create 
+000130c0: 696d 6d75 7461 626c 652c 2061 6c67 6562  immutable, algeb
+000130d0: 7261 6963 2064 6174 6120 7479 7065 732c  raic data types,
+000130e0: 2069 6e63 6c75 6469 6e67 2062 7569 6c74   including built
+000130f0: 2d69 6e20 7375 7070 6f72 7420 666f 7220  -in support for 
+00013100: 6465 7374 7275 6374 7572 696e 6720 5b70  destructuring [p
+00013110: 6174 7465 726e 2d6d 6174 6368 696e 675d  attern-matching]
+00013120: 2823 6d61 7463 6829 2061 6e64 205b 6066  (#match) and [`f
+00013130: 6d61 7060 5d28 2366 6d61 7029 2e0d 0a0d  map`](#fmap)....
+00013140: 0a54 6865 2073 796e 7461 7820 666f 7220  .The syntax for 
+00013150: 6064 6174 6160 2062 6c6f 636b 7320 6973  `data` blocks is
+00013160: 2061 2063 726f 7373 2062 6574 7765 656e   a cross between
+00013170: 2074 6865 2073 796e 7461 7820 666f 7220   the syntax for 
+00013180: 6675 6e63 7469 6f6e 7320 616e 6420 7468  functions and th
+00013190: 6520 7379 6e74 6178 2066 6f72 2063 6c61  e syntax for cla
+000131a0: 7373 6573 2e20 5468 6520 6669 7273 7420  sses. The first 
+000131b0: 6c69 6e65 206c 6f6f 6b73 206c 696b 6520  line looks like 
+000131c0: 6120 6675 6e63 7469 6f6e 2064 6566 696e  a function defin
+000131d0: 6974 696f 6e2c 2062 7574 2074 6865 2072  ition, but the r
+000131e0: 6573 7420 6f66 2074 6865 2062 6f64 7920  est of the body 
+000131f0: 6c6f 6f6b 7320 6c69 6b65 2061 2063 6c61  looks like a cla
+00013200: 7373 2c20 7573 7561 6c6c 7920 636f 6e74  ss, usually cont
+00013210: 6169 6e69 6e67 206d 6574 686f 6420 6465  aining method de
+00013220: 6669 6e69 7469 6f6e 732e 2054 6869 7320  finitions. This 
+00013230: 6973 2062 6563 6175 7365 2077 6869 6c65  is because while
+00013240: 2060 6461 7461 6020 626c 6f63 6b73 2061   `data` blocks a
+00013250: 6374 7561 6c6c 7920 656e 6420 7570 2061  ctually end up a
+00013260: 7320 636c 6173 7365 7320 696e 2050 7974  s classes in Pyt
+00013270: 686f 6e2c 2043 6f63 6f6e 7574 2061 7574  hon, Coconut aut
+00013280: 6f6d 6174 6963 616c 6c79 2063 7265 6174  omatically creat
+00013290: 6573 2061 2073 7065 6369 616c 2c20 696d  es a special, im
+000132a0: 6d75 7461 626c 6520 636f 6e73 7472 7563  mutable construc
+000132b0: 746f 7220 6261 7365 6420 6f6e 2074 6865  tor based on the
+000132c0: 2067 6976 656e 2061 7267 756d 656e 7473   given arguments
+000132d0: 2e0d 0a0d 0a43 6f63 6f6e 7574 2064 6174  .....Coconut dat
+000132e0: 6120 7374 6174 656d 656e 7420 7379 6e74  a statement synt
+000132f0: 6178 206c 6f6f 6b73 206c 696b 653a 0d0a  ax looks like:..
+00013300: 6060 6063 6f63 6f6e 7574 0d0a 6461 7461  ```coconut..data
+00013310: 203c 6e61 6d65 3e28 3c61 7267 733e 2920   <name>(<args>) 
+00013320: 5b66 726f 6d20 3c69 6e68 6572 6974 733e  [from <inherits>
+00013330: 5d3a 0d0a 2020 2020 3c62 6f64 793e 0d0a  ]:..    <body>..
+00013340: 6060 600d 0a60 3c6e 616d 653e 6020 6973  ```..`<name>` is
+00013350: 2074 6865 206e 616d 6520 6f66 2074 6865   the name of the
+00013360: 206e 6577 2064 6174 6120 7479 7065 2c20   new data type, 
+00013370: 603c 6172 6773 3e60 2061 7265 2074 6865  `<args>` are the
+00013380: 2061 7267 756d 656e 7473 2074 6f20 6974   arguments to it
+00013390: 7320 636f 6e73 7472 7563 746f 7220 6173  s constructor as
+000133a0: 2077 656c 6c20 6173 2074 6865 206e 616d   well as the nam
+000133b0: 6573 206f 6620 6974 7320 6174 7472 6962  es of its attrib
+000133c0: 7574 6573 2c20 603c 626f 6479 3e60 2063  utes, `<body>` c
+000133d0: 6f6e 7461 696e 7320 7468 6520 6461 7461  ontains the data
+000133e0: 2074 7970 6527 7320 6d65 7468 6f64 732c   type's methods,
+000133f0: 2061 6e64 2060 3c69 6e68 6572 6974 733e   and `<inherits>
+00013400: 6020 6f70 7469 6f6e 616c 6c79 2063 6f6e  ` optionally con
+00013410: 7461 696e 7320 616e 7920 6465 7369 7265  tains any desire
+00013420: 6420 6261 7365 2063 6c61 7373 6573 2e0d  d base classes..
+00013430: 0a0d 0a43 6f63 6f6e 7574 2061 6c6c 6f77  ...Coconut allow
+00013440: 7320 6461 7461 2066 6965 6c64 7320 696e  s data fields in
+00013450: 2060 3c61 7267 733e 6020 746f 2068 6176   `<args>` to hav
+00013460: 6520 6465 6661 756c 7473 2061 6e64 2f6f  e defaults and/o
+00013470: 7220 5b74 7970 6520 616e 6e6f 7461 7469  r [type annotati
+00013480: 6f6e 735d 2823 656e 6861 6e63 6564 2d74  ons](#enhanced-t
+00013490: 7970 652d 616e 6e6f 7461 7469 6f6e 2920  ype-annotation) 
+000134a0: 6174 7461 6368 6564 2074 6f20 7468 656d  attached to them
+000134b0: 2c20 616e 6420 7375 7070 6f72 7473 2061  , and supports a
+000134c0: 2073 7461 7272 6564 2070 6172 616d 6574   starred paramet
+000134d0: 6572 2061 7420 7468 6520 656e 6420 746f  er at the end to
+000134e0: 2063 6f6c 6c65 6374 2065 7874 7261 2061   collect extra a
+000134f0: 7267 756d 656e 7473 2e20 4164 6469 7469  rguments. Additi
+00013500: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
+00013510: 616c 6c6f 7773 2074 7970 6520 7061 7261  allows type para
+00013520: 6d65 7465 7273 2074 6f20 6265 2073 7065  meters to be spe
+00013530: 6369 6669 6564 2069 6e20 6272 6163 6b65  cified in bracke
+00013540: 7473 2061 6674 6572 2060 3c6e 616d 653e  ts after `<name>
+00013550: 6020 7573 696e 6720 436f 636f 6e75 7427  ` using Coconut'
+00013560: 7320 5b74 7970 6520 7061 7261 6d65 7465  s [type paramete
+00013570: 7220 7379 6e74 6178 5d28 2374 7970 652d  r syntax](#type-
+00013580: 7061 7261 6d65 7465 722d 7379 6e74 6178  parameter-syntax
+00013590: 292e 0d0a 0d0a 5772 6974 696e 6720 636f  ).....Writing co
+000135a0: 6e73 7472 7563 746f 7273 2066 6f72 2060  nstructors for `
+000135b0: 6461 7461 6020 7479 7065 7320 6d75 7374  data` types must
+000135c0: 2062 6520 646f 6e65 2075 7369 6e67 2074   be done using t
+000135d0: 6865 2060 5f5f 6e65 775f 5f60 206d 6574  he `__new__` met
+000135e0: 686f 6420 696e 7374 6561 6420 6f66 2074  hod instead of t
+000135f0: 6865 2060 5f5f 696e 6974 5f5f 6020 6d65  he `__init__` me
+00013600: 7468 6f64 2e20 466f 7220 6865 6c70 696e  thod. For helpin
+00013610: 6720 746f 2065 6173 696c 7920 7772 6974  g to easily writ
+00013620: 6520 605f 5f6e 6577 5f5f 6020 6d65 7468  e `__new__` meth
+00013630: 6f64 732c 2043 6f63 6f6e 7574 2070 726f  ods, Coconut pro
+00013640: 7669 6465 7320 7468 6520 5b6d 616b 6564  vides the [maked
+00013650: 6174 615d 2823 6d61 6b65 6461 7461 2920  ata](#makedata) 
+00013660: 6275 696c 742d 696e 2e0d 0a0d 0a53 7562  built-in.....Sub
+00013670: 636c 6173 7369 6e67 2060 6461 7461 6020  classing `data` 
+00013680: 7479 7065 7320 6361 6e20 6265 2064 6f6e  types can be don
+00013690: 6520 6561 7369 6c79 2062 7920 696e 6865  e easily by inhe
+000136a0: 7269 7469 6e67 2066 726f 6d20 7468 656d  riting from them
+000136b0: 2065 6974 6865 7220 696e 2061 6e6f 7468   either in anoth
+000136c0: 6572 2060 6461 7461 6020 7374 6174 656d  er `data` statem
+000136d0: 656e 7420 6f72 2061 206e 6f72 6d61 6c20  ent or a normal 
+000136e0: 5079 7468 6f6e 2060 636c 6173 7360 2e20  Python `class`. 
+000136f0: 4966 2061 206e 6f72 6d61 6c20 6063 6c61  If a normal `cla
+00013700: 7373 6020 7374 6174 656d 656e 7420 6973  ss` statement is
+00013710: 2075 7365 642c 206d 616b 696e 6720 7468   used, making th
+00013720: 6520 6e65 7720 7375 6263 6c61 7373 2069  e new subclass i
+00013730: 6d6d 7574 6162 6c65 2077 696c 6c20 7265  mmutable will re
+00013740: 7175 6972 6520 6164 6469 6e67 2074 6865  quire adding the
+00013750: 206c 696e 650d 0a60 6060 636f 636f 6e75   line..```coconu
+00013760: 740d 0a5f 5f73 6c6f 7473 5f5f 203d 2028  t..__slots__ = (
+00013770: 290d 0a60 6060 0d0a 7768 6963 6820 7769  )..```..which wi
+00013780: 6c6c 206e 6565 6420 746f 2062 6520 7075  ll need to be pu
+00013790: 7420 696e 2074 6865 2073 7562 636c 6173  t in the subclas
+000137a0: 7320 626f 6479 2062 6566 6f72 6520 616e  s body before an
+000137b0: 7920 6d65 7468 6f64 206f 7220 6174 7472  y method or attr
+000137c0: 6962 7574 6520 6465 6669 6e69 7469 6f6e  ibute definition
+000137d0: 732e 2049 6620 796f 7520 6e65 6564 2074  s. If you need t
+000137e0: 6f20 696e 6865 7269 7420 6d61 6769 6320  o inherit magic 
+000137f0: 6d65 7468 6f64 7320 6672 6f6d 2061 2062  methods from a b
+00013800: 6173 6520 636c 6173 7320 696e 2079 6f75  ase class in you
+00013810: 7220 6064 6174 6160 2074 7970 652c 2073  r `data` type, s
+00013820: 7563 6820 7375 6263 6c61 7373 696e 6720  uch subclassing 
+00013830: 6973 2074 6865 2072 6563 6f6d 6d65 6e64  is the recommend
+00013840: 6564 206d 6574 686f 642c 2061 7320 7468  ed method, as th
+00013850: 6520 6064 6174 6120 2e2e 2e20 6672 6f6d  e `data ... from
+00013860: 202e 2e2e 6020 7379 6e74 6178 2077 696c   ...` syntax wil
+00013870: 6c20 6f76 6572 7772 6974 6520 616e 7920  l overwrite any 
+00013880: 6d61 6769 6320 6d65 7468 6f64 7320 696e  magic methods in
+00013890: 2074 6865 2062 6173 6520 636c 6173 7320   the base class 
+000138a0: 7769 7468 206d 6167 6963 206d 6574 686f  with magic metho
+000138b0: 6473 2062 7569 6c74 2066 6f72 2074 6865  ds built for the
+000138c0: 206e 6577 2060 6461 7461 6020 7479 7065   new `data` type
+000138d0: 2e0d 0a0d 0a43 6f6d 7061 7265 6420 746f  .....Compared to
+000138e0: 205b 606e 616d 6564 7475 706c 6560 735d   [`namedtuple`s]
+000138f0: 2823 616e 6f6e 796d 6f75 732d 6e61 6d65  (#anonymous-name
+00013900: 6474 7570 6c65 7329 2c20 6672 6f6d 2077  dtuples), from w
+00013910: 6869 6368 2060 6461 7461 6020 7479 7065  hich `data` type
+00013920: 7320 6172 6520 6465 7269 7665 642c 2060  s are derived, `
+00013930: 6461 7461 6020 7479 7065 733a 0d0a 0d0a  data` types:....
+00013940: 2d20 7573 6520 7479 7065 6420 6571 7561  - use typed equa
+00013950: 6c69 7479 2c0d 0a2d 2064 6f6e 2774 2073  lity,..- don't s
+00013960: 7570 706f 7274 2074 7570 6c65 2061 6464  upport tuple add
+00013970: 6974 696f 6e20 6f72 206d 756c 7469 706c  ition or multipl
+00013980: 6963 6174 696f 6e20 2875 6e6c 6573 7320  ication (unless 
+00013990: 6578 706c 6963 6974 6c79 2064 6566 696e  explicitly defin
+000139a0: 6564 2076 6961 2073 7065 6369 616c 206d  ed via special m
+000139b0: 6574 686f 6473 2069 6e20 7468 6520 6064  ethods in the `d
+000139c0: 6174 6160 2062 6f64 7929 2c0d 0a2d 2073  ata` body),..- s
+000139d0: 7570 706f 7274 2073 7461 7272 6564 2c20  upport starred, 
+000139e0: 7479 7065 642c 2061 6e64 205b 7061 7474  typed, and [patt
+000139f0: 6572 6e2d 6d61 7463 6869 6e67 5d28 236d  ern-matching](#m
+00013a00: 6174 6368 2d64 6174 6129 2061 7267 756d  atch-data) argum
+00013a10: 656e 7473 2c20 616e 640d 0a2d 2068 6176  ents, and..- hav
+00013a20: 6520 7370 6563 6961 6c20 5b70 6174 7465  e special [patte
+00013a30: 726e 2d6d 6174 6368 696e 675d 2823 6d61  rn-matching](#ma
+00013a40: 7463 6829 2062 6568 6176 696f 722e 0d0a  tch) behavior...
+00013a50: 0d0a 4c69 6b65 205b 606e 616d 6564 7475  ..Like [`namedtu
+00013a60: 706c 6560 735d 2868 7474 7073 3a2f 2f64  ple`s](https://d
+00013a70: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+00013a80: 2f6c 6962 7261 7279 2f63 6f6c 6c65 6374  /library/collect
+00013a90: 696f 6e73 2e68 746d 6c23 6e61 6d65 6474  ions.html#namedt
+00013aa0: 7570 6c65 2d66 6163 746f 7279 2d66 756e  uple-factory-fun
+00013ab0: 6374 696f 6e2d 666f 722d 7475 706c 6573  ction-for-tuples
+00013ac0: 2d77 6974 682d 6e61 6d65 642d 6669 656c  -with-named-fiel
+00013ad0: 6473 292c 2060 6461 7461 6020 7479 7065  ds), `data` type
+00013ae0: 7320 616c 736f 2073 7570 706f 7274 2061  s also support a
+00013af0: 2076 6172 6965 7479 206f 6620 6578 7472   variety of extr
+00013b00: 6120 6d65 7468 6f64 732c 2073 7563 6820  a methods, such 
+00013b10: 6173 205b 602e 5f61 7364 6963 7428 2960  as [`._asdict()`
+00013b20: 5d28 6874 7470 733a 2f2f 646f 6373 2e70  ](https://docs.p
+00013b30: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+00013b40: 6172 792f 636f 6c6c 6563 7469 6f6e 732e  ary/collections.
+00013b50: 6874 6d6c 2363 6f6c 6c65 6374 696f 6e73  html#collections
+00013b60: 2e73 6f6d 656e 616d 6564 7475 706c 652e  .somenamedtuple.
+00013b70: 5f61 7364 6963 7429 2061 6e64 205b 602e  _asdict) and [`.
+00013b80: 5f72 6570 6c61 6365 282a 2a6b 7761 7267  _replace(**kwarg
+00013b90: 7329 605d 2868 7474 7073 3a2f 2f64 6f63  s)`](https://doc
+00013ba0: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+00013bb0: 6962 7261 7279 2f63 6f6c 6c65 6374 696f  ibrary/collectio
+00013bc0: 6e73 2e68 746d 6c23 636f 6c6c 6563 7469  ns.html#collecti
+00013bd0: 6f6e 732e 736f 6d65 6e61 6d65 6474 7570  ons.somenamedtup
+00013be0: 6c65 2e5f 7265 706c 6163 6529 2e0d 0a0d  le._replace)....
+00013bf0: 0a23 2323 2323 2052 6174 696f 6e61 6c65  .##### Rationale
+00013c00: 0d0a 0d0a 4120 6d61 696e 7374 6179 206f  ....A mainstay o
+00013c10: 6620 6675 6e63 7469 6f6e 616c 2070 726f  f functional pro
+00013c20: 6772 616d 6d69 6e67 2074 6861 7420 436f  gramming that Co
+00013c30: 636f 6e75 7420 696d 7072 6f76 6573 2069  conut improves i
+00013c40: 6e20 5079 7468 6f6e 2069 7320 7468 6520  n Python is the 
+00013c50: 7573 6520 6f66 2076 616c 7565 732c 206f  use of values, o
+00013c60: 7220 696d 6d75 7461 626c 6520 6461 7461  r immutable data
+00013c70: 2074 7970 6573 2e20 496d 6d75 7461 626c   types. Immutabl
+00013c80: 6520 6461 7461 2063 616e 2062 6520 7665  e data can be ve
+00013c90: 7279 2075 7365 6675 6c20 6265 6361 7573  ry useful becaus
+00013ca0: 6520 6974 2067 7561 7261 6e74 6565 7320  e it guarantees 
+00013cb0: 7468 6174 206f 6e63 6520 796f 7520 6861  that once you ha
+00013cc0: 7665 2073 6f6d 6520 6461 7461 2069 7420  ve some data it 
+00013cd0: 776f 6e27 7420 6368 616e 6765 2c20 6275  won't change, bu
+00013ce0: 7420 696e 2050 7974 686f 6e20 6372 6561  t in Python crea
+00013cf0: 7469 6e67 2063 7573 746f 6d20 696d 6d75  ting custom immu
+00013d00: 7461 626c 6520 6461 7461 2074 7970 6573  table data types
+00013d10: 2069 7320 6469 6666 6963 756c 742e 2043   is difficult. C
+00013d20: 6f63 6f6e 7574 206d 616b 6573 2069 7420  oconut makes it 
+00013d30: 7665 7279 2065 6173 7920 6279 2070 726f  very easy by pro
+00013d40: 7669 6469 6e67 2060 6461 7461 6020 626c  viding `data` bl
+00013d50: 6f63 6b73 2e0d 0a0d 0a23 2323 2323 2045  ocks.....##### E
+00013d60: 7861 6d70 6c65 730d 0a0d 0a2a 2a43 6f63  xamples....**Coc
+00013d70: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+00013d80: 6e75 740d 0a64 6174 6120 7665 6374 6f72  nut..data vector
+00013d90: 3228 783a 696e 743d 302c 2079 3a69 6e74  2(x:int=0, y:int
+00013da0: 3d30 293a 0d0a 2020 2020 6465 6620 5f5f  =0):..    def __
+00013db0: 6162 735f 5f28 7365 6c66 293a 0d0a 2020  abs__(self):..  
+00013dc0: 2020 2020 2020 7265 7475 726e 2028 7365        return (se
+00013dd0: 6c66 2e78 2a2a 3220 2b20 7365 6c66 2e79  lf.x**2 + self.y
+00013de0: 2a2a 3229 2a2a 2e35 0d0a 0d0a 7620 3d20  **2)**.5....v = 
+00013df0: 7665 6374 6f72 3228 332c 2034 290d 0a76  vector2(3, 4)..v
+00013e00: 207c 3e20 7072 696e 7420 2023 2061 6c6c   |> print  # all
+00013e10: 2064 6174 6120 7479 7065 7320 636f 6d65   data types come
+00013e20: 2077 6974 6820 6120 6275 696c 742d 696e   with a built-in
+00013e30: 205f 5f72 6570 725f 5f0d 0a76 207c 3e20   __repr__..v |> 
+00013e40: 6162 7320 7c3e 2070 7269 6e74 0d0a 762e  abs |> print..v.
+00013e50: 7820 3d20 3220 2023 2074 6869 7320 7769  x = 2  # this wi
+00013e60: 6c6c 2066 6169 6c20 6265 6361 7573 6520  ll fail because 
+00013e70: 6461 7461 206f 626a 6563 7473 2061 7265  data objects are
+00013e80: 2069 6d6d 7574 6162 6c65 0d0a 7665 6374   immutable..vect
+00013e90: 6f72 3228 2920 7c3e 2070 7269 6e74 0d0a  or2() |> print..
+00013ea0: 6060 600d 0a5f 5368 6f77 6361 7365 7320  ```.._Showcases 
+00013eb0: 7468 6520 7379 6e74 6178 2c20 6665 6174  the syntax, feat
+00013ec0: 7572 6573 2c20 616e 6420 696d 6d75 7461  ures, and immuta
+00013ed0: 626c 6520 6e61 7475 7265 206f 6620 6064  ble nature of `d
+00013ee0: 6174 6160 2074 7970 6573 2c20 6173 2077  ata` types, as w
+00013ef0: 656c 6c20 6173 2074 6865 2075 7365 206f  ell as the use o
+00013f00: 6620 6465 6661 756c 7420 6172 6775 6d65  f default argume
+00013f10: 6e74 7320 616e 6420 7479 7065 2061 6e6e  nts and type ann
+00013f20: 6f74 6174 696f 6e73 2e5f 0d0a 0d0a 6060  otations._....``
+00013f30: 6063 6f63 6f6e 7574 0d0a 6461 7461 2045  `coconut..data E
+00013f40: 6d70 7479 2829 0d0a 6461 7461 204c 6561  mpty()..data Lea
+00013f50: 6628 6e29 0d0a 6461 7461 204e 6f64 6528  f(n)..data Node(
+00013f60: 6c2c 2072 290d 0a0d 0a64 6566 2073 697a  l, r)....def siz
+00013f70: 6528 456d 7074 7928 2929 203d 2030 0d0a  e(Empty()) = 0..
+00013f80: 0d0a 6164 6470 6174 7465 726e 2064 6566  ..addpattern def
+00013f90: 2073 697a 6528 4c65 6166 286e 2929 203d   size(Leaf(n)) =
+00013fa0: 2031 0d0a 0d0a 6164 6470 6174 7465 726e   1....addpattern
+00013fb0: 2064 6566 2073 697a 6528 4e6f 6465 286c   def size(Node(l
+00013fc0: 2c20 7229 2920 3d20 7369 7a65 286c 2920  , r)) = size(l) 
+00013fd0: 2b20 7369 7a65 2872 290d 0a0d 0a73 697a  + size(r)....siz
+00013fe0: 6528 4e6f 6465 2845 6d70 7479 2829 2c20  e(Node(Empty(), 
+00013ff0: 4c65 6166 2831 3029 2929 203d 3d20 310d  Leaf(10))) == 1.
+00014000: 0a60 6060 0d0a 5f53 686f 7763 6173 6573  .```.._Showcases
+00014010: 2074 6865 2061 6c67 6562 7261 6963 206e   the algebraic n
+00014020: 6174 7572 6520 6f66 2060 6461 7461 6020  ature of `data` 
+00014030: 7479 7065 7320 7768 656e 2063 6f6d 6269  types when combi
+00014040: 6e65 6420 7769 7468 2070 6174 7465 726e  ned with pattern
+00014050: 2d6d 6174 6368 696e 672e 5f0d 0a0d 0a60  -matching._....`
+00014060: 6060 636f 636f 6e75 740d 0a64 6174 6120  ``coconut..data 
+00014070: 7665 6374 6f72 282a 7074 7329 3a0d 0a20  vector(*pts):.. 
+00014080: 2020 2022 2222 496d 6d75 7461 626c 6520     """Immutable 
+00014090: 6172 6269 7472 6172 792d 6c65 6e67 7468  arbitrary-length
+000140a0: 2076 6563 746f 722e 2222 220d 0a0d 0a20   vector.""".... 
+000140b0: 2020 2064 6566 205f 5f61 6273 5f5f 2873     def __abs__(s
+000140c0: 656c 6629 203d 0d0a 2020 2020 2020 2020  elf) =..        
+000140d0: 7365 6c66 2e70 7473 207c 3e20 6d61 7024  self.pts |> map$
+000140e0: 2870 6f77 2428 3f2c 2032 2929 207c 3e20  (pow$(?, 2)) |> 
+000140f0: 7375 6d20 7c3e 2070 6f77 2428 3f2c 2030  sum |> pow$(?, 0
+00014100: 2e35 290d 0a0d 0a20 2020 2064 6566 205f  .5)....    def _
+00014110: 5f61 6464 5f5f 2873 656c 662c 206f 7468  _add__(self, oth
+00014120: 6572 2920 3d0d 0a20 2020 2020 2020 2076  er) =..        v
+00014130: 6563 746f 7228 2a6f 7468 6572 5f70 7473  ector(*other_pts
+00014140: 2920 3d20 6f74 6865 720d 0a20 2020 2020  ) = other..     
+00014150: 2020 2061 7373 6572 7420 6c65 6e28 6f74     assert len(ot
+00014160: 6865 725f 7074 7329 203d 3d20 6c65 6e28  her_pts) == len(
+00014170: 7365 6c66 2e70 7473 290d 0a20 2020 2020  self.pts)..     
+00014180: 2020 206d 6170 2828 2b29 2c20 7365 6c66     map((+), self
+00014190: 2e70 7473 2c20 6f74 6865 725f 7074 7329  .pts, other_pts)
+000141a0: 207c 2a3e 2076 6563 746f 720d 0a0d 0a20   |*> vector.... 
+000141b0: 2020 2064 6566 205f 5f6e 6567 5f5f 2873     def __neg__(s
+000141c0: 656c 6629 203d 0d0a 2020 2020 2020 2020  elf) =..        
+000141d0: 7365 6c66 2e70 7473 207c 3e20 6d61 7024  self.pts |> map$
+000141e0: 2828 2d29 2920 7c2a 3e20 7665 6374 6f72  ((-)) |*> vector
+000141f0: 0d0a 0d0a 2020 2020 6465 6620 5f5f 7375  ....    def __su
+00014200: 625f 5f28 7365 6c66 2c20 6f74 6865 7229  b__(self, other)
+00014210: 203d 0d0a 2020 2020 2020 2020 7365 6c66   =..        self
+00014220: 202b 202d 6f74 6865 720d 0a60 6060 0d0a   + -other..```..
+00014230: 5f53 686f 7763 6173 6573 2073 7461 7272  _Showcases starr
+00014240: 6564 2060 6461 7461 6020 6465 636c 6172  ed `data` declar
+00014250: 6174 696f 6e2e 5f0d 0a0d 0a2a 2a50 7974  ation._....**Pyt
+00014260: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+00014270: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+00014280: 2073 6572 6965 7320 6f66 206d 6574 686f   series of metho
+00014290: 6420 6465 6669 6e69 7469 6f6e 7320 666f  d definitions fo
+000142a0: 7220 6561 6368 2064 6174 6120 7479 7065  r each data type
+000142b0: 2e20 5365 6520 7468 6520 636f 6d70 696c  . See the compil
+000142c0: 6564 2063 6f64 6520 666f 7220 7468 6520  ed code for the 
+000142d0: 5079 7468 6f6e 2073 796e 7461 782e 5f0d  Python syntax._.
+000142e0: 0a0d 0a23 2323 2320 606d 6174 6368 2064  ...#### `match d
+000142f0: 6174 6160 0d0a 0d0a 496e 2061 6464 6974  ata`....In addit
+00014300: 696f 6e20 746f 206e 6f72 6d61 6c20 6064  ion to normal `d
+00014310: 6174 6160 2073 7461 7465 6d65 6e74 732c  ata` statements,
+00014320: 2043 6f63 6f6e 7574 2061 6c73 6f20 7375   Coconut also su
+00014330: 7070 6f72 7473 2070 6174 7465 726e 2d6d  pports pattern-m
+00014340: 6174 6368 696e 6720 6461 7461 2073 7461  atching data sta
+00014350: 7465 6d65 6e74 7320 7468 6174 2065 6e61  tements that ena
+00014360: 626c 6520 7468 6520 7573 6520 6f66 2043  ble the use of C
+00014370: 6f63 6f6e 7574 2773 2070 6174 7465 726e  oconut's pattern
+00014380: 2d6d 6174 6368 696e 6720 7379 6e74 6178  -matching syntax
+00014390: 2074 6f20 6465 6669 6e65 2074 6865 2064   to define the d
+000143a0: 6174 6120 7479 7065 2773 2063 6f6e 7374  ata type's const
+000143b0: 7275 6374 6f72 2e20 5061 7474 6572 6e2d  ructor. Pattern-
+000143c0: 6d61 7463 6869 6e67 2064 6174 6120 7479  matching data ty
+000143d0: 7065 7320 6c6f 6f6b 206c 696b 650d 0a60  pes look like..`
+000143e0: 6060 0d0a 5b6d 6174 6368 5d20 6461 7461  ``..[match] data
+000143f0: 203c 6e61 6d65 3e28 3c70 6174 7465 726e   <name>(<pattern
+00014400: 733e 2920 5b66 726f 6d20 3c62 6173 6520  s>) [from <base 
+00014410: 636c 6173 733e 5d3a 0d0a 2020 2020 3c62  class>]:..    <b
+00014420: 6f64 793e 0d0a 6060 600d 0a77 6865 7265  ody>..```..where
+00014430: 2060 3c70 6174 7465 726e 733e 6020 6172   `<patterns>` ar
+00014440: 6520 6578 6163 746c 7920 6173 2069 6e20  e exactly as in 
+00014450: 5b70 6174 7465 726e 2d6d 6174 6368 696e  [pattern-matchin
+00014460: 6720 6675 6e63 7469 6f6e 735d 2823 7061  g functions](#pa
+00014470: 7474 6572 6e2d 6d61 7463 6869 6e67 2d66  ttern-matching-f
+00014480: 756e 6374 696f 6e73 292e 0d0a 0d0a 4974  unctions).....It
+00014490: 2069 7320 696d 706f 7274 616e 7420 746f   is important to
+000144a0: 206b 6565 7020 696e 206d 696e 6420 7468   keep in mind th
+000144b0: 6174 2070 6174 7465 726e 2d6d 6174 6368  at pattern-match
+000144c0: 696e 6720 6461 7461 2074 7970 6573 2076  ing data types v
+000144d0: 6172 7920 6672 6f6d 206e 6f72 6d61 6c20  ary from normal 
+000144e0: 6461 7461 2074 7970 6573 2069 6e20 6120  data types in a 
+000144f0: 7661 7269 6574 7920 6f66 2077 6179 732e  variety of ways.
+00014500: 2046 6972 7374 2c20 6c69 6b65 2070 6174   First, like pat
+00014510: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
+00014520: 6e63 7469 6f6e 732c 2074 6865 7920 7261  nctions, they ra
+00014530: 6973 6520 5b60 4d61 7463 6845 7272 6f72  ise [`MatchError
+00014540: 605d 2823 6d61 7463 6865 7272 6f72 2920  `](#matcherror) 
+00014550: 696e 7374 6561 6420 6f66 2060 5479 7065  instead of `Type
+00014560: 4572 726f 7260 2077 6865 6e20 7061 7373  Error` when pass
+00014570: 6564 2074 6865 2077 726f 6e67 2061 7267  ed the wrong arg
+00014580: 756d 656e 7473 2e20 5365 636f 6e64 2c20  uments. Second, 
+00014590: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+000145a0: 2064 6174 6120 7479 7065 7320 7769 6c6c   data types will
+000145b0: 206e 6f74 2064 6f20 616e 7920 7370 6563   not do any spec
+000145c0: 6961 6c20 6861 6e64 6c69 6e67 206f 6620  ial handling of 
+000145d0: 7374 6172 7265 6420 6172 6775 6d65 6e74  starred argument
+000145e0: 732e 2054 6875 732c 0d0a 6060 600d 0a64  s. Thus,..```..d
+000145f0: 6174 6120 7665 6328 2a78 7329 0d0a 6060  ata vec(*xs)..``
+00014600: 600d 0a77 6865 6e20 6974 6572 6174 6564  `..when iterated
+00014610: 206f 7665 7220 7769 6c6c 2069 7465 7261   over will itera
+00014620: 7465 206f 7665 7220 616c 6c20 7468 6520  te over all the 
+00014630: 656c 656d 656e 7473 206f 6620 6078 7360  elements of `xs`
+00014640: 2c20 6275 740d 0a60 6060 0d0a 6d61 7463  , but..```..matc
+00014650: 6820 6461 7461 2076 6563 282a 7873 290d  h data vec(*xs).
+00014660: 0a60 6060 0d0a 7768 656e 2069 7465 7261  .```..when itera
+00014670: 7465 6420 6f76 6572 2077 696c 6c20 6f6e  ted over will on
+00014680: 6c79 2067 6976 6520 7468 6520 7369 6e67  ly give the sing
+00014690: 6c65 2065 6c65 6d65 6e74 2060 7873 602e  le element `xs`.
+000146a0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+000146b0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+000146c0: 2a0d 0a60 6060 0d0a 6461 7461 206e 616d  *..```..data nam
+000146d0: 6564 7074 286e 616d 6520 6069 7369 6e73  edpt(name `isins
+000146e0: 7461 6e63 6560 2073 7472 2c20 7820 6069  tance` str, x `i
+000146f0: 7369 6e73 7461 6e63 6560 2069 6e74 2c20  sinstance` int, 
+00014700: 7920 6069 7369 6e73 7461 6e63 6560 2069  y `isinstance` i
+00014710: 6e74 293a 0d0a 2020 2020 6465 6620 6d61  nt):..    def ma
+00014720: 6728 7365 6c66 2920 3d20 2873 656c 662e  g(self) = (self.
+00014730: 782a 2a32 202b 2073 656c 662e 792a 2a32  x**2 + self.y**2
+00014740: 292a 2a30 2e35 0d0a 6060 600d 0a0d 0a2a  )**0.5..```....*
+00014750: 2a50 7974 686f 6e3a 2a2a 0d0a 5f43 616e  *Python:**.._Can
+00014760: 2774 2062 6520 646f 6e65 2077 6974 686f  't be done witho
+00014770: 7574 2061 2073 6572 6965 7320 6f66 206d  ut a series of m
+00014780: 6574 686f 6420 6465 6669 6e69 7469 6f6e  ethod definition
+00014790: 7320 666f 7220 6561 6368 2064 6174 6120  s for each data 
+000147a0: 7479 7065 2e20 5365 6520 7468 6520 636f  type. See the co
+000147b0: 6d70 696c 6564 2063 6f64 6520 666f 7220  mpiled code for 
+000147c0: 7468 6520 5079 7468 6f6e 2073 796e 7461  the Python synta
+000147d0: 782e 5f0d 0a0d 0a23 2323 2060 7768 6572  x._....### `wher
+000147e0: 6560 0d0a 0d0a 436f 636f 6e75 7427 7320  e`....Coconut's 
+000147f0: 6077 6865 7265 6020 7374 6174 656d 656e  `where` statemen
+00014800: 7420 6973 2065 7874 7265 6d65 6c79 2073  t is extremely s
+00014810: 7472 6169 6768 7466 6f72 7761 7264 2e20  traightforward. 
+00014820: 5468 6520 7379 6e74 6178 2066 6f72 2061  The syntax for a
+00014830: 2060 7768 6572 6560 2073 7461 7465 6d65   `where` stateme
+00014840: 6e74 2069 7320 6a75 7374 0d0a 6060 600d  nt is just..```.
+00014850: 0a3c 7374 6d74 3e20 7768 6572 653a 0d0a  .<stmt> where:..
+00014860: 2020 2020 3c62 6f64 793e 0d0a 6060 600d      <body>..```.
+00014870: 0a77 6869 6368 206a 7573 7420 6578 6563  .which just exec
+00014880: 7574 6573 2060 3c62 6f64 793e 6020 666f  utes `<body>` fo
+00014890: 6c6c 6f77 6564 2062 7920 603c 7374 6d74  llowed by `<stmt
+000148a0: 3e60 2e0d 0a0d 0a23 2323 2323 2045 7861  >`.....##### Exa
+000148b0: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
+000148c0: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
+000148d0: 0d0a 6320 3d20 6120 2b20 6220 7768 6572  ..c = a + b wher
+000148e0: 653a 0d0a 2020 2020 6120 3d20 310d 0a20  e:..    a = 1.. 
+000148f0: 2020 2062 203d 2032 0d0a 6060 600d 0a0d     b = 2..```...
+00014900: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+00014910: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+00014920: 0a61 203d 2031 0d0a 6220 3d20 320d 0a63  .a = 1..b = 2..c
+00014930: 203d 2061 202b 2062 0d0a 6060 600d 0a0d   = a + b..```...
+00014940: 0a23 2323 2060 6173 796e 6320 7769 7468  .### `async with
+00014950: 2066 6f72 600d 0a0d 0a49 6e20 6d6f 6465   for`....In mode
+00014960: 726e 2050 7974 686f 6e20 6061 7379 6e63  rn Python `async
+00014970: 6020 636f 6465 2c20 7375 6368 2061 7320  ` code, such as 
+00014980: 7768 656e 2075 7369 6e67 205b 6063 6f6e  when using [`con
+00014990: 7465 7874 6c69 622e 6163 6c6f 7369 6e67  textlib.aclosing
+000149a0: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+000149b0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+000149c0: 7261 7279 2f63 6f6e 7465 7874 6c69 622e  rary/contextlib.
+000149d0: 6874 6d6c 2363 6f6e 7465 7874 6c69 622e  html#contextlib.
+000149e0: 6163 6c6f 7369 6e67 292c 2069 7420 6973  aclosing), it is
+000149f0: 206f 6674 656e 2072 6563 6f6d 6d65 6e64   often recommend
+00014a00: 6564 2074 6f20 7573 6520 6120 7061 7474  ed to use a patt
+00014a10: 6572 6e20 6c69 6b65 0d0a 6060 6063 6f63  ern like..```coc
+00014a20: 6f6e 7574 5f70 7974 686f 6e0d 0a61 7379  onut_python..asy
+00014a30: 6e63 2077 6974 6820 6163 6c6f 7369 6e67  nc with aclosing
+00014a40: 286d 795f 6765 6e65 7261 746f 7228 2929  (my_generator())
+00014a50: 2061 7320 7661 6c75 6573 3a0d 0a20 2020   as values:..   
+00014a60: 2061 7379 6e63 2066 6f72 2076 616c 7565   async for value
+00014a70: 2069 6e20 7661 6c75 6573 3a0d 0a20 2020   in values:..   
+00014a80: 2020 2020 202e 2e2e 0d0a 6060 600d 0a73       .....```..s
+00014a90: 696e 6365 2069 7420 6973 2073 7562 7374  ince it is subst
+00014aa0: 616e 7469 616c 6c79 2073 6166 6572 2074  antially safer t
+00014ab0: 6861 6e20 7468 6520 6d6f 7265 2073 796e  han the more syn
+00014ac0: 7461 6374 6963 616c 6c79 2073 7472 6169  tactically strai
+00014ad0: 6768 7466 6f72 7761 7264 0d0a 6060 6063  ghtforward..```c
+00014ae0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a61  oconut_python..a
+00014af0: 7379 6e63 2066 6f72 2076 616c 7565 2069  sync for value i
+00014b00: 6e20 6d79 5f67 656e 6572 6174 6f72 2829  n my_generator()
+00014b10: 3a0d 0a20 2020 202e 2e2e 0d0a 6060 600d  :..    .....```.
+00014b20: 0a0d 0a54 6869 7320 6973 2065 7370 6563  ...This is espec
+00014b30: 6961 6c6c 7920 7472 7565 2077 6865 6e20  ially true when 
+00014b40: 7573 696e 6720 5b60 7472 696f 605d 2868  using [`trio`](h
+00014b50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00014b60: 6d2f 7079 7468 6f6e 2d74 7269 6f2f 7472  m/python-trio/tr
+00014b70: 696f 292c 2077 6869 6368 205b 636f 6d70  io), which [comp
+00014b80: 6c65 7465 6c79 2064 6973 616c 6c6f 7773  letely disallows
+00014b90: 2069 7465 7261 7469 6e67 206f 7665 7220   iterating over 
+00014ba0: 6061 7379 6e63 6020 6765 6e65 7261 746f  `async` generato
+00014bb0: 7273 2077 6974 6820 6061 7379 6e63 2066  rs with `async f
+00014bc0: 6f72 605d 2868 7474 7073 3a2f 2f64 6973  or`](https://dis
+00014bd0: 6375 7373 2e70 7974 686f 6e2e 6f72 672f  cuss.python.org/
+00014be0: 742f 7072 6576 656e 7469 6e67 2d79 6965  t/preventing-yie
+00014bf0: 6c64 2d69 6e73 6964 652d 6365 7274 6169  ld-inside-certai
+00014c00: 6e2d 636f 6e74 6578 742d 6d61 6e61 6765  n-context-manage
+00014c10: 7273 2f31 3039 3129 2c20 696e 7374 6561  rs/1091), instea
+00014c20: 6420 7265 7175 6972 696e 6720 7468 6520  d requiring the 
+00014c30: 6162 6f76 6520 6061 7379 6e63 2077 6974  above `async wit
+00014c40: 6820 2e2e 2e20 6173 796e 6320 666f 7260  h ... async for`
+00014c50: 2070 6174 7465 726e 2075 7369 6e67 2075   pattern using u
+00014c60: 7469 6c69 7469 6573 2073 7563 6820 6173  tilities such as
+00014c70: 205b 6074 7269 6f5f 7574 696c 2e74 7269   [`trio_util.tri
+00014c80: 6f5f 6173 796e 635f 6765 6e65 7261 746f  o_async_generato
+00014c90: 7260 5d28 6874 7470 733a 2f2f 7472 696f  r`](https://trio
+00014ca0: 2d75 7469 6c2e 7265 6164 7468 6564 6f63  -util.readthedoc
+00014cb0: 732e 696f 2f65 6e2f 6c61 7465 7374 2f23  s.io/en/latest/#
+00014cc0: 7472 696f 5f75 7469 6c2e 7472 696f 5f61  trio_util.trio_a
+00014cd0: 7379 6e63 5f67 656e 6572 6174 6f72 292e  sync_generator).
+00014ce0: 0d0a 0d0a 5369 6e63 6520 7468 6973 2070  ....Since this p
+00014cf0: 6174 7465 726e 2063 616e 206f 6674 656e  attern can often
+00014d00: 2062 6520 7175 6974 6520 7379 6e74 6163   be quite syntac
+00014d10: 7469 6361 6c6c 7920 6375 6d62 6572 736f  tically cumberso
+00014d20: 6d65 2c20 436f 636f 6e75 7420 7072 6f76  me, Coconut prov
+00014d30: 6964 6573 2074 6865 2073 686f 7274 6375  ides the shortcu
+00014d40: 7420 7379 6e74 6178 0d0a 6060 600d 0a61  t syntax..```..a
+00014d50: 7379 6e63 2077 6974 6820 666f 7220 6163  sync with for ac
+00014d60: 6c6f 7369 6e67 286d 795f 6765 6e65 7261  losing(my_genera
+00014d70: 746f 7228 2929 2061 7320 7661 6c75 6573  tor()) as values
+00014d80: 3a0d 0a20 2020 202e 2e2e 0d0a 6060 600d  :..    .....```.
+00014d90: 0a77 6869 6368 2063 6f6d 7069 6c65 7320  .which compiles 
+00014da0: 746f 2065 7861 6374 6c79 2074 6865 2070  to exactly the p
+00014db0: 6174 7465 726e 2061 626f 7665 2e0d 0a0d  attern above....
+00014dc0: 0a60 6173 796e 6320 7769 7468 2066 6f72  .`async with for
+00014dd0: 6020 616c 736f 205b 7375 7070 6f72 7473  ` also [supports
+00014de0: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+00014df0: 672c 206a 7573 7420 6c69 6b65 206e 6f72  g, just like nor
+00014e00: 6d61 6c20 436f 636f 6e75 7420 6066 6f72  mal Coconut `for
+00014e10: 6020 6c6f 6f70 735d 2823 6d61 7463 682d  ` loops](#match-
+00014e20: 666f 7229 2e0d 0a0d 0a23 2323 2323 2045  for).....##### E
+00014e30: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+00014e40: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00014e50: 7574 0d0a 6672 6f6d 2074 7269 6f5f 7574  ut..from trio_ut
+00014e60: 696c 2069 6d70 6f72 7420 7472 696f 5f61  il import trio_a
+00014e70: 7379 6e63 5f67 656e 6572 6174 6f72 0d0a  sync_generator..
+00014e80: 0d0a 4074 7269 6f5f 6173 796e 635f 6765  ..@trio_async_ge
+00014e90: 6e65 7261 746f 720d 0a61 7379 6e63 2064  nerator..async d
+00014ea0: 6566 206d 795f 6765 6e65 7261 746f 7228  ef my_generator(
+00014eb0: 293a 0d0a 2020 2020 2320 7969 656c 6420  ):..    # yield 
+00014ec0: 7661 6c75 6573 2c20 706f 7373 6962 6c79  values, possibly
+00014ed0: 2066 726f 6d20 6120 6e75 7273 6572 7920   from a nursery 
+00014ee0: 6f72 2063 616e 6365 6c20 7363 6f70 650d  or cancel scope.
+00014ef0: 0a20 2020 2023 202e 2e2e 0d0a 0d0a 6173  .    # .......as
+00014f00: 796e 6320 7769 7468 2066 6f72 2076 616c  ync with for val
+00014f10: 7565 2069 6e20 6d79 5f67 656e 6572 6174  ue in my_generat
+00014f20: 6f72 2829 3a0d 0a20 2020 2070 7269 6e74  or():..    print
+00014f30: 2876 616c 7565 290d 0a60 6060 0d0a 0d0a  (value)..```....
+00014f40: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+00014f50: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+00014f60: 6672 6f6d 2074 7269 6f5f 7574 696c 2069  from trio_util i
+00014f70: 6d70 6f72 7420 7472 696f 5f61 7379 6e63  mport trio_async
+00014f80: 5f67 656e 6572 6174 6f72 0d0a 0d0a 4074  _generator....@t
+00014f90: 7269 6f5f 6173 796e 635f 6765 6e65 7261  rio_async_genera
+00014fa0: 746f 720d 0a61 7379 6e63 2064 6566 206d  tor..async def m
+00014fb0: 795f 6765 6e65 7261 746f 7228 293a 0d0a  y_generator():..
+00014fc0: 2020 2020 2320 7969 656c 6420 7661 6c75      # yield valu
+00014fd0: 6573 2c20 706f 7373 6962 6c79 2066 726f  es, possibly fro
+00014fe0: 6d20 6120 6e75 7273 6572 7920 6f72 2063  m a nursery or c
+00014ff0: 616e 6365 6c20 7363 6f70 650d 0a20 2020  ancel scope..   
+00015000: 2023 202e 2e2e 0d0a 0d0a 6173 796e 6320   # .......async 
+00015010: 7769 7468 206d 795f 6765 6e65 7261 746f  with my_generato
+00015020: 7228 2920 6173 2061 6765 6e3a 0d0a 2020  r() as agen:..  
+00015030: 2020 6173 796e 6320 666f 7220 7661 6c75    async for valu
+00015040: 6520 696e 2061 6765 6e3a 0d0a 2020 2020  e in agen:..    
+00015050: 2020 2020 7072 696e 7428 7661 6c75 6529      print(value)
+00015060: 0d0a 6060 600d 0a0d 0a23 2323 2048 616e  ..```....### Han
+00015070: 646c 696e 6720 4b65 7977 6f72 642f 5661  dling Keyword/Va
+00015080: 7269 6162 6c65 204e 616d 6520 4f76 6572  riable Name Over
+00015090: 6c61 700d 0a0d 0a49 6e20 436f 636f 6e75  lap....In Coconu
+000150a0: 742c 2074 6865 2066 6f6c 6c6f 7769 6e67  t, the following
+000150b0: 206b 6579 776f 7264 7320 6172 6520 616c   keywords are al
+000150c0: 736f 2076 616c 6964 2076 6172 6961 626c  so valid variabl
+000150d0: 6520 6e61 6d65 733a 0d0a 2d20 6064 6174  e names:..- `dat
+000150e0: 6160 0d0a 2d20 606d 6174 6368 600d 0a2d  a`..- `match`..-
+000150f0: 2060 6361 7365 600d 0a2d 2060 6361 7365   `case`..- `case
+00015100: 7360 0d0a 2d20 6061 6464 7061 7474 6572  s`..- `addpatter
+00015110: 6e60 0d0a 2d20 6077 6865 7265 600d 0a2d  n`..- `where`..-
+00015120: 2060 6f70 6572 6174 6f72 600d 0a2d 2060   `operator`..- `
+00015130: 7468 656e 600d 0a2d 2060 cebb 6020 2861  then`..- `..` (a
+00015140: 205b 556e 6963 6f64 6520 616c 7465 726e   [Unicode altern
+00015150: 6174 6976 655d 2823 756e 6963 6f64 652d  ative](#unicode-
+00015160: 616c 7465 726e 6174 6976 6573 2920 666f  alternatives) fo
+00015170: 7220 606c 616d 6264 6160 290d 0a0d 0a57  r `lambda`)....W
+00015180: 6869 6c65 2043 6f63 6f6e 7574 2063 616e  hile Coconut can
+00015190: 2075 7375 616c 6c79 2064 6973 616d 6269   usually disambi
+000151a0: 6775 6174 6520 7468 6573 6520 7477 6f20  guate these two 
+000151b0: 7573 6520 6361 7365 732c 2073 7065 6369  use cases, speci
+000151c0: 616c 2073 796e 7461 7820 6973 2061 7661  al syntax is ava
+000151d0: 696c 6162 6c65 2066 6f72 2064 6973 616d  ilable for disam
+000151e0: 6269 6775 6174 696e 6720 7468 656d 2069  biguating them i
+000151f0: 6620 6e65 6365 7373 6172 792e 204e 6f74  f necessary. Not
+00015200: 6520 7468 6174 2c20 6966 2077 6861 7420  e that, if what 
+00015210: 796f 7527 7265 2077 7269 7469 6e67 2063  you're writing c
+00015220: 616e 2062 6520 696e 7465 7270 7265 7465  an be interprete
+00015230: 6420 6173 2076 616c 6964 2050 7974 686f  d as valid Pytho
+00015240: 6e20 332c 2043 6f63 6f6e 7574 2077 696c  n 3, Coconut wil
+00015250: 6c20 616c 7761 7973 2070 7265 6665 7220  l always prefer 
+00015260: 7468 6174 2069 6e74 6572 7072 6574 6174  that interpretat
+00015270: 696f 6e20 6279 2064 6566 6175 6c74 2e0d  ion by default..
+00015280: 0a0d 0a54 6f20 7370 6563 6966 7920 7468  ...To specify th
+00015290: 6174 2079 6f75 2077 616e 7420 6120 5f76  at you want a _v
+000152a0: 6172 6961 626c 655f 2c20 7072 6566 6978  ariable_, prefix
+000152b0: 2074 6865 206e 616d 6520 7769 7468 2061   the name with a
+000152c0: 2062 6163 6b73 6c61 7368 2061 7320 696e   backslash as in
+000152d0: 2060 5c64 6174 6160 2c20 616e 6420 746f   `\data`, and to
+000152e0: 2073 7065 6369 6679 2074 6861 7420 796f   specify that yo
+000152f0: 7520 7761 6e74 2061 205f 6b65 7977 6f72  u want a _keywor
+00015300: 645f 2c20 7072 6566 6978 2074 6865 206e  d_, prefix the n
+00015310: 616d 6520 7769 7468 2061 2063 6f6c 6f6e  ame with a colon
+00015320: 2061 7320 696e 2060 3a6d 6174 6368 602e   as in `:match`.
+00015330: 0d0a 0d0a 4164 6469 7469 6f6e 616c 6c79  ....Additionally
+00015340: 2c20 6261 636b 736c 6173 6820 7379 6e74  , backslash synt
+00015350: 6178 2066 6f72 2065 7363 6170 696e 6720  ax for escaping 
+00015360: 7661 7269 6162 6c65 206e 616d 6573 2063  variable names c
+00015370: 616e 2061 6c73 6f20 6265 2075 7365 6420  an also be used 
+00015380: 746f 2064 6973 7469 6e67 7569 7368 2062  to distinguish b
+00015390: 6574 7765 656e 2076 6172 6961 626c 6520  etween variable 
+000153a0: 6e61 6d65 7320 616e 6420 5b63 7573 746f  names and [custo
+000153b0: 6d20 6f70 6572 6174 6f72 735d 2823 6375  m operators](#cu
+000153c0: 7374 6f6d 2d6f 7065 7261 746f 7273 2920  stom-operators) 
+000153d0: 6173 2077 656c 6c20 6173 2065 7870 6c69  as well as expli
+000153e0: 6369 746c 7920 7369 676e 6966 7920 7468  citly signify th
+000153f0: 6174 2061 6e20 6173 7369 676e 6d65 6e74  at an assignment
+00015400: 2074 6f20 6120 6275 696c 742d 696e 2069   to a built-in i
+00015410: 7320 6465 7369 7261 626c 6520 746f 2064  s desirable to d
+00015420: 6973 6d69 7373 205b 602d 2d73 7472 6963  ismiss [`--stric
+00015430: 7460 2077 6172 6e69 6e67 735d 2823 7374  t` warnings](#st
+00015440: 7269 6374 2d6d 6f64 6529 2e0d 0a0d 0a46  rict-mode).....F
+00015450: 696e 616c 6c79 2c20 7375 6368 2064 6973  inally, such dis
+00015460: 616d 6269 6775 6174 696f 6e20 7379 6e74  ambiguation synt
+00015470: 6178 2063 616e 2061 6c73 6f20 6265 2068  ax can also be h
+00015480: 656c 7066 756c 2066 6f72 206c 6574 7469  elpful for letti
+00015490: 6e67 2073 796e 7461 7820 6869 6768 6c69  ng syntax highli
+000154a0: 6768 7465 7273 206b 6e6f 7720 7768 6174  ghters know what
+000154b0: 2079 6f75 2772 6520 646f 696e 672e 0d0a   you're doing...
+000154c0: 0d0a 2323 2323 2320 4578 616d 706c 6573  ..##### Examples
+000154d0: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+000154e0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 5c64  ..```coconut..\d
+000154f0: 6174 6120 3d20 350d 0a70 7269 6e74 285c  ata = 5..print(\
+00015500: 6461 7461 290d 0a60 6060 0d0a 0d0a 6060  data)..```....``
+00015510: 6063 6f63 6f6e 7574 0d0a 2320 7769 7468  `coconut..# with
+00015520: 6f75 7420 7468 6520 636f 6c6f 6e2c 2043  out the colon, C
+00015530: 6f63 6f6e 7574 2077 696c 6c20 696e 7465  oconut will inte
+00015540: 7270 7265 7420 7468 6973 2061 7320 7468  rpret this as th
+00015550: 6520 7661 6c69 6420 5079 7468 6f6e 206d  e valid Python m
+00015560: 6174 6368 5b78 2c20 795d 203d 2069 6e70  atch[x, y] = inp
+00015570: 7574 5f6c 6973 740d 0a3a 6d61 7463 6820  ut_list..:match 
+00015580: 5b78 2c20 795d 203d 2069 6e70 7574 5f6c  [x, y] = input_l
+00015590: 6973 740d 0a60 6060 0d0a 0d0a 2a2a 5079  ist..```....**Py
+000155a0: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+000155b0: 6e75 745f 7079 7468 6f6e 0d0a 6461 7461  nut_python..data
+000155c0: 203d 2035 0d0a 7072 696e 7428 6461 7461   = 5..print(data
+000155d0: 290d 0a60 6060 0d0a 0d0a 6060 6063 6f63  )..```....```coc
+000155e0: 6f6e 7574 5f70 7974 686f 6e0d 0a78 2c20  onut_python..x, 
+000155f0: 7920 3d20 696e 7075 745f 6c69 7374 0d0a  y = input_list..
+00015600: 6060 600d 0a0d 0a23 2320 4578 7072 6573  ```....## Expres
+00015610: 7369 6f6e 730d 0a0d 0a60 6060 7b63 6f6e  sions....```{con
+00015620: 7465 6e74 737d 0d0a 2d2d 2d0d 0a6c 6f63  tents}..---..loc
+00015630: 616c 3a0d 0a64 6570 7468 3a20 310d 0a2d  al:..depth: 1..-
+00015640: 2d2d 0d0a 6060 600d 0a0d 0a23 2323 2053  --..```....### S
+00015650: 7461 7465 6d65 6e74 204c 616d 6264 6173  tatement Lambdas
+00015660: 0d0a 0d0a 5468 6520 7374 6174 656d 656e  ....The statemen
+00015670: 7420 6c61 6d62 6461 2073 796e 7461 7820  t lambda syntax 
+00015680: 6973 2061 6e20 6578 7465 6e73 696f 6e20  is an extension 
+00015690: 6f66 2074 6865 205b 6e6f 726d 616c 206c  of the [normal l
+000156a0: 616d 6264 6120 7379 6e74 6178 5d28 236c  ambda syntax](#l
+000156b0: 616d 6264 6173 2920 746f 2073 7570 706f  ambdas) to suppo
+000156c0: 7274 2073 7461 7465 6d65 6e74 732c 206e  rt statements, n
+000156d0: 6f74 206a 7573 7420 6578 7072 6573 7369  ot just expressi
+000156e0: 6f6e 732e 0d0a 0d0a 5468 6520 7379 6e74  ons.....The synt
+000156f0: 6178 2066 6f72 2061 2073 7461 7465 6d65  ax for a stateme
+00015700: 6e74 206c 616d 6264 6120 6973 0d0a 6060  nt lambda is..``
+00015710: 600d 0a5b 6173 796e 637c 6d61 7463 687c  `..[async|match|
+00015720: 636f 7079 636c 6f73 7572 655d 2064 6566  copyclosure] def
+00015730: 2028 6172 6775 6d65 6e74 7329 203d 3e20   (arguments) => 
+00015740: 7374 6174 656d 656e 743b 2073 7461 7465  statement; state
+00015750: 6d65 6e74 3b20 2e2e 2e0d 0a60 6060 0d0a  ment; .....```..
+00015760: 7768 6572 6520 6061 7267 756d 656e 7473  where `arguments
+00015770: 6020 6361 6e20 6265 2073 7461 6e64 6172  ` can be standar
+00015780: 6420 6675 6e63 7469 6f6e 2061 7267 756d  d function argum
+00015790: 656e 7473 206f 7220 5b70 6174 7465 726e  ents or [pattern
+000157a0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+000157b0: 6f6e 2064 6566 696e 6974 696f 6e5d 2823  on definition](#
+000157c0: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+000157d0: 2d66 756e 6374 696f 6e73 2920 6172 6775  -functions) argu
+000157e0: 6d65 6e74 7320 616e 6420 6073 7461 7465  ments and `state
+000157f0: 6d65 6e74 6020 6361 6e20 6265 2061 6e20  ment` can be an 
+00015800: 6173 7369 676e 6d65 6e74 2073 7461 7465  assignment state
+00015810: 6d65 6e74 206f 7220 6120 6b65 7977 6f72  ment or a keywor
+00015820: 6420 7374 6174 656d 656e 742e 204e 6f74  d statement. Not
+00015830: 6520 7468 6174 2074 6865 2060 6173 796e  e that the `asyn
+00015840: 6360 2c20 606d 6174 6368 602c 2061 6e64  c`, `match`, and
+00015850: 205b 6063 6f70 7963 6c6f 7375 7265 605d   [`copyclosure`]
+00015860: 2823 636f 7079 636c 6f73 7572 652d 6675  (#copyclosure-fu
+00015870: 6e63 7469 6f6e 7329 206b 6579 776f 7264  nctions) keyword
+00015880: 7320 6361 6e20 6265 2063 6f6d 6269 6e65  s can be combine
+00015890: 6420 616e 6420 6361 6e20 6265 2069 6e20  d and can be in 
+000158a0: 616e 7920 6f72 6465 722e 0d0a 0d0a 4966  any order.....If
+000158b0: 2074 6865 206c 6173 7420 6073 7461 7465   the last `state
+000158c0: 6d65 6e74 6020 286e 6f74 2066 6f6c 6c6f  ment` (not follo
+000158d0: 7765 6420 6279 2061 2073 656d 6963 6f6c  wed by a semicol
+000158e0: 6f6e 2920 696e 2061 2073 7461 7465 6d65  on) in a stateme
+000158f0: 6e74 206c 616d 6264 6120 6973 2061 6e20  nt lambda is an 
+00015900: 6065 7870 7265 7373 696f 6e60 2c20 6974  `expression`, it
+00015910: 2077 696c 6c20 6175 746f 6d61 7469 6361   will automatica
+00015920: 6c6c 7920 6265 2072 6574 7572 6e65 642e  lly be returned.
+00015930: 0d0a 0d0a 5374 6174 656d 656e 7420 6c61  ....Statement la
+00015940: 6d62 6461 7320 616c 736f 2073 7570 706f  mbdas also suppo
+00015950: 7274 2069 6d70 6c69 6369 7420 6c61 6d62  rt implicit lamb
+00015960: 6461 2073 796e 7461 7820 7375 6368 2074  da syntax such t
+00015970: 6861 7420 6064 6566 203d 3e20 5f60 2069  hat `def => _` i
+00015980: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+00015990: 6064 6566 2028 5f3d 4e6f 6e65 2920 3d3e  `def (_=None) =>
+000159a0: 205f 6020 6173 2077 656c 6c20 6173 2065   _` as well as e
+000159b0: 7870 6c69 6369 746c 7920 6d61 726b 696e  xplicitly markin
+000159c0: 6720 7468 656d 2061 7320 7061 7474 6572  g them as patter
+000159d0: 6e2d 6d61 7463 6869 6e67 2073 7563 6820  n-matching such 
+000159e0: 7468 6174 2060 6d61 7463 6820 6465 6620  that `match def 
+000159f0: 2878 2920 3d3e 2078 6020 7769 6c6c 2062  (x) => x` will b
+00015a00: 6520 6120 7061 7474 6572 6e2d 6d61 7463  e a pattern-matc
+00015a10: 6869 6e67 2066 756e 6374 696f 6e2e 0d0a  hing function...
+00015a20: 0d0a 4e6f 7465 2074 6861 7420 7374 6174  ..Note that stat
+00015a30: 656d 656e 7420 6c61 6d62 6461 7320 6861  ement lambdas ha
+00015a40: 7665 2061 206c 6f77 6572 2070 7265 6365  ve a lower prece
+00015a50: 6465 6e63 6520 7468 616e 206e 6f72 6d61  dence than norma
+00015a60: 6c20 6c61 6d62 6461 7320 616e 6420 7468  l lambdas and th
+00015a70: 7573 2063 6170 7475 7265 2074 6869 6e67  us capture thing
+00015a80: 7320 6c69 6b65 2074 7261 696c 696e 6720  s like trailing 
+00015a90: 636f 6d6d 6173 2e20 546f 2061 766f 6964  commas. To avoid
+00015aa0: 2063 6f6e 6675 7369 6f6e 2c20 7374 6174   confusion, stat
+00015ab0: 656d 656e 7420 6c61 6d62 6461 7320 7368  ement lambdas sh
+00015ac0: 6f75 6c64 2061 6c77 6179 7320 6265 2077  ould always be w
+00015ad0: 7261 7070 6564 2069 6e20 7468 6569 7220  rapped in their 
+00015ae0: 6f77 6e20 7365 7420 6f66 2070 6172 656e  own set of paren
+00015af0: 7468 6573 6573 2e0d 0a0d 0a5f 4465 7072  theses....._Depr
+00015b00: 6563 6174 6564 3a20 5374 6174 656d 656e  ecated: Statemen
+00015b10: 7420 6c61 6d62 6461 7320 616c 736f 2073  t lambdas also s
+00015b20: 7570 706f 7274 2060 2d3e 6020 696e 7374  upport `->` inst
+00015b30: 6561 6420 6f66 2060 3d3e 602e 204e 6f74  ead of `=>`. Not
+00015b40: 6520 7468 6174 2077 6865 6e20 7573 696e  e that when usin
+00015b50: 6720 602d 3e60 2c20 616e 7920 6c61 6d62  g `->`, any lamb
+00015b60: 6461 7320 696e 2074 6865 2062 6f64 7920  das in the body 
+00015b70: 6f66 2074 6865 2073 7461 7465 6d65 6e74  of the statement
+00015b80: 206c 616d 6264 6120 6d75 7374 2061 6c73   lambda must als
+00015b90: 6f20 7573 6520 602d 3e60 2072 6174 6865  o use `->` rathe
+00015ba0: 7220 7468 616e 2060 3d3e 602e 5f0d 0a0d  r than `=>`._...
+00015bb0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+00015bc0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+00015bd0: 6060 6063 6f63 6f6e 7574 0d0a 4c20 7c3e  ```coconut..L |>
+00015be0: 206d 6170 2428 6465 6620 2878 2920 3d3e   map$(def (x) =>
+00015bf0: 0d0a 2020 2020 7920 3d20 312f 783b 0d0a  ..    y = 1/x;..
+00015c00: 2020 2020 792a 2831 202d 2079 2929 0d0a      y*(1 - y))..
+00015c10: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+00015c20: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+00015c30: 7974 686f 6e0d 0a64 6566 205f 6c61 6d62  ython..def _lamb
+00015c40: 6461 2878 293a 0d0a 2020 2020 7920 3d20  da(x):..    y = 
+00015c50: 312f 780d 0a20 2020 2072 6574 7572 6e20  1/x..    return 
+00015c60: 792a 2831 202d 2079 290d 0a6d 6170 285f  y*(1 - y)..map(_
+00015c70: 6c61 6d62 6461 2c20 4c29 0d0a 6060 600d  lambda, L)..```.
+00015c80: 0a0d 0a23 2323 2320 5479 7065 2061 6e6e  ...#### Type ann
+00015c90: 6f74 6174 696f 6e73 0d0a 0d0a 416e 6f74  otations....Anot
+00015ca0: 6865 7220 6361 7365 2077 6865 7265 2073  her case where s
+00015cb0: 7461 7465 6d65 6e74 206c 616d 6264 6173  tatement lambdas
+00015cc0: 2077 6f75 6c64 2062 6520 7573 6564 206f   would be used o
+00015cd0: 7665 7220 7374 616e 6461 7264 206c 616d  ver standard lam
+00015ce0: 6264 6173 2069 7320 7768 656e 2074 6865  bdas is when the
+00015cf0: 2070 6172 616d 6574 6572 7320 746f 2074   parameters to t
+00015d00: 6865 206c 616d 6264 6120 6172 6520 7479  he lambda are ty
+00015d10: 7065 6420 7769 7468 2074 7970 6520 616e  ped with type an
+00015d20: 6e6f 7461 7469 6f6e 732e 2053 7461 7465  notations. State
+00015d30: 6d65 6e74 206c 616d 6264 6173 2075 7365  ment lambdas use
+00015d40: 2074 6865 2073 7461 6e64 6172 6420 5079   the standard Py
+00015d50: 7468 6f6e 2073 796e 7461 7820 666f 7220  thon syntax for 
+00015d60: 6164 6469 6e67 2074 7970 6520 616e 6e6f  adding type anno
+00015d70: 7461 7469 6f6e 7320 746f 2074 6865 6972  tations to their
+00015d80: 2070 6172 616d 6574 6572 733a 0d0a 0d0a   parameters:....
+00015d90: 6060 6063 6f63 6f6e 7574 0d0a 6620 3d20  ```coconut..f = 
+00015da0: 6465 6620 2863 3a20 7374 7229 202d 3e20  def (c: str) -> 
+00015db0: 4e6f 6e65 203d 3e20 7072 696e 7428 6329  None => print(c)
+00015dc0: 0d0a 0d0a 6720 3d20 6465 6620 2861 3a20  ....g = def (a: 
+00015dd0: 696e 742c 2062 3a20 696e 7429 202d 3e20  int, b: int) -> 
+00015de0: 696e 7420 3d3e 2061 202a 2a20 620d 0a60  int => a ** b..`
+00015df0: 6060 0d0a 0d0a 5f44 6570 7265 6361 7465  ``...._Deprecate
+00015e00: 643a 2069 6620 7468 6520 6465 7072 6563  d: if the deprec
+00015e10: 6174 6564 2060 2d3e 6020 6973 2075 7365  ated `->` is use
+00015e20: 6420 696e 2070 6c61 6365 206f 6620 603d  d in place of `=
+00015e30: 3e60 2c20 7468 656e 2072 6574 7572 6e20  >`, then return 
+00015e40: 7479 7065 2061 6e6e 6f74 6174 696f 6e73  type annotations
+00015e50: 2077 696c 6c20 6e6f 7420 6265 2061 7661   will not be ava
+00015e60: 696c 6162 6c65 2e5f 0d0a 0d0a 2323 2320  ilable._....### 
+00015e70: 4f70 6572 6174 6f72 2046 756e 6374 696f  Operator Functio
+00015e80: 6e73 0d0a 0d0a 436f 636f 6e75 7420 7573  ns....Coconut us
+00015e90: 6573 2061 2073 696d 706c 6520 6f70 6572  es a simple oper
+00015ea0: 6174 6f72 2066 756e 6374 696f 6e20 7368  ator function sh
+00015eb0: 6f72 742d 6861 6e64 3a20 7375 7272 6f75  ort-hand: surrou
+00015ec0: 6e64 2061 6e20 6f70 6572 6174 6f72 2077  nd an operator w
+00015ed0: 6974 6820 7061 7265 6e74 6865 7365 7320  ith parentheses 
+00015ee0: 746f 2072 6574 7269 6576 6520 6974 7320  to retrieve its 
+00015ef0: 6675 6e63 7469 6f6e 2e20 5369 6d69 6c61  function. Simila
+00015f00: 726c 7920 746f 2069 7465 7261 746f 7220  rly to iterator 
+00015f10: 636f 6d70 7265 6865 6e73 696f 6e73 2c20  comprehensions, 
+00015f20: 6966 2074 6865 206f 7065 7261 746f 7220  if the operator 
+00015f30: 6675 6e63 7469 6f6e 2069 7320 7468 6520  function is the 
+00015f40: 6f6e 6c79 2061 7267 756d 656e 7420 746f  only argument to
+00015f50: 2061 2066 756e 6374 696f 6e2c 2074 6865   a function, the
+00015f60: 2070 6172 656e 7468 6573 6573 206f 6620   parentheses of 
+00015f70: 7468 6520 6675 6e63 7469 6f6e 2063 616c  the function cal
+00015f80: 6c20 6361 6e20 616c 736f 2073 6572 7665  l can also serve
+00015f90: 2061 7320 7468 6520 7061 7265 6e74 6865   as the parenthe
+00015fa0: 7365 7320 666f 7220 7468 6520 6f70 6572  ses for the oper
+00015fb0: 6174 6f72 2066 756e 6374 696f 6e2e 0d0a  ator function...
+00015fc0: 0d0a 2323 2323 2320 5261 7469 6f6e 616c  ..##### Rational
+00015fd0: 650d 0a0d 0a41 2076 6572 7920 636f 6d6d  e....A very comm
+00015fe0: 6f6e 2074 6869 6e67 2074 6f20 646f 2069  on thing to do i
+00015ff0: 6e20 6675 6e63 7469 6f6e 616c 2070 726f  n functional pro
+00016000: 6772 616d 6d69 6e67 2069 7320 746f 206d  gramming is to m
+00016010: 616b 6520 7573 6520 6f66 2066 756e 6374  ake use of funct
+00016020: 696f 6e20 7665 7273 696f 6e73 206f 6620  ion versions of 
+00016030: 6275 696c 742d 696e 206f 7065 7261 746f  built-in operato
+00016040: 7273 3a20 6375 7272 7969 6e67 2074 6865  rs: currying the
+00016050: 6d2c 2063 6f6d 706f 7369 6e67 2074 6865  m, composing the
+00016060: 6d2c 2061 6e64 2070 6970 696e 6720 7468  m, and piping th
+00016070: 656d 2e20 546f 206d 616b 6520 7468 6973  em. To make this
+00016080: 2065 6173 792c 2043 6f63 6f6e 7574 2070   easy, Coconut p
+00016090: 726f 7669 6465 7320 6120 7368 6f72 742d  rovides a short-
+000160a0: 6861 6e64 2073 796e 7461 7820 746f 2061  hand syntax to a
+000160b0: 6363 6573 7320 6f70 6572 6174 6f72 2066  ccess operator f
+000160c0: 756e 6374 696f 6e73 2e0d 0a0d 0a23 2323  unctions.....###
+000160d0: 2323 2046 756c 6c20 4c69 7374 0d0a 0d0a  ## Full List....
+000160e0: 6060 6063 6f63 6f6e 7574 0d0a 283a 3a29  ```coconut..(::)
+000160f0: 2020 2020 2020 2020 3d3e 2028 6974 6572          => (iter
+00016100: 746f 6f6c 732e 6368 6169 6e29 2020 2320  tools.chain)  # 
+00016110: 7769 6c6c 206e 6f74 2065 7661 6c75 6174  will not evaluat
+00016120: 6520 6974 7320 6172 6775 6d65 6e74 7320  e its arguments 
+00016130: 6c61 7a69 6c79 0d0a 2824 2920 2020 2020  lazily..($)     
+00016140: 2020 2020 3d3e 2028 6675 6e63 746f 6f6c      => (functool
+00016150: 732e 7061 7274 6961 6c29 0d0a 282e 2920  s.partial)..(.) 
+00016160: 2020 2020 2020 2020 3d3e 2028 6765 7461          => (geta
+00016170: 7474 7229 0d0a 282c 2920 2020 2020 2020  ttr)..(,)       
+00016180: 2020 3d3e 2028 2a61 7267 7329 203d 3e20    => (*args) => 
+00016190: 6172 6773 2020 2320 2862 7574 2070 6963  args  # (but pic
+000161a0: 6b6c 6561 626c 6529 0d0a 282b 2920 2020  kleable)..(+)   
+000161b0: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
+000161c0: 6f72 2e61 6464 290d 0a28 2d29 2020 2020  or.add)..(-)    
+000161d0: 2020 2020 203d 3e20 2320 3120 6172 673a       => # 1 arg:
+000161e0: 206f 7065 7261 746f 722e 6e65 672c 2032   operator.neg, 2
+000161f0: 2061 7267 733a 206f 7065 7261 746f 722e   args: operator.
+00016200: 7375 620d 0a28 2a29 2020 2020 2020 2020  sub..(*)        
+00016210: 203d 3e20 286f 7065 7261 746f 722e 6d75   => (operator.mu
+00016220: 6c29 0d0a 282a 2a29 2020 2020 2020 2020  l)..(**)        
+00016230: 3d3e 2028 6f70 6572 6174 6f72 2e70 6f77  => (operator.pow
+00016240: 290d 0a28 2f29 2020 2020 2020 2020 203d  )..(/)         =
+00016250: 3e20 286f 7065 7261 746f 722e 7472 7565  > (operator.true
+00016260: 6469 7629 0d0a 282f 2f29 2020 2020 2020  div)..(//)      
+00016270: 2020 3d3e 2028 6f70 6572 6174 6f72 2e66    => (operator.f
+00016280: 6c6f 6f72 6469 7629 0d0a 2825 2920 2020  loordiv)..(%)   
+00016290: 2020 2020 2020 3d3e 2028 6f70 6572 6174        => (operat
+000162a0: 6f72 2e6d 6f64 290d 0a28 2629 2020 2020  or.mod)..(&)    
+000162b0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+000162c0: 722e 616e 645f 290d 0a28 5e29 2020 2020  r.and_)..(^)    
+000162d0: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+000162e0: 722e 786f 7229 0d0a 287c 2920 2020 2020  r.xor)..(|)     
+000162f0: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
+00016300: 2e6f 725f 290d 0a28 3c3c 2920 2020 2020  .or_)..(<<)     
+00016310: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00016320: 6c73 6869 6674 290d 0a28 3e3e 2920 2020  lshift)..(>>)   
+00016330: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+00016340: 722e 7273 6869 6674 290d 0a28 3c29 2020  r.rshift)..(<)  
+00016350: 2020 2020 2020 203d 3e20 286f 7065 7261         => (opera
+00016360: 746f 722e 6c74 290d 0a28 3e29 2020 2020  tor.lt)..(>)    
+00016370: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+00016380: 722e 6774 290d 0a28 3d3d 2920 2020 2020  r.gt)..(==)     
+00016390: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+000163a0: 6571 290d 0a28 3c3d 2920 2020 2020 2020  eq)..(<=)       
+000163b0: 203d 3e20 286f 7065 7261 746f 722e 6c65   => (operator.le
+000163c0: 290d 0a28 3e3d 2920 2020 2020 2020 203d  )..(>=)        =
+000163d0: 3e20 286f 7065 7261 746f 722e 6765 290d  > (operator.ge).
+000163e0: 0a28 213d 2920 2020 2020 2020 203d 3e20  .(!=)        => 
+000163f0: 286f 7065 7261 746f 722e 6e65 290d 0a28  (operator.ne)..(
+00016400: 7e29 2020 2020 2020 2020 203d 3e20 286f  ~)         => (o
+00016410: 7065 7261 746f 722e 696e 7629 0d0a 2840  perator.inv)..(@
+00016420: 2920 2020 2020 2020 2020 3d3e 2028 6f70  )         => (op
+00016430: 6572 6174 6f72 2e6d 6174 6d75 6c29 0d0a  erator.matmul)..
+00016440: 287c 3e29 2020 2020 2020 2020 3d3e 2023  (|>)        => #
+00016450: 2070 6970 6520 666f 7277 6172 640d 0a28   pipe forward..(
+00016460: 7c2a 3e29 2020 2020 2020 203d 3e20 2320  |*>)       => # 
+00016470: 6d75 6c74 692d 6172 6720 7069 7065 2066  multi-arg pipe f
+00016480: 6f72 7761 7264 0d0a 287c 2a2a 3e29 2020  orward..(|**>)  
+00016490: 2020 2020 3d3e 2023 206b 6579 776f 7264      => # keyword
+000164a0: 2061 7267 2070 6970 6520 666f 7277 6172   arg pipe forwar
+000164b0: 640d 0a28 3c7c 2920 2020 2020 2020 203d  d..(<|)        =
+000164c0: 3e20 2320 7069 7065 2062 6163 6b77 6172  > # pipe backwar
+000164d0: 640d 0a28 3c2a 7c29 2020 2020 2020 203d  d..(<*|)       =
+000164e0: 3e20 2320 6d75 6c74 692d 6172 6720 7069  > # multi-arg pi
+000164f0: 7065 2062 6163 6b77 6172 640d 0a28 3c2a  pe backward..(<*
+00016500: 2a7c 2920 2020 2020 203d 3e20 2320 6b65  *|)      => # ke
+00016510: 7977 6f72 6420 6172 6720 7069 7065 2062  yword arg pipe b
+00016520: 6163 6b77 6172 640d 0a28 7c3f 3e29 2020  ackward..(|?>)  
+00016530: 2020 2020 203d 3e20 2320 4e6f 6e65 2d61       => # None-a
+00016540: 7761 7265 2070 6970 6520 666f 7277 6172  ware pipe forwar
+00016550: 640d 0a28 7c3f 2a3e 2920 2020 2020 203d  d..(|?*>)      =
+00016560: 3e20 2320 4e6f 6e65 2d61 7761 7265 206d  > # None-aware m
+00016570: 756c 7469 2d61 7267 2070 6970 6520 666f  ulti-arg pipe fo
+00016580: 7277 6172 640d 0a28 7c3f 2a2a 3e29 2020  rward..(|?**>)  
+00016590: 2020 203d 3e20 2320 4e6f 6e65 2d61 7761     => # None-awa
+000165a0: 7265 206b 6579 776f 7264 2061 7267 2070  re keyword arg p
+000165b0: 6970 6520 666f 7277 6172 640d 0a28 3c3f  ipe forward..(<?
+000165c0: 7c29 2020 2020 2020 203d 3e20 2320 4e6f  |)       => # No
+000165d0: 6e65 2d61 7761 7265 2070 6970 6520 6261  ne-aware pipe ba
+000165e0: 636b 7761 7264 0d0a 283c 2a3f 7c29 2020  ckward..(<*?|)  
+000165f0: 2020 2020 3d3e 2023 204e 6f6e 652d 6177      => # None-aw
+00016600: 6172 6520 6d75 6c74 692d 6172 6720 7069  are multi-arg pi
+00016610: 7065 2062 6163 6b77 6172 640d 0a28 3c2a  pe backward..(<*
+00016620: 2a3f 7c29 2020 2020 203d 3e20 2320 4e6f  *?|)     => # No
+00016630: 6e65 2d61 7761 7265 206b 6579 776f 7264  ne-aware keyword
+00016640: 2061 7267 2070 6970 6520 6261 636b 7761   arg pipe backwa
+00016650: 7264 0d0a 282e 2e29 2c20 283c 2e2e 2920  rd..(..), (<..) 
+00016660: 3d3e 2023 2062 6163 6b77 6172 6420 6675  => # backward fu
+00016670: 6e63 7469 6f6e 2063 6f6d 706f 7369 7469  nction compositi
+00016680: 6f6e 0d0a 282e 2e3e 2920 2020 2020 2020  on..(..>)       
+00016690: 3d3e 2023 2066 6f72 7761 7264 2066 756e  => # forward fun
+000166a0: 6374 696f 6e20 636f 6d70 6f73 6974 696f  ction compositio
+000166b0: 6e0d 0a28 3c2a 2e2e 2920 2020 2020 203d  n..(<*..)      =
+000166c0: 3e20 2320 6d75 6c74 692d 6172 6720 6261  > # multi-arg ba
+000166d0: 636b 7761 7264 2066 756e 6374 696f 6e20  ckward function 
+000166e0: 636f 6d70 6f73 6974 696f 6e0d 0a28 2e2e  composition..(..
+000166f0: 2a3e 2920 2020 2020 203d 3e20 2320 6d75  *>)      => # mu
+00016700: 6c74 692d 6172 6720 666f 7277 6172 6420  lti-arg forward 
+00016710: 6675 6e63 7469 6f6e 2063 6f6d 706f 7369  function composi
+00016720: 7469 6f6e 0d0a 283c 2a2a 2e2e 2920 2020  tion..(<**..)   
+00016730: 2020 3d3e 2023 206b 6579 776f 7264 2061    => # keyword a
+00016740: 7267 2062 6163 6b77 6172 6420 6675 6e63  rg backward func
+00016750: 7469 6f6e 2063 6f6d 706f 7369 7469 6f6e  tion composition
+00016760: 0d0a 282e 2e2a 2a3e 2920 2020 2020 3d3e  ..(..**>)     =>
+00016770: 2023 206b 6579 776f 7264 2061 7267 2066   # keyword arg f
+00016780: 6f72 7761 7264 2066 756e 6374 696f 6e20  orward function 
+00016790: 636f 6d70 6f73 6974 696f 6e0d 0a28 6e6f  composition..(no
+000167a0: 7429 2020 2020 2020 203d 3e20 286f 7065  t)       => (ope
+000167b0: 7261 746f 722e 6e6f 745f 290d 0a28 616e  rator.not_)..(an
+000167c0: 6429 2020 2020 2020 203d 3e20 2320 626f  d)       => # bo
+000167d0: 6f6c 6561 6e20 616e 640d 0a28 6f72 2920  olean and..(or) 
+000167e0: 2020 2020 2020 203d 3e20 2320 626f 6f6c         => # bool
+000167f0: 6561 6e20 6f72 0d0a 2869 7329 2020 2020  ean or..(is)    
+00016800: 2020 2020 3d3e 2028 6f70 6572 6174 6f72      => (operator
+00016810: 2e69 735f 290d 0a28 6973 206e 6f74 2920  .is_)..(is not) 
+00016820: 2020 203d 3e20 286f 7065 7261 746f 722e     => (operator.
+00016830: 6973 5f6e 6f74 290d 0a28 696e 2920 2020  is_not)..(in)   
+00016840: 2020 2020 203d 3e20 286f 7065 7261 746f       => (operato
+00016850: 722e 636f 6e74 6169 6e73 290d 0a28 6e6f  r.contains)..(no
+00016860: 7420 696e 2920 2020 203d 3e20 2320 6e65  t in)    => # ne
+00016870: 6761 7469 7665 2063 6f6e 7461 696e 6d65  gative containme
+00016880: 6e74 0d0a 2861 7373 6572 7429 2020 2020  nt..(assert)    
+00016890: 3d3e 2064 6566 2028 636f 6e64 2c20 6d73  => def (cond, ms
+000168a0: 673d 4e6f 6e65 2920 3d3e 2061 7373 6572  g=None) => asser
+000168b0: 7420 636f 6e64 2c20 6d73 6720 2023 2028  t cond, msg  # (
+000168c0: 6275 7420 6120 6265 7474 6572 206d 7367  but a better msg
+000168d0: 2069 6620 6d73 6720 6973 204e 6f6e 6529   if msg is None)
+000168e0: 0d0a 2872 6169 7365 2920 2020 2020 3d3e  ..(raise)     =>
+000168f0: 2064 6566 2028 6578 633d 4e6f 6e65 2c20   def (exc=None, 
+00016900: 6672 6f6d 5f65 7863 3d4e 6f6e 6529 203d  from_exc=None) =
+00016910: 3e20 7261 6973 6520 6578 6320 6672 6f6d  > raise exc from
+00016920: 2066 726f 6d5f 6578 6320 2023 206f 7220   from_exc  # or 
+00016930: 6a75 7374 2072 6169 7365 2069 6620 6578  just raise if ex
+00016940: 6320 6973 204e 6f6e 650d 0a23 2074 6865  c is None..# the
+00016950: 7265 2061 7265 2074 776f 206f 7065 7261  re are two opera
+00016960: 746f 7220 6675 6e63 7469 6f6e 7320 7468  tor functions th
+00016970: 6174 2064 6f6e 2774 2072 6571 7569 7265  at don't require
+00016980: 2070 6172 656e 7468 6573 6573 3a0d 0a2e   parentheses:...
+00016990: 5b5d 2020 2020 2020 2020 203d 3e20 286f  []         => (o
+000169a0: 7065 7261 746f 722e 6765 7469 7465 6d29  perator.getitem)
+000169b0: 0d0a 2e24 5b5d 2020 2020 2020 2020 3d3e  ...$[]        =>
+000169c0: 2023 2069 7465 7261 746f 7220 736c 6963   # iterator slic
+000169d0: 696e 6720 6f70 6572 6174 6f72 0d0a 6060  ing operator..``
+000169e0: 600d 0a0d 0a46 6f72 2061 6e20 6f70 6572  `....For an oper
+000169f0: 6174 6f72 2066 756e 6374 696f 6e20 666f  ator function fo
+00016a00: 7220 6675 6e63 7469 6f6e 2061 7070 6c69  r function appli
+00016a10: 6361 7469 6f6e 2c20 7365 6520 5b60 6361  cation, see [`ca
+00016a20: 6c6c 605d 2823 6361 6c6c 292e 0d0a 0d0a  ll`](#call).....
+00016a30: 5468 6f75 6768 206e 6f20 6f70 6572 6174  Though no operat
+00016a40: 6f72 2066 756e 6374 696f 6e20 6973 2061  or function is a
+00016a50: 7661 696c 6162 6c65 2066 6f72 2060 6177  vailable for `aw
+00016a60: 6169 7460 2c20 616e 2065 7175 6976 616c  ait`, an equival
+00016a70: 656e 7420 7379 6e74 6178 2069 7320 6176  ent syntax is av
+00016a80: 6169 6c61 626c 6520 666f 7220 5b70 6970  ailable for [pip
+00016a90: 6573 5d28 2370 6970 6573 2920 696e 2074  es](#pipes) in t
+00016aa0: 6865 2066 6f72 6d20 6f66 2060 6177 6169  he form of `awai
+00016ab0: 7461 626c 6520 7c3e 2061 7761 6974 602e  table |> await`.
+00016ac0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00016ad0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00016ae0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a28  *..```coconut..(
+00016af0: 7261 6e67 6528 302c 2035 292c 2072 616e  range(0, 5), ran
+00016b00: 6765 2835 2c20 3130 2929 207c 2a3e 206d  ge(5, 10)) |*> m
+00016b10: 6170 2428 2b29 207c 3e20 6c69 7374 207c  ap$(+) |> list |
+00016b20: 3e20 7072 696e 740d 0a60 6060 0d0a 0d0a  > print..```....
+00016b30: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+00016b40: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+00016b50: 696d 706f 7274 206f 7065 7261 746f 720d  import operator.
+00016b60: 0a70 7269 6e74 286c 6973 7428 6d61 7028  .print(list(map(
+00016b70: 6f70 6572 6174 6f72 2e61 6464 2c20 7261  operator.add, ra
+00016b80: 6e67 6528 302c 2035 292c 2072 616e 6765  nge(0, 5), range
+00016b90: 2835 2c20 3130 2929 2929 0d0a 6060 600d  (5, 10))))..```.
+00016ba0: 0a0d 0a23 2323 2049 6d70 6c69 6369 7420  ...### Implicit 
+00016bb0: 5061 7274 6961 6c20 4170 706c 6963 6174  Partial Applicat
+00016bc0: 696f 6e0d 0a0d 0a43 6f63 6f6e 7574 2073  ion....Coconut s
+00016bd0: 7570 706f 7274 7320 6120 6e75 6d62 6572  upports a number
+00016be0: 206f 6620 6469 6666 6572 656e 7420 7379   of different sy
+00016bf0: 6e74 6163 7469 6361 6c20 616c 6961 7365  ntactical aliase
+00016c00: 7320 666f 7220 636f 6d6d 6f6e 2070 6172  s for common par
+00016c10: 7469 616c 2061 7070 6c69 6361 7469 6f6e  tial application
+00016c20: 2075 7365 2063 6173 6573 2e20 5468 6573   use cases. Thes
+00016c30: 6520 6172 653a 0d0a 6060 6063 6f63 6f6e  e are:..```cocon
+00016c40: 7574 0d0a 2e61 7474 7220 2020 2020 2020  ut...attr       
+00016c50: 2020 2020 3d3e 2020 2020 2020 6f70 6572      =>      oper
+00016c60: 6174 6f72 2e61 7474 7267 6574 7465 7228  ator.attrgetter(
+00016c70: 2261 7474 7222 290d 0a2e 6d65 7468 6f64  "attr")...method
+00016c80: 2861 7267 7329 2020 203d 3e20 2020 2020  (args)   =>     
+00016c90: 206f 7065 7261 746f 722e 6d65 7468 6f64   operator.method
+00016ca0: 6361 6c6c 6572 2822 6d65 7468 6f64 222c  caller("method",
+00016cb0: 2061 7267 7329 0d0a 6675 6e63 2420 2020   args)..func$   
+00016cc0: 2020 2020 2020 2020 3d3e 2020 2020 2020          =>      
+00016cd0: 2824 2924 2866 756e 6329 0d0a 7365 715b  ($)$(func)..seq[
+00016ce0: 5d20 2020 2020 2020 2020 2020 3d3e 2020  ]           =>  
+00016cf0: 2020 2020 6f70 6572 6174 6f72 2e67 6574      operator.get
+00016d00: 6974 656d 2428 7365 7129 0d0a 6974 6572  item$(seq)..iter
+00016d10: 245b 5d20 2020 2020 2020 2020 3d3e 2020  $[]         =>  
+00016d20: 2020 2020 2320 7468 6520 6571 7569 7661      # the equiva
+00016d30: 6c65 6e74 206f 6620 7365 715b 5d20 666f  lent of seq[] fo
+00016d40: 7220 6974 6572 6174 6f72 730d 0a2e 5b61  r iterators...[a
+00016d50: 3a62 3a63 5d20 2020 2020 2020 203d 3e20  :b:c]        => 
+00016d60: 2020 2020 206f 7065 7261 746f 722e 6974       operator.it
+00016d70: 656d 6765 7474 6572 2873 6c69 6365 2861  emgetter(slice(a
+00016d80: 2c20 622c 2063 2929 0d0a 2e24 5b61 3a62  , b, c))...$[a:b
+00016d90: 3a63 5d20 2020 2020 2020 3d3e 2020 2020  :c]       =>    
+00016da0: 2020 2320 7468 6520 6571 7569 7661 6c65    # the equivale
+00016db0: 6e74 206f 6620 2e5b 613a 623a 635d 2066  nt of .[a:b:c] f
+00016dc0: 6f72 2069 7465 7261 746f 7273 0d0a 6060  or iterators..``
+00016dd0: 600d 0a0d 0a41 6464 6974 696f 6e61 6c6c  `....Additionall
+00016de0: 792c 2060 2e61 7474 722e 6d65 7468 6f64  y, `.attr.method
+00016df0: 2861 7267 7329 602c 2060 2e5b 785d 5b79  (args)`, `.[x][y
+00016e00: 5d60 2c20 616e 6420 602e 245b 785d 245b  ]`, and `.$[x]$[
+00016e10: 795d 6020 6172 6520 616c 736f 2073 7570  y]` are also sup
+00016e20: 706f 7274 6564 2e0d 0a0d 0a49 6e20 6164  ported.....In ad
+00016e30: 6469 7469 6f6e 2c20 666f 7220 6576 6572  dition, for ever
+00016e40: 7920 436f 636f 6e75 7420 5b6f 7065 7261  y Coconut [opera
+00016e50: 746f 7220 6675 6e63 7469 6f6e 5d28 236f  tor function](#o
+00016e60: 7065 7261 746f 722d 6675 6e63 7469 6f6e  perator-function
+00016e70: 7329 2c20 436f 636f 6e75 7420 7375 7070  s), Coconut supp
+00016e80: 6f72 7473 2073 796e 7461 7820 666f 7220  orts syntax for 
+00016e90: 696d 706c 6963 6974 6c79 2070 6172 7469  implicitly parti
+00016ea0: 616c 6c79 2061 7070 6c79 696e 6720 7468  ally applying th
+00016eb0: 6174 206f 7065 7261 746f 7220 6675 6e63  at operator func
+00016ec0: 7469 6f6e 2061 730d 0a60 6060 0d0a 282e  tion as..```..(.
+00016ed0: 203c 6f70 3e20 3c61 7267 3e29 0d0a 283c   <op> <arg>)..(<
+00016ee0: 6172 673e 203c 6f70 3e20 2e29 0d0a 6060  arg> <op> .)..``
+00016ef0: 600d 0a77 6865 7265 2060 3c6f 703e 6020  `..where `<op>` 
+00016f00: 6973 2074 6865 206f 7065 7261 746f 7220  is the operator 
+00016f10: 6675 6e63 7469 6f6e 2061 6e64 2060 3c61  function and `<a
+00016f20: 7267 3e60 2069 7320 616e 7920 6578 7072  rg>` is any expr
+00016f30: 6573 7369 6f6e 2e20 4e6f 7465 2074 6861  ession. Note tha
+00016f40: 742c 2061 7320 7769 7468 206f 7065 7261  t, as with opera
+00016f50: 746f 7220 6675 6e63 7469 6f6e 7320 7468  tor functions th
+00016f60: 656d 7365 6c76 6573 2c20 7468 6520 7061  emselves, the pa
+00016f70: 7265 6e74 6865 7365 7320 6172 6520 6e65  rentheses are ne
+00016f80: 6365 7373 6172 7920 666f 7220 7468 6973  cessary for this
+00016f90: 2074 7970 6520 6f66 2069 6d70 6c69 6369   type of implici
+00016fa0: 7420 7061 7274 6961 6c20 6170 706c 6963  t partial applic
+00016fb0: 6174 696f 6e2e 0d0a 0d0a 4164 6469 7469  ation.....Additi
+00016fc0: 6f6e 616c 6c79 2c20 436f 636f 6e75 7420  onally, Coconut 
+00016fd0: 616c 736f 2073 7570 706f 7274 7320 696d  also supports im
+00016fe0: 706c 6963 6974 206f 7065 7261 746f 7220  plicit operator 
+00016ff0: 6675 6e63 7469 6f6e 2070 6172 7469 616c  function partial
+00017000: 7320 666f 7220 6172 6269 7472 6172 7920  s for arbitrary 
+00017010: 6675 6e63 7469 6f6e 7320 6173 0d0a 6060  functions as..``
+00017020: 600d 0a28 2e20 603c 6e61 6d65 3e60 203c  `..(. `<name>` <
+00017030: 6172 673e 290d 0a28 3c61 7267 3e20 603c  arg>)..(<arg> `<
+00017040: 6e61 6d65 3e60 202e 290d 0a60 6060 0d0a  name>` .)..```..
+00017050: 6261 7365 6420 6f6e 2043 6f63 6f6e 7574  based on Coconut
+00017060: 2773 205b 696e 6669 7820 6e6f 7461 7469  's [infix notati
+00017070: 6f6e 5d28 2369 6e66 6978 2d66 756e 6374  on](#infix-funct
+00017080: 696f 6e73 2920 7768 6572 6520 603c 6e61  ions) where `<na
+00017090: 6d65 3e60 2069 7320 7468 6520 6e61 6d65  me>` is the name
+000170a0: 206f 6620 7468 6520 6675 6e63 7469 6f6e   of the function
+000170b0: 2e20 4164 6469 7469 6f6e 616c 6c79 2c20  . Additionally, 
+000170c0: 6060 2060 3c6e 616d 653e 6020 6060 2063  `` `<name>` `` c
+000170d0: 616e 2069 6e73 7465 6164 2062 6520 6120  an instead be a 
+000170e0: 5b63 7573 746f 6d20 6f70 6572 6174 6f72  [custom operator
+000170f0: 5d28 2363 7573 746f 6d2d 6f70 6572 6174  ](#custom-operat
+00017100: 6f72 7329 2028 696e 2074 6861 7420 6361  ors) (in that ca
+00017110: 7365 2c20 6e6f 2062 6163 6b74 6963 6b73  se, no backticks
+00017120: 2073 686f 756c 6420 6265 2075 7365 6429   should be used)
+00017130: 2e0d 0a0d 0a5f 4465 7072 6563 6174 6564  ....._Deprecated
+00017140: 3a20 436f 636f 6e75 7420 616c 736f 2073  : Coconut also s
+00017150: 7570 706f 7274 7320 606f 626a 2e60 2061  upports `obj.` a
+00017160: 7320 616e 2069 6d70 6c69 6369 7420 7061  s an implicit pa
+00017170: 7274 6961 6c20 666f 7220 6067 6574 6174  rtial for `getat
+00017180: 7472 2428 6f62 6a29 602c 2062 7574 2069  tr$(obj)`, but i
+00017190: 7473 2075 7361 6765 2069 7320 6465 7072  ts usage is depr
+000171a0: 6563 6174 6564 2061 6e64 2077 696c 6c20  ecated and will 
+000171b0: 7368 6f77 2061 2077 6172 6e69 6e67 2074  show a warning t
+000171c0: 6f20 7377 6974 6368 2074 6f20 6067 6574  o switch to `get
+000171d0: 6174 7472 2428 6f62 6a29 6020 696e 7374  attr$(obj)` inst
+000171e0: 6561 642e 5f0d 0a0d 0a23 2323 2323 2045  ead._....##### E
+000171f0: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+00017200: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+00017210: 7574 0d0a 3120 7c3e 2022 3132 3322 5b5d  ut..1 |> "123"[]
+00017220: 0d0a 6d6f 6424 203c 7c20 3520 3c7c 2033  ..mod$ <| 5 <| 3
+00017230: 0d0a 3320 7c3e 2028 2e2a 3229 207c 3e20  ..3 |> (.*2) |> 
+00017240: 282e 2b31 290d 0a60 6060 0d0a 0d0a 2a2a  (.+1)..```....**
+00017250: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+00017260: 636f 6e75 745f 7079 7468 6f6e 0d0a 2231  conut_python.."1
+00017270: 3233 225b 315d 0d0a 6d6f 6428 352c 2033  23"[1]..mod(5, 3
+00017280: 290d 0a28 3320 2a20 3229 202b 2031 0d0a  )..(3 * 2) + 1..
+00017290: 6060 600d 0a0d 0a23 2323 2045 6e68 616e  ```....### Enhan
+000172a0: 6365 6420 5479 7065 2041 6e6e 6f74 6174  ced Type Annotat
+000172b0: 696f 6e0d 0a0d 0a53 696e 6365 2043 6f63  ion....Since Coc
+000172c0: 6f6e 7574 2073 796e 7461 7820 6973 2061  onut syntax is a
+000172d0: 2073 7570 6572 7365 7420 6f66 2074 6865   superset of the
+000172e0: 206c 6174 6573 7420 5079 7468 6f6e 2033   latest Python 3
+000172f0: 2073 796e 7461 782c 2069 7420 7375 7070   syntax, it supp
+00017300: 6f72 7473 205b 5079 7468 6f6e 2033 2066  orts [Python 3 f
+00017310: 756e 6374 696f 6e20 7479 7065 2061 6e6e  unction type ann
+00017320: 6f74 6174 696f 6e20 7379 6e74 6178 5d28  otation syntax](
+00017330: 6874 7470 733a 2f2f 7777 772e 7079 7468  https://www.pyth
+00017340: 6f6e 2e6f 7267 2f64 6576 2f70 6570 732f  on.org/dev/peps/
+00017350: 7065 702d 3034 3834 2f29 2061 6e64 205b  pep-0484/) and [
+00017360: 5079 7468 6f6e 2033 2e36 2076 6172 6961  Python 3.6 varia
+00017370: 626c 6520 7479 7065 2061 6e6e 6f74 6174  ble type annotat
+00017380: 696f 6e20 7379 6e74 6178 5d28 6874 7470  ion syntax](http
+00017390: 733a 2f2f 7777 772e 7079 7468 6f6e 2e6f  s://www.python.o
+000173a0: 7267 2f64 6576 2f70 6570 732f 7065 702d  rg/dev/peps/pep-
+000173b0: 3035 3236 2f29 2e20 4279 2064 6566 6175  0526/). By defau
+000173c0: 6c74 2c20 436f 636f 6e75 7420 636f 6d70  lt, Coconut comp
+000173d0: 696c 6573 2061 6c6c 2074 7970 6520 616e  iles all type an
+000173e0: 6e6f 7461 7469 6f6e 7320 696e 746f 2050  notations into P
+000173f0: 7974 686f 6e2d 322d 636f 6d70 6174 6962  ython-2-compatib
+00017400: 6c65 2074 7970 6520 636f 6d6d 656e 7473  le type comments
+00017410: 2e20 4966 2079 6f75 2077 616e 7420 746f  . If you want to
+00017420: 206b 6565 7020 7468 6520 7479 7065 2061   keep the type a
+00017430: 6e6e 6f74 6174 696f 6e73 2069 6e73 7465  nnotations inste
+00017440: 6164 2c20 7369 6d70 6c79 2070 6173 7320  ad, simply pass 
+00017450: 6120 602d 2d74 6172 6765 7460 2074 6861  a `--target` tha
+00017460: 7420 7375 7070 6f72 7473 2074 6865 6d2e  t supports them.
+00017470: 0d0a 0d0a 5369 6e63 6520 6e6f 7420 616c  ....Since not al
+00017480: 6c20 7375 7070 6f72 7465 6420 5079 7468  l supported Pyth
+00017490: 6f6e 2076 6572 7369 6f6e 7320 7375 7070  on versions supp
+000174a0: 6f72 7420 7468 6520 5b60 7479 7069 6e67  ort the [`typing
+000174b0: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+000174c0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+000174d0: 7261 7279 2f74 7970 696e 672e 6874 6d6c  rary/typing.html
+000174e0: 2920 6d6f 6475 6c65 2c20 436f 636f 6e75  ) module, Coconu
+000174f0: 7420 7072 6f76 6964 6573 2074 6865 205b  t provides the [
+00017500: 6054 5950 455f 4348 4543 4b49 4e47 605d  `TYPE_CHECKING`]
+00017510: 2823 7479 7065 5f63 6865 636b 696e 6729  (#type_checking)
+00017520: 2062 7569 6c74 2d69 6e20 666f 7220 6869   built-in for hi
+00017530: 6469 6e67 2079 6f75 7220 6074 7970 696e  ding your `typin
+00017540: 6760 2069 6d70 6f72 7473 2061 6e64 2060  g` imports and `
+00017550: 5479 7065 5661 7260 2064 6566 696e 6974  TypeVar` definit
+00017560: 696f 6e73 2066 726f 6d20 6265 696e 6720  ions from being 
+00017570: 6578 6563 7574 6564 2061 7420 7275 6e74  executed at runt
+00017580: 696d 652e 2043 6f63 6f6e 7574 2077 696c  ime. Coconut wil
+00017590: 6c20 616c 736f 2061 7574 6f6d 6174 6963  l also automatic
+000175a0: 616c 6c79 2075 7365 205b 6074 7970 696e  ally use [`typin
+000175b0: 675f 6578 7465 6e73 696f 6e73 605d 2868  g_extensions`](h
+000175c0: 7474 7073 3a2f 2f70 7970 692e 6f72 672f  ttps://pypi.org/
+000175d0: 7072 6f6a 6563 742f 7479 7069 6e67 2d65  project/typing-e
+000175e0: 7874 656e 7369 6f6e 732f 2920 6f76 6572  xtensions/) over
+000175f0: 2060 7479 7069 6e67 6020 6f62 6a65 6374   `typing` object
+00017600: 7320 6174 2072 756e 7469 6d65 2077 6865  s at runtime whe
+00017610: 6e20 696d 706f 7274 696e 6720 7468 656d  n importing them
+00017620: 2066 726f 6d20 6074 7970 696e 6760 2c20   from `typing`, 
+00017630: 6576 656e 2077 6865 6e20 7468 6579 2061  even when they a
+00017640: 7265 6e27 7420 6e61 7469 7665 6c79 2073  ren't natively s
+00017650: 7570 706f 7274 6564 206f 6e20 7468 6520  upported on the 
+00017660: 6375 7272 656e 7420 5079 7468 6f6e 2076  current Python v
+00017670: 6572 7369 6f6e 2028 7468 6973 2077 6f72  ersion (this wor
+00017680: 6b73 2065 7665 6e20 6966 2079 6f75 206a  ks even if you j
+00017690: 7573 7420 646f 2060 696d 706f 7274 2074  ust do `import t
+000176a0: 7970 696e 6760 2061 6e64 2074 6865 6e20  yping` and then 
+000176b0: 6074 7970 696e 672e 3c4f 626a 6563 743e  `typing.<Object>
+000176c0: 6029 2e0d 0a0d 0a46 7572 7468 6572 6d6f  `).....Furthermo
+000176d0: 7265 2c20 7768 656e 2063 6f6d 7069 6c69  re, when compili
+000176e0: 6e67 2074 7970 6520 616e 6e6f 7461 7469  ng type annotati
+000176f0: 6f6e 7320 746f 2050 7974 686f 6e20 3320  ons to Python 3 
+00017700: 7665 7273 696f 6e73 2077 6974 686f 7574  versions without
+00017710: 205b 5045 5020 3536 335d 2868 7474 7073   [PEP 563](https
+00017720: 3a2f 2f77 7777 2e70 7974 686f 6e2e 6f72  ://www.python.or
+00017730: 672f 6465 762f 7065 7073 2f70 6570 2d30  g/dev/peps/pep-0
+00017740: 3536 332f 2920 7375 7070 6f72 742c 2043  563/) support, C
+00017750: 6f63 6f6e 7574 2077 7261 7073 2061 6e6e  oconut wraps ann
+00017760: 6f74 6174 696f 6e20 696e 2073 7472 696e  otation in strin
+00017770: 6773 2074 6f20 7072 6576 656e 7420 7468  gs to prevent th
+00017780: 656d 2066 726f 6d20 6265 696e 6720 6576  em from being ev
+00017790: 616c 7561 7465 6420 6174 2072 756e 7469  aluated at runti
+000177a0: 6d65 2028 746f 2061 766f 6964 2074 6869  me (to avoid thi
+000177b0: 732c 2065 2e67 2e20 6966 2079 6f75 2077  s, e.g. if you w
+000177c0: 616e 7420 746f 2075 7365 2061 6e6e 6f74  ant to use annot
+000177d0: 6174 696f 6e73 2061 7420 7275 6e74 696d  ations at runtim
+000177e0: 652c 2060 2d2d 6e6f 2d77 7261 702d 7479  e, `--no-wrap-ty
+000177f0: 7065 7360 2077 696c 6c20 6469 7361 626c  pes` will disabl
+00017800: 6520 616c 6c20 7772 6170 7069 6e67 2c20  e all wrapping, 
+00017810: 696e 636c 7564 696e 6720 7669 6120 5045  including via PE
+00017820: 5020 3536 3320 7375 7070 6f72 7429 2e20  P 563 support). 
+00017830: 4f6e 6c79 206f 6e20 602d 2d74 6172 6765  Only on `--targe
+00017840: 7420 332e 3133 6020 646f 6573 2060 2d2d  t 3.13` does `--
+00017850: 6e6f 2d77 7261 702d 7479 7065 7360 2064  no-wrap-types` d
+00017860: 6f20 6e6f 7468 696e 672c 2073 696e 6365  o nothing, since
+00017870: 2074 6865 7265 205b 5045 5020 3634 395d   there [PEP 649]
+00017880: 2868 7474 7073 3a2f 2f70 6570 732e 7079  (https://peps.py
+00017890: 7468 6f6e 2e6f 7267 2f70 6570 2d30 3634  thon.org/pep-064
+000178a0: 392f 2920 7375 7070 6f72 7420 6973 2075  9/) support is u
+000178b0: 7365 6420 696e 7374 6561 642e 0d0a 0d0a  sed instead.....
+000178c0: 4164 6469 7469 6f6e 616c 6c79 2c20 436f  Additionally, Co
+000178d0: 636f 6e75 7420 6164 6473 2073 7065 6369  conut adds speci
+000178e0: 616c 2073 796e 7461 7820 666f 7220 6d61  al syntax for ma
+000178f0: 6b69 6e67 2074 7970 6520 616e 6e6f 7461  king type annota
+00017900: 7469 6f6e 7320 6561 7369 6572 2061 6e64  tions easier and
+00017910: 2073 696d 706c 6572 2074 6f20 7772 6974   simpler to writ
+00017920: 652e 2057 6865 6e20 696e 7369 6465 206f  e. When inside o
+00017930: 6620 6120 7479 7065 2061 6e6e 6f74 6174  f a type annotat
+00017940: 696f 6e2c 2043 6f63 6f6e 7574 2074 7265  ion, Coconut tre
+00017950: 6174 7320 6365 7274 6169 6e20 7379 6e74  ats certain synt
+00017960: 6178 2063 6f6e 7374 7275 6374 7320 6469  ax constructs di
+00017970: 6666 6572 656e 746c 792c 2063 6f6d 7069  fferently, compi
+00017980: 6c69 6e67 2074 6865 6d20 746f 2074 7970  ling them to typ
+00017990: 6520 616e 6e6f 7461 7469 6f6e 7320 696e  e annotations in
+000179a0: 7374 6561 6420 6f66 2077 6861 7420 7468  stead of what th
+000179b0: 6579 2077 6f75 6c64 206e 6f72 6d61 6c6c  ey would normall
+000179c0: 7920 7265 7072 6573 656e 742e 2053 7065  y represent. Spe
+000179d0: 6369 6669 6361 6c6c 792c 2043 6f63 6f6e  cifically, Cocon
+000179e0: 7574 2061 7070 6c69 6573 2074 6865 2066  ut applies the f
+000179f0: 6f6c 6c6f 7769 6e67 2074 7261 6e73 666f  ollowing transfo
+00017a00: 726d 6174 696f 6e73 3a0d 0a60 6060 636f  rmations:..```co
+00017a10: 636f 6e75 740d 0a41 207c 2042 0d0a 2020  conut..A | B..  
+00017a20: 2020 3d3e 2074 7970 696e 672e 556e 696f    => typing.Unio
+00017a30: 6e5b 412c 2042 5d0d 0a28 413b 2042 290d  n[A, B]..(A; B).
+00017a40: 0a20 2020 203d 3e20 7479 7069 6e67 2e54  .    => typing.T
+00017a50: 7570 6c65 5b41 2c20 425d 0d0a 413f 0d0a  uple[A, B]..A?..
+00017a60: 2020 2020 3d3e 2074 7970 696e 672e 4f70      => typing.Op
+00017a70: 7469 6f6e 616c 5b41 5d0d 0a41 5b5d 0d0a  tional[A]..A[]..
+00017a80: 2020 2020 3d3e 2074 7970 696e 672e 5365      => typing.Se
+00017a90: 7175 656e 6365 5b41 5d0d 0a41 245b 5d0d  quence[A]..A$[].
+00017aa0: 0a20 2020 203d 3e20 7479 7069 6e67 2e49  .    => typing.I
+00017ab0: 7465 7261 626c 655b 415d 0d0a 2829 202d  terable[A]..() -
+00017ac0: 3e20 3c72 6574 3e0d 0a20 2020 203d 3e20  > <ret>..    => 
+00017ad0: 7479 7069 6e67 2e43 616c 6c61 626c 655b  typing.Callable[
+00017ae0: 5b5d 2c20 3c72 6574 3e5d 0d0a 3c61 7267  [], <ret>]..<arg
+00017af0: 3e20 2d3e 203c 7265 743e 0d0a 2020 2020  > -> <ret>..    
+00017b00: 3d3e 2074 7970 696e 672e 4361 6c6c 6162  => typing.Callab
+00017b10: 6c65 5b5b 3c61 7267 3e5d 2c20 3c72 6574  le[[<arg>], <ret
+00017b20: 3e5d 0d0a 283c 6172 6773 3e29 202d 3e20  >]..(<args>) -> 
+00017b30: 3c72 6574 3e0d 0a20 2020 203d 3e20 7479  <ret>..    => ty
+00017b40: 7069 6e67 2e43 616c 6c61 626c 655b 5b3c  ping.Callable[[<
+00017b50: 6172 6773 3e5d 2c20 3c72 6574 3e5d 0d0a  args>], <ret>]..
+00017b60: 2d3e 203c 7265 743e 0d0a 2020 2020 3d3e  -> <ret>..    =>
+00017b70: 2074 7970 696e 672e 4361 6c6c 6162 6c65   typing.Callable
+00017b80: 5b2e 2e2e 2c20 3c72 6574 3e5d 0d0a 283c  [..., <ret>]..(<
+00017b90: 6172 6773 3e2c 202a 2a3c 5061 7261 6d53  args>, **<ParamS
+00017ba0: 7065 633e 2920 2d3e 203c 7265 743e 0d0a  pec>) -> <ret>..
+00017bb0: 2020 2020 3d3e 2074 7970 696e 672e 4361      => typing.Ca
+00017bc0: 6c6c 6162 6c65 5b74 7970 696e 672e 436f  llable[typing.Co
+00017bd0: 6e63 6174 656e 6174 655b 3c61 7267 733e  ncatenate[<args>
+00017be0: 2c20 3c50 6172 616d 5370 6563 3e5d 2c20  , <ParamSpec>], 
+00017bf0: 3c72 6574 3e5d 0d0a 6173 796e 6320 283c  <ret>]..async (<
+00017c00: 6172 6773 3e29 202d 3e20 3c72 6574 3e0d  args>) -> <ret>.
+00017c10: 0a20 2020 203d 3e20 7479 7069 6e67 2e43  .    => typing.C
+00017c20: 616c 6c61 626c 655b 5b3c 6172 6773 3e5d  allable[[<args>]
+00017c30: 2c20 7479 7069 6e67 2e41 7761 6974 6162  , typing.Awaitab
+00017c40: 6c65 5b3c 7265 743e 5d5d 0d0a 6060 600d  le[<ret>]]..```.
+00017c50: 0a77 6865 7265 2060 7479 7069 6e67 6020  .where `typing` 
+00017c60: 6973 2074 6865 2050 7974 686f 6e20 332e  is the Python 3.
+00017c70: 3520 6275 696c 742d 696e 205b 6074 7970  5 built-in [`typ
+00017c80: 696e 6760 206d 6f64 756c 655d 2868 7474  ing` module](htt
+00017c90: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00017ca0: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f74  .org/3/library/t
+00017cb0: 7970 696e 672e 6874 6d6c 292e 2046 6f72  yping.html). For
+00017cc0: 206d 6f72 6520 696e 666f 726d 6174 696f   more informatio
+00017cd0: 6e20 6f6e 2074 6865 2043 616c 6c61 626c  n on the Callabl
+00017ce0: 6520 7379 6e74 6178 2c20 7365 6520 5b50  e syntax, see [P
+00017cf0: 4550 2036 3737 5d28 6874 7470 733a 2f2f  EP 677](https://
+00017d00: 7065 7073 2e70 7974 686f 6e2e 6f72 672f  peps.python.org/
+00017d10: 7065 702d 3036 3737 292c 2077 6869 6368  pep-0677), which
+00017d20: 2043 6f63 6f6e 7574 2066 756c 6c79 2073   Coconut fully s
+00017d30: 7570 706f 7274 732e 0d0a 0d0a 4164 6469  upports.....Addi
+00017d40: 7469 6f6e 616c 6c79 2c20 6d61 6e79 206f  tionally, many o
+00017d50: 6620 436f 636f 6e75 7427 7320 5b6f 7065  f Coconut's [ope
+00017d60: 7261 746f 7220 6675 6e63 7469 6f6e 735d  rator functions]
+00017d70: 2823 6f70 6572 6174 6f72 2d66 756e 6374  (#operator-funct
+00017d80: 696f 6e73 2920 7769 6c6c 2063 6f6d 7069  ions) will compi
+00017d90: 6c65 2069 6e74 6f20 6571 7569 7661 6c65  le into equivale
+00017da0: 6e74 205b 6050 726f 746f 636f 6c60 735d  nt [`Protocol`s]
+00017db0: 2868 7474 7073 3a2f 2f64 6f63 732e 7079  (https://docs.py
+00017dc0: 7468 6f6e 2e6f 7267 2f33 2f6c 6962 7261  thon.org/3/libra
+00017dd0: 7279 2f74 7970 696e 672e 6874 6d6c 2374  ry/typing.html#t
+00017de0: 7970 696e 672e 5072 6f74 6f63 6f6c 2920  yping.Protocol) 
+00017df0: 696e 7374 6561 6420 7768 656e 2069 6e73  instead when ins
+00017e00: 6964 6520 6120 7479 7065 2061 6e6e 6f74  ide a type annot
+00017e10: 6174 696f 6e2e 2053 6565 2062 656c 6f77  ation. See below
+00017e20: 2066 6f72 2074 6865 2066 756c 6c20 6c69   for the full li
+00017e30: 7374 2061 6e64 2073 7065 6369 6669 6361  st and specifica
+00017e40: 7469 6f6e 2e0d 0a0d 0a5f 4e6f 7465 3a20  tion....._Note: 
+00017e50: 5468 6520 7472 616e 7366 6f72 6d61 7469  The transformati
+00017e60: 6f6e 2074 6f20 6055 6e69 6f6e 6020 6973  on to `Union` is
+00017e70: 206e 6f74 2064 6f6e 6520 6f6e 2050 7974   not done on Pyt
+00017e80: 686f 6e20 332e 3130 2061 7320 5079 7468  hon 3.10 as Pyth
+00017e90: 6f6e 2033 2e31 3020 6861 7320 6e61 7469  on 3.10 has nati
+00017ea0: 7665 205b 5045 5020 3630 345d 2868 7474  ve [PEP 604](htt
+00017eb0: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00017ec0: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+00017ed0: 2d30 3630 3429 2073 7570 706f 7274 2e5f  -0604) support._
+00017ee0: 0d0a 0d0a 546f 2075 7365 2074 6865 7365  ....To use these
+00017ef0: 2074 7261 6e73 666f 726d 6174 696f 6e73   transformations
+00017f00: 2069 6e20 6120 5b74 7970 6520 616c 6961   in a [type alia
+00017f10: 735d 2868 7474 7073 3a2f 2f70 6570 732e  s](https://peps.
+00017f20: 7079 7468 6f6e 2e6f 7267 2f70 6570 2d30  python.org/pep-0
+00017f30: 3438 342f 2374 7970 652d 616c 6961 7365  484/#type-aliase
+00017f40: 7329 2c20 7573 6520 7468 6520 7379 6e74  s), use the synt
+00017f50: 6178 0d0a 6060 600d 0a74 7970 6520 3c6e  ax..```..type <n
+00017f60: 616d 653e 203d 203c 7479 7065 3e0d 0a60  ame> = <type>..`
+00017f70: 6060 0d0a 7768 6963 6820 7769 6c6c 2061  ``..which will a
+00017f80: 6c6c 6f77 2060 3c74 7970 653e 6020 746f  llow `<type>` to
+00017f90: 2069 6e63 6c75 6465 2043 6f63 6f6e 7574   include Coconut
+00017fa0: 2773 2073 7065 6369 616c 2074 7970 6520  's special type 
+00017fb0: 616e 6e6f 7461 7469 6f6e 2073 796e 7461  annotation synta
+00017fc0: 7820 616e 6420 7479 7065 2060 3c6e 616d  x and type `<nam
+00017fd0: 653e 6020 6173 2061 205b 6074 7970 696e  e>` as a [`typin
+00017fe0: 672e 5479 7065 416c 6961 7360 5d28 6874  g.TypeAlias`](ht
+00017ff0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
+00018000: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
+00018010: 7479 7069 6e67 2e68 746d 6c23 7479 7069  typing.html#typi
+00018020: 6e67 2e54 7970 6541 6c69 6173 292e 2049  ng.TypeAlias). I
+00018030: 6620 796f 7520 7472 7920 746f 2069 6e73  f you try to ins
+00018040: 7465 6164 206a 7573 7420 646f 2061 206e  tead just do a n
+00018050: 616b 6564 2060 3c6e 616d 653e 203d 203c  aked `<name> = <
+00018060: 7479 7065 3e60 2074 7970 6520 616c 6961  type>` type alia
+00018070: 732c 2043 6f63 6f6e 7574 2077 6f6e 2774  s, Coconut won't
+00018080: 2062 6520 6162 6c65 2074 6f20 7465 6c6c   be able to tell
+00018090: 2079 6f75 2772 6520 6174 7465 6d70 7469   you're attempti
+000180a0: 6e67 2061 2074 7970 6520 616c 6961 7320  ng a type alias 
+000180b0: 616e 6420 7468 7573 2077 6f6e 2774 2061  and thus won't a
+000180c0: 7070 6c79 2061 6e79 206f 6620 7468 6520  pply any of the 
+000180d0: 6162 6f76 6520 7472 616e 7366 6f72 6d61  above transforma
+000180e0: 7469 6f6e 732e 0d0a 0d0a 5375 6368 2074  tions.....Such t
+000180f0: 7970 6520 616c 6961 7320 7374 6174 656d  ype alias statem
+00018100: 656e 7473 e280 9461 7320 7765 6c6c 2061  ents...as well a
+00018110: 7320 616c 6c20 6063 6c61 7373 602c 2060  s all `class`, `
+00018120: 6461 7461 602c 2061 6e64 2066 756e 6374  data`, and funct
+00018130: 696f 6e20 6465 6669 6e69 7469 6f6e 7320  ion definitions 
+00018140: 696e 2043 6f63 6f6e 7574 e280 9461 6c73  in Coconut...als
+00018150: 6f20 7375 7070 6f72 7420 436f 636f 6e75  o support Coconu
+00018160: 7427 7320 5b74 7970 6520 7061 7261 6d65  t's [type parame
+00018170: 7465 7220 7379 6e74 6178 5d28 2374 7970  ter syntax](#typ
+00018180: 652d 7061 7261 6d65 7465 722d 7379 6e74  e-parameter-synt
+00018190: 6178 292c 2061 6c6c 6f77 696e 6720 796f  ax), allowing yo
+000181a0: 7520 746f 2064 6f20 7468 696e 6773 206c  u to do things l
+000181b0: 696b 6520 6074 7970 6520 4f72 5374 725b  ike `type OrStr[
+000181c0: 545d 203d 2054 207c 2073 7472 602e 0d0a  T] = T | str`...
+000181d0: 0d0a 2323 2323 2320 5375 7070 6f72 7465  ..##### Supporte
+000181e0: 6420 5072 6f74 6f63 6f6c 730d 0a0d 0a55  d Protocols....U
+000181f0: 7369 6e67 2043 6f63 6f6e 7574 2773 205b  sing Coconut's [
+00018200: 6f70 6572 6174 6f72 2066 756e 6374 696f  operator functio
+00018210: 6e5d 2823 6f70 6572 6174 6f72 2d66 756e  n](#operator-fun
+00018220: 6374 696f 6e73 2920 7379 6e74 6178 2069  ctions) syntax i
+00018230: 6e73 6964 6520 6f66 2061 2074 7970 6520  nside of a type 
+00018240: 616e 6e6f 7461 7469 6f6e 2077 696c 6c20  annotation will 
+00018250: 696e 7374 6561 6420 7072 6f64 7563 6520  instead produce 
+00018260: 6120 5b60 5072 6f74 6f63 6f6c 605d 2868  a [`Protocol`](h
+00018270: 7474 7073 3a2f 2f64 6f63 732e 7079 7468  ttps://docs.pyth
+00018280: 6f6e 2e6f 7267 2f33 2f6c 6962 7261 7279  on.org/3/library
+00018290: 2f74 7970 696e 672e 6874 6d6c 2374 7970  /typing.html#typ
+000182a0: 696e 672e 5072 6f74 6f63 6f6c 2920 636f  ing.Protocol) co
+000182b0: 7272 6573 706f 6e64 696e 6720 746f 2074  rresponding to t
+000182c0: 6861 7420 6f70 6572 6174 6f72 2028 6f72  hat operator (or
+000182d0: 2072 6169 7365 2061 2073 796e 7461 7820   raise a syntax 
+000182e0: 6572 726f 7220 6966 206e 6f20 7375 6368  error if no such
+000182f0: 2060 5072 6f74 6f63 6f6c 6020 6973 2061   `Protocol` is a
+00018300: 7661 696c 6162 6c65 292e 2041 6c6c 2061  vailable). All a
+00018310: 7661 696c 6162 6c65 2060 5072 6f74 6f63  vailable `Protoc
+00018320: 6f6c 6073 2061 7265 206c 6973 7465 6420  ol`s are listed 
+00018330: 6265 6c6f 772e 0d0a 0d0a 466f 7220 7468  below.....For th
+00018340: 6520 6f70 6572 6174 6f72 2066 756e 6374  e operator funct
+00018350: 696f 6e73 0d0a 6060 600d 0a28 2b29 0d0a  ions..```..(+)..
+00018360: 282a 290d 0a28 2a2a 290d 0a28 2f29 0d0a  (*)..(**)..(/)..
+00018370: 282f 2f29 0d0a 2825 290d 0a28 2629 0d0a  (//)..(%)..(&)..
+00018380: 285e 290d 0a28 7c29 0d0a 283c 3c29 0d0a  (^)..(|)..(<<)..
+00018390: 283e 3e29 0d0a 2840 290d 0a60 6060 0d0a  (>>)..(@)..```..
+000183a0: 7468 6520 7265 7375 6c74 696e 6720 6050  the resulting `P
+000183b0: 726f 746f 636f 6c60 2069 730d 0a60 6060  rotocol` is..```
+000183c0: 636f 636f 6e75 740d 0a63 6c61 7373 2053  coconut..class S
+000183d0: 7570 706f 7274 734f 705b 542c 2055 2c20  upportsOp[T, U, 
+000183e0: 565d 2850 726f 746f 636f 6c29 3a0d 0a20  V](Protocol):.. 
+000183f0: 2020 2064 6566 205f 5f6f 705f 5f28 7365     def __op__(se
+00018400: 6c66 3a20 542c 206f 7468 6572 3a20 5529  lf: T, other: U)
+00018410: 202d 3e20 563a 0d0a 2020 2020 2020 2020   -> V:..        
+00018420: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+00018430: 6e74 6564 4572 726f 7228 2e2e 2e29 0d0a  ntedError(...)..
+00018440: 6060 600d 0a77 6865 7265 2060 5f5f 6f70  ```..where `__op
+00018450: 5f5f 6020 6973 2074 6865 206d 6167 6963  __` is the magic
+00018460: 206d 6574 686f 6420 636f 7272 6573 706f   method correspo
+00018470: 6e64 696e 6720 746f 2074 6861 7420 6f70  nding to that op
+00018480: 6572 6174 6f72 2e0d 0a0d 0a46 6f72 2074  erator.....For t
+00018490: 6865 206f 7065 7261 746f 7220 6675 6e63  he operator func
+000184a0: 7469 6f6e 2060 282d 2960 2c20 7468 6520  tion `(-)`, the 
+000184b0: 7265 7375 6c74 696e 6720 6050 726f 746f  resulting `Proto
+000184c0: 636f 6c60 2069 733a 0d0a 6060 6063 6f63  col` is:..```coc
+000184d0: 6f6e 7574 0d0a 636c 6173 7320 5375 7070  onut..class Supp
+000184e0: 6f72 7473 4d69 6e75 735b 542c 2055 2c20  ortsMinus[T, U, 
+000184f0: 565d 2850 726f 746f 636f 6c29 3a0d 0a20  V](Protocol):.. 
+00018500: 2020 2064 6566 205f 5f73 7562 5f5f 2873     def __sub__(s
+00018510: 656c 663a 2054 2c20 6f74 6865 723a 2055  elf: T, other: U
+00018520: 2920 2d3e 2056 3a0d 0a20 2020 2020 2020  ) -> V:..       
+00018530: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
+00018540: 656e 7465 6445 7272 6f72 0d0a 2020 2020  entedError..    
+00018550: 6465 6620 5f5f 6e65 675f 5f28 7365 6c66  def __neg__(self
+00018560: 3a20 5429 202d 3e20 563a 0d0a 2020 2020  : T) -> V:..    
+00018570: 2020 2020 7261 6973 6520 4e6f 7449 6d70      raise NotImp
+00018580: 6c65 6d65 6e74 6564 4572 726f 720d 0a60  lementedError..`
+00018590: 6060 0d0a 0d0a 466f 7220 7468 6520 6f70  ``....For the op
+000185a0: 6572 6174 6f72 2066 756e 6374 696f 6e20  erator function 
+000185b0: 6028 7e29 602c 2074 6865 2072 6573 756c  `(~)`, the resul
+000185c0: 7469 6e67 2060 5072 6f74 6f63 6f6c 6020  ting `Protocol` 
+000185d0: 6973 3a0d 0a60 6060 636f 636f 6e75 740d  is:..```coconut.
+000185e0: 0a63 6c61 7373 2053 7570 706f 7274 7349  .class SupportsI
+000185f0: 6e76 5b54 2c20 565d 2850 726f 746f 636f  nv[T, V](Protoco
+00018600: 6c29 3a0d 0a20 2020 2064 6566 205f 5f69  l):..    def __i
+00018610: 6e76 6572 745f 5f28 7365 6c66 3a20 5429  nvert__(self: T)
+00018620: 202d 3e20 563a 0d0a 2020 2020 2020 2020   -> V:..        
+00018630: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+00018640: 6e74 6564 4572 726f 7228 2e2e 2e29 0d0a  ntedError(...)..
+00018650: 6060 600d 0a0d 0a23 2323 2323 2060 4c69  ```....##### `Li
+00018660: 7374 6020 7673 2e20 6053 6571 7565 6e63  st` vs. `Sequenc
+00018670: 6560 0d0a 0d0a 496d 706f 7274 616e 746c  e`....Importantl
+00018680: 792c 206e 6f74 6520 7468 6174 2060 545b  y, note that `T[
+00018690: 5d60 2064 6f65 7320 6e6f 7420 6d61 7020  ]` does not map 
+000186a0: 6f6e 746f 2060 7479 7069 6e67 2e4c 6973  onto `typing.Lis
+000186b0: 745b 545d 6020 6275 7420 6f6e 746f 2060  t[T]` but onto `
+000186c0: 7479 7069 6e67 2e53 6571 7565 6e63 655b  typing.Sequence[
+000186d0: 545d 602e 2054 6869 7320 616c 6c6f 7773  T]`. This allows
+000186e0: 2074 6865 2072 6573 756c 7469 6e67 2074   the resulting t
+000186f0: 7970 6520 746f 2062 6520 636f 7661 7269  ype to be covari
+00018700: 616e 742c 2073 7563 6820 7468 6174 2069  ant, such that i
+00018710: 6620 6055 6020 6973 2061 2073 7562 7479  f `U` is a subty
+00018720: 7065 206f 6620 6054 602c 2074 6865 6e20  pe of `T`, then 
+00018730: 6055 5b5d 6020 6973 2061 2073 7562 7479  `U[]` is a subty
+00018740: 7065 206f 6620 6054 5b5d 602e 2041 6464  pe of `T[]`. Add
+00018750: 6974 696f 6e61 6c6c 792c 2060 5365 7175  itionally, `Sequ
+00018760: 656e 6365 5b54 5d60 2061 6c6c 6f77 7320  ence[T]` allows 
+00018770: 666f 7220 7475 706c 6573 2c20 616e 6420  for tuples, and 
+00018780: 7768 656e 2077 7269 7469 6e67 2069 6e20  when writing in 
+00018790: 616e 2069 6469 6f6d 6174 6963 2066 756e  an idiomatic fun
+000187a0: 6374 696f 6e61 6c20 7374 796c 652c 2061  ctional style, a
+000187b0: 7373 6967 6e6d 656e 7420 7368 6f75 6c64  ssignment should
+000187c0: 2062 6520 7261 7265 2061 6e64 2074 7570   be rare and tup
+000187d0: 6c65 7320 7368 6f75 6c64 2062 6520 636f  les should be co
+000187e0: 6d6d 6f6e 2e20 5573 696e 6720 6053 6571  mmon. Using `Seq
+000187f0: 7565 6e63 6560 2063 6f76 6572 7320 626f  uence` covers bo
+00018800: 7468 2063 6173 6573 2c20 6163 636f 6d6d  th cases, accomm
+00018810: 6f64 6174 696e 6720 7475 706c 6573 2061  odating tuples a
+00018820: 6e64 206c 6973 7473 2061 6e64 2070 7265  nd lists and pre
+00018830: 7665 6e74 696e 6720 696e 6465 7865 6420  venting indexed 
+00018840: 6173 7369 676e 6d65 6e74 2e20 5768 656e  assignment. When
+00018850: 2061 6e20 696e 6465 7865 6420 6173 7369   an indexed assi
+00018860: 676e 6d65 6e74 2069 7320 6174 7465 6d70  gnment is attemp
+00018870: 7465 6420 696e 746f 2061 2076 6172 6961  ted into a varia
+00018880: 626c 6520 7479 7065 6420 7769 7468 2060  ble typed with `
+00018890: 5365 7175 656e 6365 602c 204d 7950 7920  Sequence`, MyPy 
+000188a0: 7769 6c6c 2067 656e 6572 6174 6520 616e  will generate an
+000188b0: 2065 7272 6f72 3a0d 0a0d 0a60 6060 636f   error:....```co
+000188c0: 636f 6e75 740d 0a66 6f6f 3a20 696e 745b  conut..foo: int[
+000188d0: 5d20 3d20 5b30 2c20 312c 2032 2c20 332c  ] = [0, 1, 2, 3,
+000188e0: 2034 2c20 355d 0d0a 666f 6f5b 305d 203d   4, 5]..foo[0] =
+000188f0: 2031 2020 2023 204d 7950 7920 6572 726f   1   # MyPy erro
+00018900: 723a 2022 556e 7375 7070 6f72 7465 6420  r: "Unsupported 
+00018910: 7461 7267 6574 2066 6f72 2069 6e64 6578  target for index
+00018920: 6564 2061 7373 6967 6e6d 656e 7422 0d0a  ed assignment"..
+00018930: 6060 600d 0a0d 0a49 6620 796f 7520 7761  ```....If you wa
+00018940: 6e74 2074 6f20 7573 6520 604c 6973 7460  nt to use `List`
+00018950: 2069 6e73 7465 6164 2028 652e 672e 2069   instead (e.g. i
+00018960: 6620 796f 7520 7761 6e74 2074 6f20 7375  f you want to su
+00018970: 7070 6f72 7420 696e 6465 7865 6420 6173  pport indexed as
+00018980: 7369 676e 6d65 6e74 292c 2075 7365 2074  signment), use t
+00018990: 6865 2073 7461 6e64 6172 6420 5079 7468  he standard Pyth
+000189a0: 6f6e 2033 2e35 2076 6172 6961 626c 6520  on 3.5 variable 
+000189b0: 7479 7065 2061 6e6e 6f74 6174 696f 6e20  type annotation 
+000189c0: 7379 6e74 6178 3a20 6066 6f6f 3a20 4c69  syntax: `foo: Li
+000189d0: 7374 5b3c 7479 7065 3e5d 602e 0d0a 0d0a  st[<type>]`.....
+000189e0: 5f4e 6f74 653a 2054 6f20 6561 7369 6c79  _Note: To easily
+000189f0: 2076 6965 7720 796f 7572 2064 6566 696e   view your defin
+00018a00: 6564 2074 7970 6573 2c20 7365 6520 5b60  ed types, see [`
+00018a10: 7265 7665 616c 5f74 7970 6560 2061 6e64  reveal_type` and
+00018a20: 2060 7265 7665 616c 5f6c 6f63 616c 7360   `reveal_locals`
+00018a30: 5d28 2372 6576 6561 6c2d 7479 7065 2d61  ](#reveal-type-a
+00018a40: 6e64 2d72 6576 6561 6c2d 6c6f 6361 6c73  nd-reveal-locals
+00018a50: 292e 5f0d 0a0d 0a23 2323 2323 2045 7861  )._....##### Exa
+00018a60: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
+00018a70: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
+00018a80: 0d0a 6465 6620 696e 745f 6d61 7028 0d0a  ..def int_map(..
+00018a90: 2020 2020 663a 2069 6e74 202d 3e20 696e      f: int -> in
+00018aa0: 742c 0d0a 2020 2020 7873 3a20 696e 745b  t,..    xs: int[
+00018ab0: 5d2c 0d0a 2920 2d3e 2069 6e74 5b5d 203d  ],..) -> int[] =
+00018ac0: 0d0a 2020 2020 7873 207c 3e20 6d61 7024  ..    xs |> map$
+00018ad0: 2866 2920 7c3e 206c 6973 740d 0a0d 0a74  (f) |> list....t
+00018ae0: 7970 6520 4361 6e41 6464 416e 6453 7562  ype CanAddAndSub
+00018af0: 203d 2028 2b29 2026 3a20 282d 290d 0a60   = (+) &: (-)..`
+00018b00: 6060 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a  ``....**Python:*
+00018b10: 2a0d 0a60 6060 636f 636f 6e75 745f 7079  *..```coconut_py
+00018b20: 7468 6f6e 0d0a 696d 706f 7274 2074 7970  thon..import typ
+00018b30: 696e 6720 2023 2075 6e6c 696b 6520 7468  ing  # unlike th
+00018b40: 6973 2074 7970 696e 6720 696d 706f 7274  is typing import
+00018b50: 2c20 436f 636f 6e75 7420 7072 6f64 7563  , Coconut produc
+00018b60: 6573 2075 6e69 7665 7273 616c 2063 6f64  es universal cod
+00018b70: 650d 0a0d 0a64 6566 2069 6e74 5f6d 6170  e....def int_map
+00018b80: 280d 0a20 2020 2066 2c20 2023 2074 7970  (..    f,  # typ
+00018b90: 653a 2074 7970 696e 672e 4361 6c6c 6162  e: typing.Callab
+00018ba0: 6c65 5b5b 696e 745d 2c20 696e 745d 0d0a  le[[int], int]..
+00018bb0: 2020 2020 7873 2c20 2023 2074 7970 653a      xs,  # type:
+00018bc0: 2074 7970 696e 672e 5365 7175 656e 6365   typing.Sequence
+00018bd0: 5b69 6e74 5d0d 0a29 3a0d 0a20 2020 2023  [int]..):..    #
+00018be0: 2074 7970 653a 2028 2e2e 2e29 202d 3e20   type: (...) -> 
+00018bf0: 7479 7069 6e67 2e53 6571 7565 6e63 655b  typing.Sequence[
+00018c00: 696e 745d 0d0a 2020 2020 7265 7475 726e  int]..    return
+00018c10: 206c 6973 7428 6d61 7028 662c 2078 7329   list(map(f, xs)
+00018c20: 290d 0a0d 0a54 203d 2074 7970 696e 672e  )....T = typing.
+00018c30: 5479 7065 5661 7228 2254 222c 2069 6e66  TypeVar("T", inf
+00018c40: 6572 5f76 6172 6961 6e63 653d 5472 7565  er_variance=True
+00018c50: 290d 0a55 203d 2074 7970 696e 672e 5479  )..U = typing.Ty
+00018c60: 7065 5661 7228 2255 222c 2069 6e66 6572  peVar("U", infer
+00018c70: 5f76 6172 6961 6e63 653d 5472 7565 290d  _variance=True).
+00018c80: 0a56 203d 2074 7970 696e 672e 5479 7065  .V = typing.Type
+00018c90: 5661 7228 2256 222c 2069 6e66 6572 5f76  Var("V", infer_v
+00018ca0: 6172 6961 6e63 653d 5472 7565 290d 0a63  ariance=True)..c
+00018cb0: 6c61 7373 2043 616e 4164 6441 6e64 5375  lass CanAddAndSu
+00018cc0: 6228 7479 7069 6e67 2e50 726f 746f 636f  b(typing.Protoco
+00018cd0: 6c2c 2074 7970 696e 672e 4765 6e65 7269  l, typing.Generi
+00018ce0: 635b 542c 2055 2c20 565d 293a 0d0a 2020  c[T, U, V]):..  
+00018cf0: 2020 6465 6620 5f5f 6164 645f 5f28 7365    def __add__(se
+00018d00: 6c66 3a20 542c 206f 7468 6572 3a20 5529  lf: T, other: U)
+00018d10: 202d 3e20 563a 0d0a 2020 2020 2020 2020   -> V:..        
+00018d20: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+00018d30: 6e74 6564 4572 726f 720d 0a20 2020 2064  ntedError..    d
+00018d40: 6566 205f 5f73 7562 5f5f 2873 656c 663a  ef __sub__(self:
+00018d50: 2054 2c20 6f74 6865 723a 2055 2920 2d3e   T, other: U) ->
+00018d60: 2056 3a0d 0a20 2020 2020 2020 2072 6169   V:..        rai
+00018d70: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
+00018d80: 6445 7272 6f72 0d0a 2020 2020 6465 6620  dError..    def 
+00018d90: 5f5f 6e65 675f 5f28 7365 6c66 3a20 5429  __neg__(self: T)
+00018da0: 202d 3e20 563a 0d0a 2020 2020 2020 2020   -> V:..        
+00018db0: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+00018dc0: 6e74 6564 4572 726f 720d 0a60 6060 0d0a  ntedError..```..
+00018dd0: 0d0a 2323 2320 4d75 6c74 6964 696d 656e  ..### Multidimen
+00018de0: 7369 6f6e 616c 2041 7272 6179 204c 6974  sional Array Lit
+00018df0: 6572 616c 2f43 6f6e 6361 7465 6e61 7469  eral/Concatenati
+00018e00: 6f6e 2053 796e 7461 780d 0a0d 0a43 6f63  on Syntax....Coc
+00018e10: 6f6e 7574 2073 7570 706f 7274 7320 6d75  onut supports mu
+00018e20: 6c74 6964 696d 656e 7369 6f6e 616c 2061  ltidimensional a
+00018e30: 7272 6179 206c 6974 6572 616c 2061 6e64  rray literal and
+00018e40: 2061 7272 6179 205b 636f 6e63 6174 656e   array [concaten
+00018e50: 6174 696f 6e5d 2868 7474 7073 3a2f 2f6e  ation](https://n
+00018e60: 756d 7079 2e6f 7267 2f64 6f63 2f73 7461  umpy.org/doc/sta
+00018e70: 626c 652f 7265 6665 7265 6e63 652f 6765  ble/reference/ge
+00018e80: 6e65 7261 7465 642f 6e75 6d70 792e 636f  nerated/numpy.co
+00018e90: 6e63 6174 656e 6174 652e 6874 6d6c 292f  ncatenate.html)/
+00018ea0: 5b73 7461 636b 5d28 6874 7470 733a 2f2f  [stack](https://
+00018eb0: 6e75 6d70 792e 6f72 672f 646f 632f 7374  numpy.org/doc/st
+00018ec0: 6162 6c65 2f72 6566 6572 656e 6365 2f67  able/reference/g
+00018ed0: 656e 6572 6174 6564 2f6e 756d 7079 2e73  enerated/numpy.s
+00018ee0: 7461 636b 2e68 746d 6c29 2073 796e 7461  tack.html) synta
+00018ef0: 782e 0d0a 0d0a 4279 2064 6566 6175 6c74  x.....By default
+00018f00: 2c20 616c 6c20 6d75 6c74 6964 696d 656e  , all multidimen
+00018f10: 7369 6f6e 616c 2061 7272 6179 2073 796e  sional array syn
+00018f20: 7461 7820 7769 6c6c 2073 696d 706c 7920  tax will simply 
+00018f30: 6f70 6572 6174 6520 6f6e 2050 7974 686f  operate on Pytho
+00018f40: 6e20 6c69 7374 7320 6f66 206c 6973 7473  n lists of lists
+00018f50: 2028 6f72 2061 6e79 206e 6f6e 2d60 7374   (or any non-`st
+00018f60: 7260 2060 5365 7175 656e 6365 6029 2e20  r` `Sequence`). 
+00018f70: 486f 7765 7665 722c 2069 6620 5b60 6e75  However, if [`nu
+00018f80: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
+00018f90: 6567 7261 7469 6f6e 2920 6f62 6a65 6374  egration) object
+00018fa0: 7320 6172 6520 7573 6564 2c20 7468 6520  s are used, the 
+00018fb0: 6170 7072 6f70 7269 6174 6520 606e 756d  appropriate `num
+00018fc0: 7079 6020 6361 6c6c 7320 7769 6c6c 2062  py` calls will b
+00018fd0: 6520 6d61 6465 2069 6e73 7465 6164 2e20  e made instead. 
+00018fe0: 546f 2067 6976 6520 6375 7374 6f6d 206f  To give custom o
+00018ff0: 626a 6563 7473 206d 756c 7469 6469 6d65  bjects multidime
+00019000: 6e73 696f 6e61 6c20 6172 7261 7920 636f  nsional array co
+00019010: 6e63 6174 656e 6174 696f 6e20 7375 7070  ncatenation supp
+00019020: 6f72 742c 2064 6566 696e 6520 6074 7970  ort, define `typ
+00019030: 6528 6f62 6a29 2e5f 5f6d 6174 636f 6e63  e(obj).__matconc
+00019040: 6174 5f5f 6020 2873 686f 756c 6420 6265  at__` (should be
+00019050: 6861 7665 2061 7320 606e 702e 636f 6e63  have as `np.conc
+00019060: 6174 6029 2c20 606f 626a 2e6e 6469 6d60  at`), `obj.ndim`
+00019070: 2028 7368 6f75 6c64 2062 6568 6176 6520   (should behave 
+00019080: 6173 2060 6e70 2e6e 6461 7272 6179 2e6e  as `np.ndarray.n
+00019090: 6469 6d60 292c 2061 6e64 2060 6f62 6a2e  dim`), and `obj.
+000190a0: 7265 7368 6170 6560 2028 7368 6f75 6c64  reshape` (should
+000190b0: 2062 6568 6176 6520 6173 2060 6e70 2e6e   behave as `np.n
+000190c0: 6461 7272 6179 2e72 6573 6861 7065 6029  darray.reshape`)
+000190d0: 2e0d 0a0d 0a41 7320 6120 7369 6d70 6c65  .....As a simple
+000190e0: 2065 7861 6d70 6c65 2c20 3244 206d 6174   example, 2D mat
+000190f0: 7269 6365 7320 6361 6e20 6265 2063 6f6e  rices can be con
+00019100: 7374 7275 6374 6564 2062 7920 7365 7061  structed by sepa
+00019110: 7261 7469 6e67 2074 6865 2072 6f77 7320  rating the rows 
+00019120: 7769 7468 2060 3b3b 6020 696e 7369 6465  with `;;` inside
+00019130: 206f 6620 6120 6c69 7374 206c 6974 6572   of a list liter
+00019140: 616c 3a0d 0a60 6060 636f 636f 6e75 745f  al:..```coconut_
+00019150: 7079 636f 6e0d 0a3e 3e3e 205b 312c 2032  pycon..>>> [1, 2
+00019160: 203b 3b0d 0a20 2020 2020 332c 2034 5d0d   ;;..     3, 4].
+00019170: 0a0d 0a5b 5b31 2c20 325d 2c20 5b33 2c20  ...[[1, 2], [3, 
+00019180: 345d 5d0d 0a3e 3e3e 2069 6d70 6f72 7420  4]]..>>> import 
+00019190: 6e75 6d70 7920 6173 206e 700d 0a3e 3e3e  numpy as np..>>>
+000191a0: 206e 702e 6172 7261 7928 5b31 2c20 3220   np.array([1, 2 
+000191b0: 3b3b 2033 2c20 345d 290d 0a61 7272 6179  ;; 3, 4])..array
+000191c0: 285b 5b31 2c20 325d 2c0d 0a20 2020 2020  ([[1, 2],..     
+000191d0: 2020 5b33 2c20 345d 5d29 0d0a 6060 600d    [3, 4]])..```.
+000191e0: 0a41 7320 6361 6e20 6265 2073 6565 6e2c  .As can be seen,
+000191f0: 2060 6e70 2e61 7272 6179 6020 286f 7220   `np.array` (or 
+00019200: 6571 7569 7661 6c65 6e74 2920 6361 6e20  equivalent) can 
+00019210: 6265 2075 7365 6420 746f 2074 7572 6e20  be used to turn 
+00019220: 7468 6520 7265 7375 6c74 696e 6720 6c69  the resulting li
+00019230: 7374 206f 6620 6c69 7374 7320 696e 746f  st of lists into
+00019240: 2061 6e20 6163 7475 616c 2061 7272 6179   an actual array
+00019250: 2e20 5468 6973 2073 796e 7461 7820 776f  . This syntax wo
+00019260: 726b 7320 6265 6361 7573 6520 603b 3b60  rks because `;;`
+00019270: 2069 6e73 6964 6520 6f66 2061 206c 6973   inside of a lis
+00019280: 7420 6c69 7465 7261 6c20 6675 6e63 7469  t literal functi
+00019290: 6f6e 7320 6173 2061 2063 6f6e 6361 7465  ons as a concate
+000192a0: 6e61 7469 6f6e 2f73 7461 636b 2061 6c6f  nation/stack alo
+000192b0: 6e67 2074 6865 2060 2d32 6020 6178 6973  ng the `-2` axis
+000192c0: 2028 7769 7468 2074 6865 2069 6e6e 6572   (with the inner
+000192d0: 2061 7272 6179 7320 6265 696e 6720 6272   arrays being br
+000192e0: 6f61 6463 6173 7420 746f 2060 2831 2c20  oadcast to `(1, 
+000192f0: 3229 6020 6172 7261 7973 2062 6566 6f72  2)` arrays befor
+00019300: 6520 636f 6e63 6174 656e 6174 696f 6e29  e concatenation)
+00019310: 2e20 4e6f 7465 2074 6861 7420 7468 6973  . Note that this
+00019320: 2063 6f6e 6361 7465 6e61 7469 6f6e 2069   concatenation i
+00019330: 7320 646f 6e65 2065 6e74 6972 656c 7920  s done entirely 
+00019340: 696e 2050 7974 686f 6e20 6c69 7374 7320  in Python lists 
+00019350: 6f66 206c 6973 7473 2068 6572 652c 2073  of lists here, s
+00019360: 696e 6365 2074 6865 2060 6e70 2e61 7272  ince the `np.arr
+00019370: 6179 6020 6361 6c6c 2063 6f6d 6573 206f  ay` call comes o
+00019380: 6e6c 7920 6174 2074 6865 2065 6e64 2e0d  nly at the end..
+00019390: 0a0d 0a49 6e20 6765 6e65 7261 6c2c 2074  ...In general, t
+000193a0: 6865 206e 756d 6265 7220 6f66 2073 656d  he number of sem
+000193b0: 6963 6f6c 6f6e 7320 696e 6469 6361 7465  icolons indicate
+000193c0: 7320 7468 6520 6469 6d65 6e73 696f 6e20  s the dimension 
+000193d0: 6672 6f6d 2074 6865 2065 6e64 206f 6e20  from the end on 
+000193e0: 7768 6963 6820 746f 2063 6f6e 6361 7465  which to concate
+000193f0: 6e61 7465 2e20 5468 7573 2c20 603b 6020  nate. Thus, `;` 
+00019400: 696e 6469 6361 7465 7320 636f 6e61 7465  indicates conate
+00019410: 6e61 7469 6f6e 2061 6c6f 6e67 2074 6865  nation along the
+00019420: 2060 2d31 6020 6178 6973 2c20 603b 3b60   `-1` axis, `;;`
+00019430: 2061 6c6f 6e67 2074 6865 2060 2d32 6020   along the `-2` 
+00019440: 6178 6973 2c20 616e 6420 736f 206f 6e2e  axis, and so on.
+00019450: 2042 6566 6f72 6520 636f 6e63 6174 656e   Before concaten
+00019460: 6174 696f 6e2c 2061 7272 6179 7320 6172  ation, arrays ar
+00019470: 6520 616c 7761 7973 2062 726f 6164 6361  e always broadca
+00019480: 7374 2074 6f20 6120 7368 6170 6520 7768  st to a shape wh
+00019490: 6963 6820 6973 206c 6172 6765 2065 6e6f  ich is large eno
+000194a0: 7567 6820 746f 2061 6c6c 6f77 2074 6865  ugh to allow the
+000194b0: 2063 6f6e 6361 7465 6e61 7469 6f6e 2e0d   concatenation..
+000194c0: 0a0d 0a54 6875 732c 2069 6620 6061 6020  ...Thus, if `a` 
+000194d0: 6973 2061 2060 6e75 6d70 7960 2061 7272  is a `numpy` arr
+000194e0: 6179 2c20 605b 613b 2061 5d60 2069 7320  ay, `[a; a]` is 
+000194f0: 6571 7569 7661 6c65 6e74 2074 6f20 606e  equivalent to `n
+00019500: 702e 636f 6e63 6174 656e 6174 6528 2861  p.concatenate((a
+00019510: 2c20 6129 2c20 6178 6973 3d2d 3129 602c  , a), axis=-1)`,
+00019520: 2077 6869 6c65 2060 5b61 203b 3b20 615d   while `[a ;; a]
+00019530: 6020 776f 756c 6420 6265 2065 7175 6976  ` would be equiv
+00019540: 616c 656e 7420 746f 2061 2076 6572 7369  alent to a versi
+00019550: 6f6e 206f 6620 606e 702e 636f 6e63 6174  on of `np.concat
+00019560: 656e 6174 6528 2861 2c20 6129 2c20 6178  enate((a, a), ax
+00019570: 6973 3d2d 3229 6020 7468 6174 2061 6c73  is=-2)` that als
+00019580: 6f20 656e 7375 7265 7320 7468 6174 2060  o ensures that `
+00019590: 6160 2069 7320 6174 206c 6561 7374 2074  a` is at least t
+000195a0: 776f 2064 696d 656e 7369 6f6e 616c 2e20  wo dimensional. 
+000195b0: 466f 7220 6e6f 726d 616c 206c 6973 7473  For normal lists
+000195c0: 206f 6620 6c69 7374 732c 2074 6865 2062   of lists, the b
+000195d0: 6568 6176 696f 7220 6973 2074 6865 2073  ehavior is the s
+000195e0: 616d 652c 2062 7574 2069 7320 696d 706c  ame, but is impl
+000195f0: 656d 656e 7465 6420 7769 7468 6f75 7420  emented without 
+00019600: 616e 7920 606e 756d 7079 6020 6361 6c6c  any `numpy` call
+00019610: 732e 0d0a 0d0a 4966 206d 756c 7469 706c  s.....If multipl
+00019620: 6520 6469 6666 6572 656e 7420 636f 6e63  e different conc
+00019630: 6174 656e 6174 696f 6e20 6f70 6572 6174  atenation operat
+00019640: 6f72 7320 6172 6520 7573 6564 2c20 7468  ors are used, th
+00019650: 6520 6f70 6572 6174 6f72 7320 7769 7468  e operators with
+00019660: 2074 6865 206c 6561 7374 206e 756d 6265   the least numbe
+00019670: 7220 6f66 2073 656d 6963 6f6c 6f6e 7320  r of semicolons 
+00019680: 7769 6c6c 2062 696e 6420 6d6f 7374 2074  will bind most t
+00019690: 6967 6874 6c79 2e20 5468 7573 2c20 796f  ightly. Thus, yo
+000196a0: 7520 6361 6e20 7772 6974 6520 6120 3344  u can write a 3D
+000196b0: 2061 7272 6179 206c 6974 6572 616c 2061   array literal a
+000196c0: 733a 0d0a 6060 6063 6f63 6f6e 7574 5f70  s:..```coconut_p
+000196d0: 7963 6f6e 0d0a 3e3e 3e20 5b31 2c20 3220  ycon..>>> [1, 2 
+000196e0: 3b3b 0d0a 2020 2020 2033 2c20 340d 0a20  ;;..     3, 4.. 
+000196f0: 2020 2020 3b3b 3b0d 0a20 2020 2020 352c      ;;;..     5,
+00019700: 2036 203b 3b0d 0a20 2020 2020 372c 2038   6 ;;..     7, 8
+00019710: 5d0d 0a0d 0a5b 5b5b 312c 2032 5d2c 205b  ]....[[[1, 2], [
+00019720: 332c 2034 5d5d 2c20 5b5b 352c 2036 5d2c  3, 4]], [[5, 6],
+00019730: 205b 372c 2038 5d5d 5d0d 0a60 6060 0d0a   [7, 8]]]..```..
+00019740: 0d0a 2323 2323 2320 436f 6d70 6172 6973  ..##### Comparis
+00019750: 6f6e 2074 6f20 4a75 6c69 610d 0a0d 0a43  on to Julia....C
+00019760: 6f63 6f6e 7574 2773 206d 756c 7469 6469  oconut's multidi
+00019770: 6d65 6e73 696f 6e61 6c20 6172 7261 7920  mensional array 
+00019780: 7379 6e74 6178 2069 7320 6261 7365 6420  syntax is based 
+00019790: 6f6e 2074 6861 7420 6f66 205b 4a75 6c69  on that of [Juli
+000197a0: 615d 2868 7474 7073 3a2f 2f64 6f63 732e  a](https://docs.
+000197b0: 6a75 6c69 616c 616e 672e 6f72 672f 656e  julialang.org/en
+000197c0: 2f76 312f 6d61 6e75 616c 2f61 7272 6179  /v1/manual/array
+000197d0: 732f 236d 616e 2d61 7272 6179 2d6c 6974  s/#man-array-lit
+000197e0: 6572 616c 7329 2e20 5468 6520 7072 696d  erals). The prim
+000197f0: 6172 7920 6469 6666 6572 656e 6365 2062  ary difference b
+00019800: 6574 7765 656e 2043 6f63 6f6e 7574 2773  etween Coconut's
+00019810: 2073 796e 7461 7820 616e 6420 4a75 6c69   syntax and Juli
+00019820: 6127 7320 7379 6e74 6178 2069 7320 7468  a's syntax is th
+00019830: 6174 206d 756c 7469 6469 6d65 6e73 696f  at multidimensio
+00019840: 6e61 6c20 6172 7261 7973 2061 7265 2072  nal arrays are r
+00019850: 6f77 2d66 6972 7374 2069 6e20 436f 636f  ow-first in Coco
+00019860: 6e75 7420 2866 6f6c 6c6f 7769 6e67 2060  nut (following `
+00019870: 6e75 6d70 7960 292c 2062 7574 2063 6f6c  numpy`), but col
+00019880: 756d 6e2d 6669 7273 7420 696e 204a 756c  umn-first in Jul
+00019890: 6961 2e20 5468 7573 2c20 603b 6020 6973  ia. Thus, `;` is
+000198a0: 2076 6572 7469 6361 6c20 636f 6e63 6174   vertical concat
+000198b0: 656e 6174 696f 6e20 696e 204a 756c 6961  enation in Julia
+000198c0: 2062 7574 202a 2a68 6f72 697a 6f6e 7461   but **horizonta
+000198d0: 6c20 636f 6e63 6174 656e 6174 696f 6e2a  l concatenation*
+000198e0: 2a20 696e 2043 6f63 6f6e 7574 2061 6e64  * in Coconut and
+000198f0: 2060 3b3b 6020 6973 2068 6f72 697a 6f6e   `;;` is horizon
+00019900: 7461 6c20 636f 6e63 6174 656e 6174 696f  tal concatenatio
+00019910: 6e20 696e 204a 756c 6961 2062 7574 202a  n in Julia but *
+00019920: 2a76 6572 7469 6361 6c20 636f 6e63 6174  *vertical concat
+00019930: 656e 6174 696f 6e2a 2a20 696e 2043 6f63  enation** in Coc
+00019940: 6f6e 7574 2e0d 0a0d 0a23 2323 2323 2045  onut.....##### E
+00019950: 7861 6d70 6c65 730d 0a0d 0a2a 2a43 6f63  xamples....**Coc
+00019960: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+00019970: 6e75 745f 7079 636f 6e0d 0a3e 3e3e 205b  nut_pycon..>>> [
+00019980: 5b31 3b3b 325d 203b 205b 333b 3b34 5d5d  [1;;2] ; [3;;4]]
+00019990: 0d0a 5b5b 312c 2033 5d2c 205b 322c 2034  ..[[1, 3], [2, 4
+000199a0: 5d5d 0d0a 6060 600d 0a5f 4172 7261 7920  ]]..```.._Array 
+000199b0: 6c69 7465 7261 6c73 2063 616e 2062 6520  literals can be 
+000199c0: 7772 6974 7465 6e20 696e 2063 6f6c 756d  written in colum
+000199d0: 6e2d 6669 7273 7420 6f72 6465 7220 6966  n-first order if
+000199e0: 2074 6865 2063 6f6c 756d 6e73 2061 7265   the columns are
+000199f0: 2066 6972 7374 2063 7265 6174 6564 2076   first created v
+00019a00: 6961 2076 6572 7469 6361 6c20 636f 6e63  ia vertical conc
+00019a10: 6174 656e 6174 696f 6e20 2860 3b3b 6029  atenation (`;;`)
+00019a20: 2061 6e64 2074 6865 6e20 6a6f 696e 6564   and then joined
+00019a30: 2076 6961 2068 6f72 697a 6f6e 7461 6c20   via horizontal 
+00019a40: 636f 6e63 6174 656e 6174 696f 6e20 2860  concatenation (`
+00019a50: 3b60 292e 5f0d 0a0d 0a60 6060 636f 636f  ;`)._....```coco
+00019a60: 6e75 745f 7079 636f 6e0d 0a3e 3e3e 205b  nut_pycon..>>> [
+00019a70: 7261 6e67 6528 3329 207c 3e20 6c69 7374  range(3) |> list
+00019a80: 203b 3b20 782b 3120 666f 7220 7820 696e   ;; x+1 for x in
+00019a90: 2072 616e 6765 2833 295d 0d0a 5b5b 302c   range(3)]..[[0,
+00019aa0: 2031 2c20 325d 2c20 5b31 2c20 322c 2033   1, 2], [1, 2, 3
+00019ab0: 5d5d 0d0a 6060 600d 0a5f 4172 6269 7472  ]]..```.._Arbitr
+00019ac0: 6172 7920 6578 7072 6573 7369 6f6e 732c  ary expressions,
+00019ad0: 2069 6e63 6c75 6469 6e67 2063 6f6d 7072   including compr
+00019ae0: 6568 656e 7369 6f6e 732c 2061 7265 2061  ehensions, are a
+00019af0: 6c6c 6f77 6564 2069 6e20 6d75 6c74 6964  llowed in multid
+00019b00: 696d 656e 7369 6f6e 616c 2061 7272 6179  imensional array
+00019b10: 206c 6974 6572 616c 732e 5f0d 0a0d 0a60   literals._....`
+00019b20: 6060 636f 636f 6e75 745f 7079 636f 6e0d  ``coconut_pycon.
+00019b30: 0a3e 3e3e 2069 6d70 6f72 7420 6e75 6d70  .>>> import nump
+00019b40: 7920 6173 206e 700d 0a3e 3e3e 2061 203d  y as np..>>> a =
+00019b50: 206e 702e 6172 7261 7928 5b31 2c20 3220   np.array([1, 2 
+00019b60: 3b3b 2033 2c20 345d 290d 0a3e 3e3e 205b  ;; 3, 4])..>>> [
+00019b70: 6120 3b20 615d 0d0a 6172 7261 7928 5b5b  a ; a]..array([[
+00019b80: 312c 2032 2c20 312c 2032 5d2c 0d0a 2020  1, 2, 1, 2],..  
+00019b90: 2020 2020 205b 332c 2034 2c20 332c 2034       [3, 4, 3, 4
+00019ba0: 5d5d 290d 0a3e 3e3e 205b 6120 3b3b 2061  ]])..>>> [a ;; a
+00019bb0: 5d0d 0a61 7272 6179 285b 5b31 2c20 325d  ]..array([[1, 2]
+00019bc0: 2c0d 0a20 2020 2020 2020 5b33 2c20 345d  ,..       [3, 4]
+00019bd0: 2c0d 0a20 2020 2020 2020 5b31 2c20 325d  ,..       [1, 2]
+00019be0: 2c0d 0a20 2020 2020 2020 5b33 2c20 345d  ,..       [3, 4]
+00019bf0: 5d29 0d0a 3e3e 3e20 5b61 203b 3b3b 2061  ])..>>> [a ;;; a
+00019c00: 5d0d 0a61 7272 6179 285b 5b5b 312c 2032  ]..array([[[1, 2
+00019c10: 5d2c 0d0a 2020 2020 2020 2020 5b33 2c20  ],..        [3, 
+00019c20: 345d 5d2c 0d0a 0d0a 2020 2020 2020 205b  4]],....       [
+00019c30: 5b31 2c20 325d 2c0d 0a20 2020 2020 2020  [1, 2],..       
+00019c40: 205b 332c 2034 5d5d 5d29 0d0a 6060 600d   [3, 4]]])..```.
+00019c50: 0a5f 4765 6e65 7261 6c20 7368 6f77 6361  ._General showca
+00019c60: 7365 206f 6620 686f 7720 7468 6520 6469  se of how the di
+00019c70: 6666 6572 656e 7420 636f 6e63 6174 656e  fferent concaten
+00019c80: 6174 696f 6e20 6f70 6572 6174 6f72 7320  ation operators 
+00019c90: 776f 726b 2075 7369 6e67 2060 6e75 6d70  work using `nump
+00019ca0: 7960 2061 7272 6179 732e 5f0d 0a0d 0a2a  y` arrays._....*
+00019cb0: 2a50 7974 686f 6e3a 2a2a 205f 5468 6520  *Python:** _The 
+00019cc0: 6571 7569 7661 6c65 6e74 2050 7974 686f  equivalent Pytho
+00019cd0: 6e20 6172 7261 7920 6c69 7465 7261 6c73  n array literals
+00019ce0: 2063 616e 2062 6520 7365 656e 2069 6e20   can be seen in 
+00019cf0: 7468 6520 7072 696e 7465 6420 7265 7072  the printed repr
+00019d00: 6573 656e 7461 7469 6f6e 7320 696e 2065  esentations in e
+00019d10: 6163 6820 6578 616d 706c 652e 5f0d 0a0d  ach example._...
+00019d20: 0a23 2323 204c 617a 7920 4c69 7374 730d  .### Lazy Lists.
+00019d30: 0a0d 0a43 6f63 6f6e 7574 2073 7570 706f  ...Coconut suppo
+00019d40: 7274 7320 7468 6520 6372 6561 7469 6f6e  rts the creation
+00019d50: 206f 6620 6c61 7a79 206c 6973 7473 2c20   of lazy lists, 
+00019d60: 7768 6572 6520 7468 6520 636f 6e74 656e  where the conten
+00019d70: 7473 2069 6e20 7468 6520 6c69 7374 2077  ts in the list w
+00019d80: 696c 6c20 6265 2074 7265 6174 6564 2061  ill be treated a
+00019d90: 7320 616e 2069 7465 7261 746f 7220 616e  s an iterator an
+00019da0: 6420 6e6f 7420 6576 616c 7561 7465 6420  d not evaluated 
+00019db0: 756e 7469 6c20 7468 6579 2061 7265 206e  until they are n
+00019dc0: 6565 6465 642e 2055 6e6c 696b 6520 6e6f  eeded. Unlike no
+00019dd0: 726d 616c 2069 7465 7261 746f 7273 2c20  rmal iterators, 
+00019de0: 686f 7765 7665 722c 206c 617a 7920 6c69  however, lazy li
+00019df0: 7374 7320 6361 6e20 6265 2069 7465 7261  sts can be itera
+00019e00: 7465 6420 6f76 6572 206d 756c 7469 706c  ted over multipl
+00019e10: 6520 7469 6d65 7320 616e 6420 7374 696c  e times and stil
+00019e20: 6c20 7265 7475 726e 2074 6865 2073 616d  l return the sam
+00019e30: 6520 7265 7375 6c74 2e20 4c61 7a79 206c  e result. Lazy l
+00019e40: 6973 7473 2063 616e 2062 6520 6372 6561  ists can be crea
+00019e50: 7465 6420 696e 2043 6f63 6f6e 7574 2073  ted in Coconut s
+00019e60: 696d 706c 7920 6279 2073 7572 726f 756e  imply by surroun
+00019e70: 6469 6e67 2061 2063 6f6d 6d61 2d73 6570  ding a comma-sep
+00019e80: 6172 6174 6564 206c 6973 7420 6f66 2069  arated list of i
+00019e90: 7465 6d73 2077 6974 6820 6028 7c60 2061  tems with `(|` a
+00019ea0: 6e64 2060 7c29 6020 2873 6f2d 6361 6c6c  nd `|)` (so-call
+00019eb0: 6564 2022 6261 6e61 6e61 2062 7261 636b  ed "banana brack
+00019ec0: 6574 7322 2920 696e 7374 6561 6420 6f66  ets") instead of
+00019ed0: 2060 5b60 2061 6e64 2060 5d60 2066 6f72   `[` and `]` for
+00019ee0: 2061 206c 6973 7420 6f72 2060 2860 2061   a list or `(` a
+00019ef0: 6e64 2060 2960 2066 6f72 2061 2074 7570  nd `)` for a tup
+00019f00: 6c65 2e0d 0a0d 0a4c 617a 7920 6c69 7374  le.....Lazy list
+00019f10: 7320 7573 6520 5b72 6569 7465 7261 626c  s use [reiterabl
+00019f20: 655d 2823 7265 6974 6572 6162 6c65 2920  e](#reiterable) 
+00019f30: 756e 6465 7220 7468 6520 686f 6f64 2074  under the hood t
+00019f40: 6f20 656e 6162 6c65 2074 6865 6d20 746f  o enable them to
+00019f50: 2062 6520 6974 6572 6174 6564 206f 7665   be iterated ove
+00019f60: 7220 6d75 6c74 6970 6c65 2074 696d 6573  r multiple times
+00019f70: 2e20 4c61 7a79 206c 6973 7473 2077 696c  . Lazy lists wil
+00019f80: 6c20 6576 656e 2063 6f6e 7469 6e75 6520  l even continue 
+00019f90: 746f 2062 6520 7265 6974 6572 6162 6c65  to be reiterable
+00019fa0: 2077 6865 6e20 636f 6d62 696e 6564 2077   when combined w
+00019fb0: 6974 6820 5b6c 617a 7920 6368 6169 6e69  ith [lazy chaini
+00019fc0: 6e67 5d28 2369 7465 7261 746f 722d 6368  ng](#iterator-ch
+00019fd0: 6169 6e69 6e67 292e 0d0a 0d0a 2323 2323  aining).....####
+00019fe0: 2320 5261 7469 6f6e 616c 650d 0a0d 0a4c  # Rationale....L
+00019ff0: 617a 7920 6c69 7374 732c 2077 6865 7265  azy lists, where
+0001a000: 2073 6571 7565 6e63 6573 2061 7265 206f   sequences are o
+0001a010: 6e6c 7920 6576 616c 7561 7465 6420 7768  nly evaluated wh
+0001a020: 656e 2074 6865 6972 2063 6f6e 7465 6e74  en their content
+0001a030: 7320 6172 6520 7265 7175 6573 7465 642c  s are requested,
+0001a040: 2061 7265 2061 206d 6169 6e73 7461 7920   are a mainstay 
+0001a050: 6f66 2066 756e 6374 696f 6e61 6c20 7072  of functional pr
+0001a060: 6f67 7261 6d6d 696e 672c 2061 6c6c 6f77  ogramming, allow
+0001a070: 696e 6720 666f 7220 6479 6e61 6d69 6320  ing for dynamic 
+0001a080: 6576 616c 7561 7469 6f6e 206f 6620 7468  evaluation of th
+0001a090: 6520 6c69 7374 2773 2063 6f6e 7465 6e74  e list's content
+0001a0a0: 732e 0d0a 0d0a 2323 2323 2320 4578 616d  s.....##### Exam
+0001a0b0: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0001a0c0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0001a0d0: 0a28 7c20 7072 696e 7428 2268 656c 6c6f  .(| print("hello
+0001a0e0: 2c22 292c 2070 7269 6e74 2822 776f 726c  ,"), print("worl
+0001a0f0: 6421 2229 207c 2920 7c3e 2063 6f6e 7375  d!") |) |> consu
+0001a100: 6d65 0d0a 6060 600d 0a0d 0a2a 2a50 7974  me..```....**Pyt
+0001a110: 686f 6e3a 2a2a 0d0a 5f43 616e 2774 2062  hon:**.._Can't b
+0001a120: 6520 646f 6e65 2077 6974 686f 7574 2061  e done without a
+0001a130: 2063 6f6d 706c 6963 6174 6564 2069 7465   complicated ite
+0001a140: 7261 746f 7220 636f 6d70 7265 6865 6e73  rator comprehens
+0001a150: 696f 6e20 696e 2070 6c61 6365 206f 6620  ion in place of 
+0001a160: 7468 6520 6c61 7a79 206c 6973 742e 2053  the lazy list. S
+0001a170: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+0001a180: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+0001a190: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+0001a1a0: 2323 2320 496d 706c 6963 6974 2046 756e  ### Implicit Fun
+0001a1b0: 6374 696f 6e20 4170 706c 6963 6174 696f  ction Applicatio
+0001a1c0: 6e20 616e 6420 436f 6566 6669 6369 656e  n and Coefficien
+0001a1d0: 7473 0d0a 0d0a 436f 636f 6e75 7420 7375  ts....Coconut su
+0001a1e0: 7070 6f72 7473 2069 6d70 6c69 6369 7420  pports implicit 
+0001a1f0: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
+0001a200: 7469 6f6e 206f 6620 7468 6520 666f 726d  tion of the form
+0001a210: 2060 6620 7820 7960 2c20 7768 6963 6820   `f x y`, which 
+0001a220: 6973 2063 6f6d 7069 6c65 6420 746f 2060  is compiled to `
+0001a230: 6628 782c 2079 2960 2028 6e6f 7465 3a20  f(x, y)` (note: 
+0001a240: 2a2a 6e6f 742a 2a20 6066 2878 2928 7929  **not** `f(x)(y)
+0001a250: 6020 6173 2069 7320 636f 6d6d 6f6e 2069  ` as is common i
+0001a260: 6e20 6d61 6e79 206c 616e 6775 6167 6573  n many languages
+0001a270: 2077 6974 6820 6175 746f 6d61 7469 6320   with automatic 
+0001a280: 6375 7272 7969 6e67 292e 0d0a 0d0a 4164  currying).....Ad
+0001a290: 6469 7469 6f6e 616c 6c79 2c20 6966 2074  ditionally, if t
+0001a2a0: 6865 2066 6972 7374 2061 7267 756d 656e  he first argumen
+0001a2b0: 7420 6973 206e 6f74 2063 616c 6c61 626c  t is not callabl
+0001a2c0: 652c 2061 6e64 2069 7320 696e 7374 6561  e, and is instea
+0001a2d0: 6420 616e 2060 696e 7460 2c20 6066 6c6f  d an `int`, `flo
+0001a2e0: 6174 602c 2060 636f 6d70 6c65 7860 2c20  at`, `complex`, 
+0001a2f0: 6f72 205b 606e 756d 7079 605d 2823 6e75  or [`numpy`](#nu
+0001a300: 6d70 792d 696e 7465 6772 6174 696f 6e29  mpy-integration)
+0001a310: 206f 626a 6563 742c 2074 6865 6e20 7468   object, then th
+0001a320: 6520 7265 7375 6c74 2069 7320 6d75 6c74  e result is mult
+0001a330: 6970 6c69 6361 7469 6f6e 2072 6174 6865  iplication rathe
+0001a340: 7220 7468 616e 2066 756e 6374 696f 6e20  r than function 
+0001a350: 6170 706c 6963 6174 696f 6e2c 2073 7563  application, suc
+0001a360: 6820 7468 6174 2060 3220 7860 2069 7320  h that `2 x` is 
+0001a370: 6571 7569 7661 6c65 6e74 2074 6f20 6032  equivalent to `2
+0001a380: 2a78 602e 0d0a 0d0a 5468 6f75 6768 2074  *x`.....Though t
+0001a390: 6865 2066 6972 7374 2069 7465 6d20 6d61  he first item ma
+0001a3a0: 7920 6265 2061 6e79 2061 746f 6d2c 2066  y be any atom, f
+0001a3b0: 6f6c 6c6f 7769 6e67 2061 7267 756d 656e  ollowing argumen
+0001a3c0: 7473 2061 7265 2068 6967 686c 7920 7265  ts are highly re
+0001a3d0: 7374 7269 6374 6564 2c20 616e 6420 6d75  stricted, and mu
+0001a3e0: 7374 2062 653a 0d0a 2d20 7661 7269 6162  st be:..- variab
+0001a3f0: 6c65 732f 6174 7472 6962 7574 6573 2028  les/attributes (
+0001a400: 652e 672e 2060 612e 6260 292c 0d0a 2d20  e.g. `a.b`),..- 
+0001a410: 6c69 7465 7261 6c20 636f 6e73 7461 6e74  literal constant
+0001a420: 7320 2865 2e67 2e20 6054 7275 6560 292c  s (e.g. `True`),
+0001a430: 0d0a 2d20 6e75 6d62 6572 206c 6974 6572  ..- number liter
+0001a440: 616c 7320 2865 2e67 2e20 6031 2e35 6029  als (e.g. `1.5`)
+0001a450: 2c20 6f72 0d0a 2d20 6f6e 6520 6f66 2074  , or..- one of t
+0001a460: 6865 2061 626f 7665 2066 6f6c 6c6f 7765  he above followe
+0001a470: 6420 6279 2061 6e20 6578 706f 6e65 6e74  d by an exponent
+0001a480: 2028 652e 672e 2060 612a 2a2d 3560 292e   (e.g. `a**-5`).
+0001a490: 0d0a 0d0a 466f 7220 6578 616d 706c 652c  ....For example,
+0001a4a0: 2060 2866 202e 2e20 6729 2078 2031 6020   `(f .. g) x 1` 
+0001a4b0: 7769 6c6c 2077 6f72 6b2c 2062 7574 2060  will work, but `
+0001a4c0: 6620 7820 5b31 5d60 2c20 6066 2078 2028  f x [1]`, `f x (
+0001a4d0: 312b 3229 602c 2061 6e64 2060 6620 2261  1+2)`, and `f "a
+0001a4e0: 6263 2260 2077 696c 6c20 6e6f 742e 0d0a  bc"` will not...
+0001a4f0: 0d0a 496d 706c 6963 6974 2066 756e 6374  ..Implicit funct
+0001a500: 696f 6e20 6170 706c 6963 6174 696f 6e20  ion application 
+0001a510: 616e 6420 636f 6566 6669 6369 656e 7420  and coefficient 
+0001a520: 7379 6e74 6178 2069 7320 6f6e 6c79 2069  syntax is only i
+0001a530: 6e74 656e 6465 6420 666f 7220 7369 6d70  ntended for simp
+0001a540: 6c65 2075 7365 2063 6173 6573 2e20 466f  le use cases. Fo
+0001a550: 7220 6d6f 7265 2063 6f6d 706c 6578 2063  r more complex c
+0001a560: 6173 6573 2c20 7573 6520 7468 6520 7374  ases, use the st
+0001a570: 616e 6461 7264 206d 756c 7469 706c 6963  andard multiplic
+0001a580: 6174 696f 6e20 6f70 6572 6174 6f72 2060  ation operator `
+0001a590: 2a60 2c20 7374 616e 6461 7264 2066 756e  *`, standard fun
+0001a5a0: 6374 696f 6e20 6170 706c 6963 6174 696f  ction applicatio
+0001a5b0: 6e2c 206f 7220 5b70 6970 6573 5d28 2370  n, or [pipes](#p
+0001a5c0: 6970 6573 292e 0d0a 0d0a 496d 706c 6963  ipes).....Implic
+0001a5d0: 6974 2066 756e 6374 696f 6e20 6170 706c  it function appl
+0001a5e0: 6963 6174 696f 6e20 616e 6420 636f 6566  ication and coef
+0001a5f0: 6669 6369 656e 7420 7379 6e74 6178 2068  ficient syntax h
+0001a600: 6173 2061 206c 6f77 6572 2070 7265 6365  as a lower prece
+0001a610: 6465 6e63 6520 7468 616e 2060 2a2a 6020  dence than `**` 
+0001a620: 6275 7420 6120 6869 6768 6572 2070 7265  but a higher pre
+0001a630: 6365 6465 6e63 6520 7468 616e 2075 6e61  cedence than una
+0001a640: 7279 206f 7065 7261 746f 7273 2e20 4173  ry operators. As
+0001a650: 2061 2072 6573 756c 742c 2060 3220 782a   a result, `2 x*
+0001a660: 2a32 202b 2033 2078 6020 6973 2065 7175  *2 + 3 x` is equ
+0001a670: 6976 616c 656e 7420 746f 2060 3220 2a20  ivalent to `2 * 
+0001a680: 782a 2a32 202b 2033 202a 2078 602e 0d0a  x**2 + 3 * x`...
+0001a690: 0d0a 4475 6520 746f 2070 6f74 656e 7469  ..Due to potenti
+0001a6a0: 616c 2063 6f6e 6675 7369 6f6e 2c20 736f  al confusion, so
+0001a6b0: 6d65 2073 796e 7461 6374 6963 2063 6f6e  me syntactic con
+0001a6c0: 7374 7275 6374 7320 6172 6520 6578 706c  structs are expl
+0001a6d0: 6963 6974 6c79 2064 6973 616c 6c6f 7765  icitly disallowe
+0001a6e0: 6420 696e 2069 6d70 6c69 6369 7420 6675  d in implicit fu
+0001a6f0: 6e63 7469 6f6e 2061 7070 6c69 6361 7469  nction applicati
+0001a700: 6f6e 2061 6e64 2063 6f65 6666 6963 6965  on and coefficie
+0001a710: 6e74 2073 796e 7461 782e 2053 7065 6369  nt syntax. Speci
+0001a720: 6669 6361 6c6c 793a 0d0a 2d20 5374 7269  fically:..- Stri
+0001a730: 6e67 7320 6172 6520 616c 7761 7973 2064  ngs are always d
+0001a740: 6973 616c 6c6f 7765 6420 6576 6572 7977  isallowed everyw
+0001a750: 6865 7265 2069 6e20 696d 706c 6963 6974  here in implicit
+0001a760: 2066 756e 6374 696f 6e20 6170 706c 6963   function applic
+0001a770: 6174 696f 6e20 2f20 636f 6566 6669 6369  ation / coeffici
+0001a780: 656e 7420 7379 6e74 6178 2064 7565 2074  ent syntax due t
+0001a790: 6f20 636f 6e66 6c69 6374 696e 6720 7769  o conflicting wi
+0001a7a0: 7468 205b 5079 7468 6f6e 2773 2069 6d70  th [Python's imp
+0001a7b0: 6c69 6369 7420 7374 7269 6e67 2063 6f6e  licit string con
+0001a7c0: 6361 7465 6e61 7469 6f6e 5d28 6874 7470  catenation](http
+0001a7d0: 733a 2f2f 7374 6163 6b6f 7665 7266 6c6f  s://stackoverflo
+0001a7e0: 772e 636f 6d2f 7175 6573 7469 6f6e 732f  w.com/questions/
+0001a7f0: 3138 3834 3237 3739 2f73 7472 696e 672d  18842779/string-
+0001a800: 636f 6e63 6174 656e 6174 696f 6e2d 7769  concatenation-wi
+0001a810: 7468 6f75 742d 6f70 6572 6174 6f72 292e  thout-operator).
+0001a820: 0d0a 2d20 4d75 6c74 6970 6c79 696e 6720  ..- Multiplying 
+0001a830: 7477 6f20 6f72 206d 6f72 6520 6e75 6d65  two or more nume
+0001a840: 7269 6320 6c69 7465 7261 6c73 2077 6974  ric literals wit
+0001a850: 6820 696d 706c 6963 6974 2063 6f65 6666  h implicit coeff
+0001a860: 6963 6965 6e74 2073 796e 7461 7820 6973  icient syntax is
+0001a870: 2070 726f 6869 6269 7465 642c 2073 6f20   prohibited, so 
+0001a880: 6031 3020 3230 6020 6973 206e 6f74 2061  `10 20` is not a
+0001a890: 6c6c 6f77 6564 2e0d 0a2d 2060 6177 6169  llowed...- `awai
+0001a8a0: 7460 2069 7320 6e6f 7420 616c 6c6f 7765  t` is not allowe
+0001a8b0: 6420 696e 2066 726f 6e74 206f 6620 696d  d in front of im
+0001a8c0: 706c 6963 6974 2066 756e 6374 696f 6e20  plicit function 
+0001a8d0: 6170 706c 6963 6174 696f 6e20 616e 6420  application and 
+0001a8e0: 636f 6566 6669 6369 656e 7420 7379 6e74  coefficient synt
+0001a8f0: 6178 2e20 546f 2075 7365 2060 6177 6169  ax. To use `awai
+0001a900: 7460 2c20 7369 6d70 6c79 2070 6172 656e  t`, simply paren
+0001a910: 7468 6573 697a 6520 7468 6520 6578 7072  thesize the expr
+0001a920: 6573 7369 6f6e 2c20 6173 2069 6e20 6061  ession, as in `a
+0001a930: 7761 6974 2028 6620 7829 602e 0d0a 0d0a  wait (f x)`.....
+0001a940: 5f4e 6f74 653a 2069 6d70 6c69 6369 7420  _Note: implicit 
+0001a950: 6675 6e63 7469 6f6e 2061 7070 6c69 6361  function applica
+0001a960: 7469 6f6e 2061 6e64 2063 6f65 6666 6963  tion and coeffic
+0001a970: 6965 6e74 2073 796e 7461 7820 6973 2064  ient syntax is d
+0001a980: 6973 6162 6c65 6420 7768 656e 205b 7573  isabled when [us
+0001a990: 696e 6720 436f 636f 6e75 7420 696e 2060  ing Coconut in `
+0001a9a0: 786f 6e73 6860 5d28 2378 6f6e 7368 2d73  xonsh`](#xonsh-s
+0001a9b0: 7570 706f 7274 2920 6475 6520 746f 2063  upport) due to c
+0001a9c0: 6f6e 666c 6963 7469 6e67 2077 6974 6820  onflicting with 
+0001a9d0: 636f 6e73 6f6c 6520 636f 6d6d 616e 6473  console commands
+0001a9e0: 2e5f 0d0a 0d0a 2323 2323 2320 4578 616d  ._....##### Exam
+0001a9f0: 706c 6573 0d0a 0d0a 2a2a 436f 636f 6e75  ples....**Coconu
+0001aa00: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
+0001aa10: 0d0a 6465 6620 6628 782c 2079 2920 3d20  ..def f(x, y) = 
+0001aa20: 2878 2c20 7929 0d0a 7072 696e 7428 6620  (x, y)..print(f 
+0001aa30: 3520 3130 290d 0a60 6060 0d0a 0d0a 6060  5 10)..```....``
+0001aa40: 6063 6f63 6f6e 7574 0d0a 6465 6620 7031  `coconut..def p1
+0001aa50: 2878 2920 3d20 7820 2b20 310d 0a70 7269  (x) = x + 1..pri
+0001aa60: 6e74 203c 7c20 7031 2035 0d0a 6060 600d  nt <| p1 5..```.
+0001aa70: 0a0d 0a60 6060 636f 636f 6e75 740d 0a71  ...```coconut..q
+0001aa80: 7561 6420 3d20 3520 782a 2a32 202b 2033  uad = 5 x**2 + 3
+0001aa90: 2078 202b 2031 0d0a 6060 600d 0a0d 0a2a   x + 1..```....*
+0001aaa0: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
+0001aab0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a64  oconut_python..d
+0001aac0: 6566 2066 2878 2c20 7929 3a20 7265 7475  ef f(x, y): retu
+0001aad0: 726e 2028 782c 2079 290d 0a70 7269 6e74  rn (x, y)..print
+0001aae0: 2866 2831 3030 2c20 352b 3629 290d 0a60  (f(100, 5+6))..`
+0001aaf0: 6060 0d0a 0d0a 6060 6063 6f63 6f6e 7574  ``....```coconut
+0001ab00: 5f70 7974 686f 6e0d 0a64 6566 2070 3128  _python..def p1(
+0001ab10: 7829 3a20 7265 7475 726e 2078 202b 2031  x): return x + 1
+0001ab20: 0d0a 7072 696e 7428 7031 2835 2929 0d0a  ..print(p1(5))..
+0001ab30: 6060 600d 0a0d 0a60 6060 636f 636f 6e75  ```....```coconu
+0001ab40: 745f 7079 7468 6f6e 0d0a 7175 6164 203d  t_python..quad =
+0001ab50: 2035 202a 2078 2a2a 3220 2b20 3320 2a20   5 * x**2 + 3 * 
+0001ab60: 7820 2b20 310d 0a60 6060 0d0a 0d0a 2323  x + 1..```....##
+0001ab70: 2320 4b65 7977 6f72 6420 4172 6775 6d65  # Keyword Argume
+0001ab80: 6e74 204e 616d 6520 456c 6973 696f 6e0d  nt Name Elision.
+0001ab90: 0a0d 0a57 6865 6e20 7061 7373 696e 6720  ...When passing 
+0001aba0: 696e 206c 6f6e 6720 7661 7269 6162 6c65  in long variable
+0001abb0: 206e 616d 6573 2061 7320 6b65 7977 6f72   names as keywor
+0001abc0: 6420 6172 6775 6d65 6e74 7320 6f66 2074  d arguments of t
+0001abd0: 6865 2073 616d 6520 6e61 6d65 2c20 436f  he same name, Co
+0001abe0: 636f 6e75 7420 7375 7070 6f72 7473 2074  conut supports t
+0001abf0: 6865 2073 796e 7461 780d 0a60 6060 0d0a  he syntax..```..
+0001ac00: 6628 2e2e 2e3d 6c6f 6e67 5f76 6172 6961  f(...=long_varia
+0001ac10: 626c 655f 6e61 6d65 290d 0a60 6060 0d0a  ble_name)..```..
+0001ac20: 6173 2061 2073 686f 7274 6861 6e64 2066  as a shorthand f
+0001ac30: 6f72 0d0a 6060 600d 0a66 286c 6f6e 675f  or..```..f(long_
+0001ac40: 7661 7269 6162 6c65 5f6e 616d 653d 6c6f  variable_name=lo
+0001ac50: 6e67 5f76 6172 6961 626c 655f 6e61 6d65  ng_variable_name
+0001ac60: 290d 0a60 6060 0d0a 0d0a 5375 6368 2073  )..```....Such s
+0001ac70: 796e 7461 7820 6973 2061 6c73 6f20 7375  yntax is also su
+0001ac80: 7070 6f72 7465 6420 696e 205b 7061 7274  pported in [part
+0001ac90: 6961 6c20 6170 706c 6963 6174 696f 6e5d  ial application]
+0001aca0: 2823 7061 7274 6961 6c2d 6170 706c 6963  (#partial-applic
+0001acb0: 6174 696f 6e29 2061 6e64 205b 616e 6f6e  ation) and [anon
+0001acc0: 796d 6f75 7320 606e 616d 6564 7475 706c  ymous `namedtupl
+0001acd0: 6560 735d 2823 616e 6f6e 796d 6f75 732d  e`s](#anonymous-
+0001ace0: 6e61 6d65 6474 7570 6c65 7329 2e0d 0a0d  namedtuples)....
+0001acf0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0001ad00: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0001ad10: 6060 6063 6f63 6f6e 7574 0d0a 7265 616c  ```coconut..real
+0001ad20: 6c79 5f6c 6f6e 675f 7661 7269 6162 6c65  ly_long_variable
+0001ad30: 5f6e 616d 655f 3120 3d20 6765 745f 3128  _name_1 = get_1(
+0001ad40: 290d 0a72 6561 6c6c 795f 6c6f 6e67 5f76  )..really_long_v
+0001ad50: 6172 6961 626c 655f 6e61 6d65 5f32 203d  ariable_name_2 =
+0001ad60: 2067 6574 5f32 2829 0d0a 6d61 696e 5f66   get_2()..main_f
+0001ad70: 756e 6328 0d0a 2020 2020 2e2e 2e3d 7265  unc(..    ...=re
+0001ad80: 616c 6c79 5f6c 6f6e 675f 7661 7269 6162  ally_long_variab
+0001ad90: 6c65 5f6e 616d 655f 312c 0d0a 2020 2020  le_name_1,..    
+0001ada0: 2e2e 2e3d 7265 616c 6c79 5f6c 6f6e 675f  ...=really_long_
+0001adb0: 7661 7269 6162 6c65 5f6e 616d 655f 322c  variable_name_2,
+0001adc0: 0d0a 290d 0a60 6060 0d0a 0d0a 2a2a 5079  ..)..```....**Py
+0001add0: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+0001ade0: 6e75 745f 7079 7468 6f6e 0d0a 7265 616c  nut_python..real
+0001adf0: 6c79 5f6c 6f6e 675f 7661 7269 6162 6c65  ly_long_variable
+0001ae00: 5f6e 616d 655f 3120 3d20 6765 745f 3128  _name_1 = get_1(
+0001ae10: 290d 0a72 6561 6c6c 795f 6c6f 6e67 5f76  )..really_long_v
+0001ae20: 6172 6961 626c 655f 6e61 6d65 5f32 203d  ariable_name_2 =
+0001ae30: 2067 6574 5f32 2829 0d0a 6d61 696e 5f66   get_2()..main_f
+0001ae40: 756e 6328 0d0a 2020 2020 7265 616c 6c79  unc(..    really
+0001ae50: 5f6c 6f6e 675f 7661 7269 6162 6c65 5f6e  _long_variable_n
+0001ae60: 616d 655f 313d 7265 616c 6c79 5f6c 6f6e  ame_1=really_lon
+0001ae70: 675f 7661 7269 6162 6c65 5f6e 616d 655f  g_variable_name_
+0001ae80: 312c 0d0a 2020 2020 7265 616c 6c79 5f6c  1,..    really_l
+0001ae90: 6f6e 675f 7661 7269 6162 6c65 5f6e 616d  ong_variable_nam
+0001aea0: 655f 323d 7265 616c 6c79 5f6c 6f6e 675f  e_2=really_long_
+0001aeb0: 7661 7269 6162 6c65 5f6e 616d 655f 322c  variable_name_2,
+0001aec0: 0d0a 290d 0a60 6060 0d0a 0d0a 2323 2320  ..)..```....### 
+0001aed0: 416e 6f6e 796d 6f75 7320 4e61 6d65 6474  Anonymous Namedt
+0001aee0: 7570 6c65 730d 0a0d 0a43 6f63 6f6e 7574  uples....Coconut
+0001aef0: 2073 7570 706f 7274 7320 616e 6f6e 796d   supports anonym
+0001af00: 6f75 7320 5b60 6e61 6d65 6474 7570 6c65  ous [`namedtuple
+0001af10: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+0001af20: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+0001af30: 7261 7279 2f63 6f6c 6c65 6374 696f 6e73  rary/collections
+0001af40: 2e68 746d 6c23 636f 6c6c 6563 7469 6f6e  .html#collection
+0001af50: 732e 6e61 6d65 6474 7570 6c65 2920 6c69  s.namedtuple) li
+0001af60: 7465 7261 6c73 2c20 7375 6368 2074 6861  terals, such tha
+0001af70: 7420 6028 613d 312c 2062 3d32 2960 2063  t `(a=1, b=2)` c
+0001af80: 616e 2062 6520 7573 6564 206a 7573 7420  an be used just 
+0001af90: 6173 2060 2831 2c20 3229 602c 2062 7574  as `(1, 2)`, but
+0001afa0: 2077 6974 6820 6164 6465 6420 6e61 6d65   with added name
+0001afb0: 732e 2041 6e6f 6e79 6d6f 7573 2060 6e61  s. Anonymous `na
+0001afc0: 6d65 6474 7570 6c65 6073 2061 7265 2061  medtuple`s are a
+0001afd0: 6c77 6179 7320 7069 636b 6c65 6162 6c65  lways pickleable
+0001afe0: 2e0d 0a0d 0a54 6865 2073 796e 7461 7820  .....The syntax 
+0001aff0: 666f 7220 616e 6f6e 796d 6f75 7320 6e61  for anonymous na
+0001b000: 6d65 6474 7570 6c65 206c 6974 6572 616c  medtuple literal
+0001b010: 7320 6973 3a0d 0a60 6060 636f 636f 6e75  s is:..```coconu
+0001b020: 740d 0a28 3c6e 616d 653e 205b 3a20 3c74  t..(<name> [: <t
+0001b030: 7970 653e 5d20 3d20 3c76 616c 7565 3e2c  ype>] = <value>,
+0001b040: 202e 2e2e 290d 0a60 6060 0d0a 7768 6572   ...)..```..wher
+0001b050: 652c 2069 6620 603c 7479 7065 3e60 2069  e, if `<type>` i
+0001b060: 7320 6769 7665 6e20 666f 7220 616e 7920  s given for any 
+0001b070: 6669 656c 642c 205b 6074 7970 696e 672e  field, [`typing.
+0001b080: 4e61 6d65 6454 7570 6c65 605d 2868 7474  NamedTuple`](htt
+0001b090: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+0001b0a0: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f74  .org/3/library/t
+0001b0b0: 7970 696e 672e 6874 6d6c 2374 7970 696e  yping.html#typin
+0001b0c0: 672e 4e61 6d65 6454 7570 6c65 2920 6973  g.NamedTuple) is
+0001b0d0: 2075 7365 6420 696e 7374 6561 6420 6f66   used instead of
+0001b0e0: 2060 636f 6c6c 6563 7469 6f6e 732e 6e61   `collections.na
+0001b0f0: 6d65 6474 7570 6c65 602e 0d0a 0d0a 416e  medtuple`.....An
+0001b100: 6f6e 796d 6f75 7320 606e 616d 6564 7475  onymous `namedtu
+0001b110: 706c 6560 7320 616c 736f 2073 7570 706f  ple`s also suppo
+0001b120: 7274 205b 6b65 7977 6f72 6420 6172 6775  rt [keyword argu
+0001b130: 6d65 6e74 206e 616d 6520 656c 6973 696f  ment name elisio
+0001b140: 6e5d 2823 6b65 7977 6f72 642d 6172 6775  n](#keyword-argu
+0001b150: 6d65 6e74 2d6e 616d 652d 656c 6973 696f  ment-name-elisio
+0001b160: 6e29 2e0d 0a0d 0a23 2323 2323 2060 5f6e  n).....##### `_n
+0001b170: 616d 6564 7475 706c 655f 6f66 600d 0a0d  amedtuple_of`...
+0001b180: 0a4f 6e20 5079 7468 6f6e 2076 6572 7369  .On Python versi
+0001b190: 6f6e 7320 603e 3d33 2e36 602c 2060 5f6e  ons `>=3.6`, `_n
+0001b1a0: 616d 6564 7475 706c 655f 6f66 6020 6973  amedtuple_of` is
+0001b1b0: 2070 726f 7669 6465 6420 6173 2061 2062   provided as a b
+0001b1c0: 7569 6c74 2d69 6e20 7468 6174 2063 616e  uilt-in that can
+0001b1d0: 206d 696d 6963 2074 6865 2062 6568 6176   mimic the behav
+0001b1e0: 696f 7220 6f66 2061 6e6f 6e79 6d6f 7573  ior of anonymous
+0001b1f0: 206e 616d 6564 7475 706c 6520 6c69 7465   namedtuple lite
+0001b200: 7261 6c73 2073 7563 6820 7468 6174 2060  rals such that `
+0001b210: 5f6e 616d 6564 7475 706c 655f 6f66 2861  _namedtuple_of(a
+0001b220: 3d31 2c20 623d 3229 6020 6973 2065 7175  =1, b=2)` is equ
+0001b230: 6976 616c 656e 7420 746f 2060 2861 3d31  ivalent to `(a=1
+0001b240: 2c20 623d 3229 602e 2053 696e 6365 2060  , b=2)`. Since `
+0001b250: 5f6e 616d 6564 7475 706c 655f 6f66 6020  _namedtuple_of` 
+0001b260: 6973 206f 6e6c 7920 6176 6169 6c61 626c  is only availabl
+0001b270: 6520 6f6e 2050 7974 686f 6e20 332e 3620  e on Python 3.6 
+0001b280: 616e 6420 6162 6f76 652c 2068 6f77 6576  and above, howev
+0001b290: 6572 2c20 6974 2069 7320 6765 6e65 7261  er, it is genera
+0001b2a0: 6c6c 7920 7265 636f 6d6d 656e 6465 6420  lly recommended 
+0001b2b0: 746f 2075 7365 2061 6e6f 6e79 6d6f 7573  to use anonymous
+0001b2c0: 206e 616d 6564 7475 706c 6520 6c69 7465   namedtuple lite
+0001b2d0: 7261 6c73 2069 6e73 7465 6164 2c20 6173  rals instead, as
+0001b2e0: 2074 6865 7920 776f 726b 206f 6e20 616e   they work on an
+0001b2f0: 7920 5079 7468 6f6e 2076 6572 7369 6f6e  y Python version
+0001b300: 2e0d 0a0d 0a5f 605f 6e61 6d65 6474 7570  ....._`_namedtup
+0001b310: 6c65 5f6f 6660 2069 7320 6a75 7374 2070  le_of` is just p
+0001b320: 726f 7669 6465 6420 746f 2067 6976 6520  rovided to give 
+0001b330: 6e61 6d65 6474 7570 6c65 206c 6974 6572  namedtuple liter
+0001b340: 616c 7320 6120 7265 7072 6573 656e 7461  als a representa
+0001b350: 7469 6f6e 2074 6861 7420 636f 7272 6573  tion that corres
+0001b360: 706f 6e64 7320 746f 2061 6e20 6578 7072  ponds to an expr
+0001b370: 6573 7369 6f6e 2074 6861 7420 6361 6e20  ession that can 
+0001b380: 6265 2075 7365 6420 746f 2072 6563 7265  be used to recre
+0001b390: 6174 6520 7468 656d 2e5f 0d0a 0d0a 2323  ate them._....##
+0001b3a0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+0001b3b0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+0001b3c0: 636f 636f 6e75 740d 0a75 7365 7273 203d  coconut..users =
+0001b3d0: 205b 0d0a 2020 2020 2869 643d 312c 206e   [..    (id=1, n
+0001b3e0: 616d 653d 2241 6c69 6365 2229 2c0d 0a20  ame="Alice"),.. 
+0001b3f0: 2020 2028 6964 3d32 2c20 6e61 6d65 3d22     (id=2, name="
+0001b400: 426f 6222 292c 0d0a 5d0d 0a60 6060 0d0a  Bob"),..]..```..
+0001b410: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
+0001b420: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0001b430: 0d0a 6672 6f6d 2063 6f6c 6c65 6374 696f  ..from collectio
+0001b440: 6e73 2069 6d70 6f72 7420 6e61 6d65 6474  ns import namedt
+0001b450: 7570 6c65 0d0a 0d0a 7573 6572 7320 3d20  uple....users = 
+0001b460: 5b0d 0a20 2020 206e 616d 6564 7475 706c  [..    namedtupl
+0001b470: 6528 225f 222c 2022 6964 2c20 6e61 6d65  e("_", "id, name
+0001b480: 2229 2831 2c20 2241 6c69 6365 2229 2c0d  ")(1, "Alice"),.
+0001b490: 0a20 2020 206e 616d 6564 7475 706c 6528  .    namedtuple(
+0001b4a0: 225f 222c 2022 6964 2c20 6e61 6d65 2229  "_", "id, name")
+0001b4b0: 2832 2c20 2242 6f62 2229 2c0d 0a5d 0d0a  (2, "Bob"),..]..
+0001b4c0: 6060 600d 0a0d 0a23 2323 2053 6574 204c  ```....### Set L
+0001b4d0: 6974 6572 616c 730d 0a0d 0a43 6f63 6f6e  iterals....Cocon
+0001b4e0: 7574 2061 6c6c 6f77 7320 616e 206f 7074  ut allows an opt
+0001b4f0: 696f 6e61 6c20 6073 6020 746f 2062 6520  ional `s` to be 
+0001b500: 7072 6570 656e 6465 6420 696e 2066 726f  prepended in fro
+0001b510: 6e74 206f 6620 5079 7468 6f6e 2073 6574  nt of Python set
+0001b520: 206c 6974 6572 616c 732e 2057 6869 6c65   literals. While
+0001b530: 2069 6e20 6d6f 7374 2063 6173 6573 2074   in most cases t
+0001b540: 6869 7320 646f 6573 206e 6f74 6869 6e67  his does nothing
+0001b550: 2c20 696e 2074 6865 2063 6173 6520 6f66  , in the case of
+0001b560: 2074 6865 2065 6d70 7479 2073 6574 2069   the empty set i
+0001b570: 7420 6c65 7473 2043 6f63 6f6e 7574 206b  t lets Coconut k
+0001b580: 6e6f 7720 7468 6174 2069 7420 6973 2061  now that it is a
+0001b590: 6e20 656d 7074 7920 7365 7420 616e 6420  n empty set and 
+0001b5a0: 6e6f 7420 616e 2065 6d70 7479 2064 6963  not an empty dic
+0001b5b0: 7469 6f6e 6172 792e 2053 6574 206c 6974  tionary. Set lit
+0001b5c0: 6572 616c 7320 616c 736f 2073 7570 706f  erals also suppo
+0001b5d0: 7274 2075 6e70 6163 6b69 6e67 2073 796e  rt unpacking syn
+0001b5e0: 7461 7820 2865 2e67 2e20 6073 7b2a 7873  tax (e.g. `s{*xs
+0001b5f0: 7d60 292e 0d0a 0d0a 4164 6469 7469 6f6e  }`).....Addition
+0001b600: 616c 6c79 2c20 436f 636f 6e75 7420 616c  ally, Coconut al
+0001b610: 736f 2073 7570 706f 7274 7320 7265 706c  so supports repl
+0001b620: 6163 696e 6720 7468 6520 6073 6020 7769  acing the `s` wi
+0001b630: 7468 2061 6e20 6066 6020 746f 2067 656e  th an `f` to gen
+0001b640: 6572 6174 6520 6120 6066 726f 7a65 6e73  erate a `frozens
+0001b650: 6574 6020 6f72 2061 6e20 606d 6020 746f  et` or an `m` to
+0001b660: 2067 656e 6572 6174 6520 6120 436f 636f   generate a Coco
+0001b670: 6e75 7420 5b60 6d75 6c74 6973 6574 605d  nut [`multiset`]
+0001b680: 2823 6d75 6c74 6973 6574 292e 0d0a 0d0a  (#multiset).....
+0001b690: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0001b6a0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0001b6b0: 6060 636f 636f 6e75 740d 0a65 6d70 7479  ``coconut..empty
+0001b6c0: 5f66 726f 7a65 6e5f 7365 7420 3d20 667b  _frozen_set = f{
+0001b6d0: 7d0d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  }..```....**Pyth
+0001b6e0: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+0001b6f0: 745f 7079 7468 6f6e 0d0a 656d 7074 795f  t_python..empty_
+0001b700: 6672 6f7a 656e 5f73 6574 203d 2066 726f  frozen_set = fro
+0001b710: 7a65 6e73 6574 2829 0d0a 6060 600d 0a0d  zenset()..```...
+0001b720: 0a23 2323 2049 6d61 6769 6e61 7279 204c  .### Imaginary L
+0001b730: 6974 6572 616c 730d 0a0d 0a49 6e20 6164  iterals....In ad
+0001b740: 6469 7469 6f6e 2074 6f20 5079 7468 6f6e  dition to Python
+0001b750: 2773 2060 3c6e 756d 3e6a 6020 6f72 2060  's `<num>j` or `
+0001b760: 3c6e 756d 3e4a 6020 6e6f 7461 7469 6f6e  <num>J` notation
+0001b770: 2066 6f72 2069 6d61 6769 6e61 7279 206c   for imaginary l
+0001b780: 6974 6572 616c 732c 2043 6f63 6f6e 7574  iterals, Coconut
+0001b790: 2061 6c73 6f20 7375 7070 6f72 7473 2060   also supports `
+0001b7a0: 3c6e 756d 3e69 6020 6f72 2060 3c6e 756d  <num>i` or `<num
+0001b7b0: 3e49 602c 2074 6f20 6d61 6b65 2069 6d61  >I`, to make ima
+0001b7c0: 6769 6e61 7279 206c 6974 6572 616c 7320  ginary literals 
+0001b7d0: 6d6f 7265 2072 6561 6461 626c 6520 6966  more readable if
+0001b7e0: 2075 7365 6420 696e 2061 206d 6174 6865   used in a mathe
+0001b7f0: 6d61 7469 6361 6c20 636f 6e74 6578 742e  matical context.
+0001b800: 0d0a 0d0a 2323 2323 2320 5079 7468 6f6e  ....##### Python
+0001b810: 2044 6f63 730d 0a0d 0a49 6d61 6769 6e61   Docs....Imagina
+0001b820: 7279 206c 6974 6572 616c 7320 6172 6520  ry literals are 
+0001b830: 6465 7363 7269 6265 6420 6279 2074 6865  described by the
+0001b840: 2066 6f6c 6c6f 7769 6e67 206c 6578 6963   following lexic
+0001b850: 616c 2064 6566 696e 6974 696f 6e73 3a0d  al definitions:.
+0001b860: 0a60 6060 636f 636f 6e75 740d 0a69 6d61  .```coconut..ima
+0001b870: 676e 756d 6265 7220 3a3a 3d20 2866 6c6f  gnumber ::= (flo
+0001b880: 6174 6e75 6d62 6572 207c 2069 6e74 7061  atnumber | intpa
+0001b890: 7274 2920 2822 6a22 207c 2022 4a22 207c  rt) ("j" | "J" |
+0001b8a0: 2022 6922 207c 2022 4922 290d 0a60 6060   "i" | "I")..```
+0001b8b0: 0d0a 416e 2069 6d61 6769 6e61 7279 206c  ..An imaginary l
+0001b8c0: 6974 6572 616c 2079 6965 6c64 7320 6120  iteral yields a 
+0001b8d0: 636f 6d70 6c65 7820 6e75 6d62 6572 2077  complex number w
+0001b8e0: 6974 6820 6120 7265 616c 2070 6172 7420  ith a real part 
+0001b8f0: 6f66 2030 2e30 2e20 436f 6d70 6c65 7820  of 0.0. Complex 
+0001b900: 6e75 6d62 6572 7320 6172 6520 7265 7072  numbers are repr
+0001b910: 6573 656e 7465 6420 6173 2061 2070 6169  esented as a pai
+0001b920: 7220 6f66 2066 6c6f 6174 696e 6720 706f  r of floating po
+0001b930: 696e 7420 6e75 6d62 6572 7320 616e 6420  int numbers and 
+0001b940: 6861 7665 2074 6865 2073 616d 6520 7265  have the same re
+0001b950: 7374 7269 6374 696f 6e73 206f 6e20 7468  strictions on th
+0001b960: 6569 7220 7261 6e67 652e 2054 6f20 6372  eir range. To cr
+0001b970: 6561 7465 2061 2063 6f6d 706c 6578 206e  eate a complex n
+0001b980: 756d 6265 7220 7769 7468 2061 206e 6f6e  umber with a non
+0001b990: 7a65 726f 2072 6561 6c20 7061 7274 2c20  zero real part, 
+0001b9a0: 6164 6420 6120 666c 6f61 7469 6e67 2070  add a floating p
+0001b9b0: 6f69 6e74 206e 756d 6265 7220 746f 2069  oint number to i
+0001b9c0: 742c 2065 2e67 2e2c 2060 2833 2b34 6929  t, e.g., `(3+4i)
+0001b9d0: 602e 2053 6f6d 6520 6578 616d 706c 6573  `. Some examples
+0001b9e0: 206f 6620 696d 6167 696e 6172 7920 6c69   of imaginary li
+0001b9f0: 7465 7261 6c73 3a0d 0a60 6060 636f 636f  terals:..```coco
+0001ba00: 6e75 740d 0a33 2e31 3469 2020 2031 302e  nut..3.14i   10.
+0001ba10: 6920 2020 2031 3069 2020 2020 202e 3030  i    10i     .00
+0001ba20: 3169 2020 2031 6531 3030 6920 2033 2e31  1i   1e100i  3.1
+0001ba30: 3465 2d31 3069 0d0a 6060 600d 0a0d 0a23  4e-10i..```....#
+0001ba40: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+0001ba50: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+0001ba60: 6063 6f63 6f6e 7574 0d0a 3320 2b20 3469  `coconut..3 + 4i
+0001ba70: 207c 3e20 6162 7320 7c3e 2070 7269 6e74   |> abs |> print
+0001ba80: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0001ba90: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+0001baa0: 5f70 7974 686f 6e0d 0a70 7269 6e74 2861  _python..print(a
+0001bab0: 6273 2833 202b 2034 6a29 290d 0a60 6060  bs(3 + 4j))..```
+0001bac0: 0d0a 0d0a 2323 2320 416c 7465 726e 6174  ....### Alternat
+0001bad0: 6976 6520 5465 726e 6172 7920 4f70 6572  ive Ternary Oper
+0001bae0: 6174 6f72 0d0a 0d0a 5079 7468 6f6e 2073  ator....Python s
+0001baf0: 7570 706f 7274 7320 7468 6520 7465 726e  upports the tern
+0001bb00: 6172 7920 6f70 6572 6174 6f72 2073 796e  ary operator syn
+0001bb10: 7461 780d 0a60 6060 636f 636f 6e75 745f  tax..```coconut_
+0001bb20: 7079 7468 6f6e 0d0a 7265 7375 6c74 203d  python..result =
+0001bb30: 2069 665f 7472 7565 2069 6620 636f 6e64   if_true if cond
+0001bb40: 6974 696f 6e20 656c 7365 2069 665f 6661  ition else if_fa
+0001bb50: 6c73 650d 0a60 6060 0d0a 7768 6963 682c  lse..```..which,
+0001bb60: 2073 696e 6365 2043 6f63 6f6e 7574 2069   since Coconut i
+0001bb70: 7320 6120 7375 7065 7273 6574 206f 6620  s a superset of 
+0001bb80: 5079 7468 6f6e 2c20 436f 636f 6e75 7420  Python, Coconut 
+0001bb90: 616c 736f 2073 7570 706f 7274 732e 0d0a  also supports...
+0001bba0: 0d0a 486f 7765 7665 722c 2043 6f63 6f6e  ..However, Cocon
+0001bbb0: 7574 2061 6c73 6f20 7072 6f76 6964 6573  ut also provides
+0001bbc0: 2061 6e20 616c 7465 726e 6174 6976 6520   an alternative 
+0001bbd0: 7379 6e74 6178 2074 6861 7420 7573 6573  syntax that uses
+0001bbe0: 2074 6865 206d 6f72 6520 636f 6e76 656e   the more conven
+0001bbf0: 7469 6f6e 616c 2061 7267 756d 656e 7420  tional argument 
+0001bc00: 6f72 6465 7269 6e67 2061 730d 0a60 6060  ordering as..```
+0001bc10: 0d0a 7265 7375 6c74 203d 2069 6620 636f  ..result = if co
+0001bc20: 6e64 6974 696f 6e20 7468 656e 2069 665f  ndition then if_
+0001bc30: 7472 7565 2065 6c73 6520 6966 5f66 616c  true else if_fal
+0001bc40: 7365 0d0a 6060 600d 0a6d 616b 696e 6720  se..```..making 
+0001bc50: 7573 6520 6f66 2074 6865 2043 6f63 6f6e  use of the Cocon
+0001bc60: 7574 2d73 7065 6369 6669 6320 6074 6865  ut-specific `the
+0001bc70: 6e60 206b 6579 776f 7264 2028 5b74 686f  n` keyword ([tho
+0001bc80: 7567 6820 436f 636f 6e75 7420 7374 696c  ugh Coconut stil
+0001bc90: 6c20 616c 6c6f 7773 2060 7468 656e 6020  l allows `then` 
+0001bca0: 6173 2061 2076 6172 6961 626c 6520 6e61  as a variable na
+0001bcb0: 6d65 5d28 2368 616e 646c 696e 672d 6b65  me](#handling-ke
+0001bcc0: 7977 6f72 642d 7661 7269 6162 6c65 2d6e  yword-variable-n
+0001bcd0: 616d 652d 6f76 6572 6c61 7029 292e 0d0a  ame-overlap))...
+0001bce0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0001bcf0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0001bd00: 0a60 6060 636f 636f 6e75 740d 0a76 616c  .```coconut..val
+0001bd10: 7565 203d 2028 0d0a 2020 2020 6966 2073  ue = (..    if s
+0001bd20: 686f 756c 645f 7573 655f 6128 2920 7468  hould_use_a() th
+0001bd30: 656e 2061 0d0a 2020 2020 656c 7365 2069  en a..    else i
+0001bd40: 6620 7368 6f75 6c64 5f75 7365 5f62 2829  f should_use_b()
+0001bd50: 2074 6865 6e20 620d 0a20 2020 2065 6c73   then b..    els
+0001bd60: 6520 6966 2073 686f 756c 645f 7573 655f  e if should_use_
+0001bd70: 6328 2920 7468 656e 2063 0d0a 2020 2020  c() then c..    
+0001bd80: 656c 7365 2066 616c 6c62 6163 6b0d 0a29  else fallback..)
+0001bd90: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0001bda0: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+0001bdb0: 5f70 7974 686f 6e0d 0a76 616c 7565 203d  _python..value =
+0001bdc0: 2028 0d0a 2020 2020 6120 6966 2073 686f   (..    a if sho
+0001bdd0: 756c 645f 7573 655f 6128 2920 656c 7365  uld_use_a() else
+0001bde0: 0d0a 2020 2020 6220 6966 2073 686f 756c  ..    b if shoul
+0001bdf0: 645f 7573 655f 6228 2920 656c 7365 0d0a  d_use_b() else..
+0001be00: 2020 2020 6320 6966 2073 686f 756c 645f      c if should_
+0001be10: 7573 655f 6328 2920 656c 7365 0d0a 2020  use_c() else..  
+0001be20: 2020 6661 6c6c 6261 636b 0d0a 290d 0a60    fallback..)..`
+0001be30: 6060 0d0a 0d0a 2323 2046 756e 6374 696f  ``....## Functio
+0001be40: 6e20 4465 6669 6e69 7469 6f6e 0d0a 0d0a  n Definition....
+0001be50: 6060 607b 636f 6e74 656e 7473 7d0d 0a2d  ```{contents}..-
+0001be60: 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465 7074  --..local:..dept
+0001be70: 683a 2031 0d0a 2d2d 2d0d 0a60 6060 0d0a  h: 1..---..```..
+0001be80: 0d0a 2323 2320 5461 696c 2043 616c 6c20  ..### Tail Call 
+0001be90: 4f70 7469 6d69 7a61 7469 6f6e 0d0a 0d0a  Optimization....
+0001bea0: 436f 636f 6e75 7420 7769 6c6c 2070 6572  Coconut will per
+0001beb0: 666f 726d 2061 7574 6f6d 6174 6963 205b  form automatic [
+0001bec0: 7461 696c 2063 616c 6c5d 2868 7474 7073  tail call](https
+0001bed0: 3a2f 2f65 6e2e 7769 6b69 7065 6469 612e  ://en.wikipedia.
+0001bee0: 6f72 672f 7769 6b69 2f54 6169 6c5f 6361  org/wiki/Tail_ca
+0001bef0: 6c6c 2920 6f70 7469 6d69 7a61 7469 6f6e  ll) optimization
+0001bf00: 2061 6e64 2074 6169 6c20 7265 6375 7273   and tail recurs
+0001bf10: 696f 6e20 656c 696d 696e 6174 696f 6e20  ion elimination 
+0001bf20: 6f6e 2061 6e79 2066 756e 6374 696f 6e20  on any function 
+0001bf30: 7468 6174 206d 6565 7473 2074 6865 2066  that meets the f
+0001bf40: 6f6c 6c6f 7769 6e67 2063 7269 7465 7269  ollowing criteri
+0001bf50: 613a 0d0a 0d0a 312e 2069 7420 6d75 7374  a:....1. it must
+0001bf60: 2064 6972 6563 746c 7920 7265 7475 726e   directly return
+0001bf70: 2028 7573 696e 6720 6569 7468 6572 2060   (using either `
+0001bf80: 7265 7475 726e 6020 6f72 205b 6173 7369  return` or [assi
+0001bf90: 676e 6d65 6e74 2066 756e 6374 696f 6e20  gnment function 
+0001bfa0: 6e6f 7461 7469 6f6e 5d28 2361 7373 6967  notation](#assig
+0001bfb0: 6e6d 656e 742d 6675 6e63 7469 6f6e 7329  nment-functions)
+0001bfc0: 2920 6120 6361 6c6c 2074 6f20 6974 7365  ) a call to itse
+0001bfd0: 6c66 2028 7461 696c 2072 6563 7572 7369  lf (tail recursi
+0001bfe0: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2c20  on elimination, 
+0001bff0: 7468 6520 6d6f 7374 2070 6f77 6572 6675  the most powerfu
+0001c000: 6c20 6f70 7469 6d69 7a61 7469 6f6e 2920  l optimization) 
+0001c010: 6f72 2061 6e6f 7468 6572 2066 756e 6374  or another funct
+0001c020: 696f 6e20 2874 6169 6c20 6361 6c6c 206f  ion (tail call o
+0001c030: 7074 696d 697a 6174 696f 6e29 2c0d 0a32  ptimization),..2
+0001c040: 2e20 6974 206d 7573 7420 6e6f 7420 6265  . it must not be
+0001c050: 2061 2067 656e 6572 6174 6f72 2028 7573   a generator (us
+0001c060: 6573 2060 7969 656c 6460 2920 6f72 2061  es `yield`) or a
+0001c070: 6e20 6173 796e 6368 726f 6e6f 7573 2066  n asynchronous f
+0001c080: 756e 6374 696f 6e20 2875 7365 7320 6061  unction (uses `a
+0001c090: 7379 6e63 6029 2e0d 0a0d 0a54 6169 6c20  sync`).....Tail 
+0001c0a0: 6361 6c6c 206f 7074 696d 697a 6174 696f  call optimizatio
+0001c0b0: 6e20 2874 686f 7567 6820 6e6f 7420 7461  n (though not ta
+0001c0c0: 696c 2072 6563 7572 7369 6f6e 2065 6c69  il recursion eli
+0001c0d0: 6d69 6e61 7469 6f6e 2920 7769 6c6c 2077  mination) will w
+0001c0e0: 6f72 6b20 6576 656e 2066 6f72 2031 2920  ork even for 1) 
+0001c0f0: 6d75 7475 616c 2072 6563 7572 7369 6f6e  mutual recursion
+0001c100: 2061 6e64 2032 2920 7061 7474 6572 6e2d   and 2) pattern-
+0001c110: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+0001c120: 6e73 2073 706c 6974 2061 6372 6f73 7320  ns split across 
+0001c130: 6d75 6c74 6970 6c65 2064 6566 696e 6974  multiple definit
+0001c140: 696f 6e73 2075 7369 6e67 205b 6061 6464  ions using [`add
+0001c150: 7061 7474 6572 6e60 5d28 2361 6464 7061  pattern`](#addpa
+0001c160: 7474 6572 6e29 2e0d 0a0d 0a49 6620 796f  ttern).....If yo
+0001c170: 7520 6172 6520 656e 636f 756e 7465 7269  u are encounteri
+0001c180: 6e67 2061 2060 5275 6e74 696d 6545 7272  ng a `RuntimeErr
+0001c190: 6f72 6020 6475 6520 746f 206d 6178 696d  or` due to maxim
+0001c1a0: 756d 2072 6563 7572 7369 6f6e 2064 6570  um recursion dep
+0001c1b0: 7468 2c20 6974 2069 7320 6869 6768 6c79  th, it is highly
+0001c1c0: 2072 6563 6f6d 6d65 6e64 6564 2074 6861   recommended tha
+0001c1d0: 7420 796f 7520 7265 7772 6974 6520 796f  t you rewrite yo
+0001c1e0: 7572 2066 756e 6374 696f 6e20 746f 206d  ur function to m
+0001c1f0: 6565 7420 6569 7468 6572 2074 6865 2063  eet either the c
+0001c200: 7269 7465 7269 6120 6162 6f76 6520 666f  riteria above fo
+0001c210: 7220 7461 696c 2063 616c 6c20 6f70 7469  r tail call opti
+0001c220: 6d69 7a61 7469 6f6e 2c20 6f72 2074 6865  mization, or the
+0001c230: 2063 6f72 7265 7370 6f6e 6469 6e67 2063   corresponding c
+0001c240: 7269 7465 7269 6120 666f 7220 5b60 7265  riteria for [`re
+0001c250: 6375 7273 6976 655f 6974 6572 6174 6f72  cursive_iterator
+0001c260: 605d 2823 7265 6375 7273 6976 652d 6974  `](#recursive-it
+0001c270: 6572 6174 6f72 292c 2065 6974 6865 7220  erator), either 
+0001c280: 6f66 2077 6869 6368 2073 686f 756c 6420  of which should 
+0001c290: 7072 6576 656e 7420 7375 6368 2065 7272  prevent such err
+0001c2a0: 6f72 732e 0d0a 0d0a 2323 2323 2320 4578  ors.....##### Ex
+0001c2b0: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+0001c2c0: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+0001c2d0: 740d 0a23 2075 6e6c 696b 6520 696e 2050  t..# unlike in P
+0001c2e0: 7974 686f 6e2c 2074 6869 7320 6675 6e63  ython, this func
+0001c2f0: 7469 6f6e 2077 696c 6c20 6e65 7665 7220  tion will never 
+0001c300: 6869 7420 6120 6d61 7869 6d75 6d20 7265  hit a maximum re
+0001c310: 6375 7273 696f 6e20 6465 7074 6820 6572  cursion depth er
+0001c320: 726f 720d 0a64 6566 2066 6163 746f 7269  ror..def factori
+0001c330: 616c 286e 2c20 6163 633d 3129 3a0d 0a20  al(n, acc=1):.. 
+0001c340: 2020 206d 6174 6368 206e 3a0d 0a20 2020     match n:..   
+0001c350: 2020 2020 2063 6173 6520 303a 0d0a 2020       case 0:..  
+0001c360: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001c370: 2061 6363 0d0a 2020 2020 2020 2020 6361   acc..        ca
+0001c380: 7365 2069 6e74 2829 2069 6620 6e20 3e20  se int() if n > 
+0001c390: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+0001c3a0: 7265 7475 726e 2066 6163 746f 7269 616c  return factorial
+0001c3b0: 286e 2d31 2c20 6163 632a 6e29 0d0a 6060  (n-1, acc*n)..``
+0001c3c0: 600d 0a5f 5368 6f77 6361 7365 7320 7461  `.._Showcases ta
+0001c3d0: 696c 2072 6563 7572 7369 6f6e 2065 6c69  il recursion eli
+0001c3e0: 6d69 6e61 7469 6f6e 2e5f 0d0a 0d0a 6060  mination._....``
+0001c3f0: 6063 6f63 6f6e 7574 0d0a 2320 756e 6c69  `coconut..# unli
+0001c400: 6b65 2069 6e20 5079 7468 6f6e 2c20 6e65  ke in Python, ne
+0001c410: 6974 6865 7220 6f66 2074 6865 7365 2066  ither of these f
+0001c420: 756e 6374 696f 6e73 2077 696c 6c20 6576  unctions will ev
+0001c430: 6572 2068 6974 2061 206d 6178 696d 756d  er hit a maximum
+0001c440: 2072 6563 7572 7369 6f6e 2064 6570 7468   recursion depth
+0001c450: 2065 7272 6f72 0d0a 6465 6620 6973 5f65   error..def is_e
+0001c460: 7665 6e28 3029 203d 2054 7275 650d 0a61  ven(0) = True..a
+0001c470: 6464 7061 7474 6572 6e20 6465 6620 6973  ddpattern def is
+0001c480: 5f65 7665 6e28 6e20 6069 7369 6e73 7461  _even(n `isinsta
+0001c490: 6e63 6560 2069 6e74 2069 6620 6e20 3e20  nce` int if n > 
+0001c4a0: 3029 203d 2069 735f 6f64 6428 6e2d 3129  0) = is_odd(n-1)
+0001c4b0: 0d0a 0d0a 6465 6620 6973 5f6f 6464 2830  ....def is_odd(0
+0001c4c0: 2920 3d20 4661 6c73 650d 0a61 6464 7061  ) = False..addpa
+0001c4d0: 7474 6572 6e20 6465 6620 6973 5f6f 6464  ttern def is_odd
+0001c4e0: 286e 2060 6973 696e 7374 616e 6365 6020  (n `isinstance` 
+0001c4f0: 696e 7420 6966 206e 203e 2030 2920 3d20  int if n > 0) = 
+0001c500: 6973 5f65 7665 6e28 6e2d 3129 0d0a 6060  is_even(n-1)..``
+0001c510: 600d 0a5f 5368 6f77 6361 7365 7320 7461  `.._Showcases ta
+0001c520: 696c 2063 616c 6c20 6f70 7469 6d69 7a61  il call optimiza
+0001c530: 7469 6f6e 2e5f 0d0a 0d0a 2a2a 5079 7468  tion._....**Pyth
+0001c540: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
+0001c550: 2064 6f6e 6520 7769 7468 6f75 7420 7265   done without re
+0001c560: 7772 6974 696e 6720 7468 6520 6675 6e63  writing the func
+0001c570: 7469 6f6e 2873 292e 5f0d 0a0d 0a23 2323  tion(s)._....###
+0001c580: 2320 602d 2d6e 6f2d 7463 6f60 2066 6c61  # `--no-tco` fla
+0001c590: 670d 0a0d 0a54 6169 6c20 6361 6c6c 206f  g....Tail call o
+0001c5a0: 7074 696d 697a 6174 696f 6e20 7769 6c6c  ptimization will
+0001c5b0: 2062 6520 7475 726e 6564 206f 6666 2069   be turned off i
+0001c5c0: 6620 796f 7520 7061 7373 2074 6865 2060  f you pass the `
+0001c5d0: 2d2d 6e6f 2d74 636f 6020 636f 6d6d 616e  --no-tco` comman
+0001c5e0: 642d 6c69 6e65 206f 7074 696f 6e2c 2077  d-line option, w
+0001c5f0: 6869 6368 2069 7320 7573 6566 756c 2069  hich is useful i
+0001c600: 6620 796f 7520 6172 6520 6861 7669 6e67  f you are having
+0001c610: 2074 726f 7562 6c65 2072 6561 6469 6e67   trouble reading
+0001c620: 2079 6f75 7220 7472 6163 6562 6163 6b73   your tracebacks
+0001c630: 2061 6e64 2f6f 7220 6e65 6564 206d 6178   and/or need max
+0001c640: 696d 756d 2070 6572 666f 726d 616e 6365  imum performance
+0001c650: 2e0d 0a0d 0a60 2d2d 6e6f 2d74 636f 6020  .....`--no-tco` 
+0001c660: 646f 6573 206e 6f74 2064 6973 6162 6c65  does not disable
+0001c670: 2074 6169 6c20 7265 6375 7273 696f 6e20   tail recursion 
+0001c680: 656c 696d 696e 6174 696f 6e2e 0d0a 5468  elimination...Th
+0001c690: 6973 2069 7320 6265 6361 7573 6520 7461  is is because ta
+0001c6a0: 696c 2072 6563 7572 7369 6f6e 2065 6c69  il recursion eli
+0001c6b0: 6d69 6e61 7469 6f6e 2069 7320 7573 7561  mination is usua
+0001c6c0: 6c6c 7920 6661 7374 6572 2074 6861 6e20  lly faster than 
+0001c6d0: 646f 696e 6720 6e6f 7468 696e 672c 2077  doing nothing, w
+0001c6e0: 6869 6c65 206f 7468 6572 2074 7970 6573  hile other types
+0001c6f0: 206f 6620 7461 696c 2063 616c 6c20 6f70   of tail call op
+0001c700: 7469 6d69 7a61 7469 6f6e 2061 7265 2075  timization are u
+0001c710: 7375 616c 6c79 2073 6c6f 7765 7220 7468  sually slower th
+0001c720: 616e 2064 6f69 6e67 206e 6f74 6869 6e67  an doing nothing
+0001c730: 2e0d 0a54 6169 6c20 7265 6375 7273 696f  ...Tail recursio
+0001c740: 6e20 656c 696d 696e 6174 696f 6e20 7265  n elimination re
+0001c750: 7375 6c74 7320 696e 2061 2062 6967 2070  sults in a big p
+0001c760: 6572 666f 726d 616e 6365 2077 696e 2062  erformance win b
+0001c770: 6563 6175 7365 2050 7974 686f 6e20 6861  ecause Python ha
+0001c780: 7320 6120 6661 6972 6c79 206c 6172 6765  s a fairly large
+0001c790: 2066 756e 6374 696f 6e20 6361 6c6c 206f   function call o
+0001c7a0: 7665 7268 6561 642e 2042 7920 756e 7769  verhead. By unwi
+0001c7b0: 6e64 696e 6720 6120 7265 6375 7273 6976  nding a recursiv
+0001c7c0: 6520 6675 6e63 7469 6f6e 2c20 6661 7220  e function, far 
+0001c7d0: 6665 7765 7220 6675 6e63 7469 6f6e 2063  fewer function c
+0001c7e0: 616c 6c73 206e 6565 6420 746f 2062 6520  alls need to be 
+0001c7f0: 6d61 6465 2e0d 0a57 6865 6e20 7468 6520  made...When the 
+0001c800: 602d 2d6e 6f2d 7463 6f60 2066 6c61 6720  `--no-tco` flag 
+0001c810: 6973 2064 6973 6162 6c65 642c 2043 6f63  is disabled, Coc
+0001c820: 6f6e 7574 2077 696c 6c20 6174 7465 6d70  onut will attemp
+0001c830: 7420 746f 2064 6f20 616c 6c20 7479 7065  t to do all type
+0001c840: 7320 6f66 2074 6169 6c20 6361 6c6c 206f  s of tail call o
+0001c850: 7074 696d 697a 6174 696f 6e73 2c20 6861  ptimizations, ha
+0001c860: 6e64 6c69 6e67 206e 6f6e 2d72 6563 7572  ndling non-recur
+0001c870: 7369 7665 2074 6169 6c20 6361 6c6c 732c  sive tail calls,
+0001c880: 2073 706c 6974 2070 6174 7465 726e 2d6d   split pattern-m
+0001c890: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+0001c8a0: 732c 206d 7574 7561 6c20 7265 6375 7273  s, mutual recurs
+0001c8b0: 696f 6e2c 2061 6e64 2074 6169 6c20 7265  ion, and tail re
+0001c8c0: 6375 7273 696f 6e2e 2057 6865 6e20 7468  cursion. When th
+0001c8d0: 6520 602d 2d6e 6f2d 7463 6f60 2066 6c61  e `--no-tco` fla
+0001c8e0: 6720 6973 2065 6e61 626c 6564 2c20 436f  g is enabled, Co
+0001c8f0: 636f 6e75 7420 7769 6c6c 206e 6f20 6c6f  conut will no lo
+0001c900: 6e67 6572 2070 6572 666f 726d 2061 6e79  nger perform any
+0001c910: 2074 6169 6c20 6361 6c6c 206f 7074 696d   tail call optim
+0001c920: 697a 6174 696f 6e73 206f 7468 6572 2074  izations other t
+0001c930: 6861 6e20 7461 696c 2072 6563 7572 7369  han tail recursi
+0001c940: 6f6e 2065 6c69 6d69 6e61 7469 6f6e 2e0d  on elimination..
+0001c950: 0a0d 0a23 2323 2320 5461 696c 2052 6563  ...#### Tail Rec
+0001c960: 7572 7369 6f6e 2045 6c69 6d69 6e61 7469  ursion Eliminati
+0001c970: 6f6e 2061 6e64 2050 7974 686f 6e20 6c61  on and Python la
+0001c980: 6d62 6461 730d 0a0d 0a43 6f63 6f6e 7574  mbdas....Coconut
+0001c990: 2064 6f65 7320 6e6f 7420 7065 7266 6f72   does not perfor
+0001c9a0: 6d20 7461 696c 2072 6563 7572 7369 6f6e  m tail recursion
+0001c9b0: 2065 6c69 6d69 6e61 7469 6f6e 2069 6e20   elimination in 
+0001c9c0: 6675 6e63 7469 6f6e 7320 7468 6174 2075  functions that u
+0001c9d0: 7469 6c69 7a65 206c 616d 6264 6173 206f  tilize lambdas o
+0001c9e0: 7220 696e 6e65 7220 6675 6e63 7469 6f6e  r inner function
+0001c9f0: 732e 2054 6869 7320 6973 2062 6563 6175  s. This is becau
+0001ca00: 7365 206f 6620 7468 6520 7761 7920 7468  se of the way th
+0001ca10: 6174 2050 7974 686f 6e20 6861 6e64 6c65  at Python handle
+0001ca20: 7320 6c61 6d62 6461 732e 0d0a 0d0a 4561  s lambdas.....Ea
+0001ca30: 6368 206c 616d 6264 6120 7374 6f72 6573  ch lambda stores
+0001ca40: 2061 2070 6f69 6e74 6572 2074 6f20 7468   a pointer to th
+0001ca50: 6520 6e61 6d65 7370 6163 6520 656e 636c  e namespace encl
+0001ca60: 6f73 696e 6720 6974 2c20 7261 7468 6572  osing it, rather
+0001ca70: 2074 6861 6e20 6120 636f 7079 206f 6620   than a copy of 
+0001ca80: 7468 6520 6e61 6d65 7370 6163 652e 2054  the namespace. T
+0001ca90: 6875 732c 2069 6620 7468 6520 436f 636f  hus, if the Coco
+0001caa0: 6e75 7420 636f 6d70 696c 6572 2074 7269  nut compiler tri
+0001cab0: 6573 2074 6f20 7265 6379 636c 6520 616e  es to recycle an
+0001cac0: 7974 6869 6e67 2069 6e20 7468 6520 6e61  ything in the na
+0001cad0: 6d65 7370 6163 6520 7468 6174 2070 726f  mespace that pro
+0001cae0: 6475 6365 6420 7468 6520 6c61 6d62 6461  duced the lambda
+0001caf0: 2c20 7768 6963 6820 6e65 6564 7320 746f  , which needs to
+0001cb00: 2062 6520 646f 6e65 2066 6f72 2054 5245   be done for TRE
+0001cb10: 2c20 7468 6520 6c61 6d62 6461 2063 616e  , the lambda can
+0001cb20: 2062 6520 6368 616e 6765 6420 7265 7472   be changed retr
+0001cb30: 6f61 6374 6976 656c 792e 0d0a 0d0a 4120  oactively.....A 
+0001cb40: 7369 6d70 6c65 2065 7861 6d70 6c65 2064  simple example d
+0001cb50: 656d 6f6e 7374 7261 7469 6e67 2074 6869  emonstrating thi
+0001cb60: 7320 6265 6861 7669 6f72 2069 6e20 5079  s behavior in Py
+0001cb70: 7468 6f6e 3a0d 0a0d 0a60 6060 7079 7468  thon:....```pyth
+0001cb80: 6f6e 0d0a 7820 3d20 310d 0a66 6f6f 203d  on..x = 1..foo =
+0001cb90: 206c 616d 6264 613a 2078 0d0a 7072 696e   lambda: x..prin
+0001cba0: 7428 666f 6f28 2929 2020 2320 310d 0a78  t(foo())  # 1..x
+0001cbb0: 203d 2032 2020 2020 2020 2020 2023 2044   = 2         # D
+0001cbc0: 6972 6563 746c 7920 616c 7465 7220 7468  irectly alter th
+0001cbd0: 6520 7661 6c75 6573 2069 6e20 7468 6520  e values in the 
+0001cbe0: 6e61 6d65 7370 6163 6520 656e 636c 6f73  namespace enclos
+0001cbf0: 696e 6720 666f 6f0d 0a70 7269 6e74 2866  ing foo..print(f
+0001cc00: 6f6f 2829 2920 2023 2032 2028 2129 0d0a  oo())  # 2 (!)..
+0001cc10: 6060 600d 0a0d 0a42 6563 6175 7365 2074  ```....Because t
+0001cc20: 6869 7320 636f 756c 6420 6861 7665 2075  his could have u
+0001cc30: 6e69 6e74 656e 6465 6420 616e 6420 706f  nintended and po
+0001cc40: 7465 6e74 6961 6c6c 7920 6461 6d61 6769  tentially damagi
+0001cc50: 6e67 2063 6f6e 7365 7175 656e 6365 732c  ng consequences,
+0001cc60: 2043 6f63 6f6e 7574 206f 7074 7320 746f   Coconut opts to
+0001cc70: 206e 6f74 2070 6572 666f 726d 2054 5245   not perform TRE
+0001cc80: 206f 6e20 616e 7920 6675 6e63 7469 6f6e   on any function
+0001cc90: 2077 6974 6820 6120 6c61 6d62 6461 206f   with a lambda o
+0001cca0: 7220 696e 6e65 7220 6675 6e63 7469 6f6e  r inner function
+0001ccb0: 2e0d 0a0d 0a23 2323 2041 7373 6967 6e6d  .....### Assignm
+0001ccc0: 656e 7420 4675 6e63 7469 6f6e 730d 0a0d  ent Functions...
+0001ccd0: 0a43 6f63 6f6e 7574 2061 6c6c 6f77 7320  .Coconut allows 
+0001cce0: 666f 7220 6173 7369 676e 6d65 6e74 2066  for assignment f
+0001ccf0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+0001cd00: 6f6e 2074 6861 7420 6175 746f 6d61 7469  on that automati
+0001cd10: 6361 6c6c 7920 7265 7475 726e 7320 7468  cally returns th
+0001cd20: 6520 6c61 7374 206c 696e 6520 6f66 2074  e last line of t
+0001cd30: 6865 2066 756e 6374 696f 6e20 626f 6479  he function body
+0001cd40: 2e20 416e 2061 7373 6967 6e6d 656e 7420  . An assignment 
+0001cd50: 6675 6e63 7469 6f6e 2069 7320 636f 6e73  function is cons
+0001cd60: 7472 7563 7465 6420 6279 2073 7562 7374  tructed by subst
+0001cd70: 6974 7574 696e 6720 603d 6020 666f 7220  ituting `=` for 
+0001cd80: 603a 6020 6166 7465 7220 7468 6520 6675  `:` after the fu
+0001cd90: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+0001cda0: 6e20 6c69 6e65 2e20 5468 7573 2c20 7468  n line. Thus, th
+0001cdb0: 6520 7379 6e74 6178 2066 6f72 2061 7373  e syntax for ass
+0001cdc0: 6967 6e6d 656e 7420 6675 6e63 7469 6f6e  ignment function
+0001cdd0: 2064 6566 696e 6974 696f 6e20 6973 2065   definition is e
+0001cde0: 6974 6865 720d 0a60 6060 636f 636f 6e75  ither..```coconu
+0001cdf0: 740d 0a5b 6173 796e 635d 2064 6566 203c  t..[async] def <
+0001ce00: 6e61 6d65 3e28 3c61 7267 733e 2920 3d20  name>(<args>) = 
+0001ce10: 3c65 7870 723e 0d0a 6060 600d 0a66 6f72  <expr>..```..for
+0001ce20: 206f 6e65 2d6c 696e 6572 7320 6f72 0d0a   one-liners or..
+0001ce30: 6060 6063 6f63 6f6e 7574 0d0a 5b61 7379  ```coconut..[asy
+0001ce40: 6e63 5d20 6465 6620 3c6e 616d 653e 283c  nc] def <name>(<
+0001ce50: 6172 6773 3e29 203d 0d0a 2020 2020 3c73  args>) =..    <s
+0001ce60: 746d 7473 3e0d 0a20 2020 203c 6578 7072  tmts>..    <expr
+0001ce70: 3e0d 0a60 6060 0d0a 666f 7220 6675 6c6c  >..```..for full
+0001ce80: 2066 756e 6374 696f 6e73 2c20 7768 6572   functions, wher
+0001ce90: 6520 603c 6e61 6d65 3e60 2069 7320 7468  e `<name>` is th
+0001cea0: 6520 6e61 6d65 206f 6620 7468 6520 6675  e name of the fu
+0001ceb0: 6e63 7469 6f6e 2c20 603c 6172 6773 3e60  nction, `<args>`
+0001cec0: 2061 7265 2074 6865 2066 756e 6374 696f   are the functio
+0001ced0: 6e73 2061 7267 756d 656e 7473 2c20 603c  ns arguments, `<
+0001cee0: 7374 6d74 733e 6020 6172 6520 616e 7920  stmts>` are any 
+0001cef0: 7374 6174 656d 656e 7473 2074 6861 7420  statements that 
+0001cf00: 7468 6520 6675 6e63 7469 6f6e 2073 686f  the function sho
+0001cf10: 756c 6420 6578 6563 7574 652c 2061 6e64  uld execute, and
+0001cf20: 2060 3c65 7870 723e 6020 6973 2074 6865   `<expr>` is the
+0001cf30: 2076 616c 7565 2074 6861 7420 7468 6520   value that the 
+0001cf40: 6675 6e63 7469 6f6e 2073 686f 756c 6420  function should 
+0001cf50: 7265 7475 726e 2e0d 0a0d 0a5f 4e6f 7465  return....._Note
+0001cf60: 3a20 4173 7369 676e 6d65 6e74 2066 756e  : Assignment fun
+0001cf70: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001cf80: 2063 616e 2062 6520 636f 6d62 696e 6564   can be combined
+0001cf90: 2077 6974 6820 696e 6669 7820 616e 642f   with infix and/
+0001cfa0: 6f72 2070 6174 7465 726e 2d6d 6174 6368  or pattern-match
+0001cfb0: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
+0001cfc0: 696e 6974 696f 6e2e 5f0d 0a0d 0a23 2323  inition._....###
+0001cfd0: 2323 2052 6174 696f 6e61 6c65 0d0a 0d0a  ## Rationale....
+0001cfe0: 436f 636f 6e75 7427 7320 4173 7369 676e  Coconut's Assign
+0001cff0: 6d65 6e74 2066 756e 6374 696f 6e20 6465  ment function de
+0001d000: 6669 6e69 7469 6f6e 2069 7320 6173 2065  finition is as e
+0001d010: 6173 7920 746f 2077 7269 7465 2061 7320  asy to write as 
+0001d020: 6173 7369 676e 6d65 6e74 2074 6f20 6120  assignment to a 
+0001d030: 6c61 6d62 6461 2c20 6275 7420 7769 6c6c  lambda, but will
+0001d040: 2061 7070 6561 7220 6e61 6d65 6420 696e   appear named in
+0001d050: 2074 7261 6365 6261 636b 732c 2061 7320   tracebacks, as 
+0001d060: 6974 2063 6f6d 7069 6c65 7320 746f 206e  it compiles to n
+0001d070: 6f72 6d61 6c20 5079 7468 6f6e 2066 756e  ormal Python fun
+0001d080: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001d090: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0001d0a0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0001d0b0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0001d0c0: 6465 6620 6269 6e65 7870 2878 2920 3d20  def binexp(x) = 
+0001d0d0: 322a 2a78 0d0a 3520 7c3e 2062 696e 6578  2**x..5 |> binex
+0001d0e0: 7020 7c3e 2070 7269 6e74 0d0a 6060 600d  p |> print..```.
+0001d0f0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+0001d100: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0001d110: 6e0d 0a64 6566 2062 696e 6578 7028 7829  n..def binexp(x)
+0001d120: 3a20 7265 7475 726e 2032 2a2a 780d 0a70  : return 2**x..p
+0001d130: 7269 6e74 2862 696e 6578 7028 3529 290d  rint(binexp(5)).
+0001d140: 0a60 6060 0d0a 0d0a 2323 2320 5061 7474  .```....### Patt
+0001d150: 6572 6e2d 4d61 7463 6869 6e67 2046 756e  ern-Matching Fun
+0001d160: 6374 696f 6e73 0d0a 0d0a 436f 636f 6e75  ctions....Coconu
+0001d170: 7420 7061 7474 6572 6e2d 6d61 7463 6869  t pattern-matchi
+0001d180: 6e67 2066 756e 6374 696f 6e73 2061 7265  ng functions are
+0001d190: 206a 7573 7420 6e6f 726d 616c 2066 756e   just normal fun
+0001d1a0: 6374 696f 6e73 2c20 6578 6365 7074 2077  ctions, except w
+0001d1b0: 6865 7265 2074 6865 2061 7267 756d 656e  here the argumen
+0001d1c0: 7473 2061 7265 2070 6174 7465 726e 7320  ts are patterns 
+0001d1d0: 746f 2062 6520 6d61 7463 6865 6420 6167  to be matched ag
+0001d1e0: 6169 6e73 7420 696e 7374 6561 6420 6f66  ainst instead of
+0001d1f0: 2076 6172 6961 626c 6573 2074 6f20 6265   variables to be
+0001d200: 2061 7373 6967 6e65 6420 746f 2e20 5468   assigned to. Th
+0001d210: 6520 7379 6e74 6178 2066 6f72 2070 6174  e syntax for pat
+0001d220: 7465 726e 2d6d 6174 6368 696e 6720 6675  tern-matching fu
+0001d230: 6e63 7469 6f6e 2064 6566 696e 6974 696f  nction definitio
+0001d240: 6e20 6973 0d0a 6060 6063 6f63 6f6e 7574  n is..```coconut
+0001d250: 0d0a 5b6d 6174 6368 5d20 6465 6620 3c6e  ..[match] def <n
+0001d260: 616d 653e 283c 6172 673e 2c20 3c61 7267  ame>(<arg>, <arg
+0001d270: 3e2c 202e 2e2e 205b 6966 203c 636f 6e64  >, ... [if <cond
+0001d280: 3e5d 2920 5b2d 3e20 3c72 6574 7572 6e5f  >]) [-> <return_
+0001d290: 7479 7065 3e5d 3a0d 0a20 2020 203c 626f  type>]:..    <bo
+0001d2a0: 6479 3e0d 0a60 6060 0d0a 7768 6572 6520  dy>..```..where 
+0001d2b0: 603c 6172 673e 6020 6973 2064 6566 696e  `<arg>` is defin
+0001d2c0: 6564 2061 730d 0a60 6060 636f 636f 6e75  ed as..```coconu
+0001d2d0: 740d 0a5b 2a7c 2a2a 5d20 3c70 6174 7465  t..[*|**] <patte
+0001d2e0: 726e 3e20 5b3d 203c 6465 6661 756c 743e  rn> [= <default>
+0001d2f0: 5d0d 0a60 6060 0d0a 7768 6572 6520 603c  ]..```..where `<
+0001d300: 6e61 6d65 3e60 2069 7320 7468 6520 6e61  name>` is the na
+0001d310: 6d65 206f 6620 7468 6520 6675 6e63 7469  me of the functi
+0001d320: 6f6e 2c20 603c 636f 6e64 3e60 2069 7320  on, `<cond>` is 
+0001d330: 616e 206f 7074 696f 6e61 6c20 6164 6469  an optional addi
+0001d340: 7469 6f6e 616c 2063 6865 636b 2c20 603c  tional check, `<
+0001d350: 626f 6479 3e60 2069 7320 7468 6520 626f  body>` is the bo
+0001d360: 6479 206f 6620 7468 6520 6675 6e63 7469  dy of the functi
+0001d370: 6f6e 2c20 603c 7061 7474 6572 6e3e 6020  on, `<pattern>` 
+0001d380: 6973 2064 6566 696e 6564 2062 7920 436f  is defined by Co
+0001d390: 636f 6e75 7427 7320 5b60 6d61 7463 6860  conut's [`match`
+0001d3a0: 2073 7461 7465 6d65 6e74 5d28 236d 6174   statement](#mat
+0001d3b0: 6368 292c 2060 3c64 6566 6175 6c74 3e60  ch), `<default>`
+0001d3c0: 2069 7320 7468 6520 6f70 7469 6f6e 616c   is the optional
+0001d3d0: 2064 6566 6175 6c74 2069 6620 6e6f 2061   default if no a
+0001d3e0: 7267 756d 656e 7420 6973 2070 6173 7365  rgument is passe
+0001d3f0: 642c 2061 6e64 2060 3c72 6574 7572 6e5f  d, and `<return_
+0001d400: 7479 7065 3e60 2069 7320 7468 6520 6f70  type>` is the op
+0001d410: 7469 6f6e 616c 2072 6574 7572 6e20 7479  tional return ty
+0001d420: 7065 2061 6e6e 6f74 6174 696f 6e20 286e  pe annotation (n
+0001d430: 6f74 6520 7468 6174 2061 7267 756d 656e  ote that argumen
+0001d440: 7420 7479 7065 2061 6e6e 6f74 6174 696f  t type annotatio
+0001d450: 6e73 2061 7265 206e 6f74 2073 7570 706f  ns are not suppo
+0001d460: 7274 6564 2066 6f72 2070 6174 7465 726e  rted for pattern
+0001d470: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+0001d480: 6f6e 7329 2e20 5468 6520 606d 6174 6368  ons). The `match
+0001d490: 6020 6b65 7977 6f72 6420 6174 2074 6865  ` keyword at the
+0001d4a0: 2062 6567 696e 6e69 6e67 2069 7320 6f70   beginning is op
+0001d4b0: 7469 6f6e 616c 2c20 6275 7420 6973 2073  tional, but is s
+0001d4c0: 6f6d 6574 696d 6573 206e 6563 6573 7361  ometimes necessa
+0001d4d0: 7279 2074 6f20 6469 7361 6d62 6967 7561  ry to disambigua
+0001d4e0: 7465 2070 6174 7465 726e 2d6d 6174 6368  te pattern-match
+0001d4f0: 696e 6720 6675 6e63 7469 6f6e 2064 6566  ing function def
+0001d500: 696e 6974 696f 6e20 6672 6f6d 206e 6f72  inition from nor
+0001d510: 6d61 6c20 6675 6e63 7469 6f6e 2064 6566  mal function def
+0001d520: 696e 6974 696f 6e2c 2073 696e 6365 2050  inition, since P
+0001d530: 7974 686f 6e20 6675 6e63 7469 6f6e 2064  ython function d
+0001d540: 6566 696e 6974 696f 6e20 7769 6c6c 2061  efinition will a
+0001d550: 6c77 6179 7320 7461 6b65 2070 7265 6365  lways take prece
+0001d560: 6465 6e63 652e 204e 6f74 6520 7468 6174  dence. Note that
+0001d570: 2074 6865 2060 6173 796e 6360 2061 6e64   the `async` and
+0001d580: 2060 6d61 7463 6860 206b 6579 776f 7264   `match` keyword
+0001d590: 7320 6361 6e20 6265 2069 6e20 616e 7920  s can be in any 
+0001d5a0: 6f72 6465 722e 0d0a 0d0a 4966 2060 3c70  order.....If `<p
+0001d5b0: 6174 7465 726e 3e60 2068 6173 2061 2076  attern>` has a v
+0001d5c0: 6172 6961 626c 6520 6e61 6d65 2028 6569  ariable name (ei
+0001d5d0: 7468 6572 2064 6972 6563 746c 7920 6f72  ther directly or
+0001d5e0: 2077 6974 6820 6061 7360 292c 2074 6865   with `as`), the
+0001d5f0: 2072 6573 756c 7469 6e67 2070 6174 7465   resulting patte
+0001d600: 726e 2d6d 6174 6368 696e 6720 6675 6e63  rn-matching func
+0001d610: 7469 6f6e 2077 696c 6c20 7375 7070 6f72  tion will suppor
+0001d620: 7420 6b65 7977 6f72 6420 6172 6775 6d65  t keyword argume
+0001d630: 6e74 7320 7573 696e 6720 7468 6174 2076  nts using that v
+0001d640: 6172 6961 626c 6520 6e61 6d65 2e0d 0a0d  ariable name....
+0001d650: 0a49 6e20 6164 6469 7469 6f6e 2074 6f20  .In addition to 
+0001d660: 7375 7070 6f72 7469 6e67 2070 6174 7465  supporting patte
+0001d670: 726e 2d6d 6174 6368 696e 6720 696e 2074  rn-matching in t
+0001d680: 6865 6972 2061 7267 756d 656e 7473 2c20  heir arguments, 
+0001d690: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+0001d6a0: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
+0001d6b0: 7469 6f6e 7320 616c 736f 2068 6176 6520  tions also have 
+0001d6c0: 6120 636f 7570 6c65 206f 6620 6e6f 7461  a couple of nota
+0001d6d0: 626c 6520 6469 6666 6572 656e 6365 7320  ble differences 
+0001d6e0: 636f 6d70 6172 6564 2074 6f20 5079 7468  compared to Pyth
+0001d6f0: 6f6e 2066 756e 6374 696f 6e73 2e20 5370  on functions. Sp
+0001d700: 6563 6966 6963 616c 6c79 3a0d 0a2d 2049  ecifically:..- I
+0001d710: 6620 7061 7474 6572 6e2d 6d61 7463 6869  f pattern-matchi
+0001d720: 6e67 2066 756e 6374 696f 6e20 6465 6669  ng function defi
+0001d730: 6e69 7469 6f6e 2066 6169 6c73 2c20 6974  nition fails, it
+0001d740: 2077 696c 6c20 7261 6973 6520 6120 5b60   will raise a [`
+0001d750: 4d61 7463 6845 7272 6f72 605d 2823 6d61  MatchError`](#ma
+0001d760: 7463 6865 7272 6f72 2920 286a 7573 7420  tcherror) (just 
+0001d770: 6c69 6b65 205b 6465 7374 7275 6374 7572  like [destructur
+0001d780: 696e 6720 6173 7369 676e 6d65 6e74 5d28  ing assignment](
+0001d790: 2364 6573 7472 7563 7475 7269 6e67 2d61  #destructuring-a
+0001d7a0: 7373 6967 6e6d 656e 7429 2920 696e 7374  ssignment)) inst
+0001d7b0: 6561 6420 6f66 2061 2060 5479 7065 4572  ead of a `TypeEr
+0001d7c0: 726f 7260 2e0d 0a2d 2041 6c6c 2064 6566  ror`...- All def
+0001d7d0: 6175 6c74 7320 696e 2070 6174 7465 726e  aults in pattern
+0001d7e0: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+0001d7f0: 6f6e 2064 6566 696e 6974 696f 6e20 6172  on definition ar
+0001d800: 6520 6c61 7465 2d62 6f75 6e64 2072 6174  e late-bound rat
+0001d810: 6865 7220 7468 616e 2065 6172 6c79 2d62  her than early-b
+0001d820: 6f75 6e64 2e20 5468 7573 2c20 606d 6174  ound. Thus, `mat
+0001d830: 6368 2064 6566 2066 2878 733d 5b5d 2920  ch def f(xs=[]) 
+0001d840: 3d20 7873 6020 7769 6c6c 2069 6e73 7461  = xs` will insta
+0001d850: 6e74 6961 7465 2061 206e 6577 206c 6973  ntiate a new lis
+0001d860: 7420 666f 7220 6561 6368 2063 616c 6c20  t for each call 
+0001d870: 7768 6572 6520 6078 7360 2069 7320 6e6f  where `xs` is no
+0001d880: 7420 6769 7665 6e2c 2075 6e6c 696b 6520  t given, unlike 
+0001d890: 6064 6566 2066 2878 733d 5b5d 2920 3d20  `def f(xs=[]) = 
+0001d8a0: 7873 602c 2077 6869 6368 2077 696c 6c20  xs`, which will 
+0001d8b0: 7573 6520 7468 6520 7361 6d65 206c 6973  use the same lis
+0001d8c0: 7420 666f 7220 616c 6c20 6361 6c6c 7320  t for all calls 
+0001d8d0: 7768 6572 6520 6078 7360 2069 7320 756e  where `xs` is un
+0001d8e0: 7370 6563 6966 6965 642e 0d0a 0d0a 5061  specified.....Pa
+0001d8f0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+0001d900: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+0001d910: 6f6e 2063 616e 2061 6c73 6f20 6265 2063  on can also be c
+0001d920: 6f6d 6269 6e65 6420 7769 7468 2060 6173  ombined with `as
+0001d930: 796e 6360 2066 756e 6374 696f 6e73 2c20  ync` functions, 
+0001d940: 5b60 636f 7079 636c 6f73 7572 6560 2066  [`copyclosure` f
+0001d950: 756e 6374 696f 6e73 5d28 2363 6f70 7963  unctions](#copyc
+0001d960: 6c6f 7375 7265 2d66 756e 6374 696f 6e73  losure-functions
+0001d970: 292c 205b 6079 6965 6c64 6020 6675 6e63  ), [`yield` func
+0001d980: 7469 6f6e 735d 2823 6578 706c 6963 6974  tions](#explicit
+0001d990: 2d67 656e 6572 6174 6f72 7329 2c20 5b69  -generators), [i
+0001d9a0: 6e66 6978 2066 756e 6374 696f 6e20 6465  nfix function de
+0001d9b0: 6669 6e69 7469 6f6e 5d28 2369 6e66 6978  finition](#infix
+0001d9c0: 2d66 756e 6374 696f 6e73 292c 2061 6e64  -functions), and
+0001d9d0: 205b 6173 7369 676e 6d65 6e74 2066 756e   [assignment fun
+0001d9e0: 6374 696f 6e20 7379 6e74 6178 5d28 2361  ction syntax](#a
+0001d9f0: 7373 6967 6e6d 656e 742d 6675 6e63 7469  ssignment-functi
+0001da00: 6f6e 7329 2e20 5468 6520 7661 7269 6f75  ons). The variou
+0001da10: 7320 6b65 7977 6f72 6473 2069 6e20 6672  s keywords in fr
+0001da20: 6f6e 7420 6f66 2074 6865 2060 6465 6660  ont of the `def`
+0001da30: 2063 616e 2062 6520 7075 7420 696e 2061   can be put in a
+0001da40: 6e79 206f 7264 6572 2e0d 0a0d 0a23 2323  ny order.....###
+0001da50: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
+0001da60: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
+0001da70: 6f63 6f6e 7574 0d0a 6465 6620 6c61 7374  oconut..def last
+0001da80: 5f74 776f 285f 202b 205b 612c 2062 5d29  _two(_ + [a, b])
+0001da90: 3a0d 0a20 2020 2072 6574 7572 6e20 612c  :..    return a,
+0001daa0: 2062 0d0a 6465 6620 7879 6469 6374 5f74   b..def xydict_t
+0001dab0: 6f5f 7879 7475 706c 6528 7b22 7822 3a20  o_xytuple({"x": 
+0001dac0: 7820 6069 7369 6e73 7461 6e63 6560 2069  x `isinstance` i
+0001dad0: 6e74 2c20 2279 223a 2079 2060 6973 696e  nt, "y": y `isin
+0001dae0: 7374 616e 6365 6020 696e 747d 293a 0d0a  stance` int}):..
+0001daf0: 2020 2020 7265 7475 726e 2078 2c20 790d      return x, y.
+0001db00: 0a0d 0a72 616e 6765 2835 2920 7c3e 206c  ...range(5) |> l
+0001db10: 6173 745f 7477 6f20 7c3e 2070 7269 6e74  ast_two |> print
+0001db20: 0d0a 7b22 7822 3a31 2c20 2279 223a 327d  ..{"x":1, "y":2}
+0001db30: 207c 3e20 7879 6469 6374 5f74 6f5f 7879   |> xydict_to_xy
+0001db40: 7475 706c 6520 7c3e 2070 7269 6e74 0d0a  tuple |> print..
+0001db50: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+0001db60: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
+0001db70: 6e65 2077 6974 686f 7574 2061 206c 6f6e  ne without a lon
+0001db80: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
+0001db90: 6b73 2061 7420 7468 6520 746f 7020 6f66  ks at the top of
+0001dba0: 2074 6865 2066 756e 6374 696f 6e2e 2053   the function. S
+0001dbb0: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+0001dbc0: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+0001dbd0: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+0001dbe0: 2323 2320 6061 6464 7061 7474 6572 6e60  ### `addpattern`
+0001dbf0: 2046 756e 6374 696f 6e73 0d0a 0d0a 436f   Functions....Co
+0001dc00: 636f 6e75 7420 7072 6f76 6964 6573 2074  conut provides t
+0001dc10: 6865 2060 6164 6470 6174 7465 726e 2064  he `addpattern d
+0001dc20: 6566 6020 7379 6e74 6178 2061 7320 6120  ef` syntax as a 
+0001dc30: 7368 6f72 7463 7574 2066 6f72 2074 6865  shortcut for the
+0001dc40: 2066 756c 6c0d 0a60 6060 636f 636f 6e75   full..```coconu
+0001dc50: 740d 0a40 6164 6470 6174 7465 726e 2866  t..@addpattern(f
+0001dc60: 756e 6329 0d0a 6d61 7463 6820 6465 6620  unc)..match def 
+0001dc70: 6675 6e63 282e 2e2e 293a 0d0a 2020 2e2e  func(...):..  ..
+0001dc80: 2e0d 0a60 6060 0d0a 7379 6e74 6178 2075  ...```..syntax u
+0001dc90: 7369 6e67 2074 6865 205b 6061 6464 7061  sing the [`addpa
+0001dca0: 7474 6572 6e60 5d28 2361 6464 7061 7474  ttern`](#addpatt
+0001dcb0: 6572 6e29 2064 6563 6f72 6174 6f72 2e0d  ern) decorator..
+0001dcc0: 0a0d 0a41 6464 6974 696f 6e61 6c6c 792c  ...Additionally,
+0001dcd0: 2060 6164 6470 6174 7465 726e 2064 6566   `addpattern def
+0001dce0: 6020 7769 6c6c 2061 6374 206a 7573 7420  ` will act just 
+0001dcf0: 6c69 6b65 2061 206e 6f72 6d61 6c20 5b60  like a normal [`
+0001dd00: 6d61 7463 6820 6465 6660 5d28 2370 6174  match def`](#pat
+0001dd10: 7465 726e 2d6d 6174 6368 696e 672d 6675  tern-matching-fu
+0001dd20: 6e63 7469 6f6e 7329 2069 6620 7468 6520  nctions) if the 
+0001dd30: 6675 6e63 7469 6f6e 2068 6173 206e 6f74  function has not
+0001dd40: 2070 7265 7669 6f75 736c 7920 6265 656e   previously been
+0001dd50: 2064 6566 696e 6564 2c20 616c 6c6f 7769   defined, allowi
+0001dd60: 6e67 2066 6f72 2060 6164 6470 6174 7465  ng for `addpatte
+0001dd70: 726e 2064 6566 6020 746f 2062 6520 7573  rn def` to be us
+0001dd80: 6564 2066 6f72 2065 6163 6820 6361 7365  ed for each case
+0001dd90: 2072 6174 6865 7220 7468 616e 2072 6571   rather than req
+0001dda0: 7569 7269 6e67 2060 6d61 7463 6820 6465  uiring `match de
+0001ddb0: 6660 2066 6f72 2074 6865 2066 6972 7374  f` for the first
+0001ddc0: 2063 6173 6520 616e 6420 6061 6464 7061   case and `addpa
+0001ddd0: 7474 6572 6e20 6465 6660 2066 6f72 2066  ttern def` for f
+0001dde0: 7574 7572 6520 6361 7365 732e 0d0a 0d0a  uture cases.....
+0001ddf0: 4966 2079 6f75 2077 616e 7420 746f 2070  If you want to p
+0001de00: 7574 2061 2064 6563 6f72 6174 6f72 206f  ut a decorator o
+0001de10: 6e20 616e 2060 6164 6470 6174 7465 726e  n an `addpattern
+0001de20: 2064 6566 6020 6675 6e63 7469 6f6e 2c20   def` function, 
+0001de30: 6d61 6b65 2073 7572 6520 746f 2070 7574  make sure to put
+0001de40: 2069 7420 6f6e 2074 6865 205f 6c61 7374   it on the _last
+0001de50: 5f20 7061 7474 6572 6e20 6675 6e63 7469  _ pattern functi
+0001de60: 6f6e 2e0d 0a0d 0a23 2323 2323 2045 7861  on.....##### Exa
+0001de70: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
+0001de80: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
+0001de90: 0d0a 6164 6470 6174 7465 726e 2064 6566  ..addpattern def
+0001dea0: 2066 6163 746f 7269 616c 2830 2920 3d20   factorial(0) = 
+0001deb0: 310d 0a61 6464 7061 7474 6572 6e20 6465  1..addpattern de
+0001dec0: 6620 6661 6374 6f72 6961 6c28 6e29 203d  f factorial(n) =
+0001ded0: 206e 202a 2066 6163 746f 7269 616c 286e   n * factorial(n
+0001dee0: 202d 2031 290d 0a60 6060 0d0a 0d0a 2a2a   - 1)..```....**
+0001def0: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
+0001df00: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
+0001df10: 7420 6120 636f 6d70 6c69 6361 7465 6420  t a complicated 
+0001df20: 6465 636f 7261 746f 7220 6465 6669 6e69  decorator defini
+0001df30: 7469 6f6e 2061 6e64 2061 206c 6f6e 6720  tion and a long 
+0001df40: 7365 7269 6573 206f 6620 6368 6563 6b73  series of checks
+0001df50: 2066 6f72 2065 6163 6820 7061 7474 6572   for each patter
+0001df60: 6e2d 6d61 7463 6869 6e67 2e20 5365 6520  n-matching. See 
+0001df70: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
+0001df80: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
+0001df90: 2073 796e 7461 782e 5f0d 0a0d 0a23 2323   syntax._....###
+0001dfa0: 2060 636f 7079 636c 6f73 7572 6560 2046   `copyclosure` F
+0001dfb0: 756e 6374 696f 6e73 0d0a 0d0a 436f 636f  unctions....Coco
+0001dfc0: 6e75 7420 7375 7070 6f72 7473 2074 6865  nut supports the
+0001dfd0: 2073 796e 7461 780d 0a60 6060 0d0a 636f   syntax..```..co
+0001dfe0: 7079 636c 6f73 7572 6520 6465 6620 3c6e  pyclosure def <n
+0001dff0: 616d 653e 283c 6172 6773 3e29 3a0d 0a20  ame>(<args>):.. 
+0001e000: 2020 203c 626f 6479 3e0d 0a60 6060 0d0a     <body>..```..
+0001e010: 746f 2064 6566 696e 6520 6120 6675 6e63  to define a func
+0001e020: 7469 6f6e 2074 6861 7420 7573 6573 2061  tion that uses a
+0001e030: 7320 6974 7320 636c 6f73 7572 6520 6120  s its closure a 
+0001e040: 7368 616c 6c6f 7720 636f 7079 206f 6620  shallow copy of 
+0001e050: 6974 7320 656e 636c 6f73 696e 6720 7363  its enclosing sc
+0001e060: 6f70 6573 2061 7420 7468 6520 7469 6d65  opes at the time
+0001e070: 2074 6861 7420 7468 6520 6675 6e63 7469   that the functi
+0001e080: 6f6e 2069 7320 6465 6669 6e65 642c 2072  on is defined, r
+0001e090: 6174 6865 7220 7468 616e 2061 2072 6566  ather than a ref
+0001e0a0: 6572 656e 6365 2074 6f20 7468 6f73 6520  erence to those 
+0001e0b0: 7363 6f70 6573 2028 6173 2077 6974 6820  scopes (as with 
+0001e0c0: 6e6f 726d 616c 2050 7974 686f 6e20 6675  normal Python fu
+0001e0d0: 6e63 7469 6f6e 7329 2e0d 0a0d 0a46 6f72  nctions).....For
+0001e0e0: 2065 7861 6d70 6c65 2c60 696e 0d0a 6060   example,`in..``
+0001e0f0: 6063 6f63 6f6e 7574 0d0a 6465 6620 6f75  `coconut..def ou
+0001e100: 7465 725f 6675 6e63 2829 3a0d 0a20 2020  ter_func():..   
+0001e110: 2066 756e 6373 203d 205b 5d0d 0a20 2020   funcs = []..   
+0001e120: 2066 6f72 2078 2069 6e20 7261 6e67 6528   for x in range(
+0001e130: 3130 293a 0d0a 2020 2020 2020 2020 636f  10):..        co
+0001e140: 7079 636c 6f73 7572 6520 6465 6620 696e  pyclosure def in
+0001e150: 6e65 725f 6675 6e63 2829 3a0d 0a20 2020  ner_func():..   
+0001e160: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0001e170: 780d 0a20 2020 2020 2020 2066 756e 6373  x..        funcs
+0001e180: 2e61 7070 656e 6428 696e 6e65 725f 6675  .append(inner_fu
+0001e190: 6e63 290d 0a20 2020 2072 6574 7572 6e20  nc)..    return 
+0001e1a0: 6675 6e63 730d 0a60 6060 0d0a 7468 6520  funcs..```..the 
+0001e1b0: 7265 7375 6c74 696e 6720 6069 6e6e 6572  resulting `inner
+0001e1c0: 5f66 756e 6360 7320 7769 6c6c 2065 6163  _func`s will eac
+0001e1d0: 6820 7265 7475 726e 2061 205f 6469 6666  h return a _diff
+0001e1e0: 6572 656e 745f 2060 7860 2076 616c 7565  erent_ `x` value
+0001e1f0: 2072 6174 6865 7220 7468 616e 2061 6c6c   rather than all
+0001e200: 2074 6865 2073 616d 6520 6078 6020 7661   the same `x` va
+0001e210: 6c75 652c 2073 696e 6365 2074 6865 7920  lue, since they 
+0001e220: 6c6f 6f6b 2061 7420 7768 6174 2060 7860  look at what `x`
+0001e230: 2077 6173 2062 6f75 6e64 2074 6f20 6174   was bound to at
+0001e240: 2066 756e 6374 696f 6e20 6465 6669 6e69   function defini
+0001e250: 7469 6f6e 2074 696d 6520 7261 7468 6572  tion time rather
+0001e260: 2074 6861 6e20 6475 7269 6e67 2066 756e   than during fun
+0001e270: 6374 696f 6e20 6578 6563 7574 696f 6e2e  ction execution.
+0001e280: 0d0a 0d0a 6063 6f70 7963 6c6f 7375 7265  ....`copyclosure
+0001e290: 6020 6675 6e63 7469 6f6e 7320 6361 6e20  ` functions can 
+0001e2a0: 616c 736f 2062 6520 636f 6d62 696e 6564  also be combined
+0001e2b0: 2077 6974 6820 6061 7379 6e63 6020 6675   with `async` fu
+0001e2c0: 6e63 7469 6f6e 732c 205b 6079 6965 6c64  nctions, [`yield
+0001e2d0: 6020 6675 6e63 7469 6f6e 735d 2823 6578  ` functions](#ex
+0001e2e0: 706c 6963 6974 2d67 656e 6572 6174 6f72  plicit-generator
+0001e2f0: 7329 2c20 5b70 6174 7465 726e 2d6d 6174  s), [pattern-mat
+0001e300: 6368 696e 6720 6675 6e63 7469 6f6e 735d  ching functions]
+0001e310: 2823 7061 7474 6572 6e2d 6d61 7463 6869  (#pattern-matchi
+0001e320: 6e67 2d66 756e 6374 696f 6e73 292c 205b  ng-functions), [
+0001e330: 696e 6669 7820 6675 6e63 7469 6f6e 2064  infix function d
+0001e340: 6566 696e 6974 696f 6e5d 2823 696e 6669  efinition](#infi
+0001e350: 782d 6675 6e63 7469 6f6e 7329 2c20 616e  x-functions), an
+0001e360: 6420 5b61 7373 6967 6e6d 656e 7420 6675  d [assignment fu
+0001e370: 6e63 7469 6f6e 2073 796e 7461 785d 2823  nction syntax](#
+0001e380: 6173 7369 676e 6d65 6e74 2d66 756e 6374  assignment-funct
+0001e390: 696f 6e73 292e 2054 6865 2076 6172 696f  ions). The vario
+0001e3a0: 7573 206b 6579 776f 7264 7320 696e 2066  us keywords in f
+0001e3b0: 726f 6e74 206f 6620 7468 6520 6064 6566  ront of the `def
+0001e3c0: 6020 6361 6e20 6265 2070 7574 2069 6e20  ` can be put in 
+0001e3d0: 616e 7920 6f72 6465 722e 0d0a 0d0a 4966  any order.....If
+0001e3e0: 2060 676c 6f62 616c 6020 6f72 2060 6e6f   `global` or `no
+0001e3f0: 6e6c 6f63 616c 6020 6172 6520 7573 6564  nlocal` are used
+0001e400: 2069 6e20 6120 6063 6f70 7963 6c6f 7375   in a `copyclosu
+0001e410: 7265 6020 6675 6e63 7469 6f6e 2c20 7468  re` function, th
+0001e420: 6579 2077 696c 6c20 6e6f 7420 6265 2061  ey will not be a
+0001e430: 626c 6520 746f 206d 6f64 6966 7920 7661  ble to modify va
+0001e440: 7269 6162 6c65 7320 696e 2065 6e63 6c6f  riables in enclo
+0001e450: 7369 6e67 2073 636f 7065 732e 2048 6f77  sing scopes. How
+0001e460: 6576 6572 2c20 7468 6579 2077 696c 6c20  ever, they will 
+0001e470: 616c 6c6f 7720 7374 6174 6520 746f 2062  allow state to b
+0001e480: 6520 7072 6573 6572 7665 6420 6163 6372  e preserved accr
+0001e490: 6f73 7320 6d75 6c74 6970 6c65 2063 616c  oss multiple cal
+0001e4a0: 6c73 2074 6f20 7468 6520 6063 6f70 7963  ls to the `copyc
+0001e4b0: 6c6f 7375 7265 6020 6675 6e63 7469 6f6e  losure` function
+0001e4c0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0001e4d0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0001e4e0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0001e4f0: 6465 6620 6f75 7465 725f 6675 6e63 2829  def outer_func()
+0001e500: 3a0d 0a20 2020 2066 756e 6373 203d 205b  :..    funcs = [
+0001e510: 5d0d 0a20 2020 2066 6f72 2078 2069 6e20  ]..    for x in 
+0001e520: 7261 6e67 6528 3130 293a 0d0a 2020 2020  range(10):..    
+0001e530: 2020 2020 636f 7079 636c 6f73 7572 6520      copyclosure 
+0001e540: 6465 6620 696e 6e65 725f 6675 6e63 2829  def inner_func()
+0001e550: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0001e560: 6574 7572 6e20 780d 0a20 2020 2020 2020  eturn x..       
+0001e570: 2066 756e 6373 2e61 7070 656e 6428 696e   funcs.append(in
+0001e580: 6e65 725f 6675 6e63 290d 0a20 2020 2072  ner_func)..    r
+0001e590: 6574 7572 6e20 6675 6e63 730d 0a60 6060  eturn funcs..```
+0001e5a0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0001e5b0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0001e5c0: 6f6e 0d0a 6672 6f6d 2066 756e 6374 6f6f  on..from functoo
+0001e5d0: 6c73 2069 6d70 6f72 7420 7061 7274 6961  ls import partia
+0001e5e0: 6c0d 0a0d 0a64 6566 206f 7574 6572 5f66  l....def outer_f
+0001e5f0: 756e 6328 293a 0d0a 2020 2020 6675 6e63  unc():..    func
+0001e600: 7320 3d20 5b5d 0d0a 2020 2020 666f 7220  s = []..    for 
+0001e610: 7820 696e 2072 616e 6765 2831 3029 3a0d  x in range(10):.
+0001e620: 0a20 2020 2020 2020 2064 6566 2069 6e6e  .        def inn
+0001e630: 6572 5f66 756e 6328 5f78 293a 0d0a 2020  er_func(_x):..  
+0001e640: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001e650: 205f 780d 0a20 2020 2020 2020 2066 756e   _x..        fun
+0001e660: 6373 2e61 7070 656e 6428 7061 7274 6961  cs.append(partia
+0001e670: 6c28 696e 6e65 725f 6675 6e63 2c20 7829  l(inner_func, x)
+0001e680: 290d 0a20 2020 2072 6574 7572 6e20 6675  )..    return fu
+0001e690: 6e63 730d 0a60 6060 0d0a 0d0a 2323 2320  ncs..```....### 
+0001e6a0: 4578 706c 6963 6974 2047 656e 6572 6174  Explicit Generat
+0001e6b0: 6f72 730d 0a0d 0a43 6f63 6f6e 7574 2073  ors....Coconut s
+0001e6c0: 7570 706f 7274 7320 7468 6520 7379 6e74  upports the synt
+0001e6d0: 6178 0d0a 6060 600d 0a79 6965 6c64 2064  ax..```..yield d
+0001e6e0: 6566 203c 6e61 6d65 3e28 3c61 7267 733e  ef <name>(<args>
+0001e6f0: 293a 0d0a 2020 2020 3c62 6f64 793e 0d0a  ):..    <body>..
+0001e700: 6060 600d 0a74 6f20 6465 6e6f 7465 2074  ```..to denote t
+0001e710: 6861 7420 796f 7520 6172 6520 6578 706c  hat you are expl
+0001e720: 6963 6974 6c79 2064 6566 696e 696e 6720  icitly defining 
+0001e730: 6120 6765 6e65 7261 746f 7220 6675 6e63  a generator func
+0001e740: 7469 6f6e 2e20 5468 6973 2069 7320 7573  tion. This is us
+0001e750: 6566 756c 2074 6f20 656e 7375 7265 2074  eful to ensure t
+0001e760: 6861 742c 2065 7665 6e20 6966 2061 6c6c  hat, even if all
+0001e770: 2074 6865 2060 7969 656c 6460 7320 696e   the `yield`s in
+0001e780: 2079 6f75 7220 6675 6e63 7469 6f6e 2061   your function a
+0001e790: 7265 2072 656d 6f76 6564 2c20 6974 276c  re removed, it'l
+0001e7a0: 6c20 616c 7761 7973 2062 6520 6120 6765  l always be a ge
+0001e7b0: 6e65 7261 746f 7220 6675 6e63 7469 6f6e  nerator function
+0001e7c0: 2e0d 0a0d 0a45 7870 6c69 6369 7420 6765  .....Explicit ge
+0001e7d0: 6e65 7261 746f 7220 6675 6e63 7469 6f6e  nerator function
+0001e7e0: 7320 6361 6e20 616c 736f 2062 6520 636f  s can also be co
+0001e7f0: 6d62 696e 6564 2077 6974 6820 6061 7379  mbined with `asy
+0001e800: 6e63 6020 6675 6e63 7469 6f6e 732c 205b  nc` functions, [
+0001e810: 6063 6f70 7963 6c6f 7375 7265 6020 6675  `copyclosure` fu
+0001e820: 6e63 7469 6f6e 735d 2823 636f 7079 636c  nctions](#copycl
+0001e830: 6f73 7572 652d 6675 6e63 7469 6f6e 7329  osure-functions)
+0001e840: 2c20 5b70 6174 7465 726e 2d6d 6174 6368  , [pattern-match
+0001e850: 696e 6720 6675 6e63 7469 6f6e 735d 2823  ing functions](#
+0001e860: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+0001e870: 2d66 756e 6374 696f 6e73 292c 205b 696e  -functions), [in
+0001e880: 6669 7820 6675 6e63 7469 6f6e 2064 6566  fix function def
+0001e890: 696e 6974 696f 6e5d 2823 696e 6669 782d  inition](#infix-
+0001e8a0: 6675 6e63 7469 6f6e 7329 2c20 616e 6420  functions), and 
+0001e8b0: 5b61 7373 6967 6e6d 656e 7420 6675 6e63  [assignment func
+0001e8c0: 7469 6f6e 2073 796e 7461 785d 2823 6173  tion syntax](#as
+0001e8d0: 7369 676e 6d65 6e74 2d66 756e 6374 696f  signment-functio
+0001e8e0: 6e73 2920 2874 686f 7567 6820 6e6f 7465  ns) (though note
+0001e8f0: 2074 6861 7420 6173 7369 676e 6d65 6e74   that assignment
+0001e900: 2066 756e 6374 696f 6e20 7379 6e74 6178   function syntax
+0001e910: 2068 6572 6520 6372 6561 7465 7320 6120   here creates a 
+0001e920: 6765 6e65 7261 746f 7220 7265 7475 726e  generator return
+0001e930: 292e 2054 6865 2076 6172 696f 7573 206b  ). The various k
+0001e940: 6579 776f 7264 7320 696e 2066 726f 6e74  eywords in front
+0001e950: 206f 6620 7468 6520 6064 6566 6020 6361   of the `def` ca
+0001e960: 6e20 6265 2070 7574 2069 6e20 616e 7920  n be put in any 
+0001e970: 6f72 6465 722e 0d0a 0d0a 2323 2323 2320  order.....##### 
+0001e980: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+0001e990: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+0001e9a0: 6e75 740d 0a79 6965 6c64 2064 6566 2065  nut..yield def e
+0001e9b0: 6d70 7479 5f69 7428 293a 2070 6173 730d  mpty_it(): pass.
+0001e9c0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+0001e9d0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
+0001e9e0: 7079 7468 6f6e 0d0a 6465 6620 656d 7074  python..def empt
+0001e9f0: 795f 6974 2829 3a0d 0a20 2020 2069 6620  y_it():..    if 
+0001ea00: 4661 6c73 653a 0d0a 2020 2020 2020 2020  False:..        
+0001ea10: 7969 656c 640d 0a60 6060 0d0a 0d0a 2323  yield..```....##
+0001ea20: 2320 446f 7474 6564 2046 756e 6374 696f  # Dotted Functio
+0001ea30: 6e20 4465 6669 6e69 7469 6f6e 0d0a 0d0a  n Definition....
+0001ea40: 436f 636f 6e75 7420 616c 6c6f 7773 2066  Coconut allows f
+0001ea50: 6f72 2066 756e 6374 696f 6e20 6465 6669  or function defi
+0001ea60: 6e69 7469 6f6e 2075 7369 6e67 2061 2064  nition using a d
+0001ea70: 6f74 7465 6420 6e61 6d65 2074 6f20 6173  otted name to as
+0001ea80: 7369 676e 2061 2066 756e 6374 696f 6e20  sign a function 
+0001ea90: 6173 2061 206d 6574 686f 6420 6f66 2061  as a method of a
+0001eaa0: 6e20 6f62 6a65 6374 2061 7320 7370 6563  n object as spec
+0001eab0: 6966 6965 6420 696e 205b 5045 5020 3534  ified in [PEP 54
+0001eac0: 325d 2868 7474 7073 3a2f 2f77 7777 2e70  2](https://www.p
+0001ead0: 7974 686f 6e2e 6f72 672f 6465 762f 7065  ython.org/dev/pe
+0001eae0: 7073 2f70 6570 2d30 3534 322f 292e 2044  ps/pep-0542/). D
+0001eaf0: 6f74 7465 6420 6675 6e63 7469 6f6e 2064  otted function d
+0001eb00: 6566 696e 6974 696f 6e20 6361 6e20 6265  efinition can be
+0001eb10: 2063 6f6d 6269 6e65 6420 7769 7468 2061   combined with a
+0001eb20: 6c6c 206f 7468 6572 2074 7970 6573 206f  ll other types o
+0001eb30: 6620 6675 6e63 7469 6f6e 2064 6566 696e  f function defin
+0001eb40: 6974 696f 6e20 6162 6f76 652e 0d0a 0d0a  ition above.....
+0001eb50: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0001eb60: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0001eb70: 6060 636f 636f 6e75 740d 0a64 6566 204d  ``coconut..def M
+0001eb80: 7943 6c61 7373 2e6d 795f 6d65 7468 6f64  yClass.my_method
+0001eb90: 2873 656c 6629 3a0d 0a20 2020 202e 2e2e  (self):..    ...
+0001eba0: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0001ebb0: 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  n:**..```coconut
+0001ebc0: 5f70 7974 686f 6e0d 0a64 6566 206d 795f  _python..def my_
+0001ebd0: 6d65 7468 6f64 2873 656c 6629 3a0d 0a20  method(self):.. 
+0001ebe0: 2020 202e 2e2e 0d0a 4d79 436c 6173 732e     .....MyClass.
+0001ebf0: 6d79 5f6d 6574 686f 6420 3d20 6d79 5f6d  my_method = my_m
+0001ec00: 6574 686f 640d 0a60 6060 0d0a 0d0a 2323  ethod..```....##
+0001ec10: 2053 7461 7465 6d65 6e74 730d 0a0d 0a60   Statements....`
+0001ec20: 6060 7b63 6f6e 7465 6e74 737d 0d0a 2d2d  ``{contents}..--
+0001ec30: 2d0d 0a6c 6f63 616c 3a0d 0a64 6570 7468  -..local:..depth
+0001ec40: 3a20 310d 0a2d 2d2d 0d0a 6060 600d 0a0d  : 1..---..```...
+0001ec50: 0a23 2323 2044 6573 7472 7563 7475 7269  .### Destructuri
+0001ec60: 6e67 2041 7373 6967 6e6d 656e 740d 0a0d  ng Assignment...
+0001ec70: 0a43 6f63 6f6e 7574 2073 7570 706f 7274  .Coconut support
+0001ec80: 7320 7369 676e 6966 6963 616e 746c 7920  s significantly 
+0001ec90: 656e 6861 6e63 6564 2064 6573 7472 7563  enhanced destruc
+0001eca0: 7475 7269 6e67 2061 7373 6967 6e6d 656e  turing assignmen
+0001ecb0: 742c 2073 696d 696c 6172 2074 6f20 5079  t, similar to Py
+0001ecc0: 7468 6f6e 2773 2074 7570 6c65 2f6c 6973  thon's tuple/lis
+0001ecd0: 7420 6465 7374 7275 6374 7572 696e 672c  t destructuring,
+0001ece0: 2062 7574 206d 7563 6820 6d6f 7265 2070   but much more p
+0001ecf0: 6f77 6572 6675 6c2e 2054 6865 2073 796e  owerful. The syn
+0001ed00: 7461 7820 666f 7220 436f 636f 6e75 7427  tax for Coconut'
+0001ed10: 7320 6465 7374 7275 6374 7572 696e 6720  s destructuring 
+0001ed20: 6173 7369 676e 6d65 6e74 2069 730d 0a60  assignment is..`
+0001ed30: 6060 636f 636f 6e75 740d 0a5b 6d61 7463  ``coconut..[matc
+0001ed40: 685d 203c 7061 7474 6572 6e3e 203d 203c  h] <pattern> = <
+0001ed50: 7661 6c75 653e 0d0a 6060 600d 0a77 6865  value>..```..whe
+0001ed60: 7265 2060 3c76 616c 7565 3e60 2069 7320  re `<value>` is 
+0001ed70: 616e 7920 6578 7072 6573 7369 6f6e 2061  any expression a
+0001ed80: 6e64 2060 3c70 6174 7465 726e 3e60 2069  nd `<pattern>` i
+0001ed90: 7320 6465 6669 6e65 6420 6279 2043 6f63  s defined by Coc
+0001eda0: 6f6e 7574 2773 205b 606d 6174 6368 6020  onut's [`match` 
+0001edb0: 7374 6174 656d 656e 745d 2823 6d61 7463  statement](#matc
+0001edc0: 6829 2e20 5468 6520 606d 6174 6368 6020  h). The `match` 
+0001edd0: 6b65 7977 6f72 6420 6174 2074 6865 2062  keyword at the b
+0001ede0: 6567 696e 6e69 6e67 2069 7320 6f70 7469  eginning is opti
+0001edf0: 6f6e 616c 2c20 6275 7420 6973 2073 6f6d  onal, but is som
+0001ee00: 6574 696d 6573 206e 6563 6573 7361 7279  etimes necessary
+0001ee10: 2074 6f20 6469 7361 6d62 6967 7561 7465   to disambiguate
+0001ee20: 2064 6573 7472 7563 7475 7269 6e67 2061   destructuring a
+0001ee30: 7373 6967 6e6d 656e 7420 6672 6f6d 206e  ssignment from n
+0001ee40: 6f72 6d61 6c20 6173 7369 676e 6d65 6e74  ormal assignment
+0001ee50: 2c20 7768 6963 6820 7769 6c6c 2061 6c77  , which will alw
+0001ee60: 6179 7320 7461 6b65 2070 7265 6365 6465  ays take precede
+0001ee70: 6e63 652e 2043 6f63 6f6e 7574 2773 2064  nce. Coconut's d
+0001ee80: 6573 7472 7563 7475 7269 6e67 2061 7373  estructuring ass
+0001ee90: 6967 6e6d 656e 7420 6973 2065 7175 6976  ignment is equiv
+0001eea0: 616c 656e 7420 746f 2061 206d 6174 6368  alent to a match
+0001eeb0: 2073 7461 7465 6d65 6e74 2074 6861 7420   statement that 
+0001eec0: 666f 6c6c 6f77 7320 7468 6520 7379 6e74  follows the synt
+0001eed0: 6178 3a0d 0a60 6060 636f 636f 6e75 740d  ax:..```coconut.
+0001eee0: 0a6d 6174 6368 203c 7061 7474 6572 6e3e  .match <pattern>
+0001eef0: 2069 6e20 3c76 616c 7565 3e3a 0d0a 2020   in <value>:..  
+0001ef00: 2020 7061 7373 0d0a 656c 7365 3a0d 0a20    pass..else:.. 
+0001ef10: 2020 2065 7272 203d 204d 6174 6368 4572     err = MatchEr
+0001ef20: 726f 7228 3c65 7272 6f72 206d 6573 7361  ror(<error messa
+0001ef30: 6765 3e29 0d0a 2020 2020 6572 722e 7061  ge>)..    err.pa
+0001ef40: 7474 6572 6e20 3d20 223c 7061 7474 6572  ttern = "<patter
+0001ef50: 6e3e 220d 0a20 2020 2065 7272 2e76 616c  n>"..    err.val
+0001ef60: 7565 203d 203c 7661 6c75 653e 0d0a 2020  ue = <value>..  
+0001ef70: 2020 7261 6973 6520 6572 720d 0a60 6060    raise err..```
+0001ef80: 0d0a 4966 2061 2064 6573 7472 7563 7475  ..If a destructu
+0001ef90: 7269 6e67 2061 7373 6967 6e6d 656e 7420  ring assignment 
+0001efa0: 7374 6174 656d 656e 7420 6661 696c 732c  statement fails,
+0001efb0: 2074 6865 6e20 696e 7374 6561 6420 6f66   then instead of
+0001efc0: 2063 6f6e 7469 6e75 696e 6720 6f6e 2061   continuing on a
+0001efd0: 7320 6966 2061 2060 6d61 7463 6860 2062  s if a `match` b
+0001efe0: 6c6f 636b 2068 6164 2066 6169 6c65 642c  lock had failed,
+0001eff0: 2061 205b 604d 6174 6368 4572 726f 7260   a [`MatchError`
+0001f000: 5d28 236d 6174 6368 6572 726f 7229 206f  ](#matcherror) o
+0001f010: 626a 6563 7420 7769 6c6c 2062 6520 7261  bject will be ra
+0001f020: 6973 6564 2064 6573 6372 6962 696e 6720  ised describing 
+0001f030: 7468 6520 6661 696c 7572 652e 0d0a 0d0a  the failure.....
+0001f040: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0001f050: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0001f060: 6060 636f 636f 6e75 740d 0a5f 202b 205b  ``coconut.._ + [
+0001f070: 612c 2062 5d20 3d20 5b30 2c20 312c 2032  a, b] = [0, 1, 2
+0001f080: 2c20 335d 0d0a 7072 696e 7428 612c 2062  , 3]..print(a, b
+0001f090: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+0001f0a0: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
+0001f0b0: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
+0001f0c0: 6c6f 6e67 2073 6572 6965 7320 6f66 2063  long series of c
+0001f0d0: 6865 636b 7320 696e 2070 6c61 6365 206f  hecks in place o
+0001f0e0: 6620 7468 6520 6465 7374 7275 6374 7572  f the destructur
+0001f0f0: 696e 6720 6173 7369 676e 6d65 6e74 2073  ing assignment s
+0001f100: 7461 7465 6d65 6e74 2e20 5365 6520 7468  tatement. See th
+0001f110: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
+0001f120: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
+0001f130: 796e 7461 782e 5f0d 0a0d 0a23 2323 2054  yntax._....### T
+0001f140: 7970 6520 5061 7261 6d65 7465 7220 5379  ype Parameter Sy
+0001f150: 6e74 6178 0d0a 0d0a 436f 636f 6e75 7420  ntax....Coconut 
+0001f160: 6675 6c6c 7920 7375 7070 6f72 7473 205b  fully supports [
+0001f170: 5079 7468 6f6e 2033 2e31 3220 5045 5020  Python 3.12 PEP 
+0001f180: 3639 355d 2868 7474 7073 3a2f 2f70 6570  695](https://pep
+0001f190: 732e 7079 7468 6f6e 2e6f 7267 2f70 6570  s.python.org/pep
+0001f1a0: 2d30 3639 352f 2920 7479 7065 2070 6172  -0695/) type par
+0001f1b0: 616d 6574 6572 2073 796e 7461 7820 6f6e  ameter syntax on
+0001f1c0: 2061 6c6c 2050 7974 686f 6e20 7665 7273   all Python vers
+0001f1d0: 696f 6e73 2e0d 0a0d 0a54 6861 7420 696e  ions.....That in
+0001f1e0: 636c 7564 6573 2074 7970 6520 7061 7261  cludes type para
+0001f1f0: 6d65 7465 7273 2066 6f72 2063 6c61 7373  meters for class
+0001f200: 6573 2c20 5b60 6461 7461 6020 7479 7065  es, [`data` type
+0001f210: 735d 2823 6461 7461 292c 2061 6e64 205b  s](#data), and [
+0001f220: 616c 6c20 7479 7065 7320 6f66 2066 756e  all types of fun
+0001f230: 6374 696f 6e20 6465 6669 6e69 7469 6f6e  ction definition
+0001f240: 5d28 2366 756e 6374 696f 6e2d 6465 6669  ](#function-defi
+0001f250: 6e69 7469 6f6e 292e 2046 6f72 2064 6966  nition). For dif
+0001f260: 6665 7265 6e74 2074 7970 6573 206f 6620  ferent types of 
+0001f270: 6675 6e63 7469 6f6e 2064 6566 696e 6974  function definit
+0001f280: 696f 6e2c 2074 6865 2074 7970 6520 7061  ion, the type pa
+0001f290: 7261 6d65 7465 7273 2061 6c77 6179 7320  rameters always 
+0001f2a0: 636f 6d65 2069 6e20 6272 6163 6b65 7473  come in brackets
+0001f2b0: 2072 6967 6874 2061 6674 6572 2074 6865   right after the
+0001f2c0: 2066 756e 6374 696f 6e20 6e61 6d65 2e20   function name. 
+0001f2d0: 436f 636f 6e75 7427 7320 5b65 6e68 616e  Coconut's [enhan
+0001f2e0: 6365 6420 7479 7065 2061 6e6e 6f74 6174  ced type annotat
+0001f2f0: 696f 6e20 7379 6e74 6178 5d28 2365 6e68  ion syntax](#enh
+0001f300: 616e 6365 642d 7479 7065 2d61 6e6e 6f74  anced-type-annot
+0001f310: 6174 696f 6e29 2069 7320 7375 7070 6f72  ation) is suppor
+0001f320: 7465 6420 666f 7220 616c 6c20 7479 7065  ted for all type
+0001f330: 2070 6172 616d 6574 6572 2062 6f75 6e64   parameter bound
+0001f340: 732e 0d0a 0d0a 5f57 6172 6e69 6e67 3a20  s....._Warning: 
+0001f350: 756e 7469 6c20 606d 7970 7960 2061 6464  until `mypy` add
+0001f360: 7320 7375 7070 6f72 7420 666f 7220 6069  s support for `i
+0001f370: 6e66 6572 5f76 6172 6961 6e63 653d 5472  nfer_variance=Tr
+0001f380: 7565 6020 696e 2060 5479 7065 5661 7260  ue` in `TypeVar`
+0001f390: 2c20 6054 7970 6556 6172 6073 2063 7265  , `TypeVar`s cre
+0001f3a0: 6174 6564 2074 6869 7320 7761 7920 7769  ated this way wi
+0001f3b0: 6c6c 2061 6c77 6179 7320 6265 2069 6e76  ll always be inv
+0001f3c0: 6172 6961 6e74 2e5f 0d0a 0d0a 4164 6469  ariant._....Addi
+0001f3d0: 7469 6f6e 616c 6c79 2c20 436f 636f 6e75  tionally, Coconu
+0001f3e0: 7420 7375 7070 6f72 7473 2074 6865 2061  t supports the a
+0001f3f0: 6c74 6572 6e61 7469 7665 2062 6f75 6e64  lternative bound
+0001f400: 7320 7379 6e74 6178 206f 6620 6074 7970  s syntax of `typ
+0001f410: 6520 4e65 7754 7970 655b 5420 3c3a 2062  e NewType[T <: b
+0001f420: 6f75 6e64 5d20 3d20 2e2e 2e60 2072 6174  ound] = ...` rat
+0001f430: 6865 7220 7468 616e 2060 7479 7065 204e  her than `type N
+0001f440: 6577 5479 7065 5b54 3a20 626f 756e 645d  ewType[T: bound]
+0001f450: 203d 202e 2e2e 602c 2074 6f20 6d61 6b65   = ...`, to make
+0001f460: 2069 7420 6d6f 7265 2063 6c65 6172 2074   it more clear t
+0001f470: 6861 7420 6974 2069 7320 616e 2075 7070  hat it is an upp
+0001f480: 6572 2062 6f75 6e64 2072 6174 6865 7220  er bound rather 
+0001f490: 7468 616e 2061 2074 7970 652e 2049 6e20  than a type. In 
+0001f4a0: 602d 2d73 7472 6963 7460 206d 6f64 652c  `--strict` mode,
+0001f4b0: 2060 3c3a 6020 6973 2072 6571 7569 7265   `<:` is require
+0001f4c0: 6420 6f76 6572 2060 3a60 2066 6f72 2061  d over `:` for a
+0001f4d0: 6c6c 2074 7970 6520 7061 7261 6d65 7465  ll type paramete
+0001f4e0: 7220 626f 756e 6473 2e20 5f44 6570 7265  r bounds. _Depre
+0001f4f0: 6361 7465 643a 2060 3c3d 6020 6361 6e20  cated: `<=` can 
+0001f500: 616c 736f 2062 6520 7573 6564 2061 7320  also be used as 
+0001f510: 616e 2061 6c74 6572 6e61 7469 7665 2074  an alternative t
+0001f520: 6f20 603c 3a60 2e5f 0d0a 0d0a 4e6f 7465  o `<:`._....Note
+0001f530: 2074 6861 7420 7468 6520 603c 3a60 2073   that the `<:` s
+0001f540: 796e 7461 7820 7368 6f75 6c64 206f 6e6c  yntax should onl
+0001f550: 7920 6265 2075 7365 6420 666f 7220 5b74  y be used for [t
+0001f560: 7970 6520 626f 756e 6473 5d28 6874 7470  ype bounds](http
+0001f570: 733a 2f2f 7065 7073 2e70 7974 686f 6e2e  s://peps.python.
+0001f580: 6f72 672f 7065 702d 3036 3935 2f23 7570  org/pep-0695/#up
+0001f590: 7065 722d 626f 756e 642d 7370 6563 6966  per-bound-specif
+0001f5a0: 6963 6174 696f 6e29 2c20 6e6f 7420 5b74  ication), not [t
+0001f5b0: 7970 6520 636f 6e73 7472 6169 6e74 735d  ype constraints]
+0001f5c0: 2868 7474 7073 3a2f 2f70 6570 732e 7079  (https://peps.py
+0001f5d0: 7468 6f6e 2e6f 7267 2f70 6570 2d30 3639  thon.org/pep-069
+0001f5e0: 352f 2363 6f6e 7374 7261 696e 6564 2d74  5/#constrained-t
+0001f5f0: 7970 652d 7370 6563 6966 6963 6174 696f  ype-specificatio
+0001f600: 6e29 e280 9466 6f72 2074 7970 6520 636f  n)...for type co
+0001f610: 6e73 7472 6169 6e74 732c 2043 6f63 6f6e  nstraints, Cocon
+0001f620: 7574 2073 7479 6c65 2070 7265 6665 7273  ut style prefers
+0001f630: 2074 6865 2076 616e 696c 6c61 2050 7974   the vanilla Pyt
+0001f640: 686f 6e20 603a 6020 7379 6e74 6178 2c20  hon `:` syntax, 
+0001f650: 7768 6963 6820 6865 6c70 7320 746f 2064  which helps to d
+0001f660: 6973 616d 6269 6775 6174 6520 6265 7477  isambiguate betw
+0001f670: 6565 6e20 7468 6520 7477 6f20 6361 7365  een the two case
+0001f680: 732c 2061 7320 7468 6579 2061 7265 2066  s, as they are f
+0001f690: 756e 6374 696f 6e61 6c6c 7920 6469 6666  unctionally diff
+0001f6a0: 6572 656e 7420 6275 7420 6f74 6865 7277  erent but otherw
+0001f6b0: 6973 6520 6861 7264 2074 6f20 7465 6c6c  ise hard to tell
+0001f6c0: 2061 7061 7274 2061 7420 6120 676c 616e   apart at a glan
+0001f6d0: 6365 2e20 5468 6973 2069 7320 656e 666f  ce. This is enfo
+0001f6e0: 7263 6564 2069 6e20 602d 2d73 7472 6963  rced in `--stric
+0001f6f0: 7460 206d 6f64 652e 0d0a 0d0a 5f4e 6f74  t` mode....._Not
+0001f700: 6520 7468 6174 2c20 6279 2064 6566 6175  e that, by defau
+0001f710: 6c74 2c20 616c 6c20 7479 7065 2064 6563  lt, all type dec
+0001f720: 6c61 7261 7469 6f6e 7320 6172 6520 7772  larations are wr
+0001f730: 6170 7065 6420 696e 2073 7472 696e 6773  apped in strings
+0001f740: 2074 6f20 656e 6162 6c65 2066 6f72 7761   to enable forwa
+0001f750: 7264 2072 6566 6572 656e 6365 7320 616e  rd references an
+0001f760: 6420 696d 7072 6f76 6520 7275 6e74 696d  d improve runtim
+0001f770: 6520 7065 7266 6f72 6d61 6e63 652e 2049  e performance. I
+0001f780: 6620 796f 7520 646f 6e27 7420 7761 6e74  f you don't want
+0001f790: 2074 6861 74e2 8094 652e 672e 2062 6563   that...e.g. bec
+0001f7a0: 6175 7365 2079 6f75 2077 616e 7420 746f  ause you want to
+0001f7b0: 2075 7365 2074 7970 6520 616e 6e6f 7461   use type annota
+0001f7c0: 7469 6f6e 7320 6174 2072 756e 7469 6d65  tions at runtime
+0001f7d0: e280 9473 696d 706c 7920 7061 7373 2074  ...simply pass t
+0001f7e0: 6865 2060 2d2d 6e6f 2d77 7261 702d 7479  he `--no-wrap-ty
+0001f7f0: 7065 7360 2066 6c61 672e 5f0d 0a0d 0a23  pes` flag._....#
+0001f800: 2323 2323 2050 4550 2036 3935 2044 6f63  #### PEP 695 Doc
+0001f810: 730d 0a0d 0a44 6566 696e 696e 6720 6120  s....Defining a 
+0001f820: 6765 6e65 7269 6320 636c 6173 7320 7072  generic class pr
+0001f830: 696f 7220 746f 2074 6869 7320 5045 5020  ior to this PEP 
+0001f840: 6c6f 6f6b 7320 736f 6d65 7468 696e 6720  looks something 
+0001f850: 6c69 6b65 2074 6869 732e 0d0a 0d0a 6060  like this.....``
+0001f860: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0001f870: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+0001f880: 6f72 7420 4765 6e65 7269 632c 2054 7970  ort Generic, Typ
+0001f890: 6556 6172 0d0a 0d0a 5f54 5f63 6f20 3d20  eVar...._T_co = 
+0001f8a0: 5479 7065 5661 7228 225f 545f 636f 222c  TypeVar("_T_co",
+0001f8b0: 2063 6f76 6172 6961 6e74 3d54 7275 652c   covariant=True,
+0001f8c0: 2062 6f75 6e64 3d73 7472 290d 0a0d 0a63   bound=str)....c
+0001f8d0: 6c61 7373 2043 6c61 7373 4128 4765 6e65  lass ClassA(Gene
+0001f8e0: 7269 635b 5f54 5f63 6f5d 293a 0d0a 2020  ric[_T_co]):..  
+0001f8f0: 2020 6465 6620 6d65 7468 6f64 3128 7365    def method1(se
+0001f900: 6c66 2920 2d3e 205f 545f 636f 3a0d 0a20  lf) -> _T_co:.. 
+0001f910: 2020 2020 2020 202e 2e2e 0d0a 6060 600d         .....```.
+0001f920: 0a0d 0a57 6974 6820 7468 6520 6e65 7720  ...With the new 
+0001f930: 7379 6e74 6178 2c20 6974 206c 6f6f 6b73  syntax, it looks
+0001f940: 206c 696b 6520 7468 6973 2e0d 0a0d 0a60   like this.....`
+0001f950: 6060 636f 636f 6e75 740d 0a63 6c61 7373  ``coconut..class
+0001f960: 2043 6c61 7373 415b 543a 2073 7472 5d3a   ClassA[T: str]:
+0001f970: 0d0a 2020 2020 6465 6620 6d65 7468 6f64  ..    def method
+0001f980: 3128 7365 6c66 2920 2d3e 2054 3a0d 0a20  1(self) -> T:.. 
+0001f990: 2020 2020 2020 202e 2e2e 0d0a 6060 600d         .....```.
+0001f9a0: 0a0d 0a48 6572 6520 6973 2061 6e20 6578  ...Here is an ex
+0001f9b0: 616d 706c 6520 6f66 2061 2067 656e 6572  ample of a gener
+0001f9c0: 6963 2066 756e 6374 696f 6e20 746f 6461  ic function toda
+0001f9d0: 792e 0d0a 0d0a 6060 6063 6f63 6f6e 7574  y.....```coconut
+0001f9e0: 5f70 7974 686f 6e0d 0a66 726f 6d20 7479  _python..from ty
+0001f9f0: 7069 6e67 2069 6d70 6f72 7420 5479 7065  ping import Type
+0001fa00: 5661 720d 0a0d 0a5f 5420 3d20 5479 7065  Var...._T = Type
+0001fa10: 5661 7228 225f 5422 290d 0a0d 0a64 6566  Var("_T")....def
+0001fa20: 2066 756e 6328 613a 205f 542c 2062 3a20   func(a: _T, b: 
+0001fa30: 5f54 2920 2d3e 205f 543a 0d0a 2020 2020  _T) -> _T:..    
+0001fa40: 2e2e 2e0d 0a60 6060 0d0a 0d0a 416e 6420  .....```....And 
+0001fa50: 7468 6520 6e65 7720 7379 6e74 6178 2e0d  the new syntax..
+0001fa60: 0a0d 0a60 6060 636f 636f 6e75 740d 0a64  ...```coconut..d
+0001fa70: 6566 2066 756e 635b 545d 2861 3a20 542c  ef func[T](a: T,
+0001fa80: 2062 3a20 5429 202d 3e20 543a 0d0a 2020   b: T) -> T:..  
+0001fa90: 2020 2e2e 2e0d 0a60 6060 0d0a 0d0a 4865    .....```....He
+0001faa0: 7265 2069 7320 616e 2065 7861 6d70 6c65  re is an example
+0001fab0: 206f 6620 6120 6765 6e65 7269 6320 7479   of a generic ty
+0001fac0: 7065 2061 6c69 6173 2074 6f64 6179 2e0d  pe alias today..
+0001fad0: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+0001fae0: 7468 6f6e 0d0a 6672 6f6d 2074 7970 696e  thon..from typin
+0001faf0: 6720 696d 706f 7274 2054 7970 6541 6c69  g import TypeAli
+0001fb00: 6173 0d0a 0d0a 5f54 203d 2054 7970 6556  as...._T = TypeV
+0001fb10: 6172 2822 5f54 2229 0d0a 0d0a 4c69 7374  ar("_T")....List
+0001fb20: 4f72 5365 743a 2054 7970 6541 6c69 6173  OrSet: TypeAlias
+0001fb30: 203d 206c 6973 745b 5f54 5d20 7c20 7365   = list[_T] | se
+0001fb40: 745b 5f54 5d0d 0a60 6060 0d0a 0d0a 416e  t[_T]..```....An
+0001fb50: 6420 7769 7468 2074 6865 206e 6577 2073  d with the new s
+0001fb60: 796e 7461 782e 0d0a 0d0a 6060 6063 6f63  yntax.....```coc
+0001fb70: 6f6e 7574 0d0a 7479 7065 204c 6973 744f  onut..type ListO
+0001fb80: 7253 6574 5b54 5d20 3d20 6c69 7374 5b54  rSet[T] = list[T
+0001fb90: 5d20 7c20 7365 745b 545d 0d0a 6060 600d  ] | set[T]..```.
+0001fba0: 0a0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0001fbb0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0001fbc0: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  **..```coconut..
+0001fbd0: 6461 7461 2044 5b54 5d28 783a 2054 2c20  data D[T](x: T, 
+0001fbe0: 793a 2054 290d 0a0d 0a64 6566 206d 795f  y: T)....def my_
+0001fbf0: 6964 656e 745b 545d 2878 3a20 5429 202d  ident[T](x: T) -
+0001fc00: 3e20 5420 3d20 780d 0a60 6060 0d0a 0d0a  > T = x..```....
+0001fc10: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
+0001fc20: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
+0001fc30: 6f75 7420 6120 636f 6d70 6c65 7820 6465  out a complex de
+0001fc40: 6669 6e69 7469 6f6e 2066 6f72 2074 6865  finition for the
+0001fc50: 2064 6174 6120 7479 7065 2e20 5365 6520   data type. See 
+0001fc60: 7468 6520 636f 6d70 696c 6564 2063 6f64  the compiled cod
+0001fc70: 6520 666f 7220 7468 6520 5079 7468 6f6e  e for the Python
+0001fc80: 2073 796e 7461 782e 5f0d 0a0d 0a23 2323   syntax._....###
+0001fc90: 2049 6d70 6c69 6369 7420 6070 6173 7360   Implicit `pass`
+0001fca0: 0d0a 0d0a 436f 636f 6e75 7420 7375 7070  ....Coconut supp
+0001fcb0: 6f72 7473 2074 6865 2073 696d 706c 6520  orts the simple 
+0001fcc0: 6063 6c61 7373 206e 616d 6528 6261 7365  `class name(base
+0001fcd0: 2960 2061 6e64 2060 6461 7461 206e 616d  )` and `data nam
+0001fce0: 6528 6172 6773 2960 2061 7320 616c 6961  e(args)` as alia
+0001fcf0: 7365 7320 666f 7220 6063 6c61 7373 206e  ses for `class n
+0001fd00: 616d 6528 6261 7365 293a 2070 6173 7360  ame(base): pass`
+0001fd10: 2061 6e64 2060 6461 7461 206e 616d 6528   and `data name(
+0001fd20: 6172 6773 293a 2070 6173 7360 2e0d 0a0d  args): pass`....
+0001fd30: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0001fd40: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0001fd50: 6060 6063 6f63 6f6e 7574 0d0a 636c 6173  ```coconut..clas
+0001fd60: 7320 5472 6565 0d0a 6461 7461 2045 6d70  s Tree..data Emp
+0001fd70: 7479 2066 726f 6d20 5472 6565 0d0a 6461  ty from Tree..da
+0001fd80: 7461 204c 6561 6628 6974 656d 2920 6672  ta Leaf(item) fr
+0001fd90: 6f6d 2054 7265 650d 0a64 6174 6120 4e6f  om Tree..data No
+0001fda0: 6465 286c 6566 742c 2072 6967 6874 2920  de(left, right) 
+0001fdb0: 6672 6f6d 2054 7265 650d 0a60 6060 0d0a  from Tree..```..
+0001fdc0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f  ..**Python:**.._
+0001fdd0: 4361 6e27 7420 6265 2064 6f6e 6520 7769  Can't be done wi
+0001fde0: 7468 6f75 7420 6120 7365 7269 6573 206f  thout a series o
+0001fdf0: 6620 6d65 7468 6f64 2064 6566 696e 6974  f method definit
+0001fe00: 696f 6e73 2066 6f72 2065 6163 6820 6461  ions for each da
+0001fe10: 7461 2074 7970 652e 2053 6565 2074 6865  ta type. See the
+0001fe20: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+0001fe30: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+0001fe40: 6e74 6178 2e5f 0d0a 0d0a 2323 2320 5374  ntax._....### St
+0001fe50: 6174 656d 656e 7420 4e65 7374 696e 670d  atement Nesting.
+0001fe60: 0a0d 0a43 6f63 6f6e 7574 2073 7570 706f  ...Coconut suppo
+0001fe70: 7274 7320 7468 6520 6e65 7374 696e 6720  rts the nesting 
+0001fe80: 6f66 2063 6f6d 706f 756e 6420 7374 6174  of compound stat
+0001fe90: 656d 656e 7473 206f 6e20 7468 6520 7361  ements on the sa
+0001fea0: 6d65 206c 696e 652e 2054 6869 7320 616c  me line. This al
+0001feb0: 6c6f 7773 2074 6865 206d 6978 696e 6720  lows the mixing 
+0001fec0: 6f66 2060 6d61 7463 6860 2061 6e64 2060  of `match` and `
+0001fed0: 6966 6020 7374 6174 656d 656e 7473 2074  if` statements t
+0001fee0: 6f67 6574 6865 722c 2061 7320 7765 6c6c  ogether, as well
+0001fef0: 2061 7320 636f 6d70 6f75 6e64 2060 7472   as compound `tr
+0001ff00: 7960 2073 7461 7465 6d65 6e74 732e 0d0a  y` statements...
+0001ff10: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0001ff20: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0001ff30: 0a60 6060 636f 636f 6e75 740d 0a69 6620  .```coconut..if 
+0001ff40: 696e 7661 6c69 6428 696e 7075 745f 6c69  invalid(input_li
+0001ff50: 7374 293a 0d0a 2020 2020 7261 6973 6520  st):..    raise 
+0001ff60: 4578 6365 7074 696f 6e28 290d 0a65 6c73  Exception()..els
+0001ff70: 653a 206d 6174 6368 205b 6865 6164 5d20  e: match [head] 
+0001ff80: 2b20 7461 696c 2069 6e20 696e 7075 745f  + tail in input_
+0001ff90: 6c69 7374 3a0d 0a20 2020 2070 7269 6e74  list:..    print
+0001ffa0: 2868 6561 642c 2074 6169 6c29 0d0a 656c  (head, tail)..el
+0001ffb0: 7365 3a0d 0a20 2020 2070 7269 6e74 2869  se:..    print(i
+0001ffc0: 6e70 7574 5f6c 6973 7429 0d0a 6060 600d  nput_list)..```.
+0001ffd0: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+0001ffe0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+0001fff0: 6e0d 0a66 726f 6d20 636f 6c6c 6563 7469  n..from collecti
+00020000: 6f6e 732e 6162 6320 696d 706f 7274 2053  ons.abc import S
+00020010: 6571 7565 6e63 650d 0a69 6620 696e 7661  equence..if inva
+00020020: 6c69 6428 696e 7075 745f 6c69 7374 293a  lid(input_list):
+00020030: 0d0a 2020 2020 7261 6973 6520 4578 6365  ..    raise Exce
+00020040: 7074 696f 6e28 290d 0a65 6c69 6620 6973  ption()..elif is
+00020050: 696e 7374 616e 6365 2869 6e70 7574 5f6c  instance(input_l
+00020060: 6973 742c 2053 6571 7565 6e63 6529 2061  ist, Sequence) a
+00020070: 6e64 206c 656e 2869 6e70 7574 5f6c 6973  nd len(input_lis
+00020080: 7429 203e 3d20 313a 0d0a 2020 2020 6865  t) >= 1:..    he
+00020090: 6164 2c20 7461 696c 203d 2069 6e70 7574  ad, tail = input
+000200a0: 6c69 7374 5b30 5d2c 2069 6e70 7574 6c69  list[0], inputli
+000200b0: 7374 5b31 3a5d 0d0a 2020 2020 7072 696e  st[1:]..    prin
+000200c0: 7428 6865 6164 2c20 7461 696c 290d 0a65  t(head, tail)..e
+000200d0: 6c73 653a 0d0a 2020 2020 7072 696e 7428  lse:..    print(
+000200e0: 696e 7075 745f 6c69 7374 290d 0a60 6060  input_list)..```
+000200f0: 0d0a 0d0a 2323 2320 6065 7863 6570 7460  ....### `except`
+00020100: 2053 7461 7465 6d65 6e74 730d 0a0d 0a50   Statements....P
+00020110: 7974 686f 6e20 3320 7265 7175 6972 6573  ython 3 requires
+00020120: 2074 6861 7420 6966 206d 756c 7469 706c   that if multipl
+00020130: 6520 6578 6365 7074 696f 6e73 2061 7265  e exceptions are
+00020140: 2074 6f20 6265 2063 6175 6768 742c 2074   to be caught, t
+00020150: 6865 7920 6d75 7374 2062 6520 706c 6163  hey must be plac
+00020160: 6564 2069 6e73 6964 6520 6f66 2070 6172  ed inside of par
+00020170: 656e 7468 6573 6573 2c20 736f 2061 7320  entheses, so as 
+00020180: 746f 2064 6973 616c 6c6f 7720 5079 7468  to disallow Pyth
+00020190: 6f6e 2032 2773 2075 7365 206f 6620 6120  on 2's use of a 
+000201a0: 636f 6d6d 6120 696e 7374 6561 6420 6f66  comma instead of
+000201b0: 2060 6173 602e 2043 6f63 6f6e 7574 2061   `as`. Coconut a
+000201c0: 6c6c 6f77 7320 636f 6d6d 6173 2069 6e20  llows commas in 
+000201d0: 6578 6365 7074 2073 7461 7465 6d65 6e74  except statement
+000201e0: 7320 746f 2074 7261 6e73 6c61 7465 2074  s to translate t
+000201f0: 6f20 6361 7463 6869 6e67 206d 756c 7469  o catching multi
+00020200: 706c 6520 6578 6365 7074 696f 6e73 2077  ple exceptions w
+00020210: 6974 686f 7574 2074 6865 206e 6565 6420  ithout the need 
+00020220: 666f 7220 7061 7265 6e74 6865 7365 732c  for parentheses,
+00020230: 2073 696e 6365 2c20 6173 2069 6e20 5079   since, as in Py
+00020240: 7468 6f6e 2033 2c20 6061 7360 2069 7320  thon 3, `as` is 
+00020250: 616c 7761 7973 2072 6571 7569 7265 6420  always required 
+00020260: 746f 2062 696e 6420 7468 6520 6578 6365  to bind the exce
+00020270: 7074 696f 6e20 746f 2061 206e 616d 652e  ption to a name.
+00020280: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00020290: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+000202a0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a74  *..```coconut..t
+000202b0: 7279 3a0d 0a20 2020 2075 6e73 6166 655f  ry:..    unsafe_
+000202c0: 6675 6e63 2861 7267 290d 0a65 7863 6570  func(arg)..excep
+000202d0: 7420 5379 6e74 6178 4572 726f 722c 2056  t SyntaxError, V
+000202e0: 616c 7565 4572 726f 7220 6173 2065 7272  alueError as err
+000202f0: 3a0d 0a20 2020 2068 616e 646c 6528 6572  :..    handle(er
+00020300: 7229 0d0a 6060 600d 0a0d 0a2a 2a50 7974  r)..```....**Pyt
+00020310: 686f 6e3a 2a2a 0d0a 6060 6063 6f63 6f6e  hon:**..```cocon
+00020320: 7574 5f70 7974 686f 6e0d 0a74 7279 3a0d  ut_python..try:.
+00020330: 0a20 2020 2075 6e73 6166 655f 6675 6e63  .    unsafe_func
+00020340: 2861 7267 290d 0a65 7863 6570 7420 2853  (arg)..except (S
+00020350: 796e 7461 7845 7272 6f72 2c20 5661 6c75  yntaxError, Valu
+00020360: 6545 7272 6f72 2920 6173 2065 7272 3a0d  eError) as err:.
+00020370: 0a20 2020 2068 616e 646c 6528 6572 7229  .    handle(err)
+00020380: 0d0a 6060 600d 0a0d 0a23 2323 2049 6e2d  ..```....### In-
+00020390: 6c69 6e65 2060 676c 6f62 616c 6020 416e  line `global` An
+000203a0: 6420 606e 6f6e 6c6f 6361 6c60 2041 7373  d `nonlocal` Ass
+000203b0: 6967 6e6d 656e 740d 0a0d 0a43 6f63 6f6e  ignment....Cocon
+000203c0: 7574 2061 6c6c 6f77 7320 666f 7220 6067  ut allows for `g
+000203d0: 6c6f 6261 6c60 206f 7220 606e 6f6e 6c6f  lobal` or `nonlo
+000203e0: 6361 6c60 2074 6f20 7072 6563 6564 6520  cal` to precede 
+000203f0: 6173 7369 676e 6d65 6e74 2074 6f20 6120  assignment to a 
+00020400: 6c69 7374 206f 6620 7661 7269 6162 6c65  list of variable
+00020410: 7320 6f72 2028 6175 676d 656e 7465 6429  s or (augmented)
+00020420: 2061 7373 6967 6e6d 656e 7420 746f 2061   assignment to a
+00020430: 2076 6172 6961 626c 6520 746f 206d 616b   variable to mak
+00020440: 6520 7468 6174 2061 7373 6967 6e6d 656e  e that assignmen
+00020450: 7420 6067 6c6f 6261 6c60 206f 7220 606e  t `global` or `n
+00020460: 6f6e 6c6f 6361 6c60 2c20 7265 7370 6563  onlocal`, respec
+00020470: 7469 7665 6c79 2e0d 0a0d 0a23 2323 2323  tively.....#####
+00020480: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00020490: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+000204a0: 6f6e 7574 0d0a 676c 6f62 616c 2073 7461  onut..global sta
+000204b0: 7465 5f61 2c20 7374 6174 655f 6220 3d20  te_a, state_b = 
+000204c0: 3130 2c20 3130 300d 0a67 6c6f 6261 6c20  10, 100..global 
+000204d0: 7374 6174 655f 6320 2b3d 2031 0d0a 6060  state_c += 1..``
+000204e0: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+000204f0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+00020500: 686f 6e0d 0a67 6c6f 6261 6c20 7374 6174  hon..global stat
+00020510: 655f 612c 2073 7461 7465 5f62 3b20 7374  e_a, state_b; st
+00020520: 6174 655f 612c 2073 7461 7465 5f62 203d  ate_a, state_b =
+00020530: 2031 302c 2031 3030 0d0a 676c 6f62 616c   10, 100..global
+00020540: 2073 7461 7465 5f63 3b20 7374 6174 655f   state_c; state_
+00020550: 6320 2b3d 2031 0d0a 6060 600d 0a0d 0a23  c += 1..```....#
+00020560: 2323 2043 6f64 6520 5061 7373 7468 726f  ## Code Passthro
+00020570: 7567 680d 0a0d 0a43 6f63 6f6e 7574 2073  ugh....Coconut s
+00020580: 7570 706f 7274 7320 7468 6520 6162 696c  upports the abil
+00020590: 6974 7920 746f 2070 6173 7320 6172 6269  ity to pass arbi
+000205a0: 7472 6172 7920 636f 6465 2074 6872 6f75  trary code throu
+000205b0: 6768 2074 6865 2063 6f6d 7069 6c65 7220  gh the compiler 
+000205c0: 7769 7468 6f75 7420 6265 696e 6720 746f  without being to
+000205d0: 7563 6865 642c 2066 6f72 2063 6f6d 7061  uched, for compa
+000205e0: 7469 6269 6c69 7479 2077 6974 6820 6f74  tibility with ot
+000205f0: 6865 7220 7661 7269 616e 7473 206f 6620  her variants of 
+00020600: 5079 7468 6f6e 2c20 7375 6368 2061 7320  Python, such as 
+00020610: 5b43 7974 686f 6e5d 2868 7474 703a 2f2f  [Cython](http://
+00020620: 6379 7468 6f6e 2e6f 7267 2f29 206f 7220  cython.org/) or 
+00020630: 5b4d 7974 686f 6e5d 2868 7474 703a 2f2f  [Mython](http://
+00020640: 6d79 7468 6f6e 2e6f 7267 2f29 2e20 5768  mython.org/). Wh
+00020650: 656e 2075 7369 6e67 2043 6f63 6f6e 7574  en using Coconut
+00020660: 2074 6f20 636f 6d70 696c 6520 746f 2061   to compile to a
+00020670: 6e6f 7468 6572 2076 6172 6961 6e74 206f  nother variant o
+00020680: 6620 5079 7468 6f6e 2c20 6d61 6b65 2073  f Python, make s
+00020690: 7572 6520 796f 7520 5b6e 616d 6520 796f  ure you [name yo
+000206a0: 7572 2073 6f75 7263 6520 6669 6c65 2070  ur source file p
+000206b0: 726f 7065 726c 795d 2823 6e61 6d69 6e67  roperly](#naming
+000206c0: 2d73 6f75 7263 652d 6669 6c65 7329 2074  -source-files) t
+000206d0: 6f20 656e 7375 7265 2074 6865 2072 6573  o ensure the res
+000206e0: 756c 7469 6e67 2063 6f6d 7069 6c65 6420  ulting compiled 
+000206f0: 636f 6465 2068 6173 2074 6865 2072 6967  code has the rig
+00020700: 6874 2066 696c 6520 6578 7465 6e73 696f  ht file extensio
+00020710: 6e20 666f 7220 7468 6520 696e 7465 6e64  n for the intend
+00020720: 6564 2075 7361 6765 2e0d 0a0d 0a41 6e79  ed usage.....Any
+00020730: 7468 696e 6720 706c 6163 6564 2062 6574  thing placed bet
+00020740: 7765 656e 2060 5c28 6020 616e 6420 7468  ween `\(` and th
+00020750: 6520 636f 7272 6573 706f 6e64 696e 6720  e corresponding 
+00020760: 636c 6f73 6520 7061 7265 6e74 6865 7369  close parenthesi
+00020770: 7320 7769 6c6c 2062 6520 7061 7373 6564  s will be passed
+00020780: 2074 6872 6f75 6768 2c20 6173 2077 656c   through, as wel
+00020790: 6c20 6173 2061 6e79 206c 696e 6520 7374  l as any line st
+000207a0: 6172 7469 6e67 2077 6974 6820 605c 5c60  arting with `\\`
+000207b0: 2c20 7768 6963 6820 7769 6c6c 2068 6176  , which will hav
+000207c0: 6520 7468 6520 6164 6469 7469 6f6e 616c  e the additional
+000207d0: 2065 6666 6563 7420 6f66 2061 6c6c 6f77   effect of allow
+000207e0: 696e 6720 696e 6465 6e74 6174 696f 6e20  ing indentation 
+000207f0: 756e 6465 7220 6974 2e0d 0a0d 0a23 2323  under it.....###
+00020800: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
+00020810: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
+00020820: 6f63 6f6e 7574 0d0a 5c5c 6364 6566 2066  oconut..\\cdef f
+00020830: 2878 293a 0d0a 2020 2020 7265 7475 726e  (x):..    return
+00020840: 2078 207c 3e20 670d 0a60 6060 0d0a 0d0a   x |> g..```....
+00020850: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+00020860: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+00020870: 6364 6566 2066 2878 293a 0d0a 2020 2020  cdef f(x):..    
+00020880: 7265 7475 726e 2067 2878 290d 0a60 6060  return g(x)..```
+00020890: 0d0a 0d0a 2323 2320 456e 6861 6e63 6564  ....### Enhanced
+000208a0: 2050 6172 656e 7468 6574 6963 616c 2043   Parenthetical C
+000208b0: 6f6e 7469 6e75 6174 696f 6e0d 0a0d 0a53  ontinuation....S
+000208c0: 696e 6365 2043 6f63 6f6e 7574 2073 796e  ince Coconut syn
+000208d0: 7461 7820 6973 2061 2073 7570 6572 7365  tax is a superse
+000208e0: 7420 6f66 2074 6865 206c 6174 6573 7420  t of the latest 
+000208f0: 5079 7468 6f6e 2033 2073 796e 7461 782c  Python 3 syntax,
+00020900: 2043 6f63 6f6e 7574 2073 7570 706f 7274   Coconut support
+00020910: 7320 7468 6520 7361 6d65 206c 696e 6520  s the same line 
+00020920: 636f 6e74 696e 7561 7469 6f6e 2073 796e  continuation syn
+00020930: 7461 7820 6173 2050 7974 686f 6e2e 2054  tax as Python. T
+00020940: 6861 7420 6d65 616e 7320 626f 7468 2062  hat means both b
+00020950: 6163 6b73 6c61 7368 206c 696e 6520 636f  ackslash line co
+00020960: 6e74 696e 7561 7469 6f6e 2061 6e64 2069  ntinuation and i
+00020970: 6d70 6c69 6564 206c 696e 6520 636f 6e74  mplied line cont
+00020980: 696e 7561 7469 6f6e 2069 6e73 6964 6520  inuation inside 
+00020990: 6f66 2070 6172 656e 7468 6573 6573 2c20  of parentheses, 
+000209a0: 6272 6163 6b65 7473 2c20 6f72 2062 7261  brackets, or bra
+000209b0: 6365 7320 7769 6c6c 2061 6c6c 2077 6f72  ces will all wor
+000209c0: 6b2e 0d0a 0d0a 496e 2050 7974 686f 6e2c  k.....In Python,
+000209d0: 2068 6f77 6576 6572 2c20 7468 6572 6520   however, there 
+000209e0: 6172 6520 736f 6d65 2063 6173 6573 2028  are some cases (
+000209f0: 7375 6368 2061 7320 6d75 6c74 6970 6c65  such as multiple
+00020a00: 2060 7769 7468 6020 7374 6174 656d 656e   `with` statemen
+00020a10: 7473 2920 7768 6572 6520 6f6e 6c79 2062  ts) where only b
+00020a20: 6163 6b73 6c61 7368 2063 6f6e 7469 6e75  ackslash continu
+00020a30: 6174 696f 6e2c 2061 6e64 206e 6f74 2070  ation, and not p
+00020a40: 6172 656e 7468 6574 6963 616c 2063 6f6e  arenthetical con
+00020a50: 7469 6e75 6174 696f 6e2c 2069 7320 7375  tinuation, is su
+00020a60: 7070 6f72 7465 642e 2043 6f63 6f6e 7574  pported. Coconut
+00020a70: 2061 6464 7320 7375 7070 6f72 7420 666f   adds support fo
+00020a80: 7220 7061 7265 6e74 6865 7469 6361 6c20  r parenthetical 
+00020a90: 636f 6e74 696e 7561 7469 6f6e 2069 6e20  continuation in 
+00020aa0: 616c 6c20 7468 6573 6520 6361 7365 732e  all these cases.
+00020ab0: 2054 6869 7320 616c 736f 2069 6e63 6c75   This also inclu
+00020ac0: 6465 7320 7375 7070 6f72 7420 6173 2070  des support as p
+00020ad0: 6572 205b 5045 5020 3637 395d 2868 7474  er [PEP 679](htt
+00020ae0: 7073 3a2f 2f70 6570 732e 7079 7468 6f6e  ps://peps.python
+00020af0: 2e6f 7267 2f70 6570 2d30 3637 3929 2066  .org/pep-0679) f
+00020b00: 6f72 2070 6172 656e 7468 6573 697a 6564  or parenthesized
+00020b10: 2060 6173 7365 7274 6020 7374 6174 656d   `assert` statem
+00020b20: 656e 7473 2e0d 0a0d 0a53 7570 706f 7274  ents.....Support
+00020b30: 696e 6720 7061 7265 6e74 6865 7469 6361  ing parenthetica
+00020b40: 6c20 636f 6e74 696e 7561 7469 6f6e 2065  l continuation e
+00020b50: 7665 7279 7768 6572 6520 616c 6c6f 7773  verywhere allows
+00020b60: 2074 6865 205b 5045 5020 385d 2868 7474   the [PEP 8](htt
+00020b70: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00020b80: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+00020b90: 2d30 3030 382f 2920 636f 6e76 656e 7469  -0008/) conventi
+00020ba0: 6f6e 2c20 7768 6963 6820 6176 6f69 6473  on, which avoids
+00020bb0: 2062 6163 6b73 6c61 7368 2063 6f6e 7469   backslash conti
+00020bc0: 6e75 6174 696f 6e20 696e 2066 6176 6f72  nuation in favor
+00020bd0: 206f 6620 696d 706c 6965 6420 7061 7265   of implied pare
+00020be0: 6e74 6865 7469 6361 6c20 636f 6e74 696e  nthetical contin
+00020bf0: 7561 7469 6f6e 2c20 746f 2061 6c77 6179  uation, to alway
+00020c00: 7320 6265 2070 6f73 7369 626c 6520 746f  s be possible to
+00020c10: 2066 6f6c 6c6f 772e 2046 726f 6d20 5045   follow. From PE
+00020c20: 5020 383a 0d0a 0d0a 3e20 5468 6520 7072  P 8:....> The pr
+00020c30: 6566 6572 7265 6420 7761 7920 6f66 2077  eferred way of w
+00020c40: 7261 7070 696e 6720 6c6f 6e67 206c 696e  rapping long lin
+00020c50: 6573 2069 7320 6279 2075 7369 6e67 2050  es is by using P
+00020c60: 7974 686f 6e27 7320 696d 706c 6965 6420  ython's implied 
+00020c70: 6c69 6e65 2063 6f6e 7469 6e75 6174 696f  line continuatio
+00020c80: 6e20 696e 7369 6465 2070 6172 656e 7468  n inside parenth
+00020c90: 6573 6573 2c20 6272 6163 6b65 7473 2061  eses, brackets a
+00020ca0: 6e64 2062 7261 6365 732e 204c 6f6e 6720  nd braces. Long 
+00020cb0: 6c69 6e65 7320 6361 6e20 6265 2062 726f  lines can be bro
+00020cc0: 6b65 6e20 6f76 6572 206d 756c 7469 706c  ken over multipl
+00020cd0: 6520 6c69 6e65 7320 6279 2077 7261 7070  e lines by wrapp
+00020ce0: 696e 6720 6578 7072 6573 7369 6f6e 7320  ing expressions 
+00020cf0: 696e 2070 6172 656e 7468 6573 6573 2e20  in parentheses. 
+00020d00: 5468 6573 6520 7368 6f75 6c64 2062 6520  These should be 
+00020d10: 7573 6564 2069 6e20 7072 6566 6572 656e  used in preferen
+00020d20: 6365 2074 6f20 7573 696e 6720 6120 6261  ce to using a ba
+00020d30: 636b 736c 6173 6820 666f 7220 6c69 6e65  ckslash for line
+00020d40: 2063 6f6e 7469 6e75 6174 696f 6e2e 0d0a   continuation...
+00020d50: 0d0a 5f4e 6f74 653a 2050 6173 7369 6e67  .._Note: Passing
+00020d60: 2060 2d2d 7374 7269 6374 6020 7769 6c6c   `--strict` will
+00020d70: 2065 6e66 6f72 6365 2074 6865 2050 4550   enforce the PEP
+00020d80: 2038 2063 6f6e 7665 6e74 696f 6e20 6279   8 convention by
+00020d90: 2064 6973 616c 6c6f 7769 6e67 2062 6163   disallowing bac
+00020da0: 6b73 6c61 7368 2063 6f6e 7469 6e75 6174  kslash continuat
+00020db0: 696f 6e73 2e5f 0d0a 0d0a 2323 2323 2320  ions._....##### 
+00020dc0: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+00020dd0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+00020de0: 6e75 740d 0a77 6974 6820 286f 7065 6e28  nut..with (open(
+00020df0: 272f 7061 7468 2f74 6f2f 736f 6d65 2f66  '/path/to/some/f
+00020e00: 696c 652f 796f 752f 7761 6e74 2f74 6f2f  ile/you/want/to/
+00020e10: 7265 6164 2729 2061 7320 6669 6c65 5f31  read') as file_1
+00020e20: 2c0d 0a20 2020 2020 206f 7065 6e28 272f  ,..      open('/
+00020e30: 7061 7468 2f74 6f2f 736f 6d65 2f66 696c  path/to/some/fil
+00020e40: 652f 6265 696e 672f 7772 6974 7465 6e27  e/being/written'
+00020e50: 2c20 2777 2729 2061 7320 6669 6c65 5f32  , 'w') as file_2
+00020e60: 293a 0d0a 2020 2020 6669 6c65 5f32 2e77  ):..    file_2.w
+00020e70: 7269 7465 2866 696c 655f 312e 7265 6164  rite(file_1.read
+00020e80: 2829 290d 0a60 6060 0d0a 0d0a 2a2a 5079  ())..```....**Py
+00020e90: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+00020ea0: 6e75 745f 7079 7468 6f6e 0d0a 2320 7370  nut_python..# sp
+00020eb0: 6c69 7420 696e 746f 2074 776f 2077 6974  lit into two wit
+00020ec0: 6820 7374 6174 656d 656e 7473 2066 6f72  h statements for
+00020ed0: 2050 7974 686f 6e20 322e 3620 636f 6d70   Python 2.6 comp
+00020ee0: 6174 6962 696c 6974 790d 0a77 6974 6820  atibility..with 
+00020ef0: 6f70 656e 2827 2f70 6174 682f 746f 2f73  open('/path/to/s
+00020f00: 6f6d 652f 6669 6c65 2f79 6f75 2f77 616e  ome/file/you/wan
+00020f10: 742f 746f 2f72 6561 6427 2920 6173 2066  t/to/read') as f
+00020f20: 696c 655f 313a 0d0a 2020 2020 7769 7468  ile_1:..    with
+00020f30: 206f 7065 6e28 272f 7061 7468 2f74 6f2f   open('/path/to/
+00020f40: 736f 6d65 2f66 696c 652f 6265 696e 672f  some/file/being/
+00020f50: 7772 6974 7465 6e27 2c20 2777 2729 2061  written', 'w') a
+00020f60: 7320 6669 6c65 5f32 3a0d 0a20 2020 2020  s file_2:..     
+00020f70: 2020 2066 696c 655f 322e 7772 6974 6528     file_2.write(
+00020f80: 6669 6c65 5f31 2e72 6561 6428 2929 0d0a  file_1.read())..
+00020f90: 6060 600d 0a0d 0a23 2323 2041 7373 6967  ```....### Assig
+00020fa0: 6e6d 656e 7420 4578 7072 6573 7369 6f6e  nment Expression
+00020fb0: 2043 6861 696e 696e 670d 0a0d 0a55 6e6c   Chaining....Unl
+00020fc0: 696b 6520 5079 7468 6f6e 2c20 436f 636f  ike Python, Coco
+00020fd0: 6e75 7420 616c 6c6f 7773 2061 7373 6967  nut allows assig
+00020fe0: 6e6d 656e 7420 6578 7072 6573 7369 6f6e  nment expression
+00020ff0: 7320 746f 2062 6520 6368 6169 6e65 642c  s to be chained,
+00021000: 2061 7320 696e 2060 6120 3a3d 2062 203a   as in `a := b :
+00021010: 3d20 6360 2e20 4e6f 7465 2c20 686f 7765  = c`. Note, howe
+00021020: 7665 722c 2074 6861 7420 6173 7369 676e  ver, that assign
+00021030: 6d65 6e74 2065 7870 7265 7373 696f 6e73  ment expressions
+00021040: 2069 6e20 6765 6e65 7261 6c20 6172 6520   in general are 
+00021050: 6375 7272 656e 746c 7920 6f6e 6c79 2073  currently only s
+00021060: 7570 706f 7274 6564 206f 6e20 602d 2d74  upported on `--t
+00021070: 6172 6765 7420 332e 3860 206f 7220 6869  arget 3.8` or hi
+00021080: 6768 6572 2e0d 0a0d 0a23 2323 2323 2045  gher.....##### E
+00021090: 7861 6d70 6c65 0d0a 0d0a 2a2a 436f 636f  xample....**Coco
+000210a0: 6e75 743a 2a2a 0d0a 6060 6063 6f63 6f6e  nut:**..```cocon
+000210b0: 7574 0d0a 2861 203a 3d20 6220 3a3d 2031  ut..(a := b := 1
+000210c0: 290d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  )..```....**Pyth
+000210d0: 6f6e 3a2a 2a0d 0a60 6060 636f 636f 6e75  on:**..```coconu
+000210e0: 745f 7079 7468 6f6e 0d0a 2861 203a 3d20  t_python..(a := 
+000210f0: 2862 203a 3d20 3129 290d 0a60 6060 0d0a  (b := 1))..```..
+00021100: 0d0a 2323 2042 7569 6c74 2d49 6e73 0d0a  ..## Built-Ins..
+00021110: 0d0a 6060 607b 636f 6e74 656e 7473 7d0d  ..```{contents}.
+00021120: 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465  .---..local:..de
+00021130: 7074 683a 2032 0d0a 2d2d 2d0d 0a60 6060  pth: 2..---..```
+00021140: 0d0a 0d0a 2323 2320 4275 696c 742d 496e  ....### Built-In
+00021150: 2046 756e 6374 696f 6e20 4465 636f 7261   Function Decora
+00021160: 746f 7273 0d0a 0d0a 6060 607b 636f 6e74  tors....```{cont
+00021170: 656e 7473 7d0d 0a2d 2d2d 0d0a 6c6f 6361  ents}..---..loca
+00021180: 6c3a 0d0a 6465 7074 683a 2031 0d0a 2d2d  l:..depth: 1..--
+00021190: 2d0d 0a60 6060 0d0a 0d0a 2323 2323 2060  -..```....#### `
+000211a0: 6164 6470 6174 7465 726e 600d 0a0d 0a2a  addpattern`....*
+000211b0: 2a61 6464 7061 7474 6572 6e2a 2a28 5f62  *addpattern**(_b
+000211c0: 6173 655c 5f66 756e 635f 2c20 2a5f 6164  ase\_func_, *_ad
+000211d0: 645c 5f66 756e 6373 5f2c 205f 616c 6c6f  d\_funcs_, _allo
+000211e0: 775c 5f61 6e79 5c5f 6675 6e63 5f3d 6046  w\_any\_func_=`F
+000211f0: 616c 7365 6029 0d0a 0d0a 5461 6b65 7320  alse`)....Takes 
+00021200: 6f6e 6520 6172 6775 6d65 6e74 2074 6861  one argument tha
+00021210: 7420 6973 2061 205b 7061 7474 6572 6e2d  t is a [pattern-
+00021220: 6d61 7463 6869 6e67 2066 756e 6374 696f  matching functio
+00021230: 6e5d 2823 7061 7474 6572 6e2d 6d61 7463  n](#pattern-matc
+00021240: 6869 6e67 2d66 756e 6374 696f 6e73 292c  hing-functions),
+00021250: 2061 6e64 2072 6574 7572 6e73 2061 2064   and returns a d
+00021260: 6563 6f72 6174 6f72 2074 6861 7420 6164  ecorator that ad
+00021270: 6473 2074 6865 2070 6174 7465 726e 7320  ds the patterns 
+00021280: 696e 2074 6865 2065 7869 7374 696e 6720  in the existing 
+00021290: 6675 6e63 7469 6f6e 2074 6f20 7468 6520  function to the 
+000212a0: 6e65 7720 6675 6e63 7469 6f6e 2062 6569  new function bei
+000212b0: 6e67 2064 6563 6f72 6174 6564 2c20 7768  ng decorated, wh
+000212c0: 6572 6520 7468 6520 6578 6973 7469 6e67  ere the existing
+000212d0: 2070 6174 7465 726e 7320 6172 6520 6368   patterns are ch
+000212e0: 6563 6b65 6420 6669 7273 742c 2074 6865  ecked first, the
+000212f0: 6e20 7468 6520 6e65 772e 2060 6164 6470  n the new. `addp
+00021300: 6174 7465 726e 6020 616c 736f 2073 7570  attern` also sup
+00021310: 706f 7274 7320 6120 7368 6f72 7463 7574  ports a shortcut
+00021320: 2073 796e 7461 7820 7768 6572 6520 7468   syntax where th
+00021330: 6520 6e65 7720 7061 7474 6572 6e73 2063  e new patterns c
+00021340: 616e 2062 6520 7061 7373 6564 2069 6e20  an be passed in 
+00021350: 6469 7265 6374 6c79 2e0d 0a0d 0a52 6f75  directly.....Rou
+00021360: 6768 6c79 2065 7175 6976 616c 656e 7420  ghly equivalent 
+00021370: 746f 3a0d 0a60 6060 0d0a 6465 6620 5f70  to:..```..def _p
+00021380: 6174 7465 726e 5f61 6464 6572 2862 6173  attern_adder(bas
+00021390: 655f 6675 6e63 2c20 6164 645f 6675 6e63  e_func, add_func
+000213a0: 293a 0d0a 2020 2020 6465 6620 6164 645f  ):..    def add_
+000213b0: 7061 7474 6572 6e5f 6675 6e63 282a 6172  pattern_func(*ar
+000213c0: 6773 2c20 2a2a 6b77 6172 6773 293a 0d0a  gs, **kwargs):..
+000213d0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+000213e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000213f0: 2062 6173 655f 6675 6e63 282a 6172 6773   base_func(*args
+00021400: 2c20 2a2a 6b77 6172 6773 290d 0a20 2020  , **kwargs)..   
+00021410: 2020 2020 2065 7863 6570 7420 4d61 7463       except Matc
+00021420: 6845 7272 6f72 3a0d 0a20 2020 2020 2020  hError:..       
+00021430: 2020 2020 2072 6574 7572 6e20 6164 645f       return add_
+00021440: 6675 6e63 282a 6172 6773 2c20 2a2a 6b77  func(*args, **kw
+00021450: 6172 6773 290d 0a20 2020 2072 6574 7572  args)..    retur
+00021460: 6e20 6164 645f 7061 7474 6572 6e5f 6675  n add_pattern_fu
+00021470: 6e63 0d0a 6465 6620 6164 6470 6174 7465  nc..def addpatte
+00021480: 726e 2862 6173 655f 6675 6e63 2c20 2a61  rn(base_func, *a
+00021490: 6464 5f66 756e 6373 2c20 616c 6c6f 775f  dd_funcs, allow_
+000214a0: 616e 795f 6675 6e63 3d46 616c 7365 293a  any_func=False):
+000214b0: 0d0a 2020 2020 2222 2244 6563 6f72 6174  ..    """Decorat
+000214c0: 6f72 2074 6f20 6164 6420 6120 6e65 7720  or to add a new 
+000214d0: 6361 7365 2074 6f20 6120 7061 7474 6572  case to a patter
+000214e0: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+000214f0: 696f 6e20 2877 6865 7265 2074 6865 206e  ion (where the n
+00021500: 6577 2063 6173 6520 6973 2063 6865 636b  ew case is check
+00021510: 6564 206c 6173 7429 2e0d 0a0d 0a20 2020  ed last).....   
+00021520: 2050 6173 7320 616c 6c6f 775f 616e 795f   Pass allow_any_
+00021530: 6675 6e63 3d54 7275 6520 746f 2061 6c6c  func=True to all
+00021540: 6f77 2061 6e79 206f 626a 6563 7420 6173  ow any object as
+00021550: 2074 6865 2062 6173 655f 6675 6e63 2072   the base_func r
+00021560: 6174 6865 7220 7468 616e 206a 7573 7420  ather than just 
+00021570: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+00021580: 2066 756e 6374 696f 6e73 2e0d 0a20 2020   functions...   
+00021590: 2049 6620 6164 645f 6675 6e63 2069 7320   If add_func is 
+000215a0: 7061 7373 6564 2c20 6164 6470 6174 7465  passed, addpatte
+000215b0: 726e 2862 6173 655f 6675 6e63 2c20 6164  rn(base_func, ad
+000215c0: 645f 6675 6e63 2920 6973 2065 7175 6976  d_func) is equiv
+000215d0: 616c 656e 7420 746f 2061 6464 7061 7474  alent to addpatt
+000215e0: 6572 6e28 6261 7365 5f66 756e 6329 2861  ern(base_func)(a
+000215f0: 6464 5f66 756e 6329 2e0d 0a20 2020 2022  dd_func)...    "
+00021600: 2222 0d0a 2020 2020 6966 206e 6f74 2061  ""..    if not a
+00021610: 6464 5f66 756e 6373 3a0d 0a20 2020 2020  dd_funcs:..     
+00021620: 2020 2072 6574 7572 6e20 6164 6470 6174     return addpat
+00021630: 7465 726e 2428 6261 7365 5f66 756e 6329  tern$(base_func)
+00021640: 0d0a 2020 2020 666f 7220 6164 645f 6675  ..    for add_fu
+00021650: 6e63 2069 6e20 6164 645f 6675 6e63 733a  nc in add_funcs:
+00021660: 0d0a 2020 2020 2020 2020 6261 7365 5f66  ..        base_f
+00021670: 756e 6320 3d20 7061 7474 6572 6e5f 6164  unc = pattern_ad
+00021680: 6465 7228 6261 7365 5f66 756e 632c 2061  der(base_func, a
+00021690: 6464 5f66 756e 6329 0d0a 2020 2020 7265  dd_func)..    re
+000216a0: 7475 726e 2062 6173 655f 6675 6e63 0d0a  turn base_func..
+000216b0: 6060 600d 0a0d 0a49 6620 796f 7520 7761  ```....If you wa
+000216c0: 6e74 2074 6f20 6769 7665 2061 6e20 6061  nt to give an `a
+000216d0: 6464 7061 7474 6572 6e60 2066 756e 6374  ddpattern` funct
+000216e0: 696f 6e20 6120 646f 6373 7472 696e 672c  ion a docstring,
+000216f0: 206d 616b 6520 7375 7265 2074 6f20 7075   make sure to pu
+00021700: 7420 6974 206f 6e20 7468 6520 5f6c 6173  t it on the _las
+00021710: 745f 2066 756e 6374 696f 6e2e 0d0a 0d0a  t_ function.....
+00021720: 4e6f 7465 2074 6861 7420 7468 6520 6675  Note that the fu
+00021730: 6e63 7469 6f6e 2074 616b 656e 2062 7920  nction taken by 
+00021740: 6061 6464 7061 7474 6572 6e60 206d 7573  `addpattern` mus
+00021750: 7420 6265 2061 2070 6174 7465 726e 2d6d  t be a pattern-m
+00021760: 6174 6368 696e 6720 6675 6e63 7469 6f6e  atching function
+00021770: 2e20 4966 2060 6164 6470 6174 7465 726e  . If `addpattern
+00021780: 6020 7265 6365 6976 6573 2061 206e 6f6e  ` receives a non
+00021790: 2070 6174 7465 726e 2d6d 6174 6368 696e   pattern-matchin
+000217a0: 6720 6675 6e63 7469 6f6e 2c20 7468 6520  g function, the 
+000217b0: 6675 6e63 7469 6f6e 2077 6974 6820 6e6f  function with no
+000217c0: 7420 7261 6973 6520 604d 6174 6368 4572  t raise `MatchEr
+000217d0: 726f 7260 2c20 616e 6420 6061 6464 7061  ror`, and `addpa
+000217e0: 7474 6572 6e60 2077 6f6e 2774 2062 6520  ttern` won't be 
+000217f0: 6162 6c65 2074 6f20 6465 7465 6374 2074  able to detect t
+00021800: 6865 2066 6169 6c65 6420 6d61 7463 682e  he failed match.
+00021810: 2054 6875 732c 2069 6620 6120 6c61 7465   Thus, if a late
+00021820: 7220 6675 6e63 7469 6f6e 2077 6173 206d  r function was m
+00021830: 6561 6e74 2074 6f20 6265 2063 616c 6c65  eant to be calle
+00021840: 642c 2060 6164 6470 6174 7465 726e 6020  d, `addpattern` 
+00021850: 7769 6c6c 206e 6f74 206b 6e6f 7720 7468  will not know th
+00021860: 6174 2074 6865 2066 6972 7374 206d 6174  at the first mat
+00021870: 6368 2066 6169 6c65 6420 616e 6420 7468  ch failed and th
+00021880: 6520 636f 7272 6563 7420 7061 7468 2077  e correct path w
+00021890: 696c 6c20 6e65 7665 7220 6265 2072 6561  ill never be rea
+000218a0: 6368 6564 2e0d 0a0d 0a46 6f72 2065 7861  ched.....For exa
+000218b0: 6d70 6c65 2c20 7468 6520 666f 6c6c 6f77  mple, the follow
+000218c0: 696e 6720 636f 6465 2072 6169 7365 7320  ing code raises 
+000218d0: 6120 6054 7970 6545 7272 6f72 603a 0d0a  a `TypeError`:..
+000218e0: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
+000218f0: 7072 696e 745f 7479 7065 2829 3a0d 0a20  print_type():.. 
+00021900: 2020 2070 7269 6e74 2822 5265 6365 6976     print("Receiv
+00021910: 6564 206e 6f20 6172 6775 6d65 6e74 732e  ed no arguments.
+00021920: 2229 0d0a 0d0a 4061 6464 7061 7474 6572  ")....@addpatter
+00021930: 6e28 7072 696e 745f 7479 7065 290d 0a64  n(print_type)..d
+00021940: 6566 2070 7269 6e74 5f74 7970 6528 696e  ef print_type(in
+00021950: 7428 2929 3a0d 0a20 2020 2070 7269 6e74  t()):..    print
+00021960: 2822 5265 6365 6976 6564 2061 6e20 696e  ("Received an in
+00021970: 742e 2229 0d0a 0d0a 7072 696e 745f 7479  t.")....print_ty
+00021980: 7065 2829 2020 2320 6170 7065 6172 7320  pe()  # appears 
+00021990: 746f 2077 6f72 6b0d 0a70 7269 6e74 5f74  to work..print_t
+000219a0: 7970 6528 3129 2023 2054 7970 6545 7272  ype(1) # TypeErr
+000219b0: 6f72 3a20 7072 696e 745f 7479 7065 2829  or: print_type()
+000219c0: 2074 616b 6573 2030 2070 6f73 6974 696f   takes 0 positio
+000219d0: 6e61 6c20 6172 6775 6d65 6e74 7320 6275  nal arguments bu
+000219e0: 7420 3120 7761 7320 6769 7665 6e0d 0a60  t 1 was given..`
+000219f0: 6060 0d0a 0d0a 5468 6973 2063 616e 2062  ``....This can b
+00021a00: 6520 6669 7865 6420 6279 2075 7369 6e67  e fixed by using
+00021a10: 2065 6974 6865 7220 7468 6520 606d 6174   either the `mat
+00021a20: 6368 6020 6f72 2060 6164 6470 6174 7465  ch` or `addpatte
+00021a30: 726e 6020 6b65 7977 6f72 642e 2046 6f72  rn` keyword. For
+00021a40: 2065 7861 6d70 6c65 3a0d 0a60 6060 636f   example:..```co
+00021a50: 636f 6e75 740d 0a6d 6174 6368 2064 6566  conut..match def
+00021a60: 2070 7269 6e74 5f74 7970 6528 293a 0d0a   print_type():..
+00021a70: 2020 2020 7072 696e 7428 2252 6563 6569      print("Recei
+00021a80: 7665 6420 6e6f 2061 7267 756d 656e 7473  ved no arguments
+00021a90: 2e22 290d 0a0d 0a61 6464 7061 7474 6572  .")....addpatter
+00021aa0: 6e20 6465 6620 7072 696e 745f 7479 7065  n def print_type
+00021ab0: 2869 6e74 2829 293a 0d0a 2020 2020 7072  (int()):..    pr
+00021ac0: 696e 7428 2252 6563 6569 7665 6420 616e  int("Received an
+00021ad0: 2069 6e74 2e22 290d 0a0d 0a70 7269 6e74   int.")....print
+00021ae0: 5f74 7970 6528 3129 2020 2320 576f 726b  _type(1)  # Work
+00021af0: 7320 6173 2065 7870 6563 7465 640d 0a70  s as expected..p
+00021b00: 7269 6e74 5f74 7970 6528 2254 6869 7320  rint_type("This 
+00021b10: 6973 2061 2073 7472 696e 672e 2229 2023  is a string.") #
+00021b20: 2052 6169 7365 7320 4d61 7463 6845 7272   Raises MatchErr
+00021b30: 6f72 0d0a 6060 600d 0a0d 0a54 6865 206c  or..```....The l
+00021b40: 6173 7420 6361 7365 2069 6e20 616e 2060  ast case in an `
+00021b50: 6164 6470 6174 7465 726e 6020 6675 6e63  addpattern` func
+00021b60: 7469 6f6e 2c20 686f 7765 7665 722c 2064  tion, however, d
+00021b70: 6f65 736e 2774 2068 6176 6520 746f 2062  oesn't have to b
+00021b80: 6520 6120 7061 7474 6572 6e2d 6d61 7463  e a pattern-matc
+00021b90: 6869 6e67 2066 756e 6374 696f 6e20 6966  hing function if
+00021ba0: 2069 7420 6973 2069 6e74 656e 6465 6420   it is intended 
+00021bb0: 746f 2063 6174 6368 2061 6c6c 2072 656d  to catch all rem
+00021bc0: 6169 6e69 6e67 2063 6173 6573 2e0d 0a0d  aining cases....
+00021bd0: 0a54 6f20 6361 7463 6820 7468 6973 206d  .To catch this m
+00021be0: 6973 7461 6b65 2c20 6061 6464 7061 7474  istake, `addpatt
+00021bf0: 6572 6e60 2077 696c 6c20 656d 6974 2061  ern` will emit a
+00021c00: 2077 6172 6e69 6e67 2069 6620 7061 7373   warning if pass
+00021c10: 6564 2077 6861 7420 6974 2062 656c 6965  ed what it belie
+00021c20: 7665 7320 746f 2062 6520 6120 6e6f 6e2d  ves to be a non-
+00021c30: 7061 7474 6572 6e2d 6d61 7463 6869 6e67  pattern-matching
+00021c40: 2066 756e 6374 696f 6e2e 2048 6f77 6576   function. Howev
+00021c50: 6572 2c20 7468 6973 2077 6172 6e69 6e67  er, this warning
+00021c60: 2063 616e 2073 6f6d 6574 696d 6573 2062   can sometimes b
+00021c70: 6520 6572 726f 6e65 6f75 7320 6966 2074  e erroneous if t
+00021c80: 6865 206f 7269 6769 6e61 6c20 7061 7474  he original patt
+00021c90: 6572 6e2d 6d61 7463 6869 6e67 2066 756e  ern-matching fun
+00021ca0: 6374 696f 6e20 6861 7320 6265 656e 2077  ction has been w
+00021cb0: 7261 7070 6564 2069 6e20 736f 6d65 2077  rapped in some w
+00021cc0: 6179 2c20 696e 2077 6869 6368 2063 6173  ay, in which cas
+00021cd0: 6520 796f 7520 6361 6e20 7061 7373 2060  e you can pass `
+00021ce0: 616c 6c6f 775f 616e 795f 6675 6e63 3d54  allow_any_func=T
+00021cf0: 7275 6560 2074 6f20 6469 736d 6973 7320  rue` to dismiss 
+00021d00: 7468 6520 7761 726e 696e 672e 0d0a 0d0a  the warning.....
+00021d10: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+00021d20: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+00021d30: 6060 636f 636f 6e75 740d 0a64 6566 2066  ``coconut..def f
+00021d40: 6163 746f 7269 616c 2830 2920 3d20 310d  actorial(0) = 1.
+00021d50: 0a0d 0a40 6164 6470 6174 7465 726e 2866  ...@addpattern(f
+00021d60: 6163 746f 7269 616c 290d 0a64 6566 2066  actorial)..def f
+00021d70: 6163 746f 7269 616c 286e 2920 3d20 6e20  actorial(n) = n 
+00021d80: 2a20 6661 6374 6f72 6961 6c28 6e20 2d20  * factorial(n - 
+00021d90: 3129 0d0a 6060 600d 0a5f 5369 6d70 6c65  1)..```.._Simple
+00021da0: 2065 7861 6d70 6c65 206f 6620 6164 6469   example of addi
+00021db0: 6e67 2061 206e 6577 2070 6174 7465 726e  ng a new pattern
+00021dc0: 2074 6f20 6120 7061 7474 6572 6e2d 6d61   to a pattern-ma
+00021dd0: 7463 6869 6e67 2066 756e 6374 696f 6e2e  tching function.
+00021de0: 5f0d 0a0d 0a60 6060 636f 636f 6e75 740d  _....```coconut.
+00021df0: 0a22 5b41 5d2c 205b 425d 2220 7c3e 2077  ."[A], [B]" |> w
+00021e00: 696e 646f 7773 6f66 2428 3329 207c 3e20  indowsof$(3) |> 
+00021e10: 6d61 7024 2861 6464 7061 7474 6572 6e28  map$(addpattern(
+00021e20: 0d0a 2020 2020 2864 6566 2028 2822 5b22  ..    (def (("["
+00021e30: 2c22 4122 2c22 5d22 2929 203d 3e20 2241  ,"A","]")) => "A
+00021e40: 2229 2c0d 0a20 2020 2028 6465 6620 2828  "),..    (def ((
+00021e50: 225b 222c 2242 222c 225d 2229 2920 3d3e  "[","B","]")) =>
+00021e60: 2022 4222 292c 0d0a 2020 2020 2864 6566   "B"),..    (def
+00021e70: 2028 285f 2c5f 2c5f 2929 203d 3e20 4e6f   ((_,_,_)) => No
+00021e80: 6e65 292c 0d0a 2929 207c 3e20 6669 6c74  ne),..)) |> filt
+00021e90: 6572 2428 282e 6973 204e 6f6e 6529 202e  er$((.is None) .
+00021ea0: 2e3e 2028 6e6f 7429 2920 7c3e 206c 6973  .> (not)) |> lis
+00021eb0: 7420 7c3e 2070 7269 6e74 0d0a 6060 600d  t |> print..```.
+00021ec0: 0a5f 416e 2065 7861 6d70 6c65 206f 6620  ._An example of 
+00021ed0: 6120 6361 7365 2077 6865 7265 2075 7369  a case where usi
+00021ee0: 6e67 2074 6865 2060 6164 6470 6174 7465  ng the `addpatte
+00021ef0: 726e 6020 6675 6e63 7469 6f6e 2069 7320  rn` function is 
+00021f00: 6e65 6365 7373 6172 7920 6f76 6572 2074  necessary over t
+00021f10: 6865 205b 6061 6464 7061 7474 6572 6e60  he [`addpattern`
+00021f20: 206b 6579 776f 7264 5d28 2361 6464 7061   keyword](#addpa
+00021f30: 7474 6572 6e2d 6675 6e63 7469 6f6e 7329  ttern-functions)
+00021f40: 2064 7565 2074 6f20 7468 6520 7573 6520   due to the use 
+00021f50: 6f66 2069 6e2d 6c69 6e65 2070 6174 7465  of in-line patte
+00021f60: 726e 2d6d 6174 6368 696e 6720 5b73 7461  rn-matching [sta
+00021f70: 7465 6d65 6e74 206c 616d 6264 6173 5d28  tement lambdas](
+00021f80: 2373 7461 7465 6d65 6e74 2d6c 616d 6264  #statement-lambd
+00021f90: 6173 292e 5f0d 0a0d 0a2a 2a50 7974 686f  as)._....**Pytho
+00021fa0: 6e3a 2a2a 0d0a 5f43 616e 2774 2062 6520  n:**.._Can't be 
+00021fb0: 646f 6e65 2077 6974 686f 7574 2061 2063  done without a c
+00021fc0: 6f6d 706c 6963 6174 6564 2064 6563 6f72  omplicated decor
+00021fd0: 6174 6f72 2064 6566 696e 6974 696f 6e20  ator definition 
+00021fe0: 616e 6420 6120 6c6f 6e67 2073 6572 6965  and a long serie
+00021ff0: 7320 6f66 2063 6865 636b 7320 666f 7220  s of checks for 
+00022000: 6561 6368 2070 6174 7465 726e 2d6d 6174  each pattern-mat
+00022010: 6368 696e 672e 2053 6565 2074 6865 2063  ching. See the c
+00022020: 6f6d 7069 6c65 6420 636f 6465 2066 6f72  ompiled code for
+00022030: 2074 6865 2050 7974 686f 6e20 7379 6e74   the Python synt
+00022040: 6178 2e5f 0d0a 0d0a 2323 2323 2320 6070  ax._....##### `p
+00022050: 7265 7061 7474 6572 6e60 0d0a 0d0a 2a2a  repattern`....**
+00022060: 4445 5052 4543 4154 4544 3a2a 2a20 436f  DEPRECATED:** Co
+00022070: 636f 6e75 7420 616c 736f 2068 6173 2061  conut also has a
+00022080: 2060 7072 6570 6174 7465 726e 6020 6275   `prepattern` bu
+00022090: 696c 742d 696e 2c20 7768 6963 6820 6164  ilt-in, which ad
+000220a0: 6473 2070 6174 7465 726e 7320 696e 2074  ds patterns in t
+000220b0: 6865 206f 7070 6f73 6974 6520 6f72 6465  he opposite orde
+000220c0: 7220 6f66 2060 6164 6470 6174 7465 726e  r of `addpattern
+000220d0: 603b 2060 7072 6570 6174 7465 726e 6020  `; `prepattern` 
+000220e0: 6973 2064 6566 696e 6564 2061 733a 0d0a  is defined as:..
+000220f0: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+00022100: 686f 6e0d 0a64 6566 2070 7265 7061 7474  hon..def prepatt
+00022110: 6572 6e28 6261 7365 5f66 756e 6329 3a0d  ern(base_func):.
+00022120: 0a20 2020 2022 2222 4465 636f 7261 746f  .    """Decorato
+00022130: 7220 746f 2061 6464 2061 206e 6577 2063  r to add a new c
+00022140: 6173 6520 746f 2061 2070 6174 7465 726e  ase to a pattern
+00022150: 2d6d 6174 6368 696e 6720 6675 6e63 7469  -matching functi
+00022160: 6f6e 2c0d 0a20 2020 2077 6865 7265 2074  on,..    where t
+00022170: 6865 206e 6577 2063 6173 6520 6973 2063  he new case is c
+00022180: 6865 636b 6564 2066 6972 7374 2e22 2222  hecked first."""
+00022190: 0d0a 2020 2020 6465 6620 7061 7474 6572  ..    def patter
+000221a0: 6e5f 7072 6570 656e 6465 7228 6675 6e63  n_prepender(func
+000221b0: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
+000221c0: 726e 2061 6464 7061 7474 6572 6e28 6675  rn addpattern(fu
+000221d0: 6e63 2928 6261 7365 5f66 756e 6329 0d0a  nc)(base_func)..
+000221e0: 2020 2020 7265 7475 726e 2070 6174 7465      return patte
+000221f0: 726e 5f70 7265 7065 6e64 6572 0d0a 6060  rn_prepender..``
+00022200: 600d 0a5f 4e6f 7465 3a20 5061 7373 696e  `.._Note: Passin
+00022210: 6720 602d 2d73 7472 6963 7460 2064 6973  g `--strict` dis
+00022220: 6162 6c65 7320 6465 7072 6563 6174 6564  ables deprecated
+00022230: 2066 6561 7475 7265 732e 5f0d 0a0d 0a23   features._....#
+00022240: 2323 2320 606d 656d 6f69 7a65 600d 0a0d  ### `memoize`...
+00022250: 0a2a 2a6d 656d 6f69 7a65 2a2a 285f 6d61  .**memoize**(_ma
+00022260: 7873 697a 655f 3d60 4e6f 6e65 602c 205f  xsize_=`None`, _
+00022270: 7479 7065 645f 3d60 4661 6c73 6560 290d  typed_=`False`).
+00022280: 0a0d 0a2a 2a6d 656d 6f69 7a65 2a2a 285f  ...**memoize**(_
+00022290: 7573 6572 5c5f 6675 6e63 7469 6f6e 5f29  user\_function_)
+000222a0: 0d0a 0d0a 436f 636f 6e75 7420 7072 6f76  ....Coconut prov
+000222b0: 6964 6573 2060 6675 6e63 746f 6f6c 732e  ides `functools.
+000222c0: 6c72 755f 6361 6368 6560 2061 7320 6120  lru_cache` as a 
+000222d0: 6275 696c 742d 696e 2075 6e64 6572 2074  built-in under t
+000222e0: 6865 206e 616d 6520 606d 656d 6f69 7a65  he name `memoize
+000222f0: 6020 7769 7468 2074 6865 206d 6f64 6966  ` with the modif
+00022300: 6963 6174 696f 6e20 7468 6174 2074 6865  ication that the
+00022310: 205f 6d61 7873 697a 655f 2070 6172 616d   _maxsize_ param
+00022320: 6574 6572 2069 7320 7365 7420 746f 2060  eter is set to `
+00022330: 4e6f 6e65 6020 6279 2064 6566 6175 6c74  None` by default
+00022340: 2e20 606d 656d 6f69 7a65 6020 6d61 6b65  . `memoize` make
+00022350: 7320 7468 6520 7573 6520 6361 7365 206f  s the use case o
+00022360: 6620 6f70 7469 6d69 7a69 6e67 2072 6563  f optimizing rec
+00022370: 7572 7369 7665 2066 756e 6374 696f 6e73  ursive functions
+00022380: 2065 6173 6965 722c 2061 7320 6120 5f6d   easier, as a _m
+00022390: 6178 7369 7a65 5f20 6f66 2060 4e6f 6e65  axsize_ of `None
+000223a0: 6020 6973 2075 7375 616c 6c79 2077 6861  ` is usually wha
+000223b0: 7420 6973 2064 6573 6972 6564 2069 6e20  t is desired in 
+000223c0: 7468 6174 2063 6173 652e 0d0a 0d0a 5573  that case.....Us
+000223d0: 6520 6f66 2060 6d65 6d6f 697a 6560 2072  e of `memoize` r
+000223e0: 6571 7569 7265 7320 6066 756e 6374 6f6f  equires `functoo
+000223f0: 6c73 2e6c 7275 5f63 6163 6865 602c 2077  ls.lru_cache`, w
+00022400: 6869 6368 2065 7869 7374 7320 696e 2074  hich exists in t
+00022410: 6865 2050 7974 686f 6e20 3320 7374 616e  he Python 3 stan
+00022420: 6461 7264 206c 6962 7261 7279 2c20 6275  dard library, bu
+00022430: 7420 756e 6465 7220 5079 7468 6f6e 2032  t under Python 2
+00022440: 2077 696c 6c20 7265 7175 6972 6520 6070   will require `p
+00022450: 6970 2069 6e73 7461 6c6c 2062 6163 6b70  ip install backp
+00022460: 6f72 7473 2e66 756e 6374 6f6f 6c73 5f6c  orts.functools_l
+00022470: 7275 5f63 6163 6865 6020 746f 2066 756e  ru_cache` to fun
+00022480: 6374 696f 6e2e 2041 6464 6974 696f 6e61  ction. Additiona
+00022490: 6c6c 792c 2069 6620 6f6e 2050 7974 686f  lly, if on Pytho
+000224a0: 6e20 3220 616e 6420 6062 6163 6b70 6f72  n 2 and `backpor
+000224b0: 7473 2e66 756e 6374 6f6f 6c73 5f6c 7275  ts.functools_lru
+000224c0: 5f63 6163 6865 6020 6973 2070 7265 7365  _cache` is prese
+000224d0: 6e74 2c20 436f 636f 6e75 7420 7769 6c6c  nt, Coconut will
+000224e0: 2070 6174 6368 2060 6675 6e63 746f 6f6c   patch `functool
+000224f0: 7360 2073 7563 6820 7468 6174 2060 6675  s` such that `fu
+00022500: 6e63 746f 6f6c 732e 6c72 755f 6361 6368  nctools.lru_cach
+00022510: 6520 3d20 6261 636b 706f 7274 732e 6675  e = backports.fu
+00022520: 6e63 746f 6f6c 735f 6c72 755f 6361 6368  nctools_lru_cach
+00022530: 652e 6c72 755f 6361 6368 6560 2e0d 0a0d  e.lru_cache`....
+00022540: 0a23 2323 2323 2050 7974 686f 6e20 446f  .##### Python Do
+00022550: 6373 0d0a 0d0a 402a 2a6d 656d 6f69 7a65  cs....@**memoize
+00022560: 2a2a 285f 7573 6572 5c5f 6675 6e63 7469  **(_user\_functi
+00022570: 6f6e 5f29 0d0a 0d0a 402a 2a6d 656d 6f69  on_)....@**memoi
+00022580: 7a65 2a2a 285f 6d61 7873 697a 653d 4e6f  ze**(_maxsize=No
+00022590: 6e65 2c20 7479 7065 643d 4661 6c73 655f  ne, typed=False_
+000225a0: 290d 0a0d 0a44 6563 6f72 6174 6f72 2074  )....Decorator t
+000225b0: 6f20 7772 6170 2061 2066 756e 6374 696f  o wrap a functio
+000225c0: 6e20 7769 7468 2061 206d 656d 6f69 7a69  n with a memoizi
+000225d0: 6e67 2063 616c 6c61 626c 6520 7468 6174  ng callable that
+000225e0: 2073 6176 6573 2075 7020 746f 2074 6865   saves up to the
+000225f0: 205f 6d61 7873 697a 655f 206d 6f73 7420   _maxsize_ most 
+00022600: 7265 6365 6e74 2063 616c 6c73 2e20 4974  recent calls. It
+00022610: 2063 616e 2073 6176 6520 7469 6d65 2077   can save time w
+00022620: 6865 6e20 616e 2065 7870 656e 7369 7665  hen an expensive
+00022630: 206f 7220 492f 4f20 626f 756e 6420 6675   or I/O bound fu
+00022640: 6e63 7469 6f6e 2069 7320 7065 7269 6f64  nction is period
+00022650: 6963 616c 6c79 2063 616c 6c65 6420 7769  ically called wi
+00022660: 7468 2074 6865 2073 616d 6520 6172 6775  th the same argu
+00022670: 6d65 6e74 732e 0d0a 0d0a 5369 6e63 6520  ments.....Since 
+00022680: 6120 6469 6374 696f 6e61 7279 2069 7320  a dictionary is 
+00022690: 7573 6564 2074 6f20 6361 6368 6520 7265  used to cache re
+000226a0: 7375 6c74 732c 2074 6865 2070 6f73 6974  sults, the posit
+000226b0: 696f 6e61 6c20 616e 6420 6b65 7977 6f72  ional and keywor
+000226c0: 6420 6172 6775 6d65 6e74 7320 746f 2074  d arguments to t
+000226d0: 6865 2066 756e 6374 696f 6e20 6d75 7374  he function must
+000226e0: 2062 6520 6861 7368 6162 6c65 2e0d 0a0d   be hashable....
+000226f0: 0a44 6973 7469 6e63 7420 6172 6775 6d65  .Distinct argume
+00022700: 6e74 2070 6174 7465 726e 7320 6d61 7920  nt patterns may 
+00022710: 6265 2063 6f6e 7369 6465 7265 6420 746f  be considered to
+00022720: 2062 6520 6469 7374 696e 6374 2063 616c   be distinct cal
+00022730: 6c73 2077 6974 6820 7365 7061 7261 7465  ls with separate
+00022740: 2063 6163 6865 2065 6e74 7269 6573 2e20   cache entries. 
+00022750: 466f 7220 6578 616d 706c 652c 2060 6628  For example, `f(
+00022760: 613d 312c 2062 3d32 2960 2061 6e64 2060  a=1, b=2)` and `
+00022770: 6628 623d 322c 2061 3d31 2960 2064 6966  f(b=2, a=1)` dif
+00022780: 6665 7220 696e 2074 6865 6972 206b 6579  fer in their key
+00022790: 776f 7264 2061 7267 756d 656e 7420 6f72  word argument or
+000227a0: 6465 7220 616e 6420 6d61 7920 6861 7665  der and may have
+000227b0: 2074 776f 2073 6570 6172 6174 6520 6361   two separate ca
+000227c0: 6368 6520 656e 7472 6965 732e 0d0a 0d0a  che entries.....
+000227d0: 4966 205f 7573 6572 5c5f 6675 6e63 7469  If _user\_functi
+000227e0: 6f6e 5f20 6973 2073 7065 6369 6669 6564  on_ is specified
+000227f0: 2c20 6974 206d 7573 7420 6265 2061 2063  , it must be a c
+00022800: 616c 6c61 626c 652e 2054 6869 7320 616c  allable. This al
+00022810: 6c6f 7773 2074 6865 205f 6d65 6d6f 697a  lows the _memoiz
+00022820: 655f 2064 6563 6f72 6174 6f72 2074 6f20  e_ decorator to 
+00022830: 6265 2061 7070 6c69 6564 2064 6972 6563  be applied direc
+00022840: 746c 7920 746f 2061 2075 7365 7220 6675  tly to a user fu
+00022850: 6e63 7469 6f6e 2c20 6c65 6176 696e 6720  nction, leaving 
+00022860: 7468 6520 6d61 7873 697a 6520 6174 2069  the maxsize at i
+00022870: 7473 2064 6566 6175 6c74 2076 616c 7565  ts default value
+00022880: 206f 6620 604e 6f6e 6560 3a0d 0a60 6060   of `None`:..```
+00022890: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+000228a0: 406d 656d 6f69 7a65 0d0a 6465 6620 636f  @memoize..def co
+000228b0: 756e 745f 766f 7765 6c73 2873 656e 7465  unt_vowels(sente
+000228c0: 6e63 6529 3a0d 0a20 2020 2072 6574 7572  nce):..    retur
+000228d0: 6e20 7375 6d28 7365 6e74 656e 6365 2e63  n sum(sentence.c
+000228e0: 6f75 6e74 2876 6f77 656c 2920 666f 7220  ount(vowel) for 
+000228f0: 766f 7765 6c20 696e 2027 4145 494f 5561  vowel in 'AEIOUa
+00022900: 6569 6f75 2729 0d0a 6060 600d 0a0d 0a49  eiou')..```....I
+00022910: 6620 5f6d 6178 7369 7a65 5f20 6973 2073  f _maxsize_ is s
+00022920: 6574 2074 6f20 604e 6f6e 6560 2c20 7468  et to `None`, th
+00022930: 6520 4c52 5520 6665 6174 7572 6520 6973  e LRU feature is
+00022940: 2064 6973 6162 6c65 6420 616e 6420 7468   disabled and th
+00022950: 6520 6361 6368 6520 6361 6e20 6772 6f77  e cache can grow
+00022960: 2077 6974 686f 7574 2062 6f75 6e64 2e0d   without bound..
+00022970: 0a0d 0a49 6620 5f74 7970 6564 5f20 6973  ...If _typed_ is
+00022980: 2073 6574 2074 6f20 7472 7565 2c20 6675   set to true, fu
+00022990: 6e63 7469 6f6e 2061 7267 756d 656e 7473  nction arguments
+000229a0: 206f 6620 6469 6666 6572 656e 7420 7479   of different ty
+000229b0: 7065 7320 7769 6c6c 2062 6520 6361 6368  pes will be cach
+000229c0: 6564 2073 6570 6172 6174 656c 792e 2049  ed separately. I
+000229d0: 6620 7479 7065 6420 6973 2066 616c 7365  f typed is false
+000229e0: 2c20 7468 6520 696d 706c 656d 656e 7461  , the implementa
+000229f0: 7469 6f6e 2077 696c 6c20 7573 7561 6c6c  tion will usuall
+00022a00: 7920 7265 6761 7264 2074 6865 6d20 6173  y regard them as
+00022a10: 2065 7175 6976 616c 656e 7420 6361 6c6c   equivalent call
+00022a20: 7320 616e 6420 6f6e 6c79 2063 6163 6865  s and only cache
+00022a30: 2061 2073 696e 676c 6520 7265 7375 6c74   a single result
+00022a40: 2e20 2853 6f6d 6520 7479 7065 7320 7375  . (Some types su
+00022a50: 6368 2061 7320 7374 7220 616e 6420 696e  ch as str and in
+00022a60: 7420 6d61 7920 6265 2063 6163 6865 6420  t may be cached 
+00022a70: 7365 7061 7261 7465 6c79 2065 7665 6e20  separately even 
+00022a80: 7768 656e 2074 7970 6564 2069 7320 6661  when typed is fa
+00022a90: 6c73 652e 290d 0a0d 0a4e 6f74 652c 2074  lse.)....Note, t
+00022aa0: 7970 6520 7370 6563 6966 6963 6974 7920  ype specificity 
+00022ab0: 6170 706c 6965 7320 6f6e 6c79 2074 6f20  applies only to 
+00022ac0: 7468 6520 6675 6e63 7469 6f6e e280 9973  the function...s
+00022ad0: 2069 6d6d 6564 6961 7465 2061 7267 756d   immediate argum
+00022ae0: 656e 7473 2072 6174 6865 7220 7468 616e  ents rather than
+00022af0: 2074 6865 6972 2063 6f6e 7465 6e74 732e   their contents.
+00022b00: 2054 6865 2073 6361 6c61 7220 6172 6775   The scalar argu
+00022b10: 6d65 6e74 732c 2060 4465 6369 6d61 6c28  ments, `Decimal(
+00022b20: 3432 2960 2061 6e64 2060 4672 6163 7469  42)` and `Fracti
+00022b30: 6f6e 2834 3229 6020 6172 6520 6265 2074  on(42)` are be t
+00022b40: 7265 6174 6564 2061 7320 6469 7374 696e  reated as distin
+00022b50: 6374 2063 616c 6c73 2077 6974 6820 6469  ct calls with di
+00022b60: 7374 696e 6374 2072 6573 756c 7473 2e20  stinct results. 
+00022b70: 496e 2063 6f6e 7472 6173 742c 2074 6865  In contrast, the
+00022b80: 2074 7570 6c65 2061 7267 756d 656e 7473   tuple arguments
+00022b90: 2060 2827 616e 7377 6572 272c 2044 6563   `('answer', Dec
+00022ba0: 696d 616c 2834 3229 2960 2061 6e64 2060  imal(42))` and `
+00022bb0: 2827 616e 7377 6572 272c 2046 7261 6374  ('answer', Fract
+00022bc0: 696f 6e28 3432 2929 6020 6172 6520 7472  ion(42))` are tr
+00022bd0: 6561 7465 6420 6173 2065 7175 6976 616c  eated as equival
+00022be0: 656e 742e 0d0a 0d0a 5468 6520 6465 636f  ent.....The deco
+00022bf0: 7261 746f 7220 616c 736f 2070 726f 7669  rator also provi
+00022c00: 6465 7320 6120 6063 6163 6865 5f63 6c65  des a `cache_cle
+00022c10: 6172 2829 6020 6675 6e63 7469 6f6e 2066  ar()` function f
+00022c20: 6f72 2063 6c65 6172 696e 6720 6f72 2069  or clearing or i
+00022c30: 6e76 616c 6964 6174 696e 6720 7468 6520  nvalidating the 
+00022c40: 6361 6368 652e 0d0a 0d0a 5468 6520 6f72  cache.....The or
+00022c50: 6967 696e 616c 2075 6e64 6572 6c79 696e  iginal underlyin
+00022c60: 6720 6675 6e63 7469 6f6e 2069 7320 6163  g function is ac
+00022c70: 6365 7373 6962 6c65 2074 6872 6f75 6768  cessible through
+00022c80: 2074 6865 2060 5f5f 7772 6170 7065 645f   the `__wrapped_
+00022c90: 5f60 2061 7474 7269 6275 7465 2e20 5468  _` attribute. Th
+00022ca0: 6973 2069 7320 7573 6566 756c 2066 6f72  is is useful for
+00022cb0: 2069 6e74 726f 7370 6563 7469 6f6e 2c20   introspection, 
+00022cc0: 666f 7220 6279 7061 7373 696e 6720 7468  for bypassing th
+00022cd0: 6520 6361 6368 652c 206f 7220 666f 7220  e cache, or for 
+00022ce0: 7265 7772 6170 7069 6e67 2074 6865 2066  rewrapping the f
+00022cf0: 756e 6374 696f 6e20 7769 7468 2061 2064  unction with a d
+00022d00: 6966 6665 7265 6e74 2063 6163 6865 2e0d  ifferent cache..
+00022d10: 0a0d 0a54 6865 2063 6163 6865 206b 6565  ...The cache kee
+00022d20: 7073 2072 6566 6572 656e 6365 7320 746f  ps references to
+00022d30: 2074 6865 2061 7267 756d 656e 7473 2061   the arguments a
+00022d40: 6e64 2072 6574 7572 6e20 7661 6c75 6573  nd return values
+00022d50: 2075 6e74 696c 2074 6865 7920 6167 6520   until they age 
+00022d60: 6f75 7420 6f66 2074 6865 2063 6163 6865  out of the cache
+00022d70: 206f 7220 756e 7469 6c20 7468 6520 6361   or until the ca
+00022d80: 6368 6520 6973 2063 6c65 6172 6564 2e0d  che is cleared..
+00022d90: 0a0d 0a49 6620 6120 6d65 7468 6f64 2069  ...If a method i
+00022da0: 7320 6361 6368 6564 2c20 7468 6520 6073  s cached, the `s
+00022db0: 656c 6660 2069 6e73 7461 6e63 6520 6172  elf` instance ar
+00022dc0: 6775 6d65 6e74 2069 7320 696e 636c 7564  gument is includ
+00022dd0: 6564 2069 6e20 7468 6520 6361 6368 652e  ed in the cache.
+00022de0: 2053 6565 205b 486f 7720 646f 2049 2063   See [How do I c
+00022df0: 6163 6865 206d 6574 686f 6420 6361 6c6c  ache method call
+00022e00: 733f 5d28 6874 7470 733a 2f2f 646f 6373  s?](https://docs
+00022e10: 2e70 7974 686f 6e2e 6f72 672f 332f 6661  .python.org/3/fa
+00022e20: 712f 7072 6f67 7261 6d6d 696e 672e 6874  q/programming.ht
+00022e30: 6d6c 2366 6171 2d63 6163 6865 2d6d 6574  ml#faq-cache-met
+00022e40: 686f 642d 6361 6c6c 7329 0d0a 0d0a 416e  hod-calls)....An
+00022e50: 205b 4c52 5520 286c 6561 7374 2072 6563   [LRU (least rec
+00022e60: 656e 746c 7920 7573 6564 2920 6361 6368  ently used) cach
+00022e70: 655d 2868 7474 7073 3a2f 2f65 6e2e 7769  e](https://en.wi
+00022e80: 6b69 7065 6469 612e 6f72 672f 7769 6b69  kipedia.org/wiki
+00022e90: 2f43 6163 6865 5f72 6570 6c61 6365 6d65  /Cache_replaceme
+00022ea0: 6e74 5f70 6f6c 6963 6965 7323 4c65 6173  nt_policies#Leas
+00022eb0: 745f 7265 6365 6e74 6c79 5f75 7365 645f  t_recently_used_
+00022ec0: 284c 5255 2929 2077 6f72 6b73 2062 6573  (LRU)) works bes
+00022ed0: 7420 7768 656e 2074 6865 206d 6f73 7420  t when the most 
+00022ee0: 7265 6365 6e74 2063 616c 6c73 2061 7265  recent calls are
+00022ef0: 2074 6865 2062 6573 7420 7072 6564 6963   the best predic
+00022f00: 746f 7273 206f 6620 7570 636f 6d69 6e67  tors of upcoming
+00022f10: 2063 616c 6c73 2028 666f 7220 6578 616d   calls (for exam
+00022f20: 706c 652c 2074 6865 206d 6f73 7420 706f  ple, the most po
+00022f30: 7075 6c61 7220 6172 7469 636c 6573 206f  pular articles o
+00022f40: 6e20 6120 6e65 7773 2073 6572 7665 7220  n a news server 
+00022f50: 7465 6e64 2074 6f20 6368 616e 6765 2065  tend to change e
+00022f60: 6163 6820 6461 7929 2e20 5468 6520 6361  ach day). The ca
+00022f70: 6368 65e2 8099 7320 7369 7a65 206c 696d  che...s size lim
+00022f80: 6974 2061 7373 7572 6573 2074 6861 7420  it assures that 
+00022f90: 7468 6520 6361 6368 6520 646f 6573 206e  the cache does n
+00022fa0: 6f74 2067 726f 7720 7769 7468 6f75 7420  ot grow without 
+00022fb0: 626f 756e 6420 6f6e 206c 6f6e 672d 7275  bound on long-ru
+00022fc0: 6e6e 696e 6720 7072 6f63 6573 7365 7320  nning processes 
+00022fd0: 7375 6368 2061 7320 7765 6220 7365 7276  such as web serv
+00022fe0: 6572 732e 0d0a 0d0a 496e 2067 656e 6572  ers.....In gener
+00022ff0: 616c 2c20 7468 6520 4c52 5520 6361 6368  al, the LRU cach
+00023000: 6520 7368 6f75 6c64 206f 6e6c 7920 6265  e should only be
+00023010: 2075 7365 6420 7768 656e 2079 6f75 2077   used when you w
+00023020: 616e 7420 746f 2072 6575 7365 2070 7265  ant to reuse pre
+00023030: 7669 6f75 736c 7920 636f 6d70 7574 6564  viously computed
+00023040: 2076 616c 7565 732e 2041 6363 6f72 6469   values. Accordi
+00023050: 6e67 6c79 2c20 6974 2064 6f65 736e e280  ngly, it doesn..
+00023060: 9974 206d 616b 6520 7365 6e73 6520 746f  .t make sense to
+00023070: 2063 6163 6865 2066 756e 6374 696f 6e73   cache functions
+00023080: 2077 6974 6820 7369 6465 2d65 6666 6563   with side-effec
+00023090: 7473 2c20 6675 6e63 7469 6f6e 7320 7468  ts, functions th
+000230a0: 6174 206e 6565 6420 746f 2063 7265 6174  at need to creat
+000230b0: 6520 6469 7374 696e 6374 206d 7574 6162  e distinct mutab
+000230c0: 6c65 206f 626a 6563 7473 206f 6e20 6561  le objects on ea
+000230d0: 6368 2063 616c 6c2c 206f 7220 696d 7075  ch call, or impu
+000230e0: 7265 2066 756e 6374 696f 6e73 2073 7563  re functions suc
+000230f0: 6820 6173 2074 696d 6528 2920 6f72 2072  h as time() or r
+00023100: 616e 646f 6d28 292e 0d0a 0d0a 4578 616d  andom().....Exam
+00023110: 706c 6520 6f66 2065 6666 6963 6965 6e74  ple of efficient
+00023120: 6c79 2063 6f6d 7075 7469 6e67 2046 6962  ly computing Fib
+00023130: 6f6e 6163 6369 206e 756d 6265 7273 2075  onacci numbers u
+00023140: 7369 6e67 2061 2063 6163 6865 2074 6f20  sing a cache to 
+00023150: 696d 706c 656d 656e 7420 6120 6479 6e61  implement a dyna
+00023160: 6d69 6320 7072 6f67 7261 6d6d 696e 6720  mic programming 
+00023170: 7465 6368 6e69 7175 653a 0d0a 6060 6063  technique:..```c
+00023180: 6f63 6f6e 7574 5f70 7963 6f6e 0d0a 406d  oconut_pycon..@m
+00023190: 656d 6f69 7a65 0d0a 6465 6620 6669 6228  emoize..def fib(
+000231a0: 6e29 3a0d 0a20 2020 2069 6620 6e20 3c20  n):..    if n < 
+000231b0: 323a 0d0a 2020 2020 2020 2020 7265 7475  2:..        retu
+000231c0: 726e 206e 0d0a 2020 2020 7265 7475 726e  rn n..    return
+000231d0: 2066 6962 286e 2d31 2920 2b20 6669 6228   fib(n-1) + fib(
+000231e0: 6e2d 3229 0d0a 0d0a 3e3e 3e20 5b66 6962  n-2)....>>> [fib
+000231f0: 286e 2920 666f 7220 6e20 696e 2072 616e  (n) for n in ran
+00023200: 6765 2831 3629 5d0d 0a5b 302c 2031 2c20  ge(16)]..[0, 1, 
+00023210: 312c 2032 2c20 332c 2035 2c20 382c 2031  1, 2, 3, 5, 8, 1
+00023220: 332c 2032 312c 2033 342c 2035 352c 2038  3, 21, 34, 55, 8
+00023230: 392c 2031 3434 2c20 3233 332c 2033 3737  9, 144, 233, 377
+00023240: 2c20 3631 305d 0d0a 0d0a 3e3e 3e20 6669  , 610]....>>> fi
+00023250: 622e 6361 6368 655f 696e 666f 2829 0d0a  b.cache_info()..
+00023260: 4361 6368 6549 6e66 6f28 6869 7473 3d32  CacheInfo(hits=2
+00023270: 382c 206d 6973 7365 733d 3136 2c20 6d61  8, misses=16, ma
+00023280: 7873 697a 653d 4e6f 6e65 2c20 6375 7272  xsize=None, curr
+00023290: 7369 7a65 3d31 3629 0d0a 6060 600d 0a0d  size=16)..```...
+000232a0: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+000232b0: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+000232c0: 6060 6063 6f63 6f6e 7574 0d0a 6465 6620  ```coconut..def 
+000232d0: 6669 6228 6e20 6966 206e 203c 2032 2920  fib(n if n < 2) 
+000232e0: 3d20 6e0d 0a0d 0a40 6d65 6d6f 697a 650d  = n....@memoize.
+000232f0: 0a40 6164 6470 6174 7465 726e 2866 6962  .@addpattern(fib
+00023300: 290d 0a64 6566 2066 6962 286e 2920 3d20  )..def fib(n) = 
+00023310: 6669 6228 6e2d 3129 202b 2066 6962 286e  fib(n-1) + fib(n
+00023320: 2d32 290d 0a60 6060 0d0a 0d0a 2a2a 5079  -2)..```....**Py
+00023330: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+00023340: 6e75 745f 7079 7468 6f6e 0d0a 7472 793a  nut_python..try:
+00023350: 0d0a 2020 2020 6672 6f6d 2066 756e 6374  ..    from funct
+00023360: 6f6f 6c73 2069 6d70 6f72 7420 6c72 755f  ools import lru_
+00023370: 6361 6368 650d 0a65 7863 6570 7420 496d  cache..except Im
+00023380: 706f 7274 4572 726f 723a 0d0a 2020 2020  portError:..    
+00023390: 6672 6f6d 2062 6163 6b70 6f72 7473 2e66  from backports.f
+000233a0: 756e 6374 6f6f 6c73 5f6c 7275 5f63 6163  unctools_lru_cac
+000233b0: 6865 2069 6d70 6f72 7420 6c72 755f 6361  he import lru_ca
+000233c0: 6368 650d 0a40 6c72 755f 6361 6368 6528  che..@lru_cache(
+000233d0: 6d61 7873 697a 653d 4e6f 6e65 290d 0a64  maxsize=None)..d
+000233e0: 6566 2066 6962 286e 293a 0d0a 2020 2020  ef fib(n):..    
+000233f0: 6966 206e 203c 2032 3a0d 0a20 2020 2020  if n < 2:..     
+00023400: 2020 2072 6574 7572 6e20 6e0d 0a20 2020     return n..   
+00023410: 2072 6574 7572 6e20 6669 6228 6e2d 3129   return fib(n-1)
+00023420: 202b 2066 6962 286e 2d32 290d 0a60 6060   + fib(n-2)..```
+00023430: 0d0a 0d0a 2323 2323 2060 6f76 6572 7269  ....#### `overri
+00023440: 6465 600d 0a0d 0a2a 2a6f 7665 7272 6964  de`....**overrid
+00023450: 652a 2a28 5f66 756e 635f 290d 0a0d 0a43  e**(_func_)....C
+00023460: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+00023470: 7468 6520 6040 6f76 6572 7269 6465 6020  the `@override` 
+00023480: 6465 636f 7261 746f 7220 746f 2061 6c6c  decorator to all
+00023490: 6f77 2064 6563 6c61 7269 6e67 2061 206d  ow declaring a m
+000234a0: 6574 686f 6420 6465 6669 6e69 7469 6f6e  ethod definition
+000234b0: 2069 6e20 6120 7375 6263 6c61 7373 2061   in a subclass a
+000234c0: 7320 616e 206f 7665 7272 6964 6520 6f66  s an override of
+000234d0: 2073 6f6d 6520 7061 7265 6e74 2063 6c61   some parent cla
+000234e0: 7373 206d 6574 686f 642e 2057 6865 6e20  ss method. When 
+000234f0: 6040 6f76 6572 7269 6465 6020 6973 2075  `@override` is u
+00023500: 7365 6420 6f6e 2061 206d 6574 686f 642c  sed on a method,
+00023510: 2069 6620 6120 6d65 7468 6f64 206f 6620   if a method of 
+00023520: 7468 6520 7361 6d65 206e 616d 6520 646f  the same name do
+00023530: 6573 206e 6f74 2065 7869 7374 206f 6e20  es not exist on 
+00023540: 736f 6d65 2070 6172 656e 7420 636c 6173  some parent clas
+00023550: 732c 2074 6865 2063 6c61 7373 2064 6566  s, the class def
+00023560: 696e 6974 696f 6e20 7769 6c6c 2072 6169  inition will rai
+00023570: 7365 2061 2060 5275 6e74 696d 6545 7272  se a `RuntimeErr
+00023580: 6f72 602e 0d0a 0d0a 4164 6469 7469 6f6e  or`.....Addition
+00023590: 616c 6c79 2c20 606f 7665 7272 6964 6560  ally, `override`
+000235a0: 2077 696c 6c20 7072 6573 656e 7420 746f   will present to
+000235b0: 2074 7970 6520 6368 6563 6b65 7273 2061   type checkers a
+000235c0: 7320 5b60 7479 7069 6e67 5f65 7874 656e  s [`typing_exten
+000235d0: 7369 6f6e 732e 6f76 6572 7269 6465 605d  sions.override`]
+000235e0: 2868 7474 7073 3a2f 2f70 7970 692e 6f72  (https://pypi.or
+000235f0: 672f 7072 6f6a 6563 742f 7479 7069 6e67  g/project/typing
+00023600: 2d65 7874 656e 7369 6f6e 732f 292e 0d0a  -extensions/)...
+00023610: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+00023620: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+00023630: 0a60 6060 636f 636f 6e75 740d 0a63 6c61  .```coconut..cla
+00023640: 7373 2041 3a0d 0a20 2020 2078 203d 2031  ss A:..    x = 1
+00023650: 0d0a 2020 2020 6465 6620 6628 7365 6c66  ..    def f(self
+00023660: 2c20 7929 203d 2073 656c 662e 7820 2b20  , y) = self.x + 
+00023670: 790d 0a0d 0a63 6c61 7373 2042 3a0d 0a20  y....class B:.. 
+00023680: 2020 2040 6f76 6572 7269 6465 0d0a 2020     @override..  
+00023690: 2020 6465 6620 6628 7365 6c66 2c20 7929    def f(self, y)
+000236a0: 203d 2073 656c 662e 7820 2b20 7920 2b20   = self.x + y + 
+000236b0: 310d 0a60 6060 0d0a 0d0a 2a2a 5079 7468  1..```....**Pyth
+000236c0: 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420 6265  on:**.._Can't be
+000236d0: 2064 6f6e 6520 7769 7468 6f75 7420 6120   done without a 
+000236e0: 6c6f 6e67 2064 6563 6f72 6174 6f72 2064  long decorator d
+000236f0: 6566 696e 6974 696f 6e2e 2054 6865 2066  efinition. The f
+00023700: 756c 6c20 6465 6669 6e69 7469 6f6e 206f  ull definition o
+00023710: 6620 7468 6520 6465 636f 7261 746f 7220  f the decorator 
+00023720: 696e 2050 7974 686f 6e20 6361 6e20 6265  in Python can be
+00023730: 2066 6f75 6e64 2069 6e20 7468 6520 436f   found in the Co
+00023740: 636f 6e75 7420 6865 6164 6572 2e5f 0d0a  conut header._..
+00023750: 0d0a 2323 2323 2060 7265 6375 7273 6976  ..#### `recursiv
+00023760: 655f 6974 6572 6174 6f72 600d 0a0d 0a2a  e_iterator`....*
+00023770: 2a72 6563 7572 7369 7665 5c5f 6974 6572  *recursive\_iter
+00023780: 6174 6f72 2a2a 285f 6675 6e63 5f29 0d0a  ator**(_func_)..
+00023790: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+000237a0: 6573 2061 2060 7265 6375 7273 6976 655f  es a `recursive_
+000237b0: 6974 6572 6174 6f72 6020 6465 636f 7261  iterator` decora
+000237c0: 746f 7220 7468 6174 206d 656d 6f69 7a65  tor that memoize
+000237d0: 7320 616e 7920 7374 6174 656c 6573 732c  s any stateless,
+000237e0: 2072 6563 7572 7369 7665 2066 756e 6374   recursive funct
+000237f0: 696f 6e20 7468 6174 2072 6574 7572 6e73  ion that returns
+00023800: 2061 6e20 6974 6572 6174 6f72 2e20 546f   an iterator. To
+00023810: 2075 7365 2060 7265 6375 7273 6976 655f   use `recursive_
+00023820: 6974 6572 6174 6f72 6020 6f6e 2061 2066  iterator` on a f
+00023830: 756e 6374 696f 6e2c 2069 7420 6d75 7374  unction, it must
+00023840: 206d 6565 7420 7468 6520 666f 6c6c 6f77   meet the follow
+00023850: 696e 6720 6372 6974 6572 6961 3a0d 0a0d  ing criteria:...
+00023860: 0a31 2e20 796f 7572 2066 756e 6374 696f  .1. your functio
+00023870: 6e20 6569 7468 6572 2061 6c77 6179 7320  n either always 
+00023880: 6072 6574 7572 6e60 7320 616e 2069 7465  `return`s an ite
+00023890: 7261 746f 7220 6f72 2067 656e 6572 6174  rator or generat
+000238a0: 6573 2061 6e20 6974 6572 6174 6f72 2075  es an iterator u
+000238b0: 7369 6e67 2060 7969 656c 6460 2c0d 0a32  sing `yield`,..2
+000238c0: 2e20 7768 656e 2063 616c 6c65 6420 6d75  . when called mu
+000238d0: 6c74 6970 6c65 2074 696d 6573 2077 6974  ltiple times wit
+000238e0: 6820 6172 6775 6d65 6e74 7320 7468 6174  h arguments that
+000238f0: 2061 7265 2065 7175 616c 2c20 796f 7572   are equal, your
+00023900: 2066 756e 6374 696f 6e20 7072 6f64 7563   function produc
+00023910: 6573 2074 6865 2073 616d 6520 6974 6572  es the same iter
+00023920: 6174 6f72 2028 796f 7572 2066 756e 6374  ator (your funct
+00023930: 696f 6e20 6973 2073 7461 7465 6c65 7373  ion is stateless
+00023940: 292c 2061 6e64 0d0a 332e 2079 6f75 7220  ), and..3. your 
+00023950: 6675 6e63 7469 6f6e 2067 6574 7320 6361  function gets ca
+00023960: 6c6c 6564 2028 7573 7561 6c6c 7920 6361  lled (usually ca
+00023970: 6c6c 7320 6974 7365 6c66 2920 6d75 6c74  lls itself) mult
+00023980: 6970 6c65 2074 696d 6573 2077 6974 6820  iple times with 
+00023990: 7468 6520 7361 6d65 2061 7267 756d 656e  the same argumen
+000239a0: 7473 2e0d 0a0d 0a49 6620 796f 7520 6172  ts.....If you ar
+000239b0: 6520 656e 636f 756e 7465 7269 6e67 2061  e encountering a
+000239c0: 2060 5275 6e74 696d 6545 7272 6f72 6020   `RuntimeError` 
+000239d0: 6475 6520 746f 206d 6178 696d 756d 2072  due to maximum r
+000239e0: 6563 7572 7369 6f6e 2064 6570 7468 2c20  ecursion depth, 
+000239f0: 6974 2069 7320 6869 6768 6c79 2072 6563  it is highly rec
+00023a00: 6f6d 6d65 6e64 6564 2074 6861 7420 796f  ommended that yo
+00023a10: 7520 7265 7772 6974 6520 796f 7572 2066  u rewrite your f
+00023a20: 756e 6374 696f 6e20 746f 206d 6565 7420  unction to meet 
+00023a30: 6569 7468 6572 2074 6865 2063 7269 7465  either the crite
+00023a40: 7269 6120 6162 6f76 6520 666f 7220 6072  ria above for `r
+00023a50: 6563 7572 7369 7665 5f69 7465 7261 746f  ecursive_iterato
+00023a60: 7260 2c20 6f72 2074 6865 2063 6f72 7265  r`, or the corre
+00023a70: 7370 6f6e 6469 6e67 2063 7269 7465 7269  sponding criteri
+00023a80: 6120 666f 7220 436f 636f 6e75 7427 7320  a for Coconut's 
+00023a90: 5b74 6169 6c20 6361 6c6c 206f 7074 696d  [tail call optim
+00023aa0: 697a 6174 696f 6e5d 2823 7461 696c 2d63  ization](#tail-c
+00023ab0: 616c 6c2d 6f70 7469 6d69 7a61 7469 6f6e  all-optimization
+00023ac0: 292c 2065 6974 6865 7220 6f66 2077 6869  ), either of whi
+00023ad0: 6368 2073 686f 756c 6420 7072 6576 656e  ch should preven
+00023ae0: 7420 7375 6368 2065 7272 6f72 732e 0d0a  t such errors...
+00023af0: 0d0a 4675 7274 6865 726d 6f72 652c 2060  ..Furthermore, `
+00023b00: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
+00023b10: 6f72 6020 616c 736f 2061 6c6c 6f77 7320  or` also allows 
+00023b20: 7468 6520 7265 736f 6c75 7469 6f6e 206f  the resolution o
+00023b30: 6620 6120 5b6e 6173 7479 2073 6567 6d65  f a [nasty segme
+00023b40: 6e74 6174 696f 6e20 6661 756c 7420 696e  ntation fault in
+00023b50: 2050 7974 686f 6e27 7320 6974 6572 6174   Python's iterat
+00023b60: 6f72 206c 6f67 6963 2074 6861 7420 6861  or logic that ha
+00023b70: 7320 6e65 7665 7220 6265 656e 2066 6978  s never been fix
+00023b80: 6564 5d28 6874 7470 3a2f 2f62 7567 732e  ed](http://bugs.
+00023b90: 7079 7468 6f6e 2e6f 7267 2f69 7373 7565  python.org/issue
+00023ba0: 3134 3031 3029 2e20 5370 6563 6966 6963  14010). Specific
+00023bb0: 616c 6c79 2c20 696e 7374 6561 6420 6f66  ally, instead of
+00023bc0: 2077 7269 7469 6e67 0d0a 6060 6063 6f63   writing..```coc
+00023bd0: 6f6e 7574 0d0a 7365 7120 3d20 6765 745f  onut..seq = get_
+00023be0: 656c 656d 2829 203a 3a20 7365 710d 0a60  elem() :: seq..`
+00023bf0: 6060 0d0a 7768 6963 6820 7769 6c6c 2063  ``..which will c
+00023c00: 7261 7368 2064 7565 2074 6f20 7468 6520  rash due to the 
+00023c10: 6166 6f72 656d 656e 7469 6f6e 6564 2050  aforementioned P
+00023c20: 7974 686f 6e20 6973 7375 652c 2077 7269  ython issue, wri
+00023c30: 7465 0d0a 6060 6063 6f63 6f6e 7574 0d0a  te..```coconut..
+00023c40: 4072 6563 7572 7369 7665 5f69 7465 7261  @recursive_itera
+00023c50: 746f 720d 0a64 6566 2073 6571 2829 203d  tor..def seq() =
+00023c60: 2067 6574 5f65 6c65 6d28 2920 3a3a 2073   get_elem() :: s
+00023c70: 6571 2829 0d0a 6060 600d 0a77 6869 6368  eq()..```..which
+00023c80: 2077 696c 6c20 776f 726b 206a 7573 7420   will work just 
+00023c90: 6669 6e65 2e0d 0a0d 0a4f 6e65 2070 6974  fine.....One pit
+00023ca0: 6661 6c6c 2074 6f20 6b65 6570 2069 6e20  fall to keep in 
+00023cb0: 6d69 6e64 2077 6f72 6b69 6e67 2077 6974  mind working wit
+00023cc0: 6820 6072 6563 7572 7369 7665 5f69 7465  h `recursive_ite
+00023cd0: 7261 746f 7260 2069 7320 7468 6174 2069  rator` is that i
+00023ce0: 7420 7368 6f75 6c64 6e27 7420 6265 2075  t shouldn't be u
+00023cf0: 7365 6420 696e 2063 6f6e 7465 7874 7320  sed in contexts 
+00023d00: 7768 6572 6520 7468 6520 6675 6e63 7469  where the functi
+00023d10: 6f6e 2063 616e 2070 6f74 656e 7469 616c  on can potential
+00023d20: 6c79 2062 6520 6361 6c6c 6564 206d 756c  ly be called mul
+00023d30: 7469 706c 6520 7469 6d65 7320 7769 7468  tiple times with
+00023d40: 2074 6865 2073 616d 6520 6974 6572 6174   the same iterat
+00023d50: 6f72 206f 626a 6563 7420 6173 2061 6e20  or object as an 
+00023d60: 696e 7075 742c 2062 7574 2077 6974 6820  input, but with 
+00023d70: 7468 6174 206f 626a 6563 7420 6e6f 7420  that object not 
+00023d80: 6163 7475 616c 6c79 2063 6f72 7265 7370  actually corresp
+00023d90: 6f6e 6469 6e67 2074 6f20 7468 6520 7361  onding to the sa
+00023da0: 6d65 2069 7465 6d73 2028 652e 672e 2062  me items (e.g. b
+00023db0: 6563 6175 7365 2074 6865 2066 6972 7374  ecause the first
+00023dc0: 2074 696d 6520 7468 6520 6f62 6a65 6374   time the object
+00023dd0: 2068 6173 6e27 7420 6265 656e 2069 7465   hasn't been ite
+00023de0: 7261 7465 6420 6f76 6572 2079 6574 2061  rated over yet a
+00023df0: 6e64 2074 6865 2073 6563 6f6e 6420 7469  nd the second ti
+00023e00: 6d65 2069 7420 6861 7320 6265 656e 292e  me it has been).
+00023e10: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00023e20: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00023e30: 2a0d 0a60 6060 636f 636f 6e75 740d 0a40  *..```coconut..@
+00023e40: 7265 6375 7273 6976 655f 6974 6572 6174  recursive_iterat
+00023e50: 6f72 0d0a 6465 6620 6669 6228 2920 3d20  or..def fib() = 
+00023e60: 2831 2c20 3129 203a 3a20 6d61 7028 282b  (1, 1) :: map((+
+00023e70: 292c 2066 6962 2829 2c20 6669 6228 2924  ), fib(), fib()$
+00023e80: 5b31 3a5d 290d 0a60 6060 0d0a 0d0a 2a2a  [1:])..```....**
+00023e90: 5079 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27  Python:**.._Can'
+00023ea0: 7420 6265 2064 6f6e 6520 7769 7468 6f75  t be done withou
+00023eb0: 7420 6120 6c6f 6e67 2064 6563 6f72 6174  t a long decorat
+00023ec0: 6f72 2064 6566 696e 6974 696f 6e2e 2054  or definition. T
+00023ed0: 6865 2066 756c 6c20 6465 6669 6e69 7469  he full definiti
+00023ee0: 6f6e 206f 6620 7468 6520 6465 636f 7261  on of the decora
+00023ef0: 746f 7220 696e 2050 7974 686f 6e20 6361  tor in Python ca
+00023f00: 6e20 6265 2066 6f75 6e64 2069 6e20 7468  n be found in th
+00023f10: 6520 436f 636f 6e75 7420 6865 6164 6572  e Coconut header
+00023f20: 2e5f 0d0a 0d0a 2323 2320 4275 696c 742d  ._....### Built-
+00023f30: 496e 2054 7970 6573 0d0a 0d0a 6060 607b  In Types....```{
+00023f40: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
+00023f50: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2031  local:..depth: 1
+00023f60: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
+00023f70: 2323 2060 6d75 6c74 6973 6574 600d 0a0d  ## `multiset`...
+00023f80: 0a2a 2a6d 756c 7469 7365 742a 2a28 5f69  .**multiset**(_i
+00023f90: 7465 7261 626c 655f 3d60 4e6f 6e65 602c  terable_=`None`,
+00023fa0: 202f 2c20 2a2a 6b77 6473 290d 0a0d 0a43   /, **kwds)....C
+00023fb0: 6f63 6f6e 7574 2070 726f 7669 6465 7320  oconut provides 
+00023fc0: 606d 756c 7469 7365 7460 2061 7320 6120  `multiset` as a 
+00023fd0: 6275 696c 742d 696e 2073 7562 636c 6173  built-in subclas
+00023fe0: 7320 6f66 205b 6063 6f6c 6c65 6374 696f  s of [`collectio
+00023ff0: 6e73 2e43 6f75 6e74 6572 605d 2868 7474  ns.Counter`](htt
+00024000: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00024010: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f63  .org/3/library/c
+00024020: 6f6c 6c65 6374 696f 6e73 2e68 746d 6c23  ollections.html#
+00024030: 636f 6c6c 6563 7469 6f6e 732e 436f 756e  collections.Coun
+00024040: 7465 7229 2074 6861 7420 6164 6469 7469  ter) that additi
+00024050: 6f6e 616c 6c79 2069 6d70 6c65 6d65 6e74  onally implement
+00024060: 7320 7468 6520 6675 6c6c 205b 5365 7420  s the full [Set 
+00024070: 616e 6420 4d75 7461 626c 6553 6574 2069  and MutableSet i
+00024080: 6e74 6572 6661 6365 735d 2868 7474 7073  nterfaces](https
+00024090: 3a2f 2f64 6f63 732e 7079 7468 6f6e 2e6f  ://docs.python.o
+000240a0: 7267 2f33 2f6c 6962 7261 7279 2f63 6f6c  rg/3/library/col
+000240b0: 6c65 6374 696f 6e73 2e61 6263 2e68 746d  lections.abc.htm
+000240c0: 6c29 2e0d 0a0d 0a46 6f72 2065 6173 696c  l).....For easil
+000240d0: 7920 636f 6e73 7472 7563 7469 6e67 206d  y constructing m
+000240e0: 756c 7469 7365 7473 2c20 436f 636f 6e75  ultisets, Coconu
+000240f0: 7420 616c 736f 2070 726f 7669 6465 7320  t also provides 
+00024100: 5b6d 756c 7469 7365 7420 6c69 7465 7261  [multiset litera
+00024110: 6c73 5d28 2373 6574 2d6c 6974 6572 616c  ls](#set-literal
+00024120: 7329 2e0d 0a0d 0a54 6865 206e 6577 206d  s).....The new m
+00024130: 6574 686f 6473 2070 726f 7669 6465 6420  ethods provided 
+00024140: 6279 2060 6d75 6c74 6973 6574 6020 6f6e  by `multiset` on
+00024150: 2074 6f70 206f 6620 6063 6f6c 6c65 6374   top of `collect
+00024160: 696f 6e73 2e43 6f75 6e74 6572 6020 6172  ions.Counter` ar
+00024170: 653a 0d0a 2d20 6d75 6c74 6973 6574 2e2a  e:..- multiset.*
+00024180: 2a61 6464 2a2a 285f 6974 656d 5f29 3a20  *add**(_item_): 
+00024190: 4164 6420 616e 2065 6c65 6d65 6e74 2074  Add an element t
+000241a0: 6f20 6120 6d75 6c74 6973 6574 2e0d 0a2d  o a multiset...-
+000241b0: 206d 756c 7469 7365 742e 2a2a 6469 7363   multiset.**disc
+000241c0: 6172 642a 2a28 5f69 7465 6d5f 293a 2052  ard**(_item_): R
+000241d0: 656d 6f76 6520 616e 2065 6c65 6d65 6e74  emove an element
+000241e0: 2066 726f 6d20 6120 6d75 6c74 6973 6574   from a multiset
+000241f0: 2069 6620 6974 2069 7320 6120 6d65 6d62   if it is a memb
+00024200: 6572 2e0d 0a2d 206d 756c 7469 7365 742e  er...- multiset.
+00024210: 2a2a 7265 6d6f 7665 2a2a 285f 6974 656d  **remove**(_item
+00024220: 5f29 3a20 5265 6d6f 7665 2061 6e20 656c  _): Remove an el
+00024230: 656d 656e 7420 6672 6f6d 2061 206d 756c  ement from a mul
+00024240: 7469 7365 743b 2069 7420 6d75 7374 2062  tiset; it must b
+00024250: 6520 6120 6d65 6d62 6572 2e0d 0a2d 206d  e a member...- m
+00024260: 756c 7469 7365 742e 2a2a 6973 6469 736a  ultiset.**isdisj
+00024270: 6f69 6e74 2a2a 285f 6f74 6865 725f 293a  oint**(_other_):
+00024280: 2052 6574 7572 6e20 5472 7565 2069 6620   Return True if 
+00024290: 7477 6f20 6d75 6c74 6973 6574 7320 6861  two multisets ha
+000242a0: 7665 2061 206e 756c 6c20 696e 7465 7273  ve a null inters
+000242b0: 6563 7469 6f6e 2e0d 0a2d 206d 756c 7469  ection...- multi
+000242c0: 7365 742e 2a2a 5c5f 5c5f 786f 725c 5f5c  set.**\_\_xor\_\
+000242d0: 5f2a 2a28 5f6f 7468 6572 5f29 3a20 5265  _**(_other_): Re
+000242e0: 7475 726e 2074 6865 2073 796d 6d65 7472  turn the symmetr
+000242f0: 6963 2064 6966 6665 7265 6e63 6520 6f66  ic difference of
+00024300: 2074 776f 206d 756c 7469 7365 7473 2061   two multisets a
+00024310: 7320 6120 6e65 7720 6d75 6c74 6973 6574  s a new multiset
+00024320: 2e20 5370 6563 6966 6963 616c 6c79 3a20  . Specifically: 
+00024330: 6061 205e 2062 203d 2028 6120 2d20 6229  `a ^ b = (a - b)
+00024340: 207c 2028 6220 2d20 6129 600d 0a2d 206d   | (b - a)`..- m
+00024350: 756c 7469 7365 742e 2a2a 636f 756e 742a  ultiset.**count*
+00024360: 2a28 5f69 7465 6d5f 293a 2052 6574 7572  *(_item_): Retur
+00024370: 6e20 7468 6520 6e75 6d62 6572 206f 6620  n the number of 
+00024380: 7469 6d65 7320 616e 2065 6c65 6d65 6e74  times an element
+00024390: 206f 6363 7572 7320 696e 2061 206d 756c   occurs in a mul
+000243a0: 7469 7365 742e 2045 7175 6976 616c 656e  tiset. Equivalen
+000243b0: 7420 746f 2060 6d75 6c74 6973 6574 5b69  t to `multiset[i
+000243c0: 7465 6d5d 602c 2062 7574 2061 6464 6974  tem]`, but addit
+000243d0: 696f 6e61 6c6c 7920 7665 7269 6669 6573  ionally verifies
+000243e0: 2074 6865 2063 6f75 6e74 2069 7320 6e6f   the count is no
+000243f0: 6e2d 6e65 6761 7469 7665 2e0d 0a2d 206d  n-negative...- m
+00024400: 756c 7469 7365 742e 2a2a 5c5f 5c5f 666d  ultiset.**\_\_fm
+00024410: 6170 5c5f 5c5f 2a2a 285f 6675 6e63 5f29  ap\_\_**(_func_)
+00024420: 3a20 4170 706c 7920 6120 6675 6e63 7469  : Apply a functi
+00024430: 6f6e 2074 6f20 7468 6520 636f 6e74 656e  on to the conten
+00024440: 7473 206f 6620 7468 6520 6d75 6c74 6973  ts of the multis
+00024450: 6574 2c20 7072 6573 6572 7669 6e67 2063  et, preserving c
+00024460: 6f75 6e74 733b 206d 6167 6963 206d 6574  ounts; magic met
+00024470: 686f 6420 666f 7220 5b60 666d 6170 605d  hod for [`fmap`]
+00024480: 2823 666d 6170 292e 0d0a 0d0a 436f 636f  (#fmap).....Coco
+00024490: 6e75 7420 616c 736f 2065 6e73 7572 6573  nut also ensures
+000244a0: 2074 6861 7420 606d 756c 7469 7365 7460   that `multiset`
+000244b0: 2073 7570 706f 7274 7320 5b72 6963 6820   supports [rich 
+000244c0: 636f 6d70 6172 6973 6f6e 7320 616e 6420  comparisons and 
+000244d0: 6043 6f75 6e74 6572 2e74 6f74 616c 2829  `Counter.total()
+000244e0: 605d 2868 7474 7073 3a2f 2f64 6f63 732e  `](https://docs.
+000244f0: 7079 7468 6f6e 2e6f 7267 2f33 2f6c 6962  python.org/3/lib
+00024500: 7261 7279 2f63 6f6c 6c65 6374 696f 6e73  rary/collections
+00024510: 2e68 746d 6c23 636f 6c6c 6563 7469 6f6e  .html#collection
+00024520: 732e 436f 756e 7465 7229 206f 6e20 616c  s.Counter) on al
+00024530: 6c20 5079 7468 6f6e 2076 6572 7369 6f6e  l Python version
+00024540: 732e 0d0a 0d0a 2323 2323 2320 4578 616d  s.....##### Exam
+00024550: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+00024560: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+00024570: 0a6d 795f 6d75 6c74 6973 6574 203d 206d  .my_multiset = m
+00024580: 7b31 2c20 312c 2032 7d0d 0a6d 795f 6d75  {1, 1, 2}..my_mu
+00024590: 6c74 6973 6574 2e61 6464 2833 290d 0a6d  ltiset.add(3)..m
+000245a0: 795f 6d75 6c74 6973 6574 2e72 656d 6f76  y_multiset.remov
+000245b0: 6528 3229 0d0a 7072 696e 7428 6d79 5f6d  e(2)..print(my_m
+000245c0: 756c 7469 7365 7429 0d0a 6060 600d 0a0d  ultiset)..```...
+000245d0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+000245e0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+000245f0: 0a66 726f 6d20 636f 6c6c 6563 7469 6f6e  .from collection
+00024600: 7320 696d 706f 7274 2043 6f75 6e74 6572  s import Counter
+00024610: 0d0a 6d79 5f63 6f75 6e74 6572 203d 2043  ..my_counter = C
+00024620: 6f75 6e74 6572 2828 312c 2031 2c20 3229  ounter((1, 1, 2)
+00024630: 290d 0a6d 795f 636f 756e 7465 725b 335d  )..my_counter[3]
+00024640: 202b 3d20 310d 0a6d 795f 636f 756e 7465   += 1..my_counte
+00024650: 725b 325d 202d 3d20 310d 0a69 6620 6d79  r[2] -= 1..if my
+00024660: 5f63 6f75 6e74 6572 5b32 5d20 3c3d 2030  _counter[2] <= 0
+00024670: 3a0d 0a20 2020 2064 656c 206d 795f 636f  :..    del my_co
+00024680: 756e 7465 725b 325d 0d0a 7072 696e 7428  unter[2]..print(
+00024690: 6d79 5f63 6f75 6e74 6572 290d 0a60 6060  my_counter)..```
+000246a0: 0d0a 0d0a 2323 2323 2060 4578 7065 6374  ....#### `Expect
+000246b0: 6564 600d 0a0d 0a2a 2a45 7870 6563 7465  ed`....**Expecte
+000246c0: 642a 2a28 5f72 6573 756c 745f 3d60 4e6f  d**(_result_=`No
+000246d0: 6e65 602c 205f 6572 726f 725f 3d60 4e6f  ne`, _error_=`No
+000246e0: 6e65 6029 0d0a 0d0a 436f 636f 6e75 7427  ne`)....Coconut'
+000246f0: 7320 6045 7870 6563 7465 6460 2062 7569  s `Expected` bui
+00024700: 6c74 2d69 6e20 6973 2061 2043 6f63 6f6e  lt-in is a Cocon
+00024710: 7574 205b 6064 6174 6160 2074 7970 655d  ut [`data` type]
+00024720: 2823 6461 7461 2920 7468 6174 2072 6570  (#data) that rep
+00024730: 7265 7365 6e74 7320 6120 7661 6c75 6520  resents a value 
+00024740: 7468 6174 206d 6179 206f 7220 6d61 7920  that may or may 
+00024750: 6e6f 7420 6265 2061 6e20 6572 726f 722c  not be an error,
+00024760: 2073 696d 696c 6172 2074 6f20 4861 736b   similar to Hask
+00024770: 656c 6c27 7320 5b60 4569 7468 6572 605d  ell's [`Either`]
+00024780: 2868 7474 7073 3a2f 2f68 6163 6b61 6765  (https://hackage
+00024790: 2e68 6173 6b65 6c6c 2e6f 7267 2f70 6163  .haskell.org/pac
+000247a0: 6b61 6765 2f62 6173 652d 342e 3137 2e30  kage/base-4.17.0
+000247b0: 2e30 2f64 6f63 732f 4461 7461 2d45 6974  .0/docs/Data-Eit
+000247c0: 6865 722e 6874 6d6c 292e 0d0a 0d0a 6045  her.html).....`E
+000247d0: 7870 6563 7465 6460 2069 7320 6566 6665  xpected` is effe
+000247e0: 6374 6976 656c 7920 6571 7569 7661 6c65  ctively equivale
+000247f0: 6e74 2074 6f20 7468 6520 666f 6c6c 6f77  nt to the follow
+00024800: 696e 673a 0d0a 6060 6063 6f63 6f6e 7574  ing:..```coconut
+00024810: 0d0a 6461 7461 2045 7870 6563 7465 645b  ..data Expected[
+00024820: 545d 2872 6573 756c 743a 2054 3f20 3d20  T](result: T? = 
+00024830: 4e6f 6e65 2c20 6572 726f 723a 2042 6173  None, error: Bas
+00024840: 6545 7863 6570 7469 6f6e 3f20 3d20 4e6f  eException? = No
+00024850: 6e65 293a 0d0a 2020 2020 6465 6620 5f5f  ne):..    def __
+00024860: 626f 6f6c 5f5f 2873 656c 6629 202d 3e20  bool__(self) -> 
+00024870: 626f 6f6c 3a0d 0a20 2020 2020 2020 2072  bool:..        r
+00024880: 6574 7572 6e20 7365 6c66 2e65 7272 6f72  eturn self.error
+00024890: 2069 7320 4e6f 6e65 0d0a 2020 2020 6465   is None..    de
+000248a0: 6620 5f5f 666d 6170 5f5f 5b55 5d28 7365  f __fmap__[U](se
+000248b0: 6c66 2c20 6675 6e63 3a20 5420 2d3e 2055  lf, func: T -> U
+000248c0: 2920 2d3e 2045 7870 6563 7465 645b 555d  ) -> Expected[U]
+000248d0: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
+000248e0: 6e20 7365 6c66 2e5f 5f63 6c61 7373 5f5f  n self.__class__
+000248f0: 2866 756e 6328 7365 6c66 2e72 6573 756c  (func(self.resul
+00024900: 7429 2920 6966 2073 656c 6620 656c 7365  t)) if self else
+00024910: 2073 656c 660d 0a20 2020 2064 6566 2061   self..    def a
+00024920: 6e64 5f74 6865 6e5b 555d 2873 656c 662c  nd_then[U](self,
+00024930: 2066 756e 633a 2054 202d 3e20 4578 7065   func: T -> Expe
+00024940: 6374 6564 5b55 5d29 202d 3e20 4578 7065  cted[U]) -> Expe
+00024950: 6374 6564 5b55 5d3a 0d0a 2020 2020 2020  cted[U]:..      
+00024960: 2020 2222 224d 6170 7320 6120 5420 2d3e    """Maps a T ->
+00024970: 2045 7870 6563 7465 645b 555d 206f 7665   Expected[U] ove
+00024980: 7220 616e 2045 7870 6563 7465 645b 545d  r an Expected[T]
+00024990: 2074 6f20 7072 6f64 7563 6520 616e 2045   to produce an E
+000249a0: 7870 6563 7465 645b 555d 2e0d 0a20 2020  xpected[U]...   
+000249b0: 2020 2020 2049 6d70 6c65 6d65 6e74 7320       Implements 
+000249c0: 6120 6d6f 6e61 6469 6320 6269 6e64 2e20  a monadic bind. 
+000249d0: 4571 7569 7661 6c65 6e74 2074 6f20 666d  Equivalent to fm
+000249e0: 6170 202e 2e3e 202e 6a6f 696e 2829 2e22  ap ..> .join()."
+000249f0: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
+00024a00: 726e 2073 656c 6620 7c3e 2066 6d61 7024  rn self |> fmap$
+00024a10: 2866 756e 6329 207c 3e20 2e6a 6f69 6e28  (func) |> .join(
+00024a20: 290d 0a20 2020 2064 6566 206a 6f69 6e28  )..    def join(
+00024a30: 7365 6c66 3a20 4578 7065 6374 6564 5b45  self: Expected[E
+00024a40: 7870 6563 7465 645b 545d 5d29 202d 3e20  xpected[T]]) -> 
+00024a50: 4578 7065 6374 6564 5b54 5d3a 0d0a 2020  Expected[T]:..  
+00024a60: 2020 2020 2020 2222 224d 6f6e 6164 6963        """Monadic
+00024a70: 206a 6f69 6e2e 2043 6f6e 7665 7274 7320   join. Converts 
+00024a80: 4578 7065 6374 6564 5b45 7870 6563 7465  Expected[Expecte
+00024a90: 645b 545d 5d20 746f 2045 7870 6563 7465  d[T]] to Expecte
+00024aa0: 645b 545d 2e22 2222 0d0a 2020 2020 2020  d[T]."""..      
+00024ab0: 2020 6966 206e 6f74 2073 656c 663a 0d0a    if not self:..
+00024ac0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00024ad0: 726e 2073 656c 660d 0a20 2020 2020 2020  rn self..       
+00024ae0: 2069 6620 6e6f 7420 7365 6c66 2e72 6573   if not self.res
+00024af0: 756c 7420 6069 7369 6e73 7461 6e63 6560  ult `isinstance`
+00024b00: 2045 7870 6563 7465 643a 0d0a 2020 2020   Expected:..    
+00024b10: 2020 2020 2020 2020 7261 6973 6520 5479          raise Ty
+00024b20: 7065 4572 726f 7228 2245 7870 6563 7465  peError("Expecte
+00024b30: 642e 6a6f 696e 2829 2072 6571 7569 7265  d.join() require
+00024b40: 7320 616e 2045 7870 6563 7465 645b 4578  s an Expected[Ex
+00024b50: 7065 6374 6564 5b5f 5d5d 2229 0d0a 2020  pected[_]]")..  
+00024b60: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00024b70: 662e 7265 7375 6c74 0d0a 2020 2020 6465  f.result..    de
+00024b80: 6620 6d61 705f 6572 726f 7228 7365 6c66  f map_error(self
+00024b90: 2c20 6675 6e63 3a20 4261 7365 4578 6365  , func: BaseExce
+00024ba0: 7074 696f 6e20 2d3e 2042 6173 6545 7863  ption -> BaseExc
+00024bb0: 6570 7469 6f6e 2920 2d3e 2045 7870 6563  eption) -> Expec
+00024bc0: 7465 645b 545d 3a0d 0a20 2020 2020 2020  ted[T]:..       
+00024bd0: 2022 2222 4d61 7073 2066 756e 6320 6f76   """Maps func ov
+00024be0: 6572 2074 6865 2065 7272 6f72 2069 6620  er the error if 
+00024bf0: 6974 2065 7869 7374 732e 2222 220d 0a20  it exists.""".. 
+00024c00: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00024c10: 6c66 2069 6620 7365 6c66 2065 6c73 6520  lf if self else 
+00024c20: 7365 6c66 2e5f 5f63 6c61 7373 5f5f 2865  self.__class__(e
+00024c30: 7272 6f72 3d66 756e 6328 7365 6c66 2e65  rror=func(self.e
+00024c40: 7272 6f72 2929 0d0a 2020 2020 6465 6620  rror))..    def 
+00024c50: 6f72 5f65 6c73 655b 555d 2873 656c 662c  or_else[U](self,
+00024c60: 2066 756e 633a 2042 6173 6545 7863 6570   func: BaseExcep
+00024c70: 7469 6f6e 202d 3e20 4578 7065 6374 6564  tion -> Expected
+00024c80: 5b55 5d29 202d 3e20 4578 7065 6374 6564  [U]) -> Expected
+00024c90: 5b54 207c 2055 5d3a 0d0a 2020 2020 2020  [T | U]:..      
+00024ca0: 2020 2222 2252 6574 7572 6e20 7365 6c66    """Return self
+00024cb0: 2069 6620 6e6f 2065 7272 6f72 2c20 6f74   if no error, ot
+00024cc0: 6865 7277 6973 6520 7265 7475 726e 2074  herwise return t
+00024cd0: 6865 2072 6573 756c 7420 6f66 2065 7661  he result of eva
+00024ce0: 6c75 6174 696e 6720 6675 6e63 206f 6e20  luating func on 
+00024cf0: 7468 6520 6572 726f 722e 2222 220d 0a20  the error.""".. 
+00024d00: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00024d10: 6c66 2069 6620 7365 6c66 2065 6c73 6520  lf if self else 
+00024d20: 6675 6e63 2873 656c 662e 6572 726f 7229  func(self.error)
+00024d30: 0d0a 2020 2020 6465 6620 7265 7375 6c74  ..    def result
+00024d40: 5f6f 725b 555d 2873 656c 662c 2064 6566  _or[U](self, def
+00024d50: 6175 6c74 3a20 5529 202d 3e20 5420 7c20  ault: U) -> T | 
+00024d60: 553a 0d0a 2020 2020 2020 2020 2222 2252  U:..        """R
+00024d70: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
+00024d80: 2069 6620 6974 2065 7869 7374 732c 206f   if it exists, o
+00024d90: 7468 6572 7769 7365 2072 6574 7572 6e20  therwise return 
+00024da0: 7468 6520 6465 6661 756c 742e 2222 220d  the default.""".
+00024db0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00024dc0: 7365 6c66 2e72 6573 756c 7420 6966 2073  self.result if s
+00024dd0: 656c 6620 656c 7365 2064 6566 6175 6c74  elf else default
+00024de0: 0d0a 2020 2020 6465 6620 7265 7375 6c74  ..    def result
+00024df0: 5f6f 725f 656c 7365 5b55 5d28 7365 6c66  _or_else[U](self
+00024e00: 2c20 6675 6e63 3a20 4261 7365 4578 6365  , func: BaseExce
+00024e10: 7074 696f 6e20 2d3e 2055 2920 2d3e 2054  ption -> U) -> T
+00024e20: 207c 2055 3a0d 0a20 2020 2020 2020 2022   | U:..        "
+00024e30: 2222 5265 7475 726e 2074 6865 2072 6573  ""Return the res
+00024e40: 756c 7420 6966 2069 7420 6578 6973 7473  ult if it exists
+00024e50: 2c20 6f74 6865 7277 6973 6520 7265 7475  , otherwise retu
+00024e60: 726e 2074 6865 2072 6573 756c 7420 6f66  rn the result of
+00024e70: 2065 7661 6c75 6174 696e 6720 6675 6e63   evaluating func
+00024e80: 206f 6e20 7468 6520 6572 726f 722e 2222   on the error.""
+00024e90: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+00024ea0: 6e20 7365 6c66 2e72 6573 756c 7420 6966  n self.result if
+00024eb0: 2073 656c 6620 656c 7365 2066 756e 6328   self else func(
+00024ec0: 7365 6c66 2e65 7272 6f72 290d 0a20 2020  self.error)..   
+00024ed0: 2064 6566 2075 6e77 7261 7028 7365 6c66   def unwrap(self
+00024ee0: 2920 2d3e 2054 3a0d 0a20 2020 2020 2020  ) -> T:..       
+00024ef0: 2022 2222 556e 7772 6170 2074 6865 2072   """Unwrap the r
+00024f00: 6573 756c 7420 6f72 2072 6169 7365 2074  esult or raise t
+00024f10: 6865 2065 7272 6f72 2e22 2222 0d0a 2020  he error."""..  
+00024f20: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+00024f30: 663a 0d0a 2020 2020 2020 2020 2020 2020  f:..            
+00024f40: 7261 6973 6520 7365 6c66 2e65 7272 6f72  raise self.error
+00024f50: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00024f60: 2073 656c 662e 7265 7375 6c74 0d0a 6060   self.result..``
+00024f70: 600d 0a0d 0a60 4578 7065 6374 6564 6020  `....`Expected` 
+00024f80: 6973 2070 7269 6d61 7269 6c79 2075 7365  is primarily use
+00024f90: 6420 6173 2074 6865 2072 6574 7572 6e20  d as the return 
+00024fa0: 7479 7065 2066 6f72 205b 6073 6166 655f  type for [`safe_
+00024fb0: 6361 6c6c 605d 2823 7361 6665 5f63 616c  call`](#safe_cal
+00024fc0: 6c29 2e20 4765 6e65 7261 6c6c 792c 2074  l). Generally, t
+00024fd0: 6865 2062 6573 7420 7761 7920 746f 2075  he best way to u
+00024fe0: 7365 2060 4578 7065 6374 6564 6020 6973  se `Expected` is
+00024ff0: 2077 6974 6820 5b60 666d 6170 605d 2823   with [`fmap`](#
+00025000: 666d 6170 292c 2077 6869 6368 2077 696c  fmap), which wil
+00025010: 6c20 6170 706c 7920 6120 6675 6e63 7469  l apply a functi
+00025020: 6f6e 2074 6f20 7468 6520 7265 7375 6c74  on to the result
+00025030: 2069 6620 6974 2065 7869 7374 732c 206f   if it exists, o
+00025040: 7220 6f74 6865 7277 6973 6520 7265 7461  r otherwise reta
+00025050: 696e 2074 6865 2065 7272 6f72 2e20 4966  in the error. If
+00025060: 2079 6f75 2077 616e 7420 746f 2073 6571   you want to seq
+00025070: 7565 6e63 6520 6d75 6c74 6970 6c65 2060  uence multiple `
+00025080: 4578 7065 6374 6564 602d 7265 7475 726e  Expected`-return
+00025090: 696e 6720 6f70 6572 6174 696f 6e73 2c20  ing operations, 
+000250a0: 602e 616e 645f 7468 656e 6020 7368 6f75  `.and_then` shou
+000250b0: 6c64 2062 6520 7573 6564 2069 6e73 7465  ld be used inste
+000250c0: 6164 206f 6620 6066 6d61 7060 2e0d 0a0d  ad of `fmap`....
+000250d0: 0a54 6f20 6d61 7463 6820 6167 6169 6e73  .To match agains
+000250e0: 7420 616e 2060 4578 7065 6374 6564 602c  t an `Expected`,
+000250f0: 206a 7573 743a 0d0a 6060 600d 0a45 7870   just:..```..Exp
+00025100: 6563 7465 6428 7265 7329 203d 2045 7870  ected(res) = Exp
+00025110: 6563 7465 6428 2272 6573 756c 7422 290d  ected("result").
+00025120: 0a45 7870 6563 7465 6428 6572 726f 723d  .Expected(error=
+00025130: 6572 7229 203d 2045 7870 6563 7465 6428  err) = Expected(
+00025140: 6572 726f 723d 5479 7065 4572 726f 7228  error=TypeError(
+00025150: 2929 0d0a 6060 600d 0a0d 0a23 2323 2323  ))..```....#####
+00025160: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00025170: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+00025180: 6f6e 7574 0d0a 6465 6620 7472 795f 6469  onut..def try_di
+00025190: 7669 6465 2878 3a20 666c 6f61 742c 2079  vide(x: float, y
+000251a0: 3a20 666c 6f61 7429 202d 3e20 4578 7065  : float) -> Expe
+000251b0: 6374 6564 5b66 6c6f 6174 5d3a 0d0a 2020  cted[float]:..  
+000251c0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+000251d0: 7265 7475 726e 2045 7870 6563 7465 6428  return Expected(
+000251e0: 7820 2f20 7929 0d0a 2020 2020 6578 6365  x / y)..    exce
+000251f0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+00025200: 6572 723a 0d0a 2020 2020 2020 2020 7265  err:..        re
+00025210: 7475 726e 2045 7870 6563 7465 6428 6572  turn Expected(er
+00025220: 726f 723d 6572 7229 0d0a 0d0a 7472 795f  ror=err)....try_
+00025230: 6469 7669 6465 2831 2c20 3229 207c 3e20  divide(1, 2) |> 
+00025240: 666d 6170 2428 2e2b 3129 207c 3e20 7072  fmap$(.+1) |> pr
+00025250: 696e 740d 0a74 7279 5f64 6976 6964 6528  int..try_divide(
+00025260: 312c 2030 2920 7c3e 2066 6d61 7024 282e  1, 0) |> fmap$(.
+00025270: 2b31 2920 7c3e 2070 7269 6e74 0d0a 6060  +1) |> print..``
+00025280: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+00025290: 0d0a 5f43 616e 2774 2062 6520 646f 6e65  .._Can't be done
+000252a0: 2077 6974 686f 7574 2061 2063 6f6d 706c   without a compl
+000252b0: 6578 2060 4578 7065 6374 6564 6020 6465  ex `Expected` de
+000252c0: 6669 6e69 7469 6f6e 2e20 5365 6520 7468  finition. See th
+000252d0: 6520 636f 6d70 696c 6564 2063 6f64 6520  e compiled code 
+000252e0: 666f 7220 7468 6520 5079 7468 6f6e 2073  for the Python s
+000252f0: 796e 7461 782e 5f0d 0a0d 0a23 2323 2320  yntax._....#### 
+00025300: 604d 6174 6368 4572 726f 7260 0d0a 0d0a  `MatchError`....
+00025310: 4120 604d 6174 6368 4572 726f 7260 2069  A `MatchError` i
+00025320: 7320 7261 6973 6564 2077 6865 6e20 6120  s raised when a 
+00025330: 5b64 6573 7472 7563 7475 7269 6e67 2061  [destructuring a
+00025340: 7373 6967 6e6d 656e 745d 2823 6465 7374  ssignment](#dest
+00025350: 7275 6374 7572 696e 672d 6173 7369 676e  ructuring-assign
+00025360: 6d65 6e74 2920 6f72 205b 7061 7474 6572  ment) or [patter
+00025370: 6e2d 6d61 7463 6869 6e67 2066 756e 6374  n-matching funct
+00025380: 696f 6e5d 2823 7061 7474 6572 6e2d 6d61  ion](#pattern-ma
+00025390: 7463 6869 6e67 2d66 756e 6374 696f 6e73  tching-functions
+000253a0: 2920 6661 696c 732c 2061 6e64 2074 6875  ) fails, and thu
+000253b0: 7320 604d 6174 6368 4572 726f 7260 2069  s `MatchError` i
+000253c0: 7320 7072 6f76 6964 6564 2061 7320 6120  s provided as a 
+000253d0: 6275 696c 742d 696e 2066 6f72 2063 6174  built-in for cat
+000253e0: 6368 696e 6720 7468 6f73 6520 6572 726f  ching those erro
+000253f0: 7273 2e20 604d 6174 6368 4572 726f 7260  rs. `MatchError`
+00025400: 206f 626a 6563 7473 2073 7570 706f 7274   objects support
+00025410: 2074 6872 6565 2061 7474 7269 6275 7465   three attribute
+00025420: 733a 2060 7061 7474 6572 6e60 2c20 7768  s: `pattern`, wh
+00025430: 6963 6820 6973 2061 2073 7472 696e 6720  ich is a string 
+00025440: 6465 7363 7269 6269 6e67 2074 6865 2066  describing the f
+00025450: 6169 6c65 6420 7061 7474 6572 6e3b 2060  ailed pattern; `
+00025460: 7661 6c75 6560 2c20 7768 6963 6820 6973  value`, which is
+00025470: 2074 6865 206f 626a 6563 7420 7468 6174   the object that
+00025480: 2066 6169 6c65 6420 746f 206d 6174 6368   failed to match
+00025490: 2074 6861 7420 7061 7474 6572 6e3b 2061   that pattern; a
+000254a0: 6e64 2060 6d65 7373 6167 6560 2077 6869  nd `message` whi
+000254b0: 6368 2069 7320 7468 6520 6675 6c6c 2065  ch is the full e
+000254c0: 7272 6f72 206d 6573 7361 6765 2e20 546f  rror message. To
+000254d0: 2061 766f 6964 2075 6e6e 6563 6573 7361   avoid unnecessa
+000254e0: 7279 2060 7265 7072 6020 6361 6c6c 732c  ry `repr` calls,
+000254f0: 2060 4d61 7463 6845 7272 6f72 6020 6f6e   `MatchError` on
+00025500: 6c79 2063 6f6d 7075 7465 7320 7468 6520  ly computes the 
+00025510: 606d 6573 7361 6765 6020 6f6e 6365 2069  `message` once i
+00025520: 7420 6973 2061 6374 7561 6c6c 7920 7265  t is actually re
+00025530: 7175 6573 7465 642e 0d0a 0d0a 4164 6469  quested.....Addi
+00025540: 7469 6f6e 616c 6c79 2c20 6966 2079 6f75  tionally, if you
+00025550: 2061 7265 2075 7369 6e67 205b 7669 6577   are using [view
+00025560: 2070 6174 7465 726e 735d 2823 6d61 7463   patterns](#matc
+00025570: 6829 2c20 796f 7520 6d69 6768 7420 6e65  h), you might ne
+00025580: 6564 2074 6f20 7261 6973 6520 796f 7572  ed to raise your
+00025590: 206f 776e 2060 4d61 7463 6845 7272 6f72   own `MatchError
+000255a0: 6020 2874 686f 7567 6820 796f 7520 6361  ` (though you ca
+000255b0: 6e20 616c 736f 206a 7573 7420 7573 6520  n also just use 
+000255c0: 6120 6465 7374 7275 6374 7572 696e 6720  a destructuring 
+000255d0: 6173 7369 676e 6d65 6e74 206f 7220 7061  assignment or pa
+000255e0: 7474 6572 6e2d 6d61 7463 6869 6e67 2066  ttern-matching f
+000255f0: 756e 6374 696f 6e20 6465 6669 6e69 7469  unction definiti
+00025600: 6f6e 2074 6f20 646f 2073 6f29 2e20 546f  on to do so). To
+00025610: 2072 6169 7365 2079 6f75 7220 6f77 6e20   raise your own 
+00025620: 604d 6174 6368 4572 726f 7260 2c20 6a75  `MatchError`, ju
+00025630: 7374 2060 7261 6973 6520 4d61 7463 6845  st `raise MatchE
+00025640: 7272 6f72 2870 6174 7465 726e 2c20 7661  rror(pattern, va
+00025650: 6c75 6529 6020 2862 6f74 6820 6172 6775  lue)` (both argu
+00025660: 6d65 6e74 7320 6172 6520 6f70 7469 6f6e  ments are option
+00025670: 616c 292e 0d0a 0d0a 496e 2073 6f6d 6520  al).....In some 
+00025680: 6361 7365 7320 7768 6572 6520 7468 6572  cases where ther
+00025690: 6520 6172 6520 6d75 6c74 6970 6c65 2043  e are multiple C
+000256a0: 6f63 6f6e 7574 2070 6163 6b61 6765 7320  oconut packages 
+000256b0: 696e 7374 616c 6c65 6420 6174 2074 6865  installed at the
+000256c0: 2073 616d 6520 7469 6d65 2c20 7468 6572   same time, ther
+000256d0: 6520 6d61 7920 6265 206d 756c 7469 706c  e may be multipl
+000256e0: 6520 604d 6174 6368 4572 726f 7260 7320  e `MatchError`s 
+000256f0: 6465 6669 6e65 6420 696e 2064 6966 6665  defined in diffe
+00025700: 7265 6e74 2070 6163 6b61 6765 732e 2043  rent packages. C
+00025710: 6f63 6f6e 7574 2063 616e 2070 6572 666f  oconut can perfo
+00025720: 726d 2073 6f6d 6520 6d61 6769 6320 756e  rm some magic un
+00025730: 6465 7220 7468 6520 686f 6f64 2074 6f20  der the hood to 
+00025740: 6d61 6b65 2073 7572 6520 7468 6174 2061  make sure that a
+00025750: 6c6c 2074 6865 7365 2060 4d61 7463 6845  ll these `MatchE
+00025760: 7272 6f72 6073 2077 696c 6c20 7365 616d  rror`s will seam
+00025770: 6c65 7373 6c79 2069 6e74 6572 6f70 6572  lessly interoper
+00025780: 6174 652c 2062 7574 206f 6e6c 7920 6966  ate, but only if
+00025790: 2061 6c6c 2073 7563 6820 7061 636b 6167   all such packag
+000257a0: 6573 2061 7265 2063 6f6d 7069 6c65 6420  es are compiled 
+000257b0: 696e 205b 602d 2d70 6163 6b61 6765 6020  in [`--package` 
+000257c0: 6d6f 6465 2072 6174 6865 7220 7468 616e  mode rather than
+000257d0: 2060 2d2d 7374 616e 6461 6c6f 6e65 6020   `--standalone` 
+000257e0: 6d6f 6465 5d28 2363 6f6d 7069 6c61 7469  mode](#compilati
+000257f0: 6f6e 2d6d 6f64 6573 292e 0d0a 0d0a 2323  on-modes).....##
+00025800: 2320 4765 6e65 7269 6320 4275 696c 742d  # Generic Built-
+00025810: 496e 2046 756e 6374 696f 6e73 0d0a 0d0a  In Functions....
+00025820: 6060 607b 636f 6e74 656e 7473 7d0d 0a2d  ```{contents}..-
+00025830: 2d2d 0d0a 6c6f 6361 6c3a 0d0a 6465 7074  --..local:..dept
+00025840: 683a 2031 0d0a 2d2d 2d0d 0a60 6060 0d0a  h: 1..---..```..
+00025850: 0d0a 2323 2323 2060 6d61 6b65 6461 7461  ..#### `makedata
+00025860: 600d 0a0d 0a2a 2a6d 616b 6564 6174 612a  `....**makedata*
+00025870: 2a28 5f64 6174 615c 5f74 7970 655f 2c20  *(_data\_type_, 
+00025880: 2a5f 6172 6773 5f29 0d0a 0d0a 436f 636f  *_args_)....Coco
+00025890: 6e75 7420 7072 6f76 6964 6573 2074 6865  nut provides the
+000258a0: 2060 6d61 6b65 6461 7461 6020 6675 6e63   `makedata` func
+000258b0: 7469 6f6e 2074 6f20 636f 6e73 7472 7563  tion to construc
+000258c0: 7420 6120 636f 6e74 6169 6e65 7220 6769  t a container gi
+000258d0: 7665 6e20 7468 6520 6465 7369 7265 6420  ven the desired 
+000258e0: 7479 7065 2061 6e64 2063 6f6e 7465 6e74  type and content
+000258f0: 732e 2054 6869 7320 6973 2070 6172 7469  s. This is parti
+00025900: 6375 6c61 726c 7920 7573 6566 756c 2077  cularly useful w
+00025910: 6865 6e20 7772 6974 696e 6720 616c 7465  hen writing alte
+00025920: 726e 6174 6976 6520 636f 6e73 7472 7563  rnative construc
+00025930: 746f 7273 2066 6f72 205b 6064 6174 6160  tors for [`data`
+00025940: 5d28 2364 6174 6129 2074 7970 6573 2062  ](#data) types b
+00025950: 7920 6f76 6572 7772 6974 696e 6720 605f  y overwriting `_
+00025960: 5f6e 6577 5f5f 602c 2073 696e 6365 2069  _new__`, since i
+00025970: 7420 616c 6c6f 7773 2064 6972 6563 7420  t allows direct 
+00025980: 6163 6365 7373 2074 6f20 7468 6520 6261  access to the ba
+00025990: 7365 2063 6f6e 7374 7275 6374 6f72 206f  se constructor o
+000259a0: 6620 7468 6520 6461 7461 2074 7970 6520  f the data type 
+000259b0: 6372 6561 7465 6420 7769 7468 2074 6865  created with the
+000259c0: 2043 6f63 6f6e 7574 2060 6461 7461 6020   Coconut `data` 
+000259d0: 7374 6174 656d 656e 742e 0d0a 0d0a 606d  statement.....`m
+000259e0: 616b 6564 6174 6160 2074 616b 6573 2074  akedata` takes t
+000259f0: 6865 2064 6174 6120 7479 7065 2074 6f20  he data type to 
+00025a00: 636f 6e73 7472 7563 7420 6173 2074 6865  construct as the
+00025a10: 2066 6972 7374 2061 7267 756d 656e 742c   first argument,
+00025a20: 2061 6e64 2074 6865 206f 626a 6563 7473   and the objects
+00025a30: 2074 6f20 7075 7420 696e 2074 6861 7420   to put in that 
+00025a40: 636f 6e74 6169 6e65 7220 6173 2074 6865  container as the
+00025a50: 2072 6573 7420 6f66 2074 6865 2061 7267   rest of the arg
+00025a60: 756d 656e 7473 2e0d 0a0d 0a60 6d61 6b65  uments.....`make
+00025a70: 6461 7461 6020 6361 6e20 616c 736f 2062  data` can also b
+00025a80: 6520 7573 6564 2074 6f20 6578 7472 6163  e used to extrac
+00025a90: 7420 7468 6520 756e 6465 726c 7969 6e67  t the underlying
+00025aa0: 2063 6f6e 7374 7275 6374 6f72 2066 6f72   constructor for
+00025ab0: 205b 606d 6174 6368 2064 6174 6160 5d28   [`match data`](
+00025ac0: 236d 6174 6368 2d64 6174 6129 2074 7970  #match-data) typ
+00025ad0: 6573 2074 6861 7420 6279 7061 7373 6573  es that bypasses
+00025ae0: 2074 6865 206e 6f72 6d61 6c20 7061 7474   the normal patt
+00025af0: 6572 6e2d 6d61 7463 6869 6e67 2063 6f6e  ern-matching con
+00025b00: 7374 7275 6374 6f72 2e0d 0a0d 0a41 6464  structor.....Add
+00025b10: 6974 696f 6e61 6c6c 792c 2060 6d61 6b65  itionally, `make
+00025b20: 6461 7461 6020 6361 6e20 616c 736f 2062  data` can also b
+00025b30: 6520 6361 6c6c 6564 2077 6974 6820 6e6f  e called with no
+00025b40: 6e2d 6064 6174 6160 2074 7970 6520 6173  n-`data` type as
+00025b50: 2074 6865 2066 6972 7374 2061 7267 756d   the first argum
+00025b60: 656e 742c 2069 6e20 7768 6963 6820 6361  ent, in which ca
+00025b70: 7365 2069 7420 7769 6c6c 2064 6f20 6974  se it will do it
+00025b80: 7320 6265 7374 2074 6f20 636f 6e73 7472  s best to constr
+00025b90: 7563 7420 7468 6520 6769 7665 6e20 7479  uct the given ty
+00025ba0: 7065 206f 6620 6f62 6a65 6374 2077 6974  pe of object wit
+00025bb0: 6820 7468 6520 6769 7665 6e20 6172 6775  h the given argu
+00025bc0: 6d65 6e74 732e 2054 6869 7320 6675 6e63  ments. This func
+00025bd0: 7469 6f6e 616c 6974 7920 6973 2075 7365  tionality is use
+00025be0: 6420 696e 7465 726e 616c 6c79 2062 7920  d internally by 
+00025bf0: 6066 6d61 7060 2e0d 0a0d 0a23 2323 2323  `fmap`.....#####
+00025c00: 2060 6461 7461 6d61 6b65 7260 0d0a 0d0a   `datamaker`....
+00025c10: 2a2a 4445 5052 4543 4154 4544 3a2a 2a20  **DEPRECATED:** 
+00025c20: 436f 636f 6e75 7420 616c 736f 2068 6173  Coconut also has
+00025c30: 2061 2060 6461 7461 6d61 6b65 7260 2062   a `datamaker` b
+00025c40: 7569 6c74 2d69 6e2c 2077 6869 6368 2070  uilt-in, which p
+00025c50: 6172 7469 616c 6c79 2061 7070 6c69 6573  artially applies
+00025c60: 2060 6d61 6b65 6461 7461 603b 2060 6461   `makedata`; `da
+00025c70: 7461 6d61 6b65 7260 2069 7320 6465 6669  tamaker` is defi
+00025c80: 6e65 6420 6173 3a0d 0a60 6060 636f 636f  ned as:..```coco
+00025c90: 6e75 740d 0a64 6566 2064 6174 616d 616b  nut..def datamak
+00025ca0: 6572 2864 6174 615f 7479 7065 293a 0d0a  er(data_type):..
+00025cb0: 2020 2020 2222 2247 6574 2074 6865 206f      """Get the o
+00025cc0: 7269 6769 6e61 6c20 636f 6e73 7472 7563  riginal construc
+00025cd0: 746f 7220 6f66 2074 6865 2067 6976 656e  tor of the given
+00025ce0: 2064 6174 6120 7479 7065 206f 7220 636c   data type or cl
+00025cf0: 6173 732e 2222 220d 0a20 2020 2072 6574  ass."""..    ret
+00025d00: 7572 6e20 6d61 6b65 6461 7461 2428 6461  urn makedata$(da
+00025d10: 7461 5f74 7970 6529 0d0a 6060 600d 0a5f  ta_type)..```.._
+00025d20: 4e6f 7465 3a20 5061 7373 696e 6720 602d  Note: Passing `-
+00025d30: 2d73 7472 6963 7460 2064 6973 6162 6c65  -strict` disable
+00025d40: 7320 6465 7072 6563 6174 6564 2066 6561  s deprecated fea
+00025d50: 7475 7265 732e 5f0d 0a0d 0a23 2323 2323  tures._....#####
+00025d60: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+00025d70: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+00025d80: 6f6e 7574 0d0a 6461 7461 2054 7570 6c65  onut..data Tuple
+00025d90: 2865 6c65 6d73 293a 0d0a 2020 2020 6465  (elems):..    de
+00025da0: 6620 5f5f 6e65 775f 5f28 636c 732c 202a  f __new__(cls, *
+00025db0: 656c 656d 7329 3a0d 0a20 2020 2020 2020  elems):..       
+00025dc0: 2072 6574 7572 6e20 656c 656d 7320 7c3e   return elems |>
+00025dd0: 206d 616b 6564 6174 6124 2863 6c73 290d   makedata$(cls).
+00025de0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00025df0: 3a2a 2a0d 0a5f 4361 6e27 7420 6265 2064  :**.._Can't be d
+00025e00: 6f6e 6520 7769 7468 6f75 7420 6120 7365  one without a se
+00025e10: 7269 6573 206f 6620 6d65 7468 6f64 2064  ries of method d
+00025e20: 6566 696e 6974 696f 6e73 2066 6f72 2065  efinitions for e
+00025e30: 6163 6820 6461 7461 2074 7970 652e 2053  ach data type. S
+00025e40: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+00025e50: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+00025e60: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+00025e70: 2323 2323 2060 666d 6170 600d 0a0d 0a2a  #### `fmap`....*
+00025e80: 2a66 6d61 702a 2a28 5f66 756e 635f 2c20  *fmap**(_func_, 
+00025e90: 5f6f 626a 5f29 0d0a 0d0a 496e 2048 6173  _obj_)....In Has
+00025ea0: 6b65 6c6c 2c20 6066 6d61 7028 6675 6e63  kell, `fmap(func
+00025eb0: 2c20 6f62 6a29 6020 7461 6b65 7320 6120  , obj)` takes a 
+00025ec0: 6461 7461 2074 7970 6520 606f 626a 6020  data type `obj` 
+00025ed0: 616e 6420 7265 7475 726e 7320 6120 6e65  and returns a ne
+00025ee0: 7720 6461 7461 2074 7970 6520 7769 7468  w data type with
+00025ef0: 2060 6675 6e63 6020 6d61 7070 6564 206f   `func` mapped o
+00025f00: 7665 7220 7468 6520 636f 6e74 656e 7473  ver the contents
+00025f10: 2e20 436f 636f 6e75 7427 7320 6066 6d61  . Coconut's `fma
+00025f20: 7060 2066 756e 6374 696f 6e20 646f 6573  p` function does
+00025f30: 2074 6865 2065 7861 6374 2073 616d 6520   the exact same 
+00025f40: 7468 696e 6720 666f 7220 436f 636f 6e75  thing for Coconu
+00025f50: 7427 7320 5b64 6174 6120 7479 7065 735d  t's [data types]
+00025f60: 2823 6461 7461 292e 0d0a 0d0a 6066 6d61  (#data).....`fma
+00025f70: 7060 2063 616e 2061 6c73 6f20 6265 2075  p` can also be u
+00025f80: 7365 6420 6f6e 2074 6865 2062 7569 6c74  sed on the built
+00025f90: 2d69 6e20 6f62 6a65 6374 7320 6073 7472  -in objects `str
+00025fa0: 602c 2060 6469 6374 602c 2060 6c69 7374  `, `dict`, `list
+00025fb0: 602c 2060 7475 706c 6560 2c20 6073 6574  `, `tuple`, `set
+00025fc0: 602c 2060 6672 6f7a 656e 7365 7460 2c20  `, `frozenset`, 
+00025fd0: 616e 6420 6064 6963 7460 2061 7320 6120  and `dict` as a 
+00025fe0: 7661 7269 616e 7420 6f66 2060 6d61 7060  variant of `map`
+00025ff0: 2074 6861 7420 7265 7475 726e 7320 6261   that returns ba
+00026000: 636b 2061 6e20 6f62 6a65 6374 206f 6620  ck an object of 
+00026010: 7468 6520 7361 6d65 2074 7970 652e 0d0a  the same type...
+00026020: 0d0a 5468 6520 6265 6861 7669 6f72 206f  ..The behavior o
+00026030: 6620 6066 6d61 7060 2066 6f72 2061 2067  f `fmap` for a g
+00026040: 6976 656e 206f 626a 6563 7420 6361 6e20  iven object can 
+00026050: 6265 206f 7665 7272 6964 6465 6e20 6279  be overridden by
+00026060: 2064 6566 696e 696e 6720 616e 2060 5f5f   defining an `__
+00026070: 666d 6170 5f5f 2873 656c 662c 2066 756e  fmap__(self, fun
+00026080: 6329 6020 6d61 6769 6320 6d65 7468 6f64  c)` magic method
+00026090: 2074 6861 7420 7769 6c6c 2062 6520 6361   that will be ca
+000260a0: 6c6c 6564 2077 6865 6e65 7665 7220 6066  lled whenever `f
+000260b0: 6d61 7060 2069 7320 696e 766f 6b65 6420  map` is invoked 
+000260c0: 6f6e 2074 6861 7420 6f62 6a65 6374 2e20  on that object. 
+000260d0: 4e6f 7465 2074 6861 7420 605f 5f66 6d61  Note that `__fma
+000260e0: 705f 5f60 2069 6d70 6c65 6d65 6e74 6174  p__` implementat
+000260f0: 696f 6e73 2073 686f 756c 6420 616c 7761  ions should alwa
+00026100: 7973 2073 6174 6973 6679 2074 6865 205b  ys satisfy the [
+00026110: 4675 6e63 746f 7220 4c61 7773 5d28 6874  Functor Laws](ht
+00026120: 7470 733a 2f2f 7769 6b69 2e68 6173 6b65  tps://wiki.haske
+00026130: 6c6c 2e6f 7267 2f46 756e 6374 6f72 292e  ll.org/Functor).
+00026140: 0d0a 0d0a 466f 7220 6064 6963 7460 2c20  ....For `dict`, 
+00026150: 6f72 2061 6e79 206f 7468 6572 2060 636f  or any other `co
+00026160: 6c6c 6563 7469 6f6e 732e 6162 632e 4d61  llections.abc.Ma
+00026170: 7070 696e 6760 2c20 6066 6d61 7060 2077  pping`, `fmap` w
+00026180: 696c 6c20 6d61 7020 6f76 6572 2074 6865  ill map over the
+00026190: 206d 6170 7069 6e67 2773 2060 2e69 7465   mapping's `.ite
+000261a0: 6d73 2829 6020 696e 7374 6561 6420 6f66  ms()` instead of
+000261b0: 2074 6865 2064 6566 6175 6c74 2069 7465   the default ite
+000261c0: 7261 7469 6f6e 2074 6872 6f75 6768 2069  ration through i
+000261d0: 7473 2060 2e6b 6579 7328 2960 2c20 7769  ts `.keys()`, wi
+000261e0: 7468 2074 6865 206e 6577 206d 6170 7069  th the new mappi
+000261f0: 6e67 2072 6563 6f6e 7374 7275 6374 6564  ng reconstructed
+00026200: 2066 726f 6d20 7468 6520 6d61 7070 6564   from the mapped
+00026210: 206f 7665 7220 6974 656d 732e 205f 4465   over items. _De
+00026220: 7072 6563 6174 6564 3a20 6066 6d61 7024  precated: `fmap$
+00026230: 2873 7461 726d 6170 5f6f 7665 725f 6d61  (starmap_over_ma
+00026240: 7070 696e 6773 3d54 7275 6529 6020 7769  ppings=True)` wi
+00026250: 6c6c 2060 7374 6172 6d61 7060 206f 7665  ll `starmap` ove
+00026260: 7220 7468 6520 602e 6974 656d 7328 2960  r the `.items()`
+00026270: 2069 6e73 7465 6164 206f 6620 606d 6170   instead of `map
+00026280: 6020 6f76 6572 2074 6865 6d2e 5f0d 0a0d  ` over them._...
+00026290: 0a46 6f72 205b 606e 756d 7079 605d 2823  .For [`numpy`](#
+000262a0: 6e75 6d70 792d 696e 7465 6772 6174 696f  numpy-integratio
+000262b0: 6e29 206f 626a 6563 7473 2c20 6066 6d61  n) objects, `fma
+000262c0: 7060 2077 696c 6c20 7573 6520 5b60 6e70  p` will use [`np
+000262d0: 2e76 6563 746f 7269 7a65 605d 2868 7474  .vectorize`](htt
+000262e0: 7073 3a2f 2f64 6f63 732e 7363 6970 792e  ps://docs.scipy.
+000262f0: 6f72 672f 646f 632f 6e75 6d70 792f 7265  org/doc/numpy/re
+00026300: 6665 7265 6e63 652f 6765 6e65 7261 7465  ference/generate
+00026310: 642f 6e75 6d70 792e 7665 6374 6f72 697a  d/numpy.vectoriz
+00026320: 652e 6874 6d6c 2920 746f 2070 726f 6475  e.html) to produ
+00026330: 6365 2074 6865 2072 6573 756c 742e 0d0a  ce the result...
+00026340: 0d0a 466f 7220 5b60 7061 6e64 6173 605d  ..For [`pandas`]
+00026350: 2868 7474 7073 3a2f 2f70 616e 6461 732e  (https://pandas.
+00026360: 7079 6461 7461 2e6f 7267 2f29 206f 626a  pydata.org/) obj
+00026370: 6563 7473 2c20 6066 6d61 7060 2077 696c  ects, `fmap` wil
+00026380: 6c20 7573 6520 5b60 2e61 7070 6c79 605d  l use [`.apply`]
+00026390: 2868 7474 7073 3a2f 2f70 616e 6461 732e  (https://pandas.
+000263a0: 7079 6461 7461 2e6f 7267 2f64 6f63 732f  pydata.org/docs/
+000263b0: 7265 6665 7265 6e63 652f 6170 692f 7061  reference/api/pa
+000263c0: 6e64 6173 2e44 6174 6146 7261 6d65 2e61  ndas.DataFrame.a
+000263d0: 7070 6c79 2e68 746d 6c29 2061 6c6f 6e67  pply.html) along
+000263e0: 2074 6865 206c 6173 7420 6178 6973 2028   the last axis (
+000263f0: 736f 2072 6f77 2d77 6973 6520 666f 7220  so row-wise for 
+00026400: 6044 6174 6146 7261 6d65 6027 732c 2065  `DataFrame`'s, e
+00026410: 6c65 6d65 6e74 2d77 6973 6520 666f 7220  lement-wise for 
+00026420: 6053 6572 6965 7360 2773 292e 0d0a 0d0a  `Series`'s).....
+00026430: 466f 7220 6173 796e 6368 726f 6e6f 7573  For asynchronous
+00026440: 2069 7465 7261 626c 6573 2c20 6066 6d61   iterables, `fma
+00026450: 7060 2077 696c 6c20 6d61 7020 6173 796e  p` will map asyn
+00026460: 6368 726f 6e6f 7573 6c79 2c20 6d61 6b69  chronously, maki
+00026470: 6e67 2060 666d 6170 6020 6571 7569 7661  ng `fmap` equiva
+00026480: 6c65 6e74 2069 6e20 7468 6174 2063 6173  lent in that cas
+00026490: 6520 746f 0d0a 6060 6063 6f63 6f6e 7574  e to..```coconut
+000264a0: 5f70 7974 686f 6e0d 0a61 7379 6e63 2064  _python..async d
+000264b0: 6566 2066 6d61 705f 6f76 6572 5f61 7379  ef fmap_over_asy
+000264c0: 6e63 5f69 7465 7273 2866 756e 632c 2061  nc_iters(func, a
+000264d0: 7379 6e63 5f69 7465 7229 3a0d 0a20 2020  sync_iter):..   
+000264e0: 2061 7379 6e63 2066 6f72 2069 7465 6d20   async for item 
+000264f0: 696e 2061 7379 6e63 5f69 7465 723a 0d0a  in async_iter:..
+00026500: 2020 2020 2020 2020 7969 656c 6420 6675          yield fu
+00026510: 6e63 2869 7465 6d29 0d0a 6060 600d 0a73  nc(item)..```..s
+00026520: 7563 6820 7468 6174 2060 666d 6170 6020  uch that `fmap` 
+00026530: 6361 6e20 6566 6665 6374 6976 656c 7920  can effectively 
+00026540: 6265 2075 7365 6420 6173 2061 6e20 6173  be used as an as
+00026550: 796e 6320 6d61 702e 0d0a 0d0a 5f44 6570  ync map....._Dep
+00026560: 7265 6361 7465 643a 2060 666d 6170 2866  recated: `fmap(f
+00026570: 756e 632c 206f 626a 2c20 6661 6c6c 6261  unc, obj, fallba
+00026580: 636b 5f74 6f5f 696e 6974 3d54 7275 6529  ck_to_init=True)
+00026590: 6020 7769 6c6c 2066 616c 6c20 6261 636b  ` will fall back
+000265a0: 2074 6f20 606f 626a 2e5f 5f63 6c61 7373   to `obj.__class
+000265b0: 5f5f 286d 6170 2866 756e 632c 206f 626a  __(map(func, obj
+000265c0: 2929 6020 6966 206e 6f20 6066 6d61 7060  ))` if no `fmap`
+000265d0: 2069 6d70 6c65 6d65 6e74 6174 696f 6e20   implementation 
+000265e0: 6973 2061 7661 696c 6162 6c65 2072 6174  is available rat
+000265f0: 6865 7220 7468 616e 2072 6169 7365 2060  her than raise `
+00026600: 5479 7065 4572 726f 7260 2e5f 0d0a 0d0a  TypeError`._....
+00026610: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+00026620: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+00026630: 6060 636f 636f 6e75 740d 0a5b 312c 2032  ``coconut..[1, 2
+00026640: 2c20 335d 207c 3e20 666d 6170 2428 7820  , 3] |> fmap$(x 
+00026650: 3d3e 2078 2b31 2920 3d3d 205b 322c 2033  => x+1) == [2, 3
+00026660: 2c20 345d 0d0a 0d0a 636c 6173 7320 4d61  , 4]....class Ma
+00026670: 7962 650d 0a64 6174 6120 4e6f 7468 696e  ybe..data Nothin
+00026680: 6728 2920 6672 6f6d 204d 6179 6265 0d0a  g() from Maybe..
+00026690: 6461 7461 204a 7573 7428 6e29 2066 726f  data Just(n) fro
+000266a0: 6d20 4d61 7962 650d 0a0d 0a4a 7573 7428  m Maybe....Just(
+000266b0: 3329 207c 3e20 666d 6170 2428 7820 3d3e  3) |> fmap$(x =>
+000266c0: 2078 2a32 2920 3d3d 204a 7573 7428 3629   x*2) == Just(6)
+000266d0: 0d0a 4e6f 7468 696e 6728 2920 7c3e 2066  ..Nothing() |> f
+000266e0: 6d61 7024 2878 203d 3e20 782a 3229 203d  map$(x => x*2) =
+000266f0: 3d20 4e6f 7468 696e 6728 290d 0a60 6060  = Nothing()..```
+00026700: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00026710: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
+00026720: 7769 7468 6f75 7420 6120 7365 7269 6573  without a series
+00026730: 206f 6620 6d65 7468 6f64 2064 6566 696e   of method defin
+00026740: 6974 696f 6e73 2066 6f72 2065 6163 6820  itions for each 
+00026750: 6461 7461 2074 7970 652e 2053 6565 2074  data type. See t
+00026760: 6865 2063 6f6d 7069 6c65 6420 636f 6465  he compiled code
+00026770: 2066 6f72 2074 6865 2050 7974 686f 6e20   for the Python 
+00026780: 7379 6e74 6178 2e5f 0d0a 0d0a 0d0a 2323  syntax._......##
+00026790: 2323 2060 6361 6c6c 600d 0a0d 0a2a 2a63  ## `call`....**c
+000267a0: 616c 6c2a 2a28 5f66 756e 635f 2c20 2f2c  all**(_func_, /,
+000267b0: 202a 5f61 7267 735f 2c20 5c2a 5c2a 5f6b   *_args_, \*\*_k
+000267c0: 7761 7267 735f 290d 0a0d 0a43 6f63 6f6e  wargs_)....Cocon
+000267d0: 7574 2773 2060 6361 6c6c 6020 7369 6d70  ut's `call` simp
+000267e0: 6c79 2069 6d70 6c65 6d65 6e74 7320 6675  ly implements fu
+000267f0: 6e63 7469 6f6e 2061 7070 6c69 6361 7469  nction applicati
+00026800: 6f6e 2e20 5468 7573 2c20 6063 616c 6c60  on. Thus, `call`
+00026810: 2069 7320 6566 6665 6374 6976 656c 7920   is effectively 
+00026820: 6571 7569 7661 6c65 6e74 2074 6f0d 0a60  equivalent to..`
+00026830: 6060 636f 636f 6e75 740d 0a64 6566 2063  ``coconut..def c
+00026840: 616c 6c28 662c 202f 2c20 2a61 7267 732c  all(f, /, *args,
+00026850: 202a 2a6b 7761 7267 7329 203d 2066 282a   **kwargs) = f(*
+00026860: 6172 6773 2c20 2a2a 6b77 6172 6773 290d  args, **kwargs).
+00026870: 0a60 6060 0d0a 0d0a 6063 616c 6c60 2069  .```....`call` i
+00026880: 7320 7072 696d 6172 696c 7920 7573 6566  s primarily usef
+00026890: 756c 2061 7320 616e 205b 6f70 6572 6174  ul as an [operat
+000268a0: 6f72 2066 756e 6374 696f 6e5d 2823 6f70  or function](#op
+000268b0: 6572 6174 6f72 2d66 756e 6374 696f 6e73  erator-functions
+000268c0: 2920 666f 7220 6675 6e63 7469 6f6e 2061  ) for function a
+000268d0: 7070 6c69 6361 7469 6f6e 2077 6865 6e20  pplication when 
+000268e0: 7772 6974 696e 6720 696e 2061 2070 6f69  writing in a poi
+000268f0: 6e74 2d66 7265 6520 7374 796c 652e 0d0a  nt-free style...
+00026900: 0d0a 5f44 6570 7265 6361 7465 643a 2060  .._Deprecated: `
+00026910: 6f66 6020 6973 2061 7661 696c 6162 6c65  of` is available
+00026920: 2061 7320 6120 6465 7072 6563 6174 6564   as a deprecated
+00026930: 2061 6c69 6173 2066 6f72 2060 6361 6c6c   alias for `call
+00026940: 602e 204e 6f74 6520 7468 6174 2064 6570  `. Note that dep
+00026950: 7265 6361 7465 6420 6665 6174 7572 6573  recated features
+00026960: 2061 7265 2064 6973 6162 6c65 6420 696e   are disabled in
+00026970: 2060 2d2d 7374 7269 6374 6020 6d6f 6465   `--strict` mode
+00026980: 2e5f 0d0a 0d0a 2323 2323 2060 7361 6665  ._....#### `safe
+00026990: 5f63 616c 6c60 0d0a 0d0a 2a2a 7361 6665  _call`....**safe
+000269a0: 5f63 616c 6c2a 2a28 5f66 756e 635f 2c20  _call**(_func_, 
+000269b0: 2f2c 202a 5f61 7267 735f 2c20 5c2a 5c2a  /, *_args_, \*\*
+000269c0: 5f6b 7761 7267 735f 290d 0a0d 0a43 6f63  _kwargs_)....Coc
+000269d0: 6f6e 7574 2773 2060 7361 6665 5f63 616c  onut's `safe_cal
+000269e0: 6c60 2069 7320 6120 7665 7273 696f 6e20  l` is a version 
+000269f0: 6f66 205b 6063 616c 6c60 5d28 2363 616c  of [`call`](#cal
+00026a00: 6c29 2074 6861 7420 6361 7463 6865 7320  l) that catches 
+00026a10: 616e 7920 6045 7863 6570 7469 6f6e 6073  any `Exception`s
+00026a20: 2061 6e64 2072 6574 7572 6e73 2061 6e20   and returns an 
+00026a30: 5b60 4578 7065 6374 6564 605d 2823 6578  [`Expected`](#ex
+00026a40: 7065 6374 6564 2920 636f 6e74 6169 6e69  pected) containi
+00026a50: 6e67 2065 6974 6865 7220 7468 6520 7265  ng either the re
+00026a60: 7375 6c74 206f 7220 7468 6520 6572 726f  sult or the erro
+00026a70: 722e 0d0a 0d0a 6073 6166 655f 6361 6c6c  r.....`safe_call
+00026a80: 6020 6973 2065 6666 6563 7469 7665 6c79  ` is effectively
+00026a90: 2065 7175 6976 616c 656e 7420 746f 3a0d   equivalent to:.
+00026aa0: 0a60 6060 636f 636f 6e75 740d 0a64 6566  .```coconut..def
+00026ab0: 2073 6166 655f 6361 6c6c 2866 2c20 2f2c   safe_call(f, /,
+00026ac0: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
+00026ad0: 293a 0d0a 2020 2020 7472 793a 0d0a 2020  ):..    try:..  
+00026ae0: 2020 2020 2020 7265 7475 726e 2045 7870        return Exp
+00026af0: 6563 7465 6428 6628 2a61 7267 732c 202a  ected(f(*args, *
+00026b00: 2a6b 7761 7267 7329 290d 0a20 2020 2065  *kwargs))..    e
+00026b10: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00026b20: 6173 2065 7272 3a0d 0a20 2020 2020 2020  as err:..       
+00026b30: 2072 6574 7572 6e20 4578 7065 6374 6564   return Expected
+00026b40: 2865 7272 6f72 3d65 7272 290d 0a60 6060  (error=err)..```
+00026b50: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00026b60: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00026b70: 2a0d 0a60 6060 636f 636f 6e75 740d 0a72  *..```coconut..r
+00026b80: 6573 2c20 6572 7220 3d20 7361 6665 5f63  es, err = safe_c
+00026b90: 616c 6c28 3d3e 2031 202f 2030 2920 7c3e  all(=> 1 / 0) |>
+00026ba0: 2066 6d61 7024 282e 2b31 290d 0a60 6060   fmap$(.+1)..```
+00026bb0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00026bc0: 0a5f 4361 6e27 7420 6265 2064 6f6e 6520  ._Can't be done 
+00026bd0: 7769 7468 6f75 7420 6120 636f 6d70 6c65  without a comple
+00026be0: 7820 6045 7870 6563 7465 6460 2064 6566  x `Expected` def
+00026bf0: 696e 6974 696f 6e2e 2053 6565 2074 6865  inition. See the
+00026c00: 2063 6f6d 7069 6c65 6420 636f 6465 2066   compiled code f
+00026c10: 6f72 2074 6865 2050 7974 686f 6e20 7379  or the Python sy
+00026c20: 6e74 6178 2e5f 0d0a 0d0a 2323 2323 2060  ntax._....#### `
+00026c30: 6964 656e 7460 0d0a 0d0a 2a2a 6964 656e  ident`....**iden
+00026c40: 742a 2a28 5f78 5f2c 202a 2c20 5f73 6964  t**(_x_, *, _sid
+00026c50: 655c 5f65 6666 6563 745f 3d60 4e6f 6e65  e\_effect_=`None
+00026c60: 6029 0d0a 0d0a 436f 636f 6e75 7427 7320  `)....Coconut's 
+00026c70: 6069 6465 6e74 6020 6973 2074 6865 2069  `ident` is the i
+00026c80: 6465 6e74 6974 7920 6675 6e63 7469 6f6e  dentity function
+00026c90: 2c20 6765 6e65 7261 6c6c 7920 6571 7569  , generally equi
+00026ca0: 7661 6c65 6e74 2074 6f20 6078 203d 3e20  valent to `x => 
+00026cb0: 7860 2e0d 0a0d 0a60 6964 656e 7460 2061  x`.....`ident` a
+00026cc0: 6c73 6f20 6163 6365 7074 7320 6f6e 6520  lso accepts one 
+00026cd0: 6b65 7977 6f72 642d 6f6e 6c79 2061 7267  keyword-only arg
+00026ce0: 756d 656e 742c 2060 7369 6465 5f65 6666  ument, `side_eff
+00026cf0: 6563 7460 2c20 7768 6963 6820 7370 6563  ect`, which spec
+00026d00: 6966 6965 7320 6120 6675 6e63 7469 6f6e  ifies a function
+00026d10: 2074 6f20 6361 6c6c 206f 6e20 7468 6520   to call on the 
+00026d20: 6172 6775 6d65 6e74 2062 6566 6f72 6520  argument before 
+00026d30: 6974 2069 7320 7265 7475 726e 6564 2e20  it is returned. 
+00026d40: 5468 7573 2c20 6069 6465 6e74 6020 6973  Thus, `ident` is
+00026d50: 2065 6666 6563 7469 7665 6c79 2065 7175   effectively equ
+00026d60: 6976 616c 656e 7420 746f 3a0d 0a60 6060  ivalent to:..```
+00026d70: 636f 636f 6e75 740d 0a64 6566 2069 6465  coconut..def ide
+00026d80: 6e74 2878 2c20 2a2c 2073 6964 655f 6566  nt(x, *, side_ef
+00026d90: 6665 6374 3d4e 6f6e 6529 3a0d 0a20 2020  fect=None):..   
+00026da0: 2069 6620 7369 6465 5f65 6666 6563 7420   if side_effect 
+00026db0: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
+00026dc0: 2020 2020 2020 7369 6465 5f65 6666 6563        side_effec
+00026dd0: 7428 7829 0d0a 2020 2020 7265 7475 726e  t(x)..    return
+00026de0: 2078 0d0a 6060 600d 0a0d 0a60 6964 656e   x..```....`iden
+00026df0: 7460 2069 7320 7072 696d 6172 696c 7920  t` is primarily 
+00026e00: 7573 6566 756c 2077 6865 6e20 7772 6974  useful when writ
+00026e10: 696e 6720 696e 2061 2070 6f69 6e74 2d66  ing in a point-f
+00026e20: 7265 6520 7374 796c 6520 2865 2e67 2e20  ree style (e.g. 
+00026e30: 696e 2063 6f6d 6269 6e61 7469 6f6e 2077  in combination w
+00026e40: 6974 6820 5b60 6c69 6674 605d 2823 6c69  ith [`lift`](#li
+00026e50: 6674 2929 206f 7220 666f 7220 6465 6275  ft)) or for debu
+00026e60: 6767 696e 6720 5b70 6970 6573 5d28 2370  gging [pipes](#p
+00026e70: 6970 6573 2920 7768 6572 6520 6069 6465  ipes) where `ide
+00026e80: 6e74 2428 7369 6465 5f65 6666 6563 743d  nt$(side_effect=
+00026e90: 7072 696e 7429 6020 6361 6e20 6c65 7420  print)` can let 
+00026ea0: 796f 7520 7365 6520 7768 6174 2069 7320  you see what is 
+00026eb0: 6265 696e 6720 7069 7065 642e 0d0a 0d0a  being piped.....
+00026ec0: 2323 2323 2060 636f 6e73 7460 0d0a 0d0a  #### `const`....
+00026ed0: 2a2a 636f 6e73 742a 2a28 5f76 616c 7565  **const**(_value
+00026ee0: 5f29 0d0a 0d0a 436f 636f 6e75 7427 7320  _)....Coconut's 
+00026ef0: 6063 6f6e 7374 6020 7369 6d70 6c79 2063  `const` simply c
+00026f00: 6f6e 7374 7275 6374 7320 6120 6675 6e63  onstructs a func
+00026f10: 7469 6f6e 2074 6861 742c 2077 6861 7465  tion that, whate
+00026f20: 7665 7220 6974 7320 6172 6775 6d65 6e74  ver its argument
+00026f30: 732c 206a 7573 7420 7265 7475 726e 7320  s, just returns 
+00026f40: 7468 6520 6769 7665 6e20 7661 6c75 652e  the given value.
+00026f50: 2054 6875 732c 2060 636f 6e73 7460 2069   Thus, `const` i
+00026f60: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+00026f70: 6120 7069 636b 6c65 6162 6c65 2076 6572  a pickleable ver
+00026f80: 7369 6f6e 206f 660d 0a60 6060 636f 636f  sion of..```coco
+00026f90: 6e75 740d 0a64 6566 2063 6f6e 7374 2876  nut..def const(v
+00026fa0: 616c 7565 2920 3d20 282a 6172 6773 2c20  alue) = (*args, 
+00026fb0: 2a2a 6b77 6172 6773 2920 3d3e 2076 616c  **kwargs) => val
+00026fc0: 7565 0d0a 6060 600d 0a0d 0a60 636f 6e73  ue..```....`cons
+00026fd0: 7460 2069 7320 7072 696d 6172 696c 7920  t` is primarily 
+00026fe0: 7573 6566 756c 2077 6865 6e20 7772 6974  useful when writ
+00026ff0: 696e 6720 696e 2061 2070 6f69 6e74 2d66  ing in a point-f
+00027000: 7265 6520 7374 796c 6520 2865 2e67 2e20  ree style (e.g. 
+00027010: 696e 2063 6f6d 6269 6e61 7469 6f6e 2077  in combination w
+00027020: 6974 6820 5b60 6c69 6674 605d 2823 6c69  ith [`lift`](#li
+00027030: 6674 2929 2e0d 0a0d 0a23 2323 2320 6066  ft)).....#### `f
+00027040: 6c69 7060 0d0a 0d0a 2a2a 666c 6970 2a2a  lip`....**flip**
+00027050: 285f 6675 6e63 5f2c 205f 6e61 7267 735f  (_func_, _nargs_
+00027060: 3d60 4e6f 6e65 6029 0d0a 0d0a 436f 636f  =`None`)....Coco
+00027070: 6e75 7427 7320 6066 6c69 7028 662c 206e  nut's `flip(f, n
+00027080: 6172 6773 3d4e 6f6e 6529 6020 6973 2061  args=None)` is a
+00027090: 2068 6967 6865 722d 6f72 6465 7220 6675   higher-order fu
+000270a0: 6e63 7469 6f6e 2074 6861 742c 2067 6976  nction that, giv
+000270b0: 656e 2061 2066 756e 6374 696f 6e20 6066  en a function `f
+000270c0: 602c 2072 6574 7572 6e73 2061 206e 6577  `, returns a new
+000270d0: 2066 756e 6374 696f 6e20 7769 7468 2072   function with r
+000270e0: 6576 6572 7365 6420 6172 6775 6d65 6e74  eversed argument
+000270f0: 206f 7264 6572 2e20 4966 2060 6e61 7267   order. If `narg
+00027100: 7360 2069 7320 7061 7373 6564 2c20 6f6e  s` is passed, on
+00027110: 6c79 2074 6865 2066 6972 7374 2060 6e61  ly the first `na
+00027120: 7267 7360 2061 7267 756d 656e 7473 2061  rgs` arguments a
+00027130: 7265 2072 6576 6572 7365 642e 0d0a 0d0a  re reversed.....
+00027140: 466f 7220 7468 6520 6269 6e61 7279 2063  For the binary c
+00027150: 6173 652c 2060 666c 6970 6020 776f 726b  ase, `flip` work
+00027160: 7320 6173 0d0a 6060 6063 6f63 6f6e 7574  s as..```coconut
+00027170: 0d0a 666c 6970 2866 2c20 3229 2878 2c20  ..flip(f, 2)(x, 
+00027180: 7929 203d 3d20 6628 792c 2078 290d 0a60  y) == f(y, x)..`
+00027190: 6060 0d0a 7375 6368 2074 6861 7420 6066  ``..such that `f
+000271a0: 6c69 7024 283f 2c20 3229 6020 696d 706c  lip$(?, 2)` impl
+000271b0: 656d 656e 7473 2074 6865 2060 4360 2063  ements the `C` c
+000271c0: 6f6d 6269 6e61 746f 7220 2860 666c 6970  ombinator (`flip
+000271d0: 6020 696e 2048 6173 6b65 6c6c 292e 0d0a  ` in Haskell)...
+000271e0: 0d0a 496e 2074 6865 2067 656e 6572 616c  ..In the general
+000271f0: 2063 6173 652c 2060 666c 6970 6020 6973   case, `flip` is
+00027200: 2065 7175 6976 616c 656e 7420 746f 2061   equivalent to a
+00027210: 2070 6963 6b6c 6561 626c 6520 7665 7273   pickleable vers
+00027220: 696f 6e20 6f66 0d0a 6060 6063 6f63 6f6e  ion of..```cocon
+00027230: 7574 0d0a 6465 6620 666c 6970 2866 2c20  ut..def flip(f, 
+00027240: 6e61 7267 733d 4e6f 6e65 2920 3d0d 0a20  nargs=None) =.. 
+00027250: 2020 2028 2a61 7267 732c 202a 2a6b 7761     (*args, **kwa
+00027260: 7267 7329 203d 3e20 280d 0a20 2020 2020  rgs) => (..     
+00027270: 2020 2066 282a 6172 6773 5b3a 3a2d 315d     f(*args[::-1]
+00027280: 2c20 2a2a 6b77 6172 6773 2920 6966 206e  , **kwargs) if n
+00027290: 6172 6773 2069 7320 4e6f 6e65 0d0a 2020  args is None..  
+000272a0: 2020 2020 2020 656c 7365 2066 282a 2861        else f(*(a
+000272b0: 7267 735b 6e61 7267 732d 313a 3a2d 315d  rgs[nargs-1::-1]
+000272c0: 202b 2061 7267 735b 6e61 7267 733a 5d29   + args[nargs:])
+000272d0: 2c20 2a2a 6b77 6172 6773 290d 0a20 2020  , **kwargs)..   
+000272e0: 2029 0d0a 6060 600d 0a0d 0a23 2323 2320   )..```....#### 
+000272f0: 606c 6966 7460 0d0a 0d0a 2a2a 6c69 6674  `lift`....**lift
+00027300: 2a2a 285f 6675 6e63 5f29 0d0a 0d0a 2a2a  **(_func_)....**
+00027310: 6c69 6674 2a2a 285f 6675 6e63 5f2c 202a  lift**(_func_, *
+00027320: 5f66 756e 635c 5f61 7267 735f 2c20 2a2a  _func\_args_, **
+00027330: 5f66 756e 635c 5f6b 7761 7267 735f 290d  _func\_kwargs_).
+00027340: 0a0d 0a43 6f63 6f6e 7574 2773 2060 6c69  ...Coconut's `li
+00027350: 6674 6020 6275 696c 742d 696e 2069 7320  ft` built-in is 
+00027360: 6120 6869 6768 6572 2d6f 7264 6572 2066  a higher-order f
+00027370: 756e 6374 696f 6e20 7468 6174 2074 616b  unction that tak
+00027380: 6573 2069 6e20 6120 6675 6e63 7469 6f6e  es in a function
+00027390: 2061 6e64 20e2 809c 6c69 6674 73e2 809d   and ...lifts...
+000273a0: 2069 7420 7570 2073 6f20 7468 6174 2061   it up so that a
+000273b0: 6c6c 206f 6620 6974 7320 6172 6775 6d65  ll of its argume
+000273c0: 6e74 7320 6172 6520 6675 6e63 7469 6f6e  nts are function
+000273d0: 732e 0d0a 0d0a 4173 2061 2073 696d 706c  s.....As a simpl
+000273e0: 6520 6578 616d 706c 652c 2066 6f72 2061  e example, for a
+000273f0: 2062 696e 6172 7920 6675 6e63 7469 6f6e   binary function
+00027400: 2060 6628 782c 2079 2960 2061 6e64 2074   `f(x, y)` and t
+00027410: 776f 2075 6e61 7279 2066 756e 6374 696f  wo unary functio
+00027420: 6e73 2060 6728 7a29 6020 616e 6420 6068  ns `g(z)` and `h
+00027430: 287a 2960 2c20 606c 6966 7460 2077 6f72  (z)`, `lift` wor
+00027440: 6b73 2061 730d 0a60 6060 636f 636f 6e75  ks as..```coconu
+00027450: 740d 0a6c 6966 7428 6629 2867 2c20 6829  t..lift(f)(g, h)
+00027460: 287a 2920 3d3d 2066 2867 287a 292c 2068  (z) == f(g(z), h
+00027470: 287a 2929 0d0a 6060 600d 0a73 7563 6820  (z))..```..such 
+00027480: 7468 6174 2069 6e20 7468 6973 2063 6173  that in this cas
+00027490: 6520 606c 6966 7460 2069 6d70 6c65 6d65  e `lift` impleme
+000274a0: 6e74 7320 7468 6520 6053 2760 2063 6f6d  nts the `S'` com
+000274b0: 6269 6e61 746f 7220 2860 6c69 6674 4132  binator (`liftA2
+000274c0: 6020 6f72 2060 6c69 6674 4d32 6020 696e  ` or `liftM2` in
+000274d0: 2048 6173 6b65 6c6c 292e 0d0a 0d0a 496e   Haskell).....In
+000274e0: 2074 6865 2067 656e 6572 616c 2063 6173   the general cas
+000274f0: 652c 2060 6c69 6674 6020 6973 2065 7175  e, `lift` is equ
+00027500: 6976 616c 656e 7420 746f 2061 2070 6963  ivalent to a pic
+00027510: 6b6c 6561 626c 6520 7665 7273 696f 6e20  kleable version 
+00027520: 6f66 0d0a 6060 6063 6f63 6f6e 7574 0d0a  of..```coconut..
+00027530: 6465 6620 6c69 6674 2866 2920 3d20 280d  def lift(f) = (.
+00027540: 0a20 2020 2028 2a66 756e 635f 6172 6773  .    (*func_args
+00027550: 2c20 2a2a 6675 6e63 5f6b 7761 7267 7329  , **func_kwargs)
+00027560: 203d 3e0d 0a20 2020 2020 2020 2028 2a61   =>..        (*a
+00027570: 7267 732c 202a 2a6b 7761 7267 7329 203d  rgs, **kwargs) =
+00027580: 3e0d 0a20 2020 2020 2020 2020 2020 2066  >..            f
+00027590: 280d 0a20 2020 2020 2020 2020 2020 2020  (..             
+000275a0: 2020 202a 2867 282a 6172 6773 2c20 2a2a     *(g(*args, **
+000275b0: 6b77 6172 6773 2920 666f 7220 6720 696e  kwargs) for g in
+000275c0: 2066 756e 635f 6172 6773 292c 0d0a 2020   func_args),..  
+000275d0: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
+000275e0: 7b6b 3a20 6828 2a61 7267 732c 202a 2a6b  {k: h(*args, **k
+000275f0: 7761 7267 7329 2066 6f72 206b 2c20 6820  wargs) for k, h 
+00027600: 696e 2066 756e 635f 6b77 6172 6773 2e69  in func_kwargs.i
+00027610: 7465 6d73 2829 7d0d 0a20 2020 2020 2020  tems()}..       
+00027620: 2020 2020 2029 0d0a 290d 0a60 6060 0d0a       )..)..```..
+00027630: 0d0a 606c 6966 7460 2061 6c73 6f20 7375  ..`lift` also su
+00027640: 7070 6f72 7473 2061 2073 686f 7274 6375  pports a shortcu
+00027650: 7420 666f 726d 2073 7563 6820 7468 6174  t form such that
+00027660: 2060 6c69 6674 2866 2c20 2a66 756e 635f   `lift(f, *func_
+00027670: 6172 6773 2c20 2a2a 6675 6e63 5f6b 7761  args, **func_kwa
+00027680: 7267 7329 6020 6973 2065 7175 6976 616c  rgs)` is equival
+00027690: 656e 7420 746f 2060 6c69 6674 2866 2928  ent to `lift(f)(
+000276a0: 2a66 756e 635f 6172 6773 2c20 2a2a 6675  *func_args, **fu
+000276b0: 6e63 5f6b 7761 7267 7329 602e 0d0a 0d0a  nc_kwargs)`.....
+000276c0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+000276d0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+000276e0: 6060 636f 636f 6e75 740d 0a78 735f 616e  ``coconut..xs_an
+000276f0: 645f 7873 7031 203d 2069 6465 6e74 2060  d_xsp1 = ident `
+00027700: 6c69 6674 287a 6970 2960 206d 6170 2428  lift(zip)` map$(
+00027710: 3d3e 5f2b 3129 0d0a 6d69 6e5f 616e 645f  =>_+1)..min_and_
+00027720: 6d61 7820 3d20 6c69 6674 282c 2928 6d69  max = lift(,)(mi
+00027730: 6e2c 206d 6178 290d 0a70 6c75 735f 616e  n, max)..plus_an
+00027740: 645f 7469 6d65 7320 3d20 282b 2920 606c  d_times = (+) `l
+00027750: 6966 7428 2c29 6020 282a 290d 0a60 6060  ift(,)` (*)..```
+00027760: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+00027770: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+00027780: 6f6e 0d0a 6465 6620 7873 5f61 6e64 5f78  on..def xs_and_x
+00027790: 7370 3128 7873 293a 0d0a 2020 2020 7265  sp1(xs):..    re
+000277a0: 7475 726e 207a 6970 2878 732c 206d 6170  turn zip(xs, map
+000277b0: 286c 616d 6264 6120 783a 2078 202b 2031  (lambda x: x + 1
+000277c0: 2c20 7873 2929 0d0a 6465 6620 6d69 6e5f  , xs))..def min_
+000277d0: 616e 645f 6d61 7828 7873 293a 0d0a 2020  and_max(xs):..  
+000277e0: 2020 7265 7475 726e 206d 696e 2878 7329    return min(xs)
+000277f0: 2c20 6d61 7828 7873 290d 0a64 6566 2070  , max(xs)..def p
+00027800: 6c75 735f 616e 645f 7469 6d65 7328 782c  lus_and_times(x,
+00027810: 2079 293a 0d0a 2020 2020 7265 7475 726e   y):..    return
+00027820: 2078 202b 2079 2c20 7820 2a20 790d 0a60   x + y, x * y..`
+00027830: 6060 0d0a 0d0a 2323 2323 2060 616e 645f  ``....#### `and_
+00027840: 7468 656e 6020 616e 6420 6061 6e64 5f74  then` and `and_t
+00027850: 6865 6e5f 6177 6169 7460 0d0a 0d0a 436f  hen_await`....Co
+00027860: 636f 6e75 7420 7072 6f76 6964 6573 2074  conut provides t
+00027870: 6865 2060 616e 645f 7468 656e 6020 616e  he `and_then` an
+00027880: 6420 6061 6e64 5f74 6865 6e5f 6177 6169  d `and_then_awai
+00027890: 7460 2062 7569 6c74 2d69 6e73 2066 6f72  t` built-ins for
+000278a0: 2063 6f6d 706f 7369 6e67 2060 6173 796e   composing `asyn
+000278b0: 6360 2066 756e 6374 696f 6e73 2e20 5370  c` functions. Sp
+000278c0: 6563 6966 6963 616c 6c79 3a0d 0a2a 2054  ecifically:..* T
+000278d0: 6f20 666f 7277 6172 6473 2063 6f6d 706f  o forwards compo
+000278e0: 7365 2061 6e20 6173 796e 6320 6675 6e63  se an async func
+000278f0: 7469 6f6e 2060 6173 796e 635f 6660 2077  tion `async_f` w
+00027900: 6974 6820 6120 6e6f 726d 616c 2066 756e  ith a normal fun
+00027910: 6374 696f 6e20 6067 6020 2873 7563 6820  ction `g` (such 
+00027920: 7468 6174 2060 6760 2069 7320 6361 6c6c  that `g` is call
+00027930: 6564 206f 6e20 7468 6520 7265 7375 6c74  ed on the result
+00027940: 206f 6620 6061 7761 6974 6069 6e67 2060   of `await`ing `
+00027950: 6173 796e 635f 6660 292c 2077 7269 7465  async_f`), write
+00027960: 2060 6061 7379 6e63 5f66 2060 616e 645f   ``async_f `and_
+00027970: 7468 656e 6020 6760 602e 0d0a 2a20 546f  then` g``...* To
+00027980: 2066 6f72 7761 7264 7320 636f 6d70 6f73   forwards compos
+00027990: 6520 616e 2061 7379 6e63 2066 756e 6374  e an async funct
+000279a0: 696f 6e20 6061 7379 6e63 5f66 6020 7769  ion `async_f` wi
+000279b0: 7468 2061 6e6f 7468 6572 2061 7379 6e63  th another async
+000279c0: 2066 756e 6374 696f 6e20 6061 7379 6e63   function `async
+000279d0: 5f67 6020 2873 7563 6820 7468 6174 2060  _g` (such that `
+000279e0: 6173 796e 635f 6760 2069 7320 6361 6c6c  async_g` is call
+000279f0: 6564 206f 6e20 7468 6520 7265 7375 6c74  ed on the result
+00027a00: 206f 6620 6061 7761 6974 6069 6e67 2060   of `await`ing `
+00027a10: 6173 796e 635f 6660 2c20 616e 6420 7468  async_f`, and th
+00027a20: 656e 2060 6173 796e 635f 6760 2069 7320  en `async_g` is 
+00027a30: 6974 7365 6c66 2061 7761 6974 6564 292c  itself awaited),
+00027a40: 2077 7269 7465 2060 6061 7379 6e63 5f66   write ``async_f
+00027a50: 2060 616e 645f 7468 656e 5f61 7761 6974   `and_then_await
+00027a60: 6020 6173 796e 635f 6760 602e 0d0a 2a20  ` async_g``...* 
+00027a70: 546f 2066 6f72 7761 7264 7320 636f 6d70  To forwards comp
+00027a80: 6f73 6520 6120 6e6f 726d 616c 2066 756e  ose a normal fun
+00027a90: 6374 696f 6e20 6066 6020 7769 7468 2061  ction `f` with a
+00027aa0: 6e20 6173 796e 6320 6675 6e63 7469 6f6e  n async function
+00027ab0: 2060 6173 796e 635f 6760 2028 7375 6368   `async_g` (such
+00027ac0: 2074 6861 7420 6061 7379 6e63 5f67 6020   that `async_g` 
+00027ad0: 6973 2063 616c 6c65 6420 6f6e 2074 6865  is called on the
+00027ae0: 2072 6573 756c 7420 6f66 2060 6660 292c   result of `f`),
+00027af0: 206a 7573 7420 7772 6974 6520 6066 202e   just write `f .
+00027b00: 2e3e 2061 7379 6e63 5f67 602e 0d0a 0d0a  .> async_g`.....
+00027b10: 4e6f 7465 2074 6861 7420 616c 6c20 6f66  Note that all of
+00027b20: 2074 6865 2061 626f 7665 2077 696c 6c20   the above will 
+00027b30: 616c 7761 7973 2072 6573 756c 7420 696e  always result in
+00027b40: 2074 6865 2072 6573 756c 7469 6e67 2063   the resulting c
+00027b50: 6f6d 706f 7369 7469 6f6e 2062 6569 6e67  omposition being
+00027b60: 2061 6e20 6061 7379 6e63 6020 6675 6e63   an `async` func
+00027b70: 7469 6f6e 2e0d 0a0d 0a54 6865 2062 7569  tion.....The bui
+00027b80: 6c74 2d69 6e73 2061 7265 2065 6666 6563  lt-ins are effec
+00027b90: 7469 7665 6c79 2065 7175 6976 616c 656e  tively equivalen
+00027ba0: 7420 746f 3a0d 0a60 6060 636f 636f 6e75  t to:..```coconu
+00027bb0: 740d 0a64 6566 2061 6e64 5f74 6865 6e5b  t..def and_then[
+00027bc0: 2a2a 542c 2055 2c20 565d 280d 0a20 2020  **T, U, V](..   
+00027bd0: 2066 6972 7374 5f61 7379 6e63 5f66 756e   first_async_fun
+00027be0: 633a 2061 7379 6e63 2028 2a2a 5429 202d  c: async (**T) -
+00027bf0: 3e20 552c 0d0a 2020 2020 7365 636f 6e64  > U,..    second
+00027c00: 5f66 756e 633a 2055 202d 3e20 562c 0d0a  _func: U -> V,..
+00027c10: 2920 2d3e 2061 7379 6e63 2028 2a2a 5429  ) -> async (**T)
+00027c20: 202d 3e20 5620 3d0d 0a20 2020 2061 7379   -> V =..    asy
+00027c30: 6e63 2064 6566 2028 2a61 7267 732c 202a  nc def (*args, *
+00027c40: 2a6b 7761 7267 7329 203d 3e20 280d 0a20  *kwargs) => (.. 
+00027c50: 2020 2020 2020 2066 6972 7374 5f61 7379         first_asy
+00027c60: 6e63 5f66 756e 6328 2a61 7267 732c 202a  nc_func(*args, *
+00027c70: 2a6b 7761 7267 7329 0d0a 2020 2020 2020  *kwargs)..      
+00027c80: 2020 7c3e 2061 7761 6974 0d0a 2020 2020    |> await..    
+00027c90: 2020 2020 7c3e 2073 6563 6f6e 645f 6675      |> second_fu
+00027ca0: 6e63 0d0a 2020 2020 290d 0a0d 0a64 6566  nc..    )....def
+00027cb0: 2061 6e64 5f74 6865 6e5f 6177 6169 745b   and_then_await[
+00027cc0: 2a2a 542c 2055 2c20 565d 280d 0a20 2020  **T, U, V](..   
+00027cd0: 2066 6972 7374 5f61 7379 6e63 5f66 756e   first_async_fun
+00027ce0: 633a 2061 7379 6e63 2028 2a2a 5429 202d  c: async (**T) -
+00027cf0: 3e20 552c 0d0a 2020 2020 7365 636f 6e64  > U,..    second
+00027d00: 5f61 7379 6e63 5f66 756e 633a 2061 7379  _async_func: asy
+00027d10: 6e63 2055 202d 3e20 562c 0d0a 2920 2d3e  nc U -> V,..) ->
+00027d20: 2061 7379 6e63 2028 2a2a 5429 202d 3e20   async (**T) -> 
+00027d30: 5620 3d0d 0a20 2020 2061 7379 6e63 2064  V =..    async d
+00027d40: 6566 2028 2a61 7267 732c 202a 2a6b 7761  ef (*args, **kwa
+00027d50: 7267 7329 203d 3e20 280d 0a20 2020 2020  rgs) => (..     
+00027d60: 2020 2066 6972 7374 5f61 7379 6e63 5f66     first_async_f
+00027d70: 756e 6328 2a61 7267 732c 202a 2a6b 7761  unc(*args, **kwa
+00027d80: 7267 7329 0d0a 2020 2020 2020 2020 7c3e  rgs)..        |>
+00027d90: 2061 7761 6974 0d0a 2020 2020 2020 2020   await..        
+00027da0: 7c3e 2073 6563 6f6e 645f 6173 796e 635f  |> second_async_
+00027db0: 6675 6e63 0d0a 2020 2020 2020 2020 7c3e  func..        |>
+00027dc0: 2061 7761 6974 0d0a 2020 2020 290d 0a60   await..    )..`
+00027dd0: 6060 0d0a 0d0a 4c69 6b65 206e 6f72 6d61  ``....Like norma
+00027de0: 6c20 5b66 756e 6374 696f 6e20 636f 6d70  l [function comp
+00027df0: 6f73 6974 696f 6e5d 2823 6675 6e63 7469  osition](#functi
+00027e00: 6f6e 2d63 6f6d 706f 7369 7469 6f6e 292c  on-composition),
+00027e10: 2060 616e 645f 7468 656e 6020 616e 6420   `and_then` and 
+00027e20: 6061 6e64 5f74 6865 6e5f 6177 6169 7460  `and_then_await`
+00027e30: 2077 696c 6c20 7072 6573 6572 7665 2061   will preserve a
+00027e40: 6c6c 206d 6574 6164 6174 6120 6174 7461  ll metadata atta
+00027e50: 6368 6564 2074 6f20 7468 6520 6669 7273  ched to the firs
+00027e60: 7420 6675 6e63 7469 6f6e 2069 6e20 7468  t function in th
+00027e70: 6520 636f 6d70 6f73 6974 696f 6e2e 0d0a  e composition...
+00027e80: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+00027e90: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+00027ea0: 0a60 6060 636f 636f 6e75 740d 0a6c 6f61  .```coconut..loa
+00027eb0: 645f 616e 645f 7365 6e64 5f64 6174 6120  d_and_send_data 
+00027ec0: 3d20 280d 0a20 2020 206c 6f61 645f 6461  = (..    load_da
+00027ed0: 7461 5f61 7379 6e63 2829 0d0a 2020 2020  ta_async()..    
+00027ee0: 6061 6e64 5f74 6865 6e60 2070 726f 635f  `and_then` proc_
+00027ef0: 6461 7461 0d0a 2020 2020 6061 6e64 5f74  data..    `and_t
+00027f00: 6865 6e5f 6177 6169 7460 2073 656e 645f  hen_await` send_
+00027f10: 6461 7461 0d0a 290d 0a60 6060 0d0a 0d0a  data..)..```....
+00027f20: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+00027f30: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+00027f40: 6173 796e 6320 6465 6620 6c6f 6164 5f61  async def load_a
+00027f50: 6e64 5f73 656e 645f 6461 7461 2829 3a0d  nd_send_data():.
+00027f60: 0a20 2020 2072 6574 7572 6e20 6177 6169  .    return awai
+00027f70: 7420 7365 6e64 5f64 6174 6128 7072 6f63  t send_data(proc
+00027f80: 5f64 6174 6128 6177 6169 7420 6c6f 6164  _data(await load
+00027f90: 5f64 6174 615f 6173 796e 6328 2929 290d  _data_async())).
+00027fa0: 0a60 6060 0d0a 0d0a 2323 2320 4275 696c  .```....### Buil
+00027fb0: 742d 496e 7320 666f 7220 576f 726b 696e  t-Ins for Workin
+00027fc0: 6720 7769 7468 2049 7465 7261 746f 7273  g with Iterators
+00027fd0: 0d0a 0d0a 6060 607b 636f 6e74 656e 7473  ....```{contents
+00027fe0: 7d0d 0a2d 2d2d 0d0a 6c6f 6361 6c3a 0d0a  }..---..local:..
+00027ff0: 6465 7074 683a 2031 0d0a 2d2d 2d0d 0a60  depth: 1..---..`
+00028000: 6060 0d0a 0d0a 2323 2323 2045 6e68 616e  ``....#### Enhan
+00028010: 6365 6420 4275 696c 742d 496e 730d 0a0d  ced Built-Ins...
+00028020: 0a43 6f63 6f6e 7574 2773 2060 6d61 7060  .Coconut's `map`
+00028030: 2c20 607a 6970 602c 2060 6669 6c74 6572  , `zip`, `filter
+00028040: 602c 2060 7265 7665 7273 6564 602c 2061  `, `reversed`, a
+00028050: 6e64 2060 656e 756d 6572 6174 6560 206f  nd `enumerate` o
+00028060: 626a 6563 7473 2061 7265 2065 6e68 616e  bjects are enhan
+00028070: 6365 6420 7665 7273 696f 6e73 206f 6620  ced versions of 
+00028080: 7468 6569 7220 5079 7468 6f6e 2065 7175  their Python equ
+00028090: 6976 616c 656e 7473 2074 6861 7420 7375  ivalents that su
+000280a0: 7070 6f72 743a 0d0a 0d0a 2d20 6072 6576  pport:....- `rev
+000280b0: 6572 7365 6460 0d0a 2d20 6072 6570 7260  ersed`..- `repr`
+000280c0: 0d0a 2d20 4f70 7469 6d69 7a65 6420 6e6f  ..- Optimized no
+000280d0: 726d 616c 2028 616e 6420 6974 6572 6174  rmal (and iterat
+000280e0: 6f72 2920 696e 6465 7869 6e67 2f73 6c69  or) indexing/sli
+000280f0: 6369 6e67 2028 606d 6170 602c 2060 7a69  cing (`map`, `zi
+00028100: 7060 2c20 6072 6576 6572 7365 6460 2c20  p`, `reversed`, 
+00028110: 616e 6420 6065 6e75 6d65 7261 7465 6020  and `enumerate` 
+00028120: 6275 7420 6e6f 7420 6066 696c 7465 7260  but not `filter`
+00028130: 292e 0d0a 2d20 606c 656e 6020 2861 6c6c  )...- `len` (all
+00028140: 2062 7574 2060 6669 6c74 6572 6029 2028   but `filter`) (
+00028150: 7468 6f75 6768 2060 626f 6f6c 6020 7769  though `bool` wi
+00028160: 6c6c 2073 7469 6c6c 2061 6c77 6179 7320  ll still always 
+00028170: 7969 656c 6420 6054 7275 6560 292e 0d0a  yield `True`)...
+00028180: 2d20 5468 6520 6162 696c 6974 7920 746f  - The ability to
+00028190: 2062 6520 6974 6572 6174 6564 206f 7665   be iterated ove
+000281a0: 7220 6d75 6c74 6970 6c65 2074 696d 6573  r multiple times
+000281b0: 2069 6620 7468 6520 756e 6465 726c 7969   if the underlyi
+000281c0: 6e67 2069 7465 7261 746f 7273 2063 616e  ng iterators can
+000281d0: 2062 6520 6974 6572 6174 6564 206f 7665   be iterated ove
+000281e0: 7220 6d75 6c74 6970 6c65 2074 696d 6573  r multiple times
+000281f0: 2e0d 0a2d 205b 5045 5020 3631 385d 2868  ...- [PEP 618](h
+00028200: 7474 7073 3a2f 2f77 7777 2e70 7974 686f  ttps://www.pytho
+00028210: 6e2e 6f72 672f 6465 762f 7065 7073 2f70  n.org/dev/peps/p
+00028220: 6570 2d30 3631 3829 2060 7a69 7028 2e2e  ep-0618) `zip(..
+00028230: 2e2c 2073 7472 6963 743d 5472 7565 2960  ., strict=True)`
+00028240: 2073 7570 706f 7274 206f 6e20 616c 6c20   support on all 
+00028250: 5079 7468 6f6e 2076 6572 7369 6f6e 732e  Python versions.
+00028260: 0d0a 2d20 4164 6465 6420 6073 7472 6963  ..- Added `stric
+00028270: 743d 5472 7565 6020 7375 7070 6f72 7420  t=True` support 
+00028280: 746f 2060 6d61 7060 2061 7320 7765 6c6c  to `map` as well
+00028290: 2028 656e 666f 7263 6573 2074 6861 7420   (enforces that 
+000282a0: 6974 6572 6162 6c65 7320 6172 6520 7468  iterables are th
+000282b0: 6520 7361 6d65 206c 656e 6774 6820 696e  e same length in
+000282c0: 2074 6865 206d 756c 7469 2d69 7465 7261   the multi-itera
+000282d0: 626c 6520 6361 7365 3b20 7573 6573 2060  ble case; uses `
+000282e0: 7a69 7060 2075 6e64 6572 2074 6865 2068  zip` under the h
+000282f0: 6f6f 6420 7375 6368 2074 6861 7420 6572  ood such that er
+00028300: 726f 7273 2077 696c 6c20 7368 6f77 2075  rors will show u
+00028310: 7020 6173 2060 7a69 7028 2e2e 2e2c 2073  p as `zip(..., s
+00028320: 7472 6963 743d 5472 7565 2960 2065 7272  trict=True)` err
+00028330: 6f72 7329 2e0d 0a2d 2041 6464 6564 2061  ors)...- Added a
+00028340: 7474 7269 6275 7465 7320 7768 6963 6820  ttributes which 
+00028350: 7375 6263 6c61 7373 6573 2063 616e 206d  subclasses can m
+00028360: 616b 6520 7573 6520 6f66 2074 6f20 6765  ake use of to ge
+00028370: 7420 6174 2074 6865 206f 7269 6769 6e61  t at the origina
+00028380: 6c20 6172 6775 6d65 6e74 7320 746f 2074  l arguments to t
+00028390: 6865 206f 626a 6563 743a 0d0a 2020 2a20  he object:..  * 
+000283a0: 606d 6170 603a 2060 6675 6e63 602c 2060  `map`: `func`, `
+000283b0: 6974 6572 7360 0d0a 2020 2a20 607a 6970  iters`..  * `zip
+000283c0: 603a 2060 6974 6572 7360 0d0a 2020 2a20  `: `iters`..  * 
+000283d0: 6066 696c 7465 7260 3a20 6066 756e 6360  `filter`: `func`
+000283e0: 2c20 6069 7465 7260 0d0a 2020 2a20 6072  , `iter`..  * `r
+000283f0: 6576 6572 7365 6460 3a20 6069 7465 7260  eversed`: `iter`
+00028400: 0d0a 2020 2a20 6065 6e75 6d65 7261 7465  ..  * `enumerate
+00028410: 603a 2060 6974 6572 602c 2060 7374 6172  `: `iter`, `star
+00028420: 7460 0d0a 0d0a 2323 2323 2320 496e 6465  t`....##### Inde
+00028430: 7869 6e67 2069 6e74 6f20 6f74 6865 7220  xing into other 
+00028440: 6275 696c 742d 696e 730d 0a0d 0a54 686f  built-ins....Tho
+00028450: 7567 6820 436f 636f 6e75 7420 7072 6f76  ugh Coconut prov
+00028460: 6964 6573 2072 616e 646f 6d20 6163 6365  ides random acce
+00028470: 7373 2069 6e64 6578 696e 672f 736c 6963  ss indexing/slic
+00028480: 696e 6720 746f 2060 7261 6e67 6560 2c20  ing to `range`, 
+00028490: 606d 6170 602c 2060 7a69 7060 2c20 6072  `map`, `zip`, `r
+000284a0: 6576 6572 7365 6460 2c20 616e 6420 6065  eversed`, and `e
+000284b0: 6e75 6d65 7261 7465 602c 2043 6f63 6f6e  numerate`, Cocon
+000284c0: 7574 2063 616e 6e6f 7420 696e 6465 7820  ut cannot index 
+000284d0: 696e 746f 2062 7569 6c74 2d69 6e73 206c  into built-ins l
+000284e0: 696b 6520 6066 696c 7465 7260 2c20 6074  ike `filter`, `t
+000284f0: 616b 6577 6869 6c65 602c 206f 7220 6064  akewhile`, or `d
+00028500: 726f 7077 6869 6c65 6020 6469 7265 6374  ropwhile` direct
+00028510: 6c79 2c20 6173 2074 6865 7265 2069 7320  ly, as there is 
+00028520: 6e6f 2065 6666 6963 6965 6e74 2077 6179  no efficient way
+00028530: 2074 6f20 646f 2073 6f2e 0d0a 0d0a 6060   to do so.....``
+00028540: 6063 6f63 6f6e 7574 0d0a 7261 6e67 6528  `coconut..range(
+00028550: 3130 2920 7c3e 2066 696c 7465 7224 2869  10) |> filter$(i
+00028560: 203d 3e20 693e 3329 207c 3e20 2e5b 305d   => i>3) |> .[0]
+00028570: 2020 2320 646f 6573 6e27 7420 776f 726b    # doesn't work
+00028580: 0d0a 6060 600d 0a0d 0a49 6e20 6f72 6465  ..```....In orde
+00028590: 7220 746f 206d 616b 6520 7468 6973 2077  r to make this w
+000285a0: 6f72 6b2c 2079 6f75 2063 616e 2065 7870  ork, you can exp
+000285b0: 6c69 6369 746c 7920 7573 6520 6974 6572  licitly use iter
+000285c0: 6174 6f72 2073 6c69 6369 6e67 2c20 7768  ator slicing, wh
+000285d0: 6963 6820 6973 206c 6573 7320 6566 6669  ich is less effi
+000285e0: 6369 656e 7420 696e 2074 6865 2067 656e  cient in the gen
+000285f0: 6572 616c 2063 6173 653a 0d0a 0d0a 6060  eral case:....``
+00028600: 6063 6f63 6f6e 7574 0d0a 7261 6e67 6528  `coconut..range(
+00028610: 3130 2920 7c3e 2066 696c 7465 7224 2869  10) |> filter$(i
+00028620: 203d 3e20 693e 3329 207c 3e20 2e24 5b30   => i>3) |> .$[0
+00028630: 5d20 2023 2077 6f72 6b73 0d0a 6060 600d  ]  # works..```.
+00028640: 0a0d 0a46 6f72 206d 6f72 6520 696e 666f  ...For more info
+00028650: 726d 6174 696f 6e20 6f6e 2043 6f63 6f6e  rmation on Cocon
+00028660: 7574 2773 2069 7465 7261 746f 7220 736c  ut's iterator sl
+00028670: 6963 696e 672c 2073 6565 205b 6865 7265  icing, see [here
+00028680: 5d28 2369 7465 7261 746f 722d 736c 6963  ](#iterator-slic
+00028690: 696e 6729 2e0d 0a0d 0a23 2323 2323 2045  ing).....##### E
+000286a0: 7861 6d70 6c65 730d 0a0d 0a2a 2a43 6f63  xamples....**Coc
+000286b0: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+000286c0: 6e75 740d 0a6d 6170 2828 2b29 2c20 7261  nut..map((+), ra
+000286d0: 6e67 6528 3529 2c20 7261 6e67 6528 3629  nge(5), range(6)
+000286e0: 2920 7c3e 206c 656e 207c 3e20 7072 696e  ) |> len |> prin
+000286f0: 740d 0a72 616e 6765 2831 3029 207c 3e20  t..range(10) |> 
+00028700: 6669 6c74 6572 2428 2878 2920 3d3e 2078  filter$((x) => x
+00028710: 203c 2035 2920 7c3e 2072 6576 6572 7365   < 5) |> reverse
+00028720: 6420 7c3e 2074 7570 6c65 207c 3e20 7072  d |> tuple |> pr
+00028730: 696e 740d 0a60 6060 0d0a 0d0a 2a2a 5079  int..```....**Py
+00028740: 7468 6f6e 3a2a 2a0d 0a5f 4361 6e27 7420  thon:**.._Can't 
+00028750: 6265 2064 6f6e 6520 7769 7468 6f75 7420  be done without 
+00028760: 6465 6669 6e69 6e67 2061 2063 7573 746f  defining a custo
+00028770: 6d20 606d 6170 6020 7479 7065 2e20 5468  m `map` type. Th
+00028780: 6520 6675 6c6c 2064 6566 696e 6974 696f  e full definitio
+00028790: 6e20 6f66 2060 6d61 7060 2063 616e 2062  n of `map` can b
+000287a0: 6520 666f 756e 6420 696e 2074 6865 2043  e found in the C
+000287b0: 6f63 6f6e 7574 2068 6561 6465 722e 5f0d  oconut header._.
+000287c0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+000287d0: 0a60 6060 636f 636f 6e75 740d 0a72 616e  .```coconut..ran
+000287e0: 6765 2830 2c20 3132 2c20 3229 5b34 5d20  ge(0, 12, 2)[4] 
+000287f0: 2023 2038 0d0a 0d0a 6d61 7028 2869 203d   # 8....map((i =
+00028800: 3e20 692a 3229 2c20 7261 6e67 6528 3130  > i*2), range(10
+00028810: 2929 5b32 5d20 2023 2034 0d0a 6060 600d  ))[2]  # 4..```.
+00028820: 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a  ...**Python:**..
+00028830: 5f43 616e e280 9974 2062 6520 646f 6e65  _Can...t be done
+00028840: 2071 7569 636b 6c79 2077 6974 686f 7574   quickly without
+00028850: 2043 6f63 6f6e 7574 e280 9973 2069 7465   Coconut...s ite
+00028860: 7261 626c 6520 696e 6465 7869 6e67 2c20  rable indexing, 
+00028870: 7768 6963 6820 7265 7175 6972 6573 206d  which requires m
+00028880: 616e 7920 636f 6d70 6c69 6361 7465 6420  any complicated 
+00028890: 7069 6563 6573 2e20 5468 6520 6e65 6365  pieces. The nece
+000288a0: 7373 6172 7920 6465 6669 6e69 7469 6f6e  ssary definition
+000288b0: 7320 696e 2050 7974 686f 6e20 6361 6e20  s in Python can 
+000288c0: 6265 2066 6f75 6e64 2069 6e20 7468 6520  be found in the 
+000288d0: 436f 636f 6e75 7420 6865 6164 6572 2e5f  Coconut header._
+000288e0: 0d0a 0d0a 2323 2323 2060 7265 6475 6365  ....#### `reduce
+000288f0: 600d 0a0d 0a2a 2a72 6564 7563 652a 2a28  `....**reduce**(
+00028900: 5f66 756e 6374 696f 6e5f 2c20 5f69 7465  _function_, _ite
+00028910: 7261 626c 655f 5b2c 205f 696e 6974 6961  rable_[, _initia
+00028920: 6c5f 5d2c 202f 290d 0a0d 0a43 6f63 6f6e  l_], /)....Cocon
+00028930: 7574 2072 652d 696e 7472 6f64 7563 6573  ut re-introduces
+00028940: 2050 7974 686f 6e20 3227 7320 6072 6564   Python 2's `red
+00028950: 7563 6560 2062 7569 6c74 2d69 6e2c 2075  uce` built-in, u
+00028960: 7369 6e67 2074 6865 2060 6675 6e63 746f  sing the `functo
+00028970: 6f6c 732e 7265 6475 6365 6020 7665 7273  ols.reduce` vers
+00028980: 696f 6e2e 0d0a 0d0a 2323 2323 2320 5079  ion.....##### Py
+00028990: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a72  thon Docs....**r
+000289a0: 6564 7563 652a 2a28 5f66 756e 6374 696f  educe**(_functio
+000289b0: 6e2c 2069 7465 7261 626c 655f 2a2a 5b2a  n, iterable_**[*
+000289c0: 2a5f 2c20 696e 6974 6961 6c5f 2a2a 5d2a  *_, initial_**]*
+000289d0: 2a29 0d0a 0d0a 4170 706c 7920 5f66 756e  *)....Apply _fun
+000289e0: 6374 696f 6e5f 206f 6620 7477 6f20 6172  ction_ of two ar
+000289f0: 6775 6d65 6e74 7320 6375 6d75 6c61 7469  guments cumulati
+00028a00: 7665 6c79 2074 6f20 7468 6520 6974 656d  vely to the item
+00028a10: 7320 6f66 205f 7365 7175 656e 6365 5f2c  s of _sequence_,
+00028a20: 2066 726f 6d20 6c65 6674 2074 6f20 7269   from left to ri
+00028a30: 6768 742c 2073 6f20 6173 2074 6f20 7265  ght, so as to re
+00028a40: 6475 6365 2074 6865 2073 6571 7565 6e63  duce the sequenc
+00028a50: 6520 746f 2061 2073 696e 676c 6520 7661  e to a single va
+00028a60: 6c75 652e 2046 6f72 2065 7861 6d70 6c65  lue. For example
+00028a70: 2c20 6072 6564 7563 6528 2878 2c20 7929  , `reduce((x, y)
+00028a80: 203d 3e20 782b 792c 205b 312c 2032 2c20   => x+y, [1, 2, 
+00028a90: 332c 2034 2c20 355d 2960 2063 616c 6375  3, 4, 5])` calcu
+00028aa0: 6c61 7465 7320 6028 2828 2831 2b32 292b  lates `((((1+2)+
+00028ab0: 3329 2b34 292b 3529 602e 2054 6865 206c  3)+4)+5)`. The l
+00028ac0: 6566 7420 6172 6775 6d65 6e74 2c20 5f78  eft argument, _x
+00028ad0: 5f2c 2069 7320 7468 6520 6163 6375 6d75  _, is the accumu
+00028ae0: 6c61 7465 6420 7661 6c75 6520 616e 6420  lated value and 
+00028af0: 7468 6520 7269 6768 7420 6172 6775 6d65  the right argume
+00028b00: 6e74 2c20 5f79 5f2c 2069 7320 7468 6520  nt, _y_, is the 
+00028b10: 7570 6461 7465 2076 616c 7565 2066 726f  update value fro
+00028b20: 6d20 7468 6520 5f73 6571 7565 6e63 655f  m the _sequence_
+00028b30: 2e20 4966 2074 6865 206f 7074 696f 6e61  . If the optiona
+00028b40: 6c20 5f69 6e69 7469 616c 5f20 6973 2070  l _initial_ is p
+00028b50: 7265 7365 6e74 2c20 6974 2069 7320 706c  resent, it is pl
+00028b60: 6163 6564 2062 6566 6f72 6520 7468 6520  aced before the 
+00028b70: 6974 656d 7320 6f66 2074 6865 2073 6571  items of the seq
+00028b80: 7565 6e63 6520 696e 2074 6865 2063 616c  uence in the cal
+00028b90: 6375 6c61 7469 6f6e 2c20 616e 6420 7365  culation, and se
+00028ba0: 7276 6573 2061 7320 6120 6465 6661 756c  rves as a defaul
+00028bb0: 7420 7768 656e 2074 6865 2073 6571 7565  t when the seque
+00028bc0: 6e63 6520 6973 2065 6d70 7479 2e20 4966  nce is empty. If
+00028bd0: 205f 696e 6974 6961 6c5f 2069 7320 6e6f   _initial_ is no
+00028be0: 7420 6769 7665 6e20 616e 6420 5f73 6571  t given and _seq
+00028bf0: 7565 6e63 655f 2063 6f6e 7461 696e 7320  uence_ contains 
+00028c00: 6f6e 6c79 206f 6e65 2069 7465 6d2c 2074  only one item, t
+00028c10: 6865 2066 6972 7374 2069 7465 6d20 6973  he first item is
+00028c20: 2072 6574 7572 6e65 642e 0d0a 0d0a 2323   returned.....##
+00028c30: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+00028c40: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+00028c50: 636f 636f 6e75 740d 0a70 726f 6475 6374  coconut..product
+00028c60: 203d 2072 6564 7563 6524 282a 290d 0a72   = reduce$(*)..r
+00028c70: 616e 6765 2831 2c20 3130 2920 7c3e 2070  ange(1, 10) |> p
+00028c80: 726f 6475 6374 207c 3e20 7072 696e 740d  roduct |> print.
+00028c90: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+00028ca0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
+00028cb0: 7079 7468 6f6e 0d0a 696d 706f 7274 206f  python..import o
+00028cc0: 7065 7261 746f 720d 0a69 6d70 6f72 7420  perator..import 
+00028cd0: 6675 6e63 746f 6f6c 730d 0a70 726f 6475  functools..produ
+00028ce0: 6374 203d 2066 756e 6374 6f6f 6c73 2e70  ct = functools.p
+00028cf0: 6172 7469 616c 2866 756e 6374 6f6f 6c73  artial(functools
+00028d00: 2e72 6564 7563 652c 206f 7065 7261 746f  .reduce, operato
+00028d10: 722e 6d75 6c29 0d0a 7072 696e 7428 7072  r.mul)..print(pr
+00028d20: 6f64 7563 7428 7261 6e67 6528 312c 2031  oduct(range(1, 1
+00028d30: 3029 2929 0d0a 6060 600d 0a0d 0a23 2323  0)))..```....###
+00028d40: 2320 6072 6569 7465 7261 626c 6560 0d0a  # `reiterable`..
+00028d50: 0d0a 2a2a 7265 6974 6572 6162 6c65 2a2a  ..**reiterable**
+00028d60: 285f 6974 6572 6162 6c65 5f29 0d0a 0d0a  (_iterable_)....
+00028d70: 6072 6569 7465 7261 626c 6560 2077 7261  `reiterable` wra
+00028d80: 7073 2074 6865 2067 6976 656e 2069 7465  ps the given ite
+00028d90: 7261 626c 6520 746f 2065 6e73 7572 6520  rable to ensure 
+00028da0: 7468 6174 2065 7665 7279 2074 696d 6520  that every time 
+00028db0: 7468 6520 6072 6569 7465 7261 626c 6560  the `reiterable`
+00028dc0: 2069 7320 6974 6572 6174 6564 206f 7665   is iterated ove
+00028dd0: 722c 2069 7420 7072 6f64 7563 6573 2074  r, it produces t
+00028de0: 6865 2073 616d 6520 7265 7375 6c74 732e  he same results.
+00028df0: 204e 6f74 6520 7468 6174 2074 6865 2072   Note that the r
+00028e00: 6573 756c 7420 6e65 6564 206e 6f74 2062  esult need not b
+00028e10: 6520 6120 6072 6569 7465 7261 626c 6560  e a `reiterable`
+00028e20: 206f 626a 6563 7420 6966 2074 6865 2067   object if the g
+00028e30: 6976 656e 2069 7465 7261 626c 6520 6973  iven iterable is
+00028e40: 2061 6c72 6561 6479 2072 6569 7465 7261   already reitera
+00028e50: 626c 652e 2060 7265 6974 6572 6162 6c65  ble. `reiterable
+00028e60: 6020 7573 6573 205b 6074 6565 605d 2823  ` uses [`tee`](#
+00028e70: 7465 6529 2075 6e64 6572 2074 6865 2068  tee) under the h
+00028e80: 6f6f 6420 616e 6420 6074 6565 6020 6361  ood and `tee` ca
+00028e90: 6e20 6265 2075 7365 6420 696e 2069 7473  n be used in its
+00028ea0: 2070 6c61 6365 2c20 7468 6f75 6768 2060   place, though `
+00028eb0: 7265 6974 6572 6162 6c65 6020 6973 2067  reiterable` is g
+00028ec0: 656e 6572 616c 6c79 2072 6563 6f6d 6d65  enerally recomme
+00028ed0: 6e64 6564 206f 7665 7220 6074 6565 602e  nded over `tee`.
+00028ee0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00028ef0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00028f00: 2a0d 0a60 6060 636f 636f 6e75 740d 0a64  *..```coconut..d
+00028f10: 6566 206c 6973 745f 7479 7065 2878 7329  ef list_type(xs)
+00028f20: 3a0d 0a20 2020 206d 6174 6368 2072 6569  :..    match rei
+00028f30: 7465 7261 626c 6528 7873 293a 0d0a 2020  terable(xs):..  
+00028f40: 2020 2020 2020 6361 7365 205b 6673 742c        case [fst,
+00028f50: 2073 6e64 5d20 3a3a 2074 6169 6c3a 0d0a   snd] :: tail:..
+00028f60: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00028f70: 726e 2022 6174 206c 6561 7374 2032 220d  rn "at least 2".
+00028f80: 0a20 2020 2020 2020 2063 6173 6520 5b66  .        case [f
+00028f90: 7374 5d20 3a3a 2074 6169 6c3a 0d0a 2020  st] :: tail:..  
+00028fa0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00028fb0: 2022 6174 206c 6561 7374 2031 220d 0a20   "at least 1".. 
+00028fc0: 2020 2020 2020 2063 6173 6520 287c 207c         case (| |
+00028fd0: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+00028fe0: 7265 7475 726e 2022 656d 7074 7922 0d0a  return "empty"..
+00028ff0: 6060 600d 0a0d 0a2a 2a50 7974 686f 6e3a  ```....**Python:
+00029000: 2a2a 0d0a 5f43 616e 2774 2062 6520 646f  **.._Can't be do
+00029010: 6e65 2077 6974 686f 7574 2061 206c 6f6e  ne without a lon
+00029020: 6720 7365 7269 6573 206f 6620 6368 6563  g series of chec
+00029030: 6b73 2066 6f72 2065 6163 6820 606d 6174  ks for each `mat
+00029040: 6368 6020 7374 6174 656d 656e 742e 2053  ch` statement. S
+00029050: 6565 2074 6865 2063 6f6d 7069 6c65 6420  ee the compiled 
+00029060: 636f 6465 2066 6f72 2074 6865 2050 7974  code for the Pyt
+00029070: 686f 6e20 7379 6e74 6178 2e5f 0d0a 0d0a  hon syntax._....
+00029080: 2323 2323 2060 7374 6172 6d61 7060 0d0a  #### `starmap`..
+00029090: 0d0a 2a2a 7374 6172 6d61 702a 2a28 5f66  ..**starmap**(_f
+000290a0: 756e 6374 696f 6e5f 2c20 5f69 7465 7261  unction_, _itera
+000290b0: 626c 655f 290d 0a0d 0a43 6f63 6f6e 7574  ble_)....Coconut
+000290c0: 2070 726f 7669 6465 7320 6120 6d6f 6469   provides a modi
+000290d0: 6669 6564 2076 6572 7369 6f6e 206f 6620  fied version of 
+000290e0: 6069 7465 7274 6f6f 6c73 2e73 7461 726d  `itertools.starm
+000290f0: 6170 6020 7468 6174 2073 7570 706f 7274  ap` that support
+00029100: 7320 6072 6576 6572 7365 6460 2c20 6072  s `reversed`, `r
+00029110: 6570 7260 2c20 6f70 7469 6d69 7a65 6420  epr`, optimized 
+00029120: 6e6f 726d 616c 2028 616e 6420 6974 6572  normal (and iter
+00029130: 6174 6f72 2920 736c 6963 696e 672c 2060  ator) slicing, `
+00029140: 6c65 6e60 2c20 616e 6420 6066 756e 6360  len`, and `func`
+00029150: 2f60 6974 6572 6020 6174 7472 6962 7574  /`iter` attribut
+00029160: 6573 2e0d 0a0d 0a23 2323 2323 2050 7974  es.....##### Pyt
+00029170: 686f 6e20 446f 6373 0d0a 0d0a 2a2a 7374  hon Docs....**st
+00029180: 6172 6d61 702a 2a28 5f66 756e 6374 696f  armap**(_functio
+00029190: 6e2c 2069 7465 7261 626c 655f 290d 0a0d  n, iterable_)...
+000291a0: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
+000291b0: 7220 7468 6174 2063 6f6d 7075 7465 7320  r that computes 
+000291c0: 7468 6520 6675 6e63 7469 6f6e 2075 7369  the function usi
+000291d0: 6e67 2061 7267 756d 656e 7473 206f 6274  ng arguments obt
+000291e0: 6169 6e65 6420 6672 6f6d 2074 6865 2069  ained from the i
+000291f0: 7465 7261 626c 652e 2055 7365 6420 696e  terable. Used in
+00029200: 7374 6561 6420 6f66 2060 6d61 7028 2960  stead of `map()`
+00029210: 2077 6865 6e20 6172 6775 6d65 6e74 2070   when argument p
+00029220: 6172 616d 6574 6572 7320 6172 6520 616c  arameters are al
+00029230: 7265 6164 7920 6772 6f75 7065 6420 696e  ready grouped in
+00029240: 2074 7570 6c65 7320 6672 6f6d 2061 2073   tuples from a s
+00029250: 696e 676c 6520 6974 6572 6162 6c65 2028  ingle iterable (
+00029260: 7468 6520 6461 7461 2068 6173 2062 6565  the data has bee
+00029270: 6e20 2270 7265 2d7a 6970 7065 6422 292e  n "pre-zipped").
+00029280: 2054 6865 2064 6966 6665 7265 6e63 6520   The difference 
+00029290: 6265 7477 6565 6e20 606d 6170 2829 6020  between `map()` 
+000292a0: 616e 6420 6073 7461 726d 6170 2829 6020  and `starmap()` 
+000292b0: 7061 7261 6c6c 656c 7320 7468 6520 6469  parallels the di
+000292c0: 7374 696e 6374 696f 6e20 6265 7477 6565  stinction betwee
+000292d0: 6e20 6066 756e 6374 696f 6e28 612c 6229  n `function(a,b)
+000292e0: 6020 616e 6420 6066 756e 6374 696f 6e28  ` and `function(
+000292f0: 2a63 2960 2e20 526f 7567 686c 7920 6571  *c)`. Roughly eq
+00029300: 7569 7661 6c65 6e74 2074 6f3a 0d0a 0d0a  uivalent to:....
+00029310: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00029320: 6e0d 0a64 6566 2073 7461 726d 6170 2866  n..def starmap(f
+00029330: 756e 6374 696f 6e2c 2069 7465 7261 626c  unction, iterabl
+00029340: 6529 3a0d 0a20 2020 2023 2073 7461 726d  e):..    # starm
+00029350: 6170 2870 6f77 2c20 5b28 322c 3529 2c20  ap(pow, [(2,5), 
+00029360: 2833 2c32 292c 2028 3130 2c33 295d 2920  (3,2), (10,3)]) 
+00029370: 2d2d 3e20 3332 2039 2031 3030 300d 0a20  --> 32 9 1000.. 
+00029380: 2020 2066 6f72 2061 7267 7320 696e 2069     for args in i
+00029390: 7465 7261 626c 653a 0d0a 2020 2020 2020  terable:..      
+000293a0: 2020 7969 656c 6420 6675 6e63 7469 6f6e    yield function
+000293b0: 282a 6172 6773 290d 0a60 6060 0d0a 0d0a  (*args)..```....
+000293c0: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+000293d0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+000293e0: 6060 636f 636f 6e75 740d 0a72 616e 6765  ``coconut..range
+000293f0: 2831 2c20 3529 207c 3e20 6d61 7024 2872  (1, 5) |> map$(r
+00029400: 616e 6765 2920 7c3e 2073 7461 726d 6170  ange) |> starmap
+00029410: 2428 7072 696e 7429 207c 3e20 636f 6e73  $(print) |> cons
+00029420: 756d 650d 0a60 6060 0d0a 0d0a 2a2a 5079  ume..```....**Py
+00029430: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+00029440: 6e75 745f 7079 7468 6f6e 0d0a 696d 706f  nut_python..impo
+00029450: 7274 2069 7465 7274 6f6f 6c73 2c20 636f  rt itertools, co
+00029460: 6c6c 6563 7469 6f6e 730d 0a63 6f6c 6c65  llections..colle
+00029470: 6374 696f 6e73 2e64 6571 7565 2869 7465  ctions.deque(ite
+00029480: 7274 6f6f 6c73 2e73 7461 726d 6170 2870  rtools.starmap(p
+00029490: 7269 6e74 2c20 6d61 7028 7261 6e67 652c  rint, map(range,
+000294a0: 2072 616e 6765 2831 2c20 3529 2929 2c20   range(1, 5))), 
+000294b0: 6d61 786c 656e 3d30 290d 0a60 6060 0d0a  maxlen=0)..```..
+000294c0: 0d0a 2323 2323 2060 7a69 705f 6c6f 6e67  ..#### `zip_long
+000294d0: 6573 7460 0d0a 0d0a 2a2a 7a69 705c 5f6c  est`....**zip\_l
+000294e0: 6f6e 6765 7374 2a2a 282a 5f69 7465 7261  ongest**(*_itera
+000294f0: 626c 6573 5f2c 205f 6669 6c6c 7661 6c75  bles_, _fillvalu
+00029500: 655f 3d60 4e6f 6e65 6029 0d0a 0d0a 436f  e_=`None`)....Co
+00029510: 636f 6e75 7420 7072 6f76 6964 6573 2061  conut provides a
+00029520: 6e20 656e 6861 6e63 6564 2076 6572 7369  n enhanced versi
+00029530: 6f6e 206f 6620 6069 7465 7274 6f6f 6c73  on of `itertools
+00029540: 2e7a 6970 5f6c 6f6e 6765 7374 6020 6173  .zip_longest` as
+00029550: 2061 2062 7569 6c74 2d69 6e20 756e 6465   a built-in unde
+00029560: 7220 7468 6520 6e61 6d65 2060 7a69 705f  r the name `zip_
+00029570: 6c6f 6e67 6573 7460 2e20 607a 6970 5f6c  longest`. `zip_l
+00029580: 6f6e 6765 7374 6020 7375 7070 6f72 7473  ongest` supports
+00029590: 2061 6c6c 2074 6865 2073 616d 6520 6665   all the same fe
+000295a0: 6174 7572 6573 2061 7320 436f 636f 6e75  atures as Coconu
+000295b0: 7427 7320 5b65 6e68 616e 6365 6420 7a69  t's [enhanced zi
+000295c0: 705d 2823 656e 6861 6e63 6564 2d62 7569  p](#enhanced-bui
+000295d0: 6c74 2d69 6e73 2920 6173 2077 656c 6c20  lt-ins) as well 
+000295e0: 6173 2074 6865 2061 6464 6974 696f 6e61  as the additiona
+000295f0: 6c20 6174 7472 6962 7574 6520 6066 696c  l attribute `fil
+00029600: 6c76 616c 7565 602e 0d0a 0d0a 2323 2323  lvalue`.....####
+00029610: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+00029620: 0a2a 2a7a 6970 5c5f 6c6f 6e67 6573 742a  .**zip\_longest*
+00029630: 2a28 5f5c 2a69 7465 7261 626c 6573 2c20  *(_\*iterables, 
+00029640: 6669 6c6c 7661 6c75 653d 4e6f 6e65 5f29  fillvalue=None_)
+00029650: 0d0a 0d0a 4d61 6b65 2061 6e20 6974 6572  ....Make an iter
+00029660: 6174 6f72 2074 6861 7420 6167 6772 6567  ator that aggreg
+00029670: 6174 6573 2065 6c65 6d65 6e74 7320 6672  ates elements fr
+00029680: 6f6d 2065 6163 6820 6f66 2074 6865 2069  om each of the i
+00029690: 7465 7261 626c 6573 2e20 4966 2074 6865  terables. If the
+000296a0: 2069 7465 7261 626c 6573 2061 7265 206f   iterables are o
+000296b0: 6620 756e 6576 656e 206c 656e 6774 682c  f uneven length,
+000296c0: 206d 6973 7369 6e67 2076 616c 7565 7320   missing values 
+000296d0: 6172 6520 6669 6c6c 6564 2d69 6e20 7769  are filled-in wi
+000296e0: 7468 205f 6669 6c6c 7661 6c75 655f 2e20  th _fillvalue_. 
+000296f0: 4974 6572 6174 696f 6e20 636f 6e74 696e  Iteration contin
+00029700: 7565 7320 756e 7469 6c20 7468 6520 6c6f  ues until the lo
+00029710: 6e67 6573 7420 6974 6572 6162 6c65 2069  ngest iterable i
+00029720: 7320 6578 6861 7573 7465 642e 2052 6f75  s exhausted. Rou
+00029730: 6768 6c79 2065 7175 6976 616c 656e 7420  ghly equivalent 
+00029740: 746f 3a0d 0a0d 0a60 6060 636f 636f 6e75  to:....```coconu
+00029750: 745f 7079 7468 6f6e 0d0a 6465 6620 7a69  t_python..def zi
+00029760: 705f 6c6f 6e67 6573 7428 2a61 7267 732c  p_longest(*args,
+00029770: 2066 696c 6c76 616c 7565 3d4e 6f6e 6529   fillvalue=None)
+00029780: 3a0d 0a20 2020 2023 207a 6970 5f6c 6f6e  :..    # zip_lon
+00029790: 6765 7374 2827 4142 4344 272c 2027 7879  gest('ABCD', 'xy
+000297a0: 272c 2066 696c 6c76 616c 7565 3d27 2d27  ', fillvalue='-'
+000297b0: 2920 2d2d 3e20 4178 2042 7920 432d 2044  ) --> Ax By C- D
+000297c0: 2d0d 0a20 2020 2069 7465 7261 746f 7273  -..    iterators
+000297d0: 203d 205b 6974 6572 2869 7429 2066 6f72   = [iter(it) for
+000297e0: 2069 7420 696e 2061 7267 735d 0d0a 2020   it in args]..  
+000297f0: 2020 6e75 6d5f 6163 7469 7665 203d 206c    num_active = l
+00029800: 656e 2869 7465 7261 746f 7273 290d 0a20  en(iterators).. 
+00029810: 2020 2069 6620 6e6f 7420 6e75 6d5f 6163     if not num_ac
+00029820: 7469 7665 3a0d 0a20 2020 2020 2020 2072  tive:..        r
+00029830: 6574 7572 6e0d 0a20 2020 2077 6869 6c65  eturn..    while
+00029840: 2054 7275 653a 0d0a 2020 2020 2020 2020   True:..        
+00029850: 7661 6c75 6573 203d 205b 5d0d 0a20 2020  values = []..   
+00029860: 2020 2020 2066 6f72 2069 2c20 6974 2069       for i, it i
+00029870: 6e20 656e 756d 6572 6174 6528 6974 6572  n enumerate(iter
+00029880: 6174 6f72 7329 3a0d 0a20 2020 2020 2020  ators):..       
+00029890: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+000298a0: 2020 2020 2020 2020 2020 2076 616c 7565             value
+000298b0: 203d 206e 6578 7428 6974 290d 0a20 2020   = next(it)..   
+000298c0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+000298d0: 5374 6f70 4974 6572 6174 696f 6e3a 0d0a  StopIteration:..
+000298e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000298f0: 6e75 6d5f 6163 7469 7665 202d 3d20 310d  num_active -= 1.
+00029900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029910: 2069 6620 6e6f 7420 6e75 6d5f 6163 7469   if not num_acti
+00029920: 7665 3a0d 0a20 2020 2020 2020 2020 2020  ve:..           
+00029930: 2020 2020 2020 2020 2072 6574 7572 6e0d           return.
+00029940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029950: 2069 7465 7261 746f 7273 5b69 5d20 3d20   iterators[i] = 
+00029960: 7265 7065 6174 2866 696c 6c76 616c 7565  repeat(fillvalue
+00029970: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00029980: 2020 2076 616c 7565 203d 2066 696c 6c76     value = fillv
+00029990: 616c 7565 0d0a 2020 2020 2020 2020 2020  alue..          
+000299a0: 2020 7661 6c75 6573 2e61 7070 656e 6428    values.append(
+000299b0: 7661 6c75 6529 0d0a 2020 2020 2020 2020  value)..        
+000299c0: 7969 656c 6420 7475 706c 6528 7661 6c75  yield tuple(valu
+000299d0: 6573 290d 0a60 6060 0d0a 0d0a 4966 206f  es)..```....If o
+000299e0: 6e65 206f 6620 7468 6520 6974 6572 6162  ne of the iterab
+000299f0: 6c65 7320 6973 2070 6f74 656e 7469 616c  les is potential
+00029a00: 6c79 2069 6e66 696e 6974 652c 2074 6865  ly infinite, the
+00029a10: 6e20 7468 6520 607a 6970 5f6c 6f6e 6765  n the `zip_longe
+00029a20: 7374 2829 6020 6675 6e63 7469 6f6e 2073  st()` function s
+00029a30: 686f 756c 6420 6265 2077 7261 7070 6564  hould be wrapped
+00029a40: 2077 6974 6820 736f 6d65 7468 696e 6720   with something 
+00029a50: 7468 6174 206c 696d 6974 7320 7468 6520  that limits the 
+00029a60: 6e75 6d62 6572 206f 6620 6361 6c6c 7320  number of calls 
+00029a70: 2866 6f72 2065 7861 6d70 6c65 2069 7465  (for example ite
+00029a80: 7261 746f 7220 736c 6963 696e 6720 6f72  rator slicing or
+00029a90: 2060 7461 6b65 7768 696c 6560 292e 2049   `takewhile`). I
+00029aa0: 6620 6e6f 7420 7370 6563 6966 6965 642c  f not specified,
+00029ab0: 205f 6669 6c6c 7661 6c75 655f 2064 6566   _fillvalue_ def
+00029ac0: 6175 6c74 7320 746f 2060 4e6f 6e65 602e  aults to `None`.
+00029ad0: 0d0a 0d0a 2323 2323 2320 4578 616d 706c  ....##### Exampl
+00029ae0: 650d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  e....**Coconut:*
+00029af0: 2a0d 0a60 6060 636f 636f 6e75 740d 0a72  *..```coconut..r
+00029b00: 6573 756c 7420 3d20 7a69 705f 6c6f 6e67  esult = zip_long
+00029b10: 6573 7428 7261 6e67 6528 3529 2c20 7261  est(range(5), ra
+00029b20: 6e67 6528 3130 2929 0d0a 6060 600d 0a0d  nge(10))..```...
+00029b30: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+00029b40: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+00029b50: 0a69 6d70 6f72 7420 6974 6572 746f 6f6c  .import itertool
+00029b60: 730d 0a72 6573 756c 7420 3d20 6974 6572  s..result = iter
+00029b70: 746f 6f6c 732e 7a69 705f 6c6f 6e67 6573  tools.zip_longes
+00029b80: 7428 7261 6e67 6528 3529 2c20 7261 6e67  t(range(5), rang
+00029b90: 6528 3130 2929 0d0a 6060 600d 0a0d 0a23  e(10))..```....#
+00029ba0: 2323 2320 6074 616b 6577 6869 6c65 600d  ### `takewhile`.
+00029bb0: 0a0d 0a2a 2a74 616b 6577 6869 6c65 2a2a  ...**takewhile**
+00029bc0: 285f 7072 6564 6963 6174 655f 2c20 5f69  (_predicate_, _i
+00029bd0: 7465 7261 626c 655f 2c20 2f29 0d0a 0d0a  terable_, /)....
+00029be0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+00029bf0: 2060 6974 6572 746f 6f6c 732e 7461 6b65   `itertools.take
+00029c00: 7768 696c 6560 2061 7320 6120 6275 696c  while` as a buil
+00029c10: 742d 696e 2075 6e64 6572 2074 6865 206e  t-in under the n
+00029c20: 616d 6520 6074 616b 6577 6869 6c65 602e  ame `takewhile`.
+00029c30: 0d0a 0d0a 2323 2323 2320 5079 7468 6f6e  ....##### Python
+00029c40: 2044 6f63 730d 0a0d 0a2a 2a74 616b 6577   Docs....**takew
+00029c50: 6869 6c65 2a2a 285f 7072 6564 6963 6174  hile**(_predicat
+00029c60: 652c 2069 7465 7261 626c 655f 290d 0a0d  e, iterable_)...
+00029c70: 0a4d 616b 6520 616e 2069 7465 7261 746f  .Make an iterato
+00029c80: 7220 7468 6174 2072 6574 7572 6e73 2065  r that returns e
+00029c90: 6c65 6d65 6e74 7320 6672 6f6d 2074 6865  lements from the
+00029ca0: 205f 6974 6572 6162 6c65 5f20 6173 206c   _iterable_ as l
+00029cb0: 6f6e 6720 6173 2074 6865 205f 7072 6564  ong as the _pred
+00029cc0: 6963 6174 655f 2069 7320 7472 7565 2e20  icate_ is true. 
+00029cd0: 4571 7569 7661 6c65 6e74 2074 6f3a 0d0a  Equivalent to:..
+00029ce0: 6060 6063 6f63 6f6e 7574 5f70 7974 686f  ```coconut_pytho
+00029cf0: 6e0d 0a64 6566 2074 616b 6577 6869 6c65  n..def takewhile
+00029d00: 2870 7265 6469 6361 7465 2c20 6974 6572  (predicate, iter
+00029d10: 6162 6c65 293a 0d0a 2020 2020 2320 7461  able):..    # ta
+00029d20: 6b65 7768 696c 6528 6c61 6d62 6461 2078  kewhile(lambda x
+00029d30: 3a20 783c 352c 205b 312c 342c 362c 342c  : x<5, [1,4,6,4,
+00029d40: 315d 2920 2d2d 3e20 3120 340d 0a20 2020  1]) --> 1 4..   
+00029d50: 2066 6f72 2078 2069 6e20 6974 6572 6162   for x in iterab
+00029d60: 6c65 3a0d 0a20 2020 2020 2020 2069 6620  le:..        if 
+00029d70: 7072 6564 6963 6174 6528 7829 3a0d 0a20  predicate(x):.. 
+00029d80: 2020 2020 2020 2020 2020 2079 6965 6c64             yield
+00029d90: 2078 0d0a 2020 2020 2020 2020 656c 7365   x..        else
+00029da0: 3a0d 0a20 2020 2020 2020 2020 2020 2062  :..            b
+00029db0: 7265 616b 0d0a 6060 600d 0a0d 0a23 2323  reak..```....###
+00029dc0: 2323 2045 7861 6d70 6c65 0d0a 0d0a 2a2a  ## Example....**
+00029dd0: 436f 636f 6e75 743a 2a2a 0d0a 6060 6063  Coconut:**..```c
+00029de0: 6f63 6f6e 7574 0d0a 6e65 6761 7469 7665  oconut..negative
+00029df0: 7320 3d20 6e75 6d69 7465 7220 7c3e 2074  s = numiter |> t
+00029e00: 616b 6577 6869 6c65 2428 7820 3d3e 2078  akewhile$(x => x
+00029e10: 203c 2030 290d 0a60 6060 0d0a 0d0a 2a2a   < 0)..```....**
+00029e20: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+00029e30: 636f 6e75 745f 7079 7468 6f6e 0d0a 696d  conut_python..im
+00029e40: 706f 7274 2069 7465 7274 6f6f 6c73 0d0a  port itertools..
+00029e50: 6e65 6761 7469 7665 7320 3d20 6974 6572  negatives = iter
+00029e60: 746f 6f6c 732e 7461 6b65 7768 696c 6528  tools.takewhile(
+00029e70: 6c61 6d62 6461 2078 3a20 7820 3c20 302c  lambda x: x < 0,
+00029e80: 206e 756d 6974 6572 290d 0a60 6060 0d0a   numiter)..```..
+00029e90: 0d0a 2323 2323 2060 6472 6f70 7768 696c  ..#### `dropwhil
+00029ea0: 6560 0d0a 0d0a 2a2a 6472 6f70 7768 696c  e`....**dropwhil
+00029eb0: 652a 2a28 5f70 7265 6469 6361 7465 5f2c  e**(_predicate_,
+00029ec0: 205f 6974 6572 6162 6c65 5f2c 202f 290d   _iterable_, /).
+00029ed0: 0a0d 0a43 6f63 6f6e 7574 2070 726f 7669  ...Coconut provi
+00029ee0: 6465 7320 6069 7465 7274 6f6f 6c73 2e64  des `itertools.d
+00029ef0: 726f 7077 6869 6c65 6020 6173 2061 2062  ropwhile` as a b
+00029f00: 7569 6c74 2d69 6e20 756e 6465 7220 7468  uilt-in under th
+00029f10: 6520 6e61 6d65 2060 6472 6f70 7768 696c  e name `dropwhil
+00029f20: 6560 2e0d 0a0d 0a23 2323 2323 2050 7974  e`.....##### Pyt
+00029f30: 686f 6e20 446f 6373 0d0a 0d0a 2a2a 6472  hon Docs....**dr
+00029f40: 6f70 7768 696c 652a 2a28 5f70 7265 6469  opwhile**(_predi
+00029f50: 6361 7465 2c20 6974 6572 6162 6c65 5f29  cate, iterable_)
+00029f60: 0d0a 0d0a 4d61 6b65 2061 6e20 6974 6572  ....Make an iter
+00029f70: 6174 6f72 2074 6861 7420 6472 6f70 7320  ator that drops 
+00029f80: 656c 656d 656e 7473 2066 726f 6d20 7468  elements from th
+00029f90: 6520 5f69 7465 7261 626c 655f 2061 7320  e _iterable_ as 
+00029fa0: 6c6f 6e67 2061 7320 7468 6520 5f70 7265  long as the _pre
+00029fb0: 6469 6361 7465 5f20 6973 2074 7275 653b  dicate_ is true;
+00029fc0: 2061 6674 6572 7761 7264 732c 2072 6574   afterwards, ret
+00029fd0: 7572 6e73 2065 7665 7279 2065 6c65 6d65  urns every eleme
+00029fe0: 6e74 2e20 4e6f 7465 3a20 7468 6520 6974  nt. Note: the it
+00029ff0: 6572 6174 6f72 2064 6f65 7320 6e6f 7420  erator does not 
+0002a000: 7072 6f64 7563 6520 616e 7920 6f75 7470  produce any outp
+0002a010: 7574 2075 6e74 696c 2074 6865 2070 7265  ut until the pre
+0002a020: 6469 6361 7465 2066 6972 7374 2062 6563  dicate first bec
+0002a030: 6f6d 6573 2066 616c 7365 2c20 736f 2069  omes false, so i
+0002a040: 7420 6d61 7920 6861 7665 2061 206c 656e  t may have a len
+0002a050: 6774 6879 2073 7461 7274 2d75 7020 7469  gthy start-up ti
+0002a060: 6d65 2e20 4571 7569 7661 6c65 6e74 2074  me. Equivalent t
+0002a070: 6f3a 0d0a 6060 6063 6f63 6f6e 7574 5f70  o:..```coconut_p
+0002a080: 7974 686f 6e0d 0a64 6566 2064 726f 7077  ython..def dropw
+0002a090: 6869 6c65 2870 7265 6469 6361 7465 2c20  hile(predicate, 
+0002a0a0: 6974 6572 6162 6c65 293a 0d0a 2020 2020  iterable):..    
+0002a0b0: 2320 6472 6f70 7768 696c 6528 6c61 6d62  # dropwhile(lamb
+0002a0c0: 6461 2078 3a20 783c 352c 205b 312c 342c  da x: x<5, [1,4,
+0002a0d0: 362c 342c 315d 2920 2d2d 3e20 3620 3420  6,4,1]) --> 6 4 
+0002a0e0: 310d 0a20 2020 2069 7465 7261 626c 6520  1..    iterable 
+0002a0f0: 3d20 6974 6572 2869 7465 7261 626c 6529  = iter(iterable)
+0002a100: 0d0a 2020 2020 666f 7220 7820 696e 2069  ..    for x in i
+0002a110: 7465 7261 626c 653a 0d0a 2020 2020 2020  terable:..      
+0002a120: 2020 6966 206e 6f74 2070 7265 6469 6361    if not predica
+0002a130: 7465 2878 293a 0d0a 2020 2020 2020 2020  te(x):..        
+0002a140: 2020 2020 7969 656c 6420 780d 0a20 2020      yield x..   
+0002a150: 2020 2020 2020 2020 2062 7265 616b 0d0a           break..
+0002a160: 2020 2020 666f 7220 7820 696e 2069 7465      for x in ite
+0002a170: 7261 626c 653a 0d0a 2020 2020 2020 2020  rable:..        
+0002a180: 7969 656c 6420 780d 0a60 6060 0d0a 0d0a  yield x..```....
+0002a190: 2323 2323 2320 4578 616d 706c 650d 0a0d  ##### Example...
+0002a1a0: 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60  .**Coconut:**..`
+0002a1b0: 6060 636f 636f 6e75 740d 0a70 6f73 6974  ``coconut..posit
+0002a1c0: 6976 6573 203d 206e 756d 6974 6572 207c  ives = numiter |
+0002a1d0: 3e20 6472 6f70 7768 696c 6524 2878 203d  > dropwhile$(x =
+0002a1e0: 3e20 7820 3c20 3029 0d0a 6060 600d 0a0d  > x < 0)..```...
+0002a1f0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+0002a200: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0002a210: 0a69 6d70 6f72 7420 6974 6572 746f 6f6c  .import itertool
+0002a220: 730d 0a70 6f73 6974 6976 6573 203d 2069  s..positives = i
+0002a230: 7465 7274 6f6f 6c73 2e64 726f 7077 6869  tertools.dropwhi
+0002a240: 6c65 286c 616d 6264 6120 783a 2078 203c  le(lambda x: x <
+0002a250: 2030 2c20 6e75 6d69 7465 7229 0d0a 6060   0, numiter)..``
+0002a260: 600d 0a0d 0a23 2323 2320 6066 6c61 7474  `....#### `flatt
+0002a270: 656e 600d 0a0d 0a2a 2a66 6c61 7474 656e  en`....**flatten
+0002a280: 2a2a 285f 6974 6572 6162 6c65 5f2c 205f  **(_iterable_, _
+0002a290: 6c65 7665 6c73 5f3d 6031 6029 0d0a 0d0a  levels_=`1`)....
+0002a2a0: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+0002a2b0: 2061 6e20 656e 6861 6e63 6564 2076 6572   an enhanced ver
+0002a2c0: 7369 6f6e 206f 6620 6069 7465 7274 6f6f  sion of `itertoo
+0002a2d0: 6c73 2e63 6861 696e 2e66 726f 6d5f 6974  ls.chain.from_it
+0002a2e0: 6572 6162 6c65 6020 6173 2061 2062 7569  erable` as a bui
+0002a2f0: 6c74 2d69 6e20 756e 6465 7220 7468 6520  lt-in under the 
+0002a300: 6e61 6d65 2060 666c 6174 7465 6e60 2077  name `flatten` w
+0002a310: 6974 6820 6164 6465 6420 7375 7070 6f72  ith added suppor
+0002a320: 7420 666f 7220 6072 6576 6572 7365 6460  t for `reversed`
+0002a330: 2c20 6072 6570 7260 2c20 6069 6e60 2c20  , `repr`, `in`, 
+0002a340: 602e 636f 756e 7428 2960 2c20 602e 696e  `.count()`, `.in
+0002a350: 6465 7828 2960 2c20 616e 6420 6066 6d61  dex()`, and `fma
+0002a360: 7060 2e0d 0a0d 0a42 7920 6465 6661 756c  p`.....By defaul
+0002a370: 742c 2060 666c 6174 7465 6e60 206f 6e6c  t, `flatten` onl
+0002a380: 7920 666c 6174 7465 6e73 2074 6865 2074  y flattens the t
+0002a390: 6f70 206c 6576 656c 206f 6620 7468 6520  op level of the 
+0002a3a0: 6769 7665 6e20 6974 6572 6162 6c65 2f61  given iterable/a
+0002a3b0: 7272 6179 2e20 4966 205f 6c65 7665 6c73  rray. If _levels
+0002a3c0: 5f20 6973 2070 6173 7365 642c 2068 6f77  _ is passed, how
+0002a3d0: 6576 6572 2c20 6974 2063 616e 2062 6520  ever, it can be 
+0002a3e0: 7573 6564 2074 6f20 636f 6e74 726f 6c20  used to control 
+0002a3f0: 7468 6520 6e75 6d62 6572 206f 6620 6c65  the number of le
+0002a400: 7665 6c73 2066 6c61 7474 656e 6564 2c20  vels flattened, 
+0002a410: 7769 7468 2060 3060 206d 6561 6e69 6e67  with `0` meaning
+0002a420: 206e 6f20 666c 6174 7465 6e69 6e67 2061   no flattening a
+0002a430: 6e64 2060 4e6f 6e65 6020 666c 6174 7465  nd `None` flatte
+0002a440: 6e69 6e67 2061 7320 6d61 6e79 2069 7465  ning as many ite
+0002a450: 7261 626c 6573 2061 7320 6172 6520 666f  rables as are fo
+0002a460: 756e 642e 204e 6f74 6520 7468 6174 2069  und. Note that i
+0002a470: 6620 5f6c 6576 656c 735f 2069 7320 7365  f _levels_ is se
+0002a480: 7420 746f 2061 6e79 206e 6f6e 2d60 4e6f  t to any non-`No
+0002a490: 6e65 6020 7661 6c75 652c 2074 6865 2066  ne` value, the f
+0002a4a0: 6972 7374 205f 6c65 7665 6c73 5f20 6c65  irst _levels_ le
+0002a4b0: 7665 6c73 206d 7573 7420 6265 2069 7465  vels must be ite
+0002a4c0: 7261 626c 6573 2c20 6f72 2065 6c73 6520  rables, or else 
+0002a4d0: 616e 2065 7272 6f72 2077 696c 6c20 6265  an error will be
+0002a4e0: 2072 6169 7365 642e 0d0a 0d0a 2323 2323   raised.....####
+0002a4f0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+0002a500: 0a63 6861 696e 2e2a 2a66 726f 6d5f 6974  .chain.**from_it
+0002a510: 6572 6162 6c65 2a2a 285f 6974 6572 6162  erable**(_iterab
+0002a520: 6c65 5f29 0d0a 0d0a 416c 7465 726e 6174  le_)....Alternat
+0002a530: 6520 636f 6e73 7472 7563 746f 7220 666f  e constructor fo
+0002a540: 7220 6063 6861 696e 2829 602e 2047 6574  r `chain()`. Get
+0002a550: 7320 6368 6169 6e65 6420 696e 7075 7473  s chained inputs
+0002a560: 2066 726f 6d20 6120 7369 6e67 6c65 2069   from a single i
+0002a570: 7465 7261 626c 6520 6172 6775 6d65 6e74  terable argument
+0002a580: 2074 6861 7420 6973 2065 7661 6c75 6174   that is evaluat
+0002a590: 6564 206c 617a 696c 792e 2052 6f75 6768  ed lazily. Rough
+0002a5a0: 6c79 2065 7175 6976 616c 656e 7420 746f  ly equivalent to
+0002a5b0: 3a0d 0a0d 0a60 6060 636f 636f 6e75 745f  :....```coconut_
+0002a5c0: 7079 7468 6f6e 0d0a 6465 6620 666c 6174  python..def flat
+0002a5d0: 7465 6e28 6974 6572 6162 6c65 7329 3a0d  ten(iterables):.
+0002a5e0: 0a20 2020 2023 2066 6c61 7474 656e 285b  .    # flatten([
+0002a5f0: 2741 4243 272c 2027 4445 4627 5d29 202d  'ABC', 'DEF']) -
+0002a600: 2d3e 2041 2042 2043 2044 2045 2046 0d0a  -> A B C D E F..
+0002a610: 2020 2020 666f 7220 6974 2069 6e20 6974      for it in it
+0002a620: 6572 6162 6c65 733a 0d0a 2020 2020 2020  erables:..      
+0002a630: 2020 666f 7220 656c 656d 656e 7420 696e    for element in
+0002a640: 2069 743a 0d0a 2020 2020 2020 2020 2020   it:..          
+0002a650: 2020 7969 656c 6420 656c 656d 656e 740d    yield element.
+0002a660: 0a60 6060 0d0a 0d0a 2323 2323 2320 4578  .```....##### Ex
+0002a670: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+0002a680: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+0002a690: 740d 0a69 7465 725f 6f66 5f69 7465 7273  t..iter_of_iters
+0002a6a0: 203d 205b 5b31 2c20 325d 2c20 5b33 2c20   = [[1, 2], [3, 
+0002a6b0: 345d 5d0d 0a66 6c61 745f 6974 203d 2069  4]]..flat_it = i
+0002a6c0: 7465 725f 6f66 5f69 7465 7273 207c 3e20  ter_of_iters |> 
+0002a6d0: 666c 6174 7465 6e20 7c3e 206c 6973 740d  flatten |> list.
+0002a6e0: 0a60 6060 0d0a 0d0a 2a2a 5079 7468 6f6e  .```....**Python
+0002a6f0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 745f  :**..```coconut_
+0002a700: 7079 7468 6f6e 0d0a 6672 6f6d 2069 7465  python..from ite
+0002a710: 7274 6f6f 6c73 2069 6d70 6f72 7420 6368  rtools import ch
+0002a720: 6169 6e0d 0a69 7465 725f 6f66 5f69 7465  ain..iter_of_ite
+0002a730: 7273 203d 205b 5b31 2c20 325d 2c20 5b33  rs = [[1, 2], [3
+0002a740: 2c20 345d 5d0d 0a66 6c61 745f 6974 203d  , 4]]..flat_it =
+0002a750: 2069 7465 725f 6f66 5f69 7465 7273 207c   iter_of_iters |
+0002a760: 3e20 6368 6169 6e2e 6672 6f6d 5f69 7465  > chain.from_ite
+0002a770: 7261 626c 6520 7c3e 206c 6973 740d 0a60  rable |> list..`
+0002a780: 6060 0d0a 0d0a 2323 2323 2060 7363 616e  ``....#### `scan
+0002a790: 600d 0a0d 0a2a 2a73 6361 6e2a 2a28 5f66  `....**scan**(_f
+0002a7a0: 756e 6374 696f 6e5f 2c20 5f69 7465 7261  unction_, _itera
+0002a7b0: 626c 655f 5b2c 205f 696e 6974 6961 6c5f  ble_[, _initial_
+0002a7c0: 5d29 0d0a 0d0a 436f 636f 6e75 7420 7072  ])....Coconut pr
+0002a7d0: 6f76 6964 6573 2061 206d 6f64 6966 6965  ovides a modifie
+0002a7e0: 6420 7665 7273 696f 6e20 6f66 2060 6974  d version of `it
+0002a7f0: 6572 746f 6f6c 732e 6163 6375 6d75 6c61  ertools.accumula
+0002a800: 7465 6020 7769 7468 206f 7070 6f73 6974  te` with opposit
+0002a810: 6520 6172 6775 6d65 6e74 206f 7264 6572  e argument order
+0002a820: 2061 7320 6073 6361 6e60 2074 6861 7420   as `scan` that 
+0002a830: 616c 736f 2073 7570 706f 7274 7320 6072  also supports `r
+0002a840: 6570 7260 2c20 606c 656e 602c 2061 6e64  epr`, `len`, and
+0002a850: 2060 6675 6e63 602f 6069 7465 7260 2f60   `func`/`iter`/`
+0002a860: 696e 6974 6961 6c60 2061 7474 7269 6275  initial` attribu
+0002a870: 7465 732e 2060 7363 616e 6020 776f 726b  tes. `scan` work
+0002a880: 7320 6578 6163 746c 7920 6c69 6b65 205b  s exactly like [
+0002a890: 6072 6564 7563 6560 5d28 2372 6564 7563  `reduce`](#reduc
+0002a8a0: 6529 2c20 6578 6365 7074 2074 6861 7420  e), except that 
+0002a8b0: 696e 7374 6561 6420 6f66 206f 6e6c 7920  instead of only 
+0002a8c0: 7265 7475 726e 696e 6720 7468 6520 6c61  returning the la
+0002a8d0: 7374 2061 6363 756d 756c 6174 6564 2076  st accumulated v
+0002a8e0: 616c 7565 2c20 6974 2072 6574 7572 6e73  alue, it returns
+0002a8f0: 2061 6e20 6974 6572 6174 6f72 206f 6620   an iterator of 
+0002a900: 616c 6c20 7468 6520 696e 7465 726d 6564  all the intermed
+0002a910: 6961 7465 2076 616c 7565 732e 0d0a 0d0a  iate values.....
+0002a920: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
+0002a930: 730d 0a0d 0a2a 2a73 6361 6e2a 2a28 5f66  s....**scan**(_f
+0002a940: 756e 6374 696f 6e2c 2069 7465 7261 626c  unction, iterabl
+0002a950: 655f 2a2a 5b2a 2a5f 2c20 696e 6974 6961  e_**[**_, initia
+0002a960: 6c5f 2a2a 5d2a 2a29 0d0a 0d0a 4d61 6b65  l_**]**)....Make
+0002a970: 2061 6e20 6974 6572 6174 6f72 2074 6861   an iterator tha
+0002a980: 7420 7265 7475 726e 7320 6163 6375 6d75  t returns accumu
+0002a990: 6c61 7465 6420 7265 7375 6c74 7320 6f66  lated results of
+0002a9a0: 2073 6f6d 6520 6675 6e63 7469 6f6e 206f   some function o
+0002a9b0: 6620 7477 6f20 6172 6775 6d65 6e74 732e  f two arguments.
+0002a9c0: 2045 6c65 6d65 6e74 7320 6f66 2074 6865   Elements of the
+0002a9d0: 2069 6e70 7574 2069 7465 7261 626c 6520   input iterable 
+0002a9e0: 6d61 7920 6265 2061 6e79 2074 7970 6520  may be any type 
+0002a9f0: 7468 6174 2063 616e 2062 6520 6163 6365  that can be acce
+0002aa00: 7074 6564 2061 7320 6172 6775 6d65 6e74  pted as argument
+0002aa10: 7320 746f 205f 6675 6e63 7469 6f6e 5f2e  s to _function_.
+0002aa20: 2028 466f 7220 6578 616d 706c 652c 2077   (For example, w
+0002aa30: 6974 6820 7468 6520 6f70 6572 6174 696f  ith the operatio
+0002aa40: 6e20 6f66 2061 6464 6974 696f 6e2c 2065  n of addition, e
+0002aa50: 6c65 6d65 6e74 7320 6d61 7920 6265 2061  lements may be a
+0002aa60: 6e79 2061 6464 6162 6c65 2074 7970 6520  ny addable type 
+0002aa70: 696e 636c 7564 696e 6720 4465 6369 6d61  including Decima
+0002aa80: 6c20 6f72 2046 7261 6374 696f 6e2e 2920  l or Fraction.) 
+0002aa90: 4966 2074 6865 2069 6e70 7574 2069 7465  If the input ite
+0002aaa0: 7261 626c 6520 6973 2065 6d70 7479 2c20  rable is empty, 
+0002aab0: 7468 6520 6f75 7470 7574 2069 7465 7261  the output itera
+0002aac0: 626c 6520 7769 6c6c 2061 6c73 6f20 6265  ble will also be
+0002aad0: 2065 6d70 7479 2e0d 0a0d 0a49 6620 6e6f   empty.....If no
+0002aae0: 205f 696e 6974 6961 6c5f 2069 7320 6769   _initial_ is gi
+0002aaf0: 7665 6e2c 2072 6f75 6768 6c79 2065 7175  ven, roughly equ
+0002ab00: 6976 616c 656e 7420 746f 3a0d 0a60 6060  ivalent to:..```
+0002ab10: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+0002ab20: 6465 6620 7363 616e 2866 756e 6374 696f  def scan(functio
+0002ab30: 6e2c 2069 7465 7261 626c 6529 3a0d 0a20  n, iterable):.. 
+0002ab40: 2020 2027 5265 7475 726e 2072 756e 6e69     'Return runni
+0002ab50: 6e67 2074 6f74 616c 7327 0d0a 2020 2020  ng totals'..    
+0002ab60: 2320 7363 616e 286f 7065 7261 746f 722e  # scan(operator.
+0002ab70: 6164 642c 205b 312c 322c 332c 342c 355d  add, [1,2,3,4,5]
+0002ab80: 2920 2d2d 3e20 3120 3320 3620 3130 2031  ) --> 1 3 6 10 1
+0002ab90: 350d 0a20 2020 2023 2073 6361 6e28 6f70  5..    # scan(op
+0002aba0: 6572 6174 6f72 2e6d 756c 2c20 5b31 2c32  erator.mul, [1,2
+0002abb0: 2c33 2c34 2c35 5d29 202d 2d3e 2031 2032  ,3,4,5]) --> 1 2
+0002abc0: 2036 2032 3420 3132 300d 0a20 2020 2069   6 24 120..    i
+0002abd0: 7420 3d20 6974 6572 2869 7465 7261 626c  t = iter(iterabl
+0002abe0: 6529 0d0a 2020 2020 7472 793a 0d0a 2020  e)..    try:..  
+0002abf0: 2020 2020 2020 746f 7461 6c20 3d20 6e65        total = ne
+0002ac00: 7874 2869 7429 0d0a 2020 2020 6578 6365  xt(it)..    exce
+0002ac10: 7074 2053 746f 7049 7465 7261 7469 6f6e  pt StopIteration
+0002ac20: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
+0002ac30: 6e0d 0a20 2020 2079 6965 6c64 2074 6f74  n..    yield tot
+0002ac40: 616c 0d0a 2020 2020 666f 7220 656c 656d  al..    for elem
+0002ac50: 656e 7420 696e 2069 743a 0d0a 2020 2020  ent in it:..    
+0002ac60: 2020 2020 746f 7461 6c20 3d20 6675 6e63      total = func
+0002ac70: 7469 6f6e 2874 6f74 616c 2c20 656c 656d  tion(total, elem
+0002ac80: 656e 7429 0d0a 2020 2020 2020 2020 7969  ent)..        yi
+0002ac90: 656c 6420 746f 7461 6c0d 0a60 6060 0d0a  eld total..```..
+0002aca0: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+0002acb0: 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a 2a0d  ...**Coconut:**.
+0002acc0: 0a60 6060 636f 636f 6e75 740d 0a69 6e70  .```coconut..inp
+0002acd0: 7574 5f64 6174 6120 3d20 5b33 2c20 342c  ut_data = [3, 4,
+0002ace0: 2036 2c20 322c 2031 2c20 392c 2030 2c20   6, 2, 1, 9, 0, 
+0002acf0: 372c 2035 2c20 385d 0d0a 7275 6e6e 696e  7, 5, 8]..runnin
+0002ad00: 675f 6d61 7820 3d20 696e 7075 745f 6461  g_max = input_da
+0002ad10: 7461 207c 3e20 7363 616e 2428 6d61 7829  ta |> scan$(max)
+0002ad20: 207c 3e20 6c69 7374 0d0a 6060 600d 0a0d   |> list..```...
+0002ad30: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+0002ad40: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0002ad50: 0a69 6e70 7574 5f64 6174 6120 3d20 5b33  .input_data = [3
+0002ad60: 2c20 342c 2036 2c20 322c 2031 2c20 392c  , 4, 6, 2, 1, 9,
+0002ad70: 2030 2c20 372c 2035 2c20 385d 0d0a 7275   0, 7, 5, 8]..ru
+0002ad80: 6e6e 696e 675f 6d61 7820 3d20 5b5d 0d0a  nning_max = []..
+0002ad90: 6d61 785f 736f 5f66 6172 203d 2069 6e70  max_so_far = inp
+0002ada0: 7574 5f64 6174 615b 305d 0d0a 666f 7220  ut_data[0]..for 
+0002adb0: 7820 696e 2069 6e70 7574 5f64 6174 613a  x in input_data:
+0002adc0: 0d0a 2020 2020 6966 2078 203e 206d 6178  ..    if x > max
+0002add0: 5f73 6f5f 6661 723a 0d0a 2020 2020 2020  _so_far:..      
+0002ade0: 2020 6d61 785f 736f 5f66 6172 203d 2078    max_so_far = x
+0002adf0: 0d0a 2020 2020 7275 6e6e 696e 675f 6d61  ..    running_ma
+0002ae00: 782e 6170 7065 6e64 2878 290d 0a60 6060  x.append(x)..```
+0002ae10: 0d0a 0d0a 2323 2323 2060 636f 756e 7460  ....#### `count`
+0002ae20: 0d0a 0d0a 2a2a 636f 756e 742a 2a28 5f73  ....**count**(_s
+0002ae30: 7461 7274 5f3d 6030 602c 205f 7374 6570  tart_=`0`, _step
+0002ae40: 5f3d 6031 6029 0d0a 0d0a 436f 636f 6e75  _=`1`)....Coconu
+0002ae50: 7420 7072 6f76 6964 6573 2061 206d 6f64  t provides a mod
+0002ae60: 6966 6965 6420 7665 7273 696f 6e20 6f66  ified version of
+0002ae70: 2060 6974 6572 746f 6f6c 732e 636f 756e   `itertools.coun
+0002ae80: 7460 2074 6861 7420 7375 7070 6f72 7473  t` that supports
+0002ae90: 2060 696e 602c 206e 6f72 6d61 6c20 736c   `in`, normal sl
+0002aea0: 6963 696e 672c 206f 7074 696d 697a 6564  icing, optimized
+0002aeb0: 2069 7465 7261 746f 7220 736c 6963 696e   iterator slicin
+0002aec0: 672c 2074 6865 2073 7461 6e64 6172 6420  g, the standard 
+0002aed0: 6063 6f75 6e74 6020 616e 6420 6069 6e64  `count` and `ind
+0002aee0: 6578 6020 7365 7175 656e 6365 206d 6574  ex` sequence met
+0002aef0: 686f 6473 2c20 6072 6570 7260 2c20 616e  hods, `repr`, an
+0002af00: 6420 6073 7461 7274 602f 6073 7465 7060  d `start`/`step`
+0002af10: 2061 7474 7269 6275 7465 7320 6173 2061   attributes as a
+0002af20: 2062 7569 6c74 2d69 6e20 756e 6465 7220   built-in under 
+0002af30: 7468 6520 6e61 6d65 2060 636f 756e 7460  the name `count`
+0002af40: 2e0d 0a0d 0a41 6464 6974 696f 6e61 6c6c  .....Additionall
+0002af50: 792c 2069 6620 7468 6520 5f73 7465 705f  y, if the _step_
+0002af60: 2070 6172 616d 6574 6572 2069 7320 7365   parameter is se
+0002af70: 7420 746f 2060 4e6f 6e65 602c 2060 636f  t to `None`, `co
+0002af80: 756e 7460 2077 696c 6c20 6265 6861 7665  unt` will behave
+0002af90: 206c 696b 6520 6069 7465 7274 6f6f 6c73   like `itertools
+0002afa0: 2e72 6570 6561 7460 2069 6e73 7465 6164  .repeat` instead
+0002afb0: 2e0d 0a0d 0a23 2323 2323 2050 7974 686f  .....##### Pytho
+0002afc0: 6e20 446f 6373 0d0a 0d0a 2a2a 636f 756e  n Docs....**coun
+0002afd0: 742a 2a28 5f73 7461 7274 3d30 2c20 7374  t**(_start=0, st
+0002afe0: 6570 3d31 5f29 0d0a 0d0a 4d61 6b65 2061  ep=1_)....Make a
+0002aff0: 6e20 6974 6572 6174 6f72 2074 6861 7420  n iterator that 
+0002b000: 7265 7475 726e 7320 6576 656e 6c79 2073  returns evenly s
+0002b010: 7061 6365 6420 7661 6c75 6573 2073 7461  paced values sta
+0002b020: 7274 696e 6720 7769 7468 206e 756d 6265  rting with numbe
+0002b030: 7220 5f73 7461 7274 5f2e 204f 6674 656e  r _start_. Often
+0002b040: 2075 7365 6420 6173 2061 6e20 6172 6775   used as an argu
+0002b050: 6d65 6e74 2074 6f20 606d 6170 2829 6020  ment to `map()` 
+0002b060: 746f 2067 656e 6572 6174 6520 636f 6e73  to generate cons
+0002b070: 6563 7574 6976 6520 6461 7461 2070 6f69  ecutive data poi
+0002b080: 6e74 732e 2041 6c73 6f2c 2075 7365 6420  nts. Also, used 
+0002b090: 7769 7468 2060 7a69 7028 2960 2074 6f20  with `zip()` to 
+0002b0a0: 6164 6420 7365 7175 656e 6365 206e 756d  add sequence num
+0002b0b0: 6265 7273 2e20 526f 7567 686c 7920 6571  bers. Roughly eq
+0002b0c0: 7569 7661 6c65 6e74 2074 6f3a 0d0a 6060  uivalent to:..``
+0002b0d0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0002b0e0: 0a64 6566 2063 6f75 6e74 2873 7461 7274  .def count(start
+0002b0f0: 3d30 2c20 7374 6570 3d31 293a 0d0a 2020  =0, step=1):..  
+0002b100: 2020 2320 636f 756e 7428 3130 2920 2d2d    # count(10) --
+0002b110: 3e20 3130 2031 3120 3132 2031 3320 3134  > 10 11 12 13 14
+0002b120: 202e 2e2e 0d0a 2020 2020 2320 636f 756e   .....    # coun
+0002b130: 7428 322e 352c 2030 2e35 2920 2d3e 2032  t(2.5, 0.5) -> 2
+0002b140: 2e35 2033 2e30 2033 2e35 202e 2e2e 0d0a  .5 3.0 3.5 .....
+0002b150: 2020 2020 6e20 3d20 7374 6172 740d 0a20      n = start.. 
+0002b160: 2020 2077 6869 6c65 2054 7275 653a 0d0a     while True:..
+0002b170: 2020 2020 2020 2020 7969 656c 6420 6e0d          yield n.
+0002b180: 0a20 2020 2020 2020 2069 6620 7374 6570  .        if step
+0002b190: 3a0d 0a20 2020 2020 2020 2020 206e 202b  :..          n +
+0002b1a0: 3d20 7374 6570 0d0a 6060 600d 0a0d 0a23  = step..```....#
+0002b1b0: 2323 2323 2045 7861 6d70 6c65 0d0a 0d0a  #### Example....
+0002b1c0: 2a2a 436f 636f 6e75 743a 2a2a 0d0a 6060  **Coconut:**..``
+0002b1d0: 6063 6f63 6f6e 7574 0d0a 636f 756e 7428  `coconut..count(
+0002b1e0: 2924 5b31 302a 2a31 3030 5d20 7c3e 2070  )$[10**100] |> p
+0002b1f0: 7269 6e74 0d0a 6060 600d 0a0d 0a2a 2a50  rint..```....**P
+0002b200: 7974 686f 6e3a 2a2a 0d0a 5f43 616e 2774  ython:**.._Can't
+0002b210: 2062 6520 646f 6e65 2071 7569 636b 6c79   be done quickly
+0002b220: 2077 6974 686f 7574 2043 6f63 6f6e 7574   without Coconut
+0002b230: 2773 2069 7465 7261 746f 7220 736c 6963  's iterator slic
+0002b240: 696e 672c 2077 6869 6368 2072 6571 7569  ing, which requi
+0002b250: 7265 7320 6d61 6e79 2063 6f6d 706c 6963  res many complic
+0002b260: 6174 6564 2070 6965 6365 732e 2054 6865  ated pieces. The
+0002b270: 206e 6563 6573 7361 7279 2064 6566 696e   necessary defin
+0002b280: 6974 696f 6e73 2069 6e20 5079 7468 6f6e  itions in Python
+0002b290: 2063 616e 2062 6520 666f 756e 6420 696e   can be found in
+0002b2a0: 2074 6865 2043 6f63 6f6e 7574 2068 6561   the Coconut hea
+0002b2b0: 6465 722e 5f0d 0a0d 0a23 2323 2320 6063  der._....#### `c
+0002b2c0: 7963 6c65 600d 0a0d 0a2a 2a63 7963 6c65  ycle`....**cycle
+0002b2d0: 2a2a 285f 6974 6572 6162 6c65 5f2c 205f  **(_iterable_, _
+0002b2e0: 7469 6d65 735f 3d60 4e6f 6e65 6029 0d0a  times_=`None`)..
+0002b2f0: 0d0a 436f 636f 6e75 7427 7320 6063 7963  ..Coconut's `cyc
+0002b300: 6c65 6020 6973 2061 206d 6f64 6966 6965  le` is a modifie
+0002b310: 6420 7665 7273 696f 6e20 6f66 2060 6974  d version of `it
+0002b320: 6572 746f 6f6c 732e 6379 636c 6560 2077  ertools.cycle` w
+0002b330: 6974 6820 6120 6074 696d 6573 6020 7061  ith a `times` pa
+0002b340: 7261 6d65 7465 7220 7468 6174 2063 6f6e  rameter that con
+0002b350: 7472 6f6c 7320 7468 6520 6e75 6d62 6572  trols the number
+0002b360: 206f 6620 7469 6d65 7320 746f 2063 7963   of times to cyc
+0002b370: 6c65 2074 6872 6f75 6768 205f 6974 6572  le through _iter
+0002b380: 6162 6c65 5f20 6265 666f 7265 2073 746f  able_ before sto
+0002b390: 7070 696e 672e 2060 6379 636c 6560 2061  pping. `cycle` a
+0002b3a0: 6c73 6f20 7375 7070 6f72 7473 2060 696e  lso supports `in
+0002b3b0: 602c 2073 6c69 6369 6e67 2c20 606c 656e  `, slicing, `len
+0002b3c0: 602c 2060 7265 7665 7273 6564 602c 2060  `, `reversed`, `
+0002b3d0: 2e63 6f75 6e74 2829 602c 2060 2e69 6e64  .count()`, `.ind
+0002b3e0: 6578 2829 602c 2061 6e64 2060 7265 7072  ex()`, and `repr
+0002b3f0: 602e 0d0a 0d0a 2323 2323 2320 5079 7468  `.....##### Pyth
+0002b400: 6f6e 2044 6f63 730d 0a0d 0a2a 2a63 7963  on Docs....**cyc
+0002b410: 6c65 2a2a 285f 6974 6572 6162 6c65 5f29  le**(_iterable_)
+0002b420: 0d0a 0d0a 4d61 6b65 2061 6e20 6974 6572  ....Make an iter
+0002b430: 6174 6f72 2072 6574 7572 6e69 6e67 2065  ator returning e
+0002b440: 6c65 6d65 6e74 7320 6672 6f6d 2074 6865  lements from the
+0002b450: 2069 7465 7261 626c 6520 616e 6420 7361   iterable and sa
+0002b460: 7669 6e67 2061 2063 6f70 7920 6f66 2065  ving a copy of e
+0002b470: 6163 682e 2057 6865 6e20 7468 6520 6974  ach. When the it
+0002b480: 6572 6162 6c65 2069 7320 6578 6861 7573  erable is exhaus
+0002b490: 7465 642c 2072 6574 7572 6e20 656c 656d  ted, return elem
+0002b4a0: 656e 7473 2066 726f 6d20 7468 6520 7361  ents from the sa
+0002b4b0: 7665 6420 636f 7079 2e20 5265 7065 6174  ved copy. Repeat
+0002b4c0: 7320 696e 6465 6669 6e69 7465 6c79 2e20  s indefinitely. 
+0002b4d0: 526f 7567 686c 7920 6571 7569 7661 6c65  Roughly equivale
+0002b4e0: 6e74 2074 6f3a 0d0a 0d0a 6060 6063 6f63  nt to:....```coc
+0002b4f0: 6f6e 7574 5f70 7974 686f 6e0d 0a64 6566  onut_python..def
+0002b500: 2063 7963 6c65 2869 7465 7261 626c 6529   cycle(iterable)
+0002b510: 3a0d 0a20 2020 2023 2063 7963 6c65 2827  :..    # cycle('
+0002b520: 4142 4344 2729 202d 2d3e 2041 2042 2043  ABCD') --> A B C
+0002b530: 2044 2041 2042 2043 2044 2041 2042 2043   D A B C D A B C
+0002b540: 2044 202e 2e2e 0d0a 2020 2020 7361 7665   D .....    save
+0002b550: 6420 3d20 5b5d 0d0a 2020 2020 666f 7220  d = []..    for 
+0002b560: 656c 656d 656e 7420 696e 2069 7465 7261  element in itera
+0002b570: 626c 653a 0d0a 2020 2020 2020 2020 7969  ble:..        yi
+0002b580: 656c 6420 656c 656d 656e 740d 0a20 2020  eld element..   
+0002b590: 2020 2020 2073 6176 6564 2e61 7070 656e       saved.appen
+0002b5a0: 6428 656c 656d 656e 7429 0d0a 2020 2020  d(element)..    
+0002b5b0: 7768 696c 6520 7361 7665 643a 0d0a 2020  while saved:..  
+0002b5c0: 2020 2020 2020 666f 7220 656c 656d 656e        for elemen
+0002b5d0: 7420 696e 2073 6176 6564 3a0d 0a20 2020  t in saved:..   
+0002b5e0: 2020 2020 2020 2020 2020 2079 6965 6c64             yield
+0002b5f0: 2065 6c65 6d65 6e74 0d0a 6060 600d 0a0d   element..```...
+0002b600: 0a4e 6f74 652c 2074 6869 7320 6d65 6d62  .Note, this memb
+0002b610: 6572 206f 6620 7468 6520 746f 6f6c 6b69  er of the toolki
+0002b620: 7420 6d61 7920 7265 7175 6972 6520 7369  t may require si
+0002b630: 676e 6966 6963 616e 7420 6175 7869 6c69  gnificant auxili
+0002b640: 6172 7920 7374 6f72 6167 6520 2864 6570  ary storage (dep
+0002b650: 656e 6469 6e67 206f 6e20 7468 6520 6c65  ending on the le
+0002b660: 6e67 7468 206f 6620 7468 6520 6974 6572  ngth of the iter
+0002b670: 6162 6c65 292e 0d0a 0d0a 2323 2323 2320  able).....##### 
+0002b680: 4578 616d 706c 650d 0a0d 0a2a 2a43 6f63  Example....**Coc
+0002b690: 6f6e 7574 3a2a 2a0d 0a60 6060 636f 636f  onut:**..```coco
+0002b6a0: 6e75 740d 0a63 7963 6c65 2872 616e 6765  nut..cycle(range
+0002b6b0: 2832 292c 2032 2920 7c3e 206c 6973 7420  (2), 2) |> list 
+0002b6c0: 7c3e 2070 7269 6e74 0d0a 6060 600d 0a0d  |> print..```...
+0002b6d0: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+0002b6e0: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0002b6f0: 0a66 726f 6d20 6974 6572 746f 6f6c 7320  .from itertools 
+0002b700: 696d 706f 7274 2063 7963 6c65 2c20 6973  import cycle, is
+0002b710: 6c69 6365 0d0a 7072 696e 7428 6c69 7374  lice..print(list
+0002b720: 2869 736c 6963 6528 6379 636c 6528 7261  (islice(cycle(ra
+0002b730: 6e67 6528 3229 292c 2034 2929 290d 0a60  nge(2)), 4)))..`
+0002b740: 6060 0d0a 0d0a 2323 2323 2060 6361 7274  ``....#### `cart
+0002b750: 6573 6961 6e5f 7072 6f64 7563 7460 0d0a  esian_product`..
+0002b760: 0d0a 2a2a 6361 7274 6573 6961 6e5c 5f70  ..**cartesian\_p
+0002b770: 726f 6475 6374 2a2a 282a 5f69 7465 7261  roduct**(*_itera
+0002b780: 626c 6573 5f2c 205f 7265 7065 6174 5f3d  bles_, _repeat_=
+0002b790: 6031 6029 0d0a 0d0a 436f 636f 6e75 7420  `1`)....Coconut 
+0002b7a0: 7072 6f76 6964 6573 2061 6e20 656e 6861  provides an enha
+0002b7b0: 6e63 6564 2076 6572 7369 6f6e 206f 6620  nced version of 
+0002b7c0: 6069 7465 7274 6f6f 6c73 2e70 726f 6475  `itertools.produ
+0002b7d0: 6374 6020 6173 2061 2062 7569 6c74 2d69  ct` as a built-i
+0002b7e0: 6e20 756e 6465 7220 7468 6520 6e61 6d65  n under the name
+0002b7f0: 2060 6361 7274 6573 6961 6e5f 7072 6f64   `cartesian_prod
+0002b800: 7563 7460 2077 6974 6820 6164 6465 6420  uct` with added 
+0002b810: 7375 7070 6f72 7420 666f 7220 606c 656e  support for `len
+0002b820: 602c 2060 7265 7072 602c 2060 696e 602c  `, `repr`, `in`,
+0002b830: 2060 2e63 6f75 6e74 2829 602c 2061 6e64   `.count()`, and
+0002b840: 2060 666d 6170 602e 0d0a 0d0a 4164 6469   `fmap`.....Addi
+0002b850: 7469 6f6e 616c 6c79 2c20 6063 6172 7465  tionally, `carte
+0002b860: 7369 616e 5f70 726f 6475 6374 6020 696e  sian_product` in
+0002b870: 636c 7564 6573 2073 7065 6369 616c 2073  cludes special s
+0002b880: 7570 706f 7274 2066 6f72 205b 606e 756d  upport for [`num
+0002b890: 7079 605d 2823 6e75 6d70 792d 696e 7465  py`](#numpy-inte
+0002b8a0: 6772 6174 696f 6e29 206f 626a 6563 7473  gration) objects
+0002b8b0: 2c20 696e 2077 6869 6368 2063 6173 6520  , in which case 
+0002b8c0: 6120 6d75 6c74 6964 696d 656e 7369 6f6e  a multidimension
+0002b8d0: 616c 2061 7272 6179 2069 7320 7265 7475  al array is retu
+0002b8e0: 726e 6564 2069 6e73 7465 6164 206f 6620  rned instead of 
+0002b8f0: 616e 2069 7465 7261 746f 722e 0d0a 0d0a  an iterator.....
+0002b900: 2323 2323 2320 5079 7468 6f6e 2044 6f63  ##### Python Doc
+0002b910: 730d 0a0d 0a2a 2a63 6172 7465 7369 616e  s....**cartesian
+0002b920: 5c5f 7072 6f64 7563 742a 2a28 5f5c 2a69  \_product**(_\*i
+0002b930: 7465 7261 626c 6573 2c20 7265 7065 6174  terables, repeat
+0002b940: 3d31 5f29 0d0a 0d0a 4361 7274 6573 6961  =1_)....Cartesia
+0002b950: 6e20 7072 6f64 7563 7420 6f66 2069 6e70  n product of inp
+0002b960: 7574 2069 7465 7261 626c 6573 2e0d 0a0d  ut iterables....
+0002b970: 0a52 6f75 6768 6c79 2065 7175 6976 616c  .Roughly equival
+0002b980: 656e 7420 746f 206e 6573 7465 6420 666f  ent to nested fo
+0002b990: 722d 6c6f 6f70 7320 696e 2061 2067 656e  r-loops in a gen
+0002b9a0: 6572 6174 6f72 2065 7870 7265 7373 696f  erator expressio
+0002b9b0: 6e2e 2046 6f72 2065 7861 6d70 6c65 2c20  n. For example, 
+0002b9c0: 6063 6172 7465 7369 616e 5f70 726f 6475  `cartesian_produ
+0002b9d0: 6374 2841 2c20 4229 6020 7265 7475 726e  ct(A, B)` return
+0002b9e0: 7320 7468 6520 7361 6d65 2061 7320 6028  s the same as `(
+0002b9f0: 2878 2c79 2920 666f 7220 7820 696e 2041  (x,y) for x in A
+0002ba00: 2066 6f72 2079 2069 6e20 4229 602e 0d0a   for y in B)`...
+0002ba10: 0d0a 5468 6520 6e65 7374 6564 206c 6f6f  ..The nested loo
+0002ba20: 7073 2063 7963 6c65 206c 696b 6520 616e  ps cycle like an
+0002ba30: 206f 646f 6d65 7465 7220 7769 7468 2074   odometer with t
+0002ba40: 6865 2072 6967 6874 6d6f 7374 2065 6c65  he rightmost ele
+0002ba50: 6d65 6e74 2061 6476 616e 6369 6e67 206f  ment advancing o
+0002ba60: 6e20 6576 6572 7920 6974 6572 6174 696f  n every iteratio
+0002ba70: 6e2e 2054 6869 7320 7061 7474 6572 6e20  n. This pattern 
+0002ba80: 6372 6561 7465 7320 6120 6c65 7869 636f  creates a lexico
+0002ba90: 6772 6170 6869 6320 6f72 6465 7269 6e67  graphic ordering
+0002baa0: 2073 6f20 7468 6174 2069 6620 7468 6520   so that if the 
+0002bab0: 696e 7075 74e2 8099 7320 6974 6572 6162  input...s iterab
+0002bac0: 6c65 7320 6172 6520 736f 7274 6564 2c20  les are sorted, 
+0002bad0: 7468 6520 7072 6f64 7563 7420 7475 706c  the product tupl
+0002bae0: 6573 2061 7265 2065 6d69 7474 6564 2069  es are emitted i
+0002baf0: 6e20 736f 7274 6564 206f 7264 6572 2e0d  n sorted order..
+0002bb00: 0a0d 0a54 6f20 636f 6d70 7574 6520 7468  ...To compute th
+0002bb10: 6520 7072 6f64 7563 7420 6f66 2061 6e20  e product of an 
+0002bb20: 6974 6572 6162 6c65 2077 6974 6820 6974  iterable with it
+0002bb30: 7365 6c66 2c20 7370 6563 6966 7920 7468  self, specify th
+0002bb40: 6520 6e75 6d62 6572 206f 6620 7265 7065  e number of repe
+0002bb50: 7469 7469 6f6e 7320 7769 7468 2074 6865  titions with the
+0002bb60: 206f 7074 696f 6e61 6c20 7265 7065 6174   optional repeat
+0002bb70: 206b 6579 776f 7264 2061 7267 756d 656e   keyword argumen
+0002bb80: 742e 2046 6f72 2065 7861 6d70 6c65 2c20  t. For example, 
+0002bb90: 6070 726f 6475 6374 2841 2c20 7265 7065  `product(A, repe
+0002bba0: 6174 3d34 2960 206d 6561 6e73 2074 6865  at=4)` means the
+0002bbb0: 2073 616d 6520 6173 2060 6361 7274 6573   same as `cartes
+0002bbc0: 6961 6e5f 7072 6f64 7563 7428 412c 2041  ian_product(A, A
+0002bbd0: 2c20 412c 2041 2960 2e0d 0a0d 0a54 6869  , A, A)`.....Thi
+0002bbe0: 7320 6675 6e63 7469 6f6e 2069 7320 726f  s function is ro
+0002bbf0: 7567 686c 7920 6571 7569 7661 6c65 6e74  ughly equivalent
+0002bc00: 2074 6f20 7468 6520 666f 6c6c 6f77 696e   to the followin
+0002bc10: 6720 636f 6465 2c20 6578 6365 7074 2074  g code, except t
+0002bc20: 6861 7420 7468 6520 6163 7475 616c 2069  hat the actual i
+0002bc30: 6d70 6c65 6d65 6e74 6174 696f 6e20 646f  mplementation do
+0002bc40: 6573 206e 6f74 2062 7569 6c64 2075 7020  es not build up 
+0002bc50: 696e 7465 726d 6564 6961 7465 2072 6573  intermediate res
+0002bc60: 756c 7473 2069 6e20 6d65 6d6f 7279 3a0d  ults in memory:.
+0002bc70: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+0002bc80: 7468 6f6e 0d0a 6465 6620 6361 7274 6573  thon..def cartes
+0002bc90: 6961 6e5f 7072 6f64 7563 7428 2a61 7267  ian_product(*arg
+0002bca0: 732c 2072 6570 6561 743d 3129 3a0d 0a20  s, repeat=1):.. 
+0002bcb0: 2020 2023 2070 726f 6475 6374 2827 4142     # product('AB
+0002bcc0: 4344 272c 2027 7879 2729 202d 2d3e 2041  CD', 'xy') --> A
+0002bcd0: 7820 4179 2042 7820 4279 2043 7820 4379  x Ay Bx By Cx Cy
+0002bce0: 2044 7820 4479 0d0a 2020 2020 2320 7072   Dx Dy..    # pr
+0002bcf0: 6f64 7563 7428 7261 6e67 6528 3229 2c20  oduct(range(2), 
+0002bd00: 7265 7065 6174 3d33 2920 2d2d 3e20 3030  repeat=3) --> 00
+0002bd10: 3020 3030 3120 3031 3020 3031 3120 3130  0 001 010 011 10
+0002bd20: 3020 3130 3120 3131 3020 3131 310d 0a20  0 101 110 111.. 
+0002bd30: 2020 2070 6f6f 6c73 203d 205b 7475 706c     pools = [tupl
+0002bd40: 6528 706f 6f6c 2920 666f 7220 706f 6f6c  e(pool) for pool
+0002bd50: 2069 6e20 6172 6773 5d20 2a20 7265 7065   in args] * repe
+0002bd60: 6174 0d0a 2020 2020 7265 7375 6c74 203d  at..    result =
+0002bd70: 205b 5b5d 5d0d 0a20 2020 2066 6f72 2070   [[]]..    for p
+0002bd80: 6f6f 6c20 696e 2070 6f6f 6c73 3a0d 0a20  ool in pools:.. 
+0002bd90: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0002bda0: 5b78 2b5b 795d 2066 6f72 2078 2069 6e20  [x+[y] for x in 
+0002bdb0: 7265 7375 6c74 2066 6f72 2079 2069 6e20  result for y in 
+0002bdc0: 706f 6f6c 5d0d 0a20 2020 2066 6f72 2070  pool]..    for p
+0002bdd0: 726f 6420 696e 2072 6573 756c 743a 0d0a  rod in result:..
+0002bde0: 2020 2020 2020 2020 7969 656c 6420 7475          yield tu
+0002bdf0: 706c 6528 7072 6f64 290d 0a60 6060 0d0a  ple(prod)..```..
+0002be00: 0d0a 4265 666f 7265 2060 6361 7274 6573  ..Before `cartes
+0002be10: 6961 6e5f 7072 6f64 7563 7428 2960 2072  ian_product()` r
+0002be20: 756e 732c 2069 7420 636f 6d70 6c65 7465  uns, it complete
+0002be30: 6c79 2063 6f6e 7375 6d65 7320 7468 6520  ly consumes the 
+0002be40: 696e 7075 7420 6974 6572 6162 6c65 732c  input iterables,
+0002be50: 206b 6565 7069 6e67 2070 6f6f 6c73 206f   keeping pools o
+0002be60: 6620 7661 6c75 6573 2069 6e20 6d65 6d6f  f values in memo
+0002be70: 7279 2074 6f20 6765 6e65 7261 7465 2074  ry to generate t
+0002be80: 6865 2070 726f 6475 6374 732e 2041 6363  he products. Acc
+0002be90: 6f72 6469 6e67 6c79 2c20 6974 2069 7320  ordingly, it is 
+0002bea0: 6f6e 6c79 2075 7365 6675 6c20 7769 7468  only useful with
+0002beb0: 2066 696e 6974 6520 696e 7075 7473 2e0d   finite inputs..
+0002bec0: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0002bed0: 0d0a 0d0a 2a2a 436f 636f 6e75 743a 2a2a  ....**Coconut:**
+0002bee0: 0d0a 6060 6063 6f63 6f6e 7574 0d0a 7620  ..```coconut..v 
+0002bef0: 3d20 5b31 2c20 325d 0d0a 6173 7365 7274  = [1, 2]..assert
+0002bf00: 2063 6172 7465 7369 616e 5f70 726f 6475   cartesian_produ
+0002bf10: 6374 2876 2c20 7629 207c 3e20 6c69 7374  ct(v, v) |> list
+0002bf20: 203d 3d20 5b28 312c 2031 292c 2028 312c   == [(1, 1), (1,
+0002bf30: 2032 292c 2028 322c 2031 292c 2028 322c   2), (2, 1), (2,
+0002bf40: 2032 295d 0d0a 6060 600d 0a0d 0a2a 2a50   2)]..```....**P
+0002bf50: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+0002bf60: 6f6e 7574 5f70 7974 686f 6e0d 0a66 726f  onut_python..fro
+0002bf70: 6d20 6974 6572 746f 6f6c 7320 696d 706f  m itertools impo
+0002bf80: 7274 2070 726f 6475 6374 0d0a 7620 3d20  rt product..v = 
+0002bf90: 5b31 2c20 325d 0d0a 6173 7365 7274 206c  [1, 2]..assert l
+0002bfa0: 6973 7428 7072 6f64 7563 7428 762c 2076  ist(product(v, v
+0002bfb0: 2929 203d 3d20 5b28 312c 2031 292c 2028  )) == [(1, 1), (
+0002bfc0: 312c 2032 292c 2028 322c 2031 292c 2028  1, 2), (2, 1), (
+0002bfd0: 322c 2032 295d 0d0a 6060 600d 0a0d 0a23  2, 2)]..```....#
+0002bfe0: 2323 2320 606d 756c 7469 5f65 6e75 6d65  ### `multi_enume
+0002bff0: 7261 7465 600d 0a0d 0a2a 2a6d 756c 7469  rate`....**multi
+0002c000: 5c5f 656e 756d 6572 6174 652a 2a28 5f69  \_enumerate**(_i
+0002c010: 7465 7261 626c 655f 290d 0a0d 0a43 6f63  terable_)....Coc
+0002c020: 6f6e 7574 2773 2060 6d75 6c74 695f 656e  onut's `multi_en
+0002c030: 756d 6572 6174 6560 2065 6e75 6d65 7261  umerate` enumera
+0002c040: 7465 7320 7468 726f 7567 6820 616e 2069  tes through an i
+0002c050: 7465 7261 626c 6520 6f66 2069 7465 7261  terable of itera
+0002c060: 626c 6573 2e20 606d 756c 7469 5f65 6e75  bles. `multi_enu
+0002c070: 6d65 7261 7465 6020 776f 726b 7320 6c69  merate` works li
+0002c080: 6b65 2065 6e75 6d65 7261 7465 2c20 6275  ke enumerate, bu
+0002c090: 7420 696e 6465 7865 7320 7468 726f 7567  t indexes throug
+0002c0a0: 6820 696e 6e65 7220 6974 6572 6162 6c65  h inner iterable
+0002c0b0: 7320 616e 6420 7072 6f64 7563 6573 2061  s and produces a
+0002c0c0: 2074 7570 6c65 2069 6e64 6578 2072 6570   tuple index rep
+0002c0d0: 7265 7365 6e74 696e 6720 7468 6520 696e  resenting the in
+0002c0e0: 6465 7820 696e 2065 6163 6820 696e 6e65  dex in each inne
+0002c0f0: 7220 6974 6572 6162 6c65 2e20 5375 7070  r iterable. Supp
+0002c100: 6f72 7473 2069 6e64 6578 696e 672e 0d0a  orts indexing...
+0002c110: 0d0a 466f 7220 5b60 6e75 6d70 7960 5d28  ..For [`numpy`](
+0002c120: 236e 756d 7079 2d69 6e74 6567 7261 7469  #numpy-integrati
+0002c130: 6f6e 2920 6f62 6a65 6374 732c 2075 7365  on) objects, use
+0002c140: 7320 5b60 6e70 2e6e 6469 7465 7260 5d28  s [`np.nditer`](
+0002c150: 6874 7470 733a 2f2f 6e75 6d70 792e 6f72  https://numpy.or
+0002c160: 672f 646f 632f 7374 6162 6c65 2f72 6566  g/doc/stable/ref
+0002c170: 6572 656e 6365 2f67 656e 6572 6174 6564  erence/generated
+0002c180: 2f6e 756d 7079 2e6e 6469 7465 722e 6874  /numpy.nditer.ht
+0002c190: 6d6c 2920 756e 6465 7220 7468 6520 686f  ml) under the ho
+0002c1a0: 6f64 2e20 416c 736f 2073 7570 706f 7274  od. Also support
+0002c1b0: 7320 606c 656e 6020 666f 7220 5b60 6e75  s `len` for [`nu
+0002c1c0: 6d70 7960 5d28 236e 756d 7079 2d69 6e74  mpy`](#numpy-int
+0002c1d0: 6567 7261 7469 6f6e 2920 6172 7261 7973  egration) arrays
+0002c1e0: 2e0d 0a0d 0a23 2323 2323 2045 7861 6d70  .....##### Examp
+0002c1f0: 6c65 0d0a 0d0a 2a2a 436f 636f 6e75 743a  le....**Coconut:
+0002c200: 2a2a 0d0a 6060 6063 6f63 6f6e 7574 5f70  **..```coconut_p
+0002c210: 7963 6f6e 0d0a 3e3e 3e20 5b31 2c20 323b  ycon..>>> [1, 2;
+0002c220: 3b20 332c 2034 5d20 7c3e 206d 756c 7469  ; 3, 4] |> multi
+0002c230: 5f65 6e75 6d65 7261 7465 207c 3e20 6c69  _enumerate |> li
+0002c240: 7374 0d0a 5b28 2830 2c20 3029 2c20 3129  st..[((0, 0), 1)
+0002c250: 2c20 2828 302c 2031 292c 2032 292c 2028  , ((0, 1), 2), (
+0002c260: 2831 2c20 3029 2c20 3329 2c20 2828 312c  (1, 0), 3), ((1,
+0002c270: 2031 292c 2034 295d 0d0a 6060 600d 0a0d   1), 4)]..```...
+0002c280: 0a2a 2a50 7974 686f 6e3a 2a2a 0d0a 6060  .**Python:**..``
+0002c290: 6063 6f63 6f6e 7574 5f70 7974 686f 6e0d  `coconut_python.
+0002c2a0: 0a61 7272 6179 203d 205b 5b31 2c20 325d  .array = [[1, 2]
+0002c2b0: 2c20 5b33 2c20 345d 5d0d 0a65 6e75 6d65  , [3, 4]]..enume
+0002c2c0: 7261 7465 645f 6172 7261 7920 3d20 5b5d  rated_array = []
+0002c2d0: 0d0a 666f 7220 6920 696e 2072 616e 6765  ..for i in range
+0002c2e0: 286c 656e 2861 7272 6179 2929 3a0d 0a20  (len(array)):.. 
+0002c2f0: 2020 2066 6f72 206a 2069 6e20 7261 6e67     for j in rang
+0002c300: 6528 6c65 6e28 6172 7261 795b 695d 2929  e(len(array[i]))
+0002c310: 3a0d 0a20 2020 2020 2020 2065 6e75 6d65  :..        enume
+0002c320: 7261 7465 645f 6172 7261 792e 6170 7065  rated_array.appe
+0002c330: 6e64 2828 2869 2c20 6a29 2c20 6172 7261  nd(((i, j), arra
+0002c340: 795b 695d 5b6a 5d29 290d 0a60 6060 0d0a  y[i][j]))..```..
+0002c350: 0d0a 2323 2323 2060 6772 6f75 7073 6f66  ..#### `groupsof
+0002c360: 600d 0a0d 0a2a 2a67 726f 7570 736f 662a  `....**groupsof*
+0002c370: 2a28 5f6e 5f2c 205f 6974 6572 6162 6c65  *(_n_, _iterable
+0002c380: 5f2c 205f 6669 6c6c 7661 6c75 655f 3d60  _, _fillvalue_=`
+0002c390: 2e2e 2e60 290d 0a0d 0a43 6f63 6f6e 7574  ...`)....Coconut
+0002c3a0: 2070 726f 7669 6465 7320 7468 6520 6067   provides the `g
+0002c3b0: 726f 7570 736f 6660 2062 7569 6c74 2d69  roupsof` built-i
+0002c3c0: 6e20 746f 2073 706c 6974 2061 6e20 6974  n to split an it
+0002c3d0: 6572 6162 6c65 2069 6e74 6f20 6772 6f75  erable into grou
+0002c3e0: 7073 206f 6620 6120 7370 6563 6966 6963  ps of a specific
+0002c3f0: 206c 656e 6774 682e 2053 7065 6369 6669   length. Specifi
+0002c400: 6361 6c6c 792c 2060 6772 6f75 7073 6f66  cally, `groupsof
+0002c410: 286e 2c20 6974 6572 6162 6c65 2960 2077  (n, iterable)` w
+0002c420: 696c 6c20 7370 6c69 7420 6069 7465 7261  ill split `itera
+0002c430: 626c 6560 2069 6e74 6f20 7475 706c 6573  ble` into tuples
+0002c440: 206f 6620 6c65 6e67 7468 2060 6e60 2c20   of length `n`, 
+0002c450: 7769 7468 206f 6e6c 7920 7468 6520 6c61  with only the la
+0002c460: 7374 2074 7570 6c65 2070 6f74 656e 7469  st tuple potenti
+0002c470: 616c 6c79 206f 6620 7369 7a65 2060 3c20  ally of size `< 
+0002c480: 6e60 2069 6620 7468 6520 6c65 6e67 7468  n` if the length
+0002c490: 206f 6620 6069 7465 7261 626c 6560 2069   of `iterable` i
+0002c4a0: 7320 6e6f 7420 6469 7669 7369 626c 6520  s not divisible 
+0002c4b0: 6279 2060 6e60 2e20 4966 2074 6861 7420  by `n`. If that 
+0002c4c0: 6973 206e 6f74 2074 6865 2064 6573 6972  is not the desir
+0002c4d0: 6564 2062 6568 6176 696f 722c 205f 6669  ed behavior, _fi
+0002c4e0: 6c6c 7661 6c75 655f 2063 616e 2062 6520  llvalue_ can be 
+0002c4f0: 7061 7373 6564 2061 6e64 2077 696c 6c20  passed and will 
+0002c500: 6265 2075 7365 6420 746f 2070 6164 2074  be used to pad t
+0002c510: 6865 2065 6e64 206f 6620 7468 6520 6c61  he end of the la
+0002c520: 7374 2074 7570 6c65 2074 6f20 6c65 6e67  st tuple to leng
+0002c530: 7468 2060 6e60 2e0d 0a0d 0a41 6464 6974  th `n`.....Addit
+0002c540: 696f 6e61 6c6c 792c 2060 6772 6f75 7073  ionally, `groups
+0002c550: 6f66 6020 7375 7070 6f72 7473 2060 6c65  of` supports `le
+0002c560: 6e60 2077 6865 6e20 6069 7465 7261 626c  n` when `iterabl
+0002c570: 6560 2073 7570 706f 7274 7320 606c 656e  e` supports `len
+0002c580: 602e 0d0a 0d0a 2323 2323 2320 4578 616d  `.....##### Exam
+0002c590: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0002c5a0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0002c5b0: 0a70 6169 7273 203d 2072 616e 6765 2831  .pairs = range(1
+0002c5c0: 2c20 3131 2920 7c3e 2067 726f 7570 736f  , 11) |> groupso
+0002c5d0: 6624 2832 290d 0a60 6060 0d0a 0d0a 2a2a  f$(2)..```....**
+0002c5e0: 5079 7468 6f6e 3a2a 2a0d 0a60 6060 636f  Python:**..```co
+0002c5f0: 636f 6e75 745f 7079 7468 6f6e 0d0a 7061  conut_python..pa
+0002c600: 6972 7320 3d20 5b5d 0d0a 6772 6f75 7020  irs = []..group 
+0002c610: 3d20 5b5d 0d0a 666f 7220 6974 656d 2069  = []..for item i
+0002c620: 6e20 7261 6e67 6528 312c 2031 3129 3a0d  n range(1, 11):.
+0002c630: 0a20 2020 2067 726f 7570 2e61 7070 656e  .    group.appen
+0002c640: 6428 6974 656d 290d 0a20 2020 2069 6620  d(item)..    if 
+0002c650: 6c65 6e28 6772 6f75 7029 203d 3d20 323a  len(group) == 2:
+0002c660: 0d0a 2020 2020 2020 2020 7061 6972 732e  ..        pairs.
+0002c670: 6170 7065 6e64 2874 7570 6c65 2867 726f  append(tuple(gro
+0002c680: 7570 2929 0d0a 2020 2020 2020 2020 6772  up))..        gr
+0002c690: 6f75 7020 3d20 5b5d 0d0a 6966 2067 726f  oup = []..if gro
+0002c6a0: 7570 3a0d 0a20 2020 2070 6169 7273 2e61  up:..    pairs.a
+0002c6b0: 7070 656e 6428 7475 706c 6528 6772 6f75  ppend(tuple(grou
+0002c6c0: 7029 290d 0a60 6060 0d0a 0d0a 2323 2323  p))..```....####
+0002c6d0: 2060 7769 6e64 6f77 736f 6660 0d0a 0d0a   `windowsof`....
+0002c6e0: 2a2a 7769 6e64 6f77 736f 662a 2a28 5f73  **windowsof**(_s
+0002c6f0: 697a 655f 2c20 5f69 7465 7261 626c 655f  ize_, _iterable_
+0002c700: 2c20 5f66 696c 6c76 616c 7565 5f3d 602e  , _fillvalue_=`.
+0002c710: 2e2e 602c 205f 7374 6570 5f3d 6031 6029  ..`, _step_=`1`)
+0002c720: 0d0a 0d0a 6077 696e 646f 7773 6f66 6020  ....`windowsof` 
+0002c730: 7072 6f64 7563 6573 2061 6e20 6974 6572  produces an iter
+0002c740: 6162 6c65 2074 6861 7420 6566 6665 6374  able that effect
+0002c750: 6976 656c 7920 6d69 6d69 6373 2061 2073  ively mimics a s
+0002c760: 6c69 6469 6e67 2077 696e 646f 7720 6f76  liding window ov
+0002c770: 6572 205f 6974 6572 6162 6c65 5f20 6f66  er _iterable_ of
+0002c780: 2073 697a 6520 5f73 697a 655f 2e20 5f73   size _size_. _s
+0002c790: 7465 705f 2064 6574 6572 6d69 6e65 7320  tep_ determines 
+0002c7a0: 7468 6520 7370 6163 696e 6720 6265 7477  the spacing betw
+0002c7b0: 6565 6e20 7769 6e64 6f77 732e 0d0a 0d0a  een windows.....
+0002c7c0: 4966 205f 7369 7a65 5f20 6973 206c 6172  If _size_ is lar
+0002c7d0: 6765 7220 7468 616e 205f 6974 6572 6162  ger than _iterab
+0002c7e0: 6c65 5f2c 2060 7769 6e64 6f77 736f 6660  le_, `windowsof`
+0002c7f0: 2077 696c 6c20 7072 6f64 7563 6520 616e   will produce an
+0002c800: 2065 6d70 7479 2069 7465 7261 626c 652e   empty iterable.
+0002c810: 2049 6620 7468 6174 2069 7320 6e6f 7420   If that is not 
+0002c820: 7468 6520 6465 7369 7265 6420 6265 6861  the desired beha
+0002c830: 7669 6f72 2c20 5f66 696c 6c76 616c 7565  vior, _fillvalue
+0002c840: 5f20 6361 6e20 6265 2070 6173 7365 6420  _ can be passed 
+0002c850: 616e 6420 7769 6c6c 2062 6520 7573 6564  and will be used
+0002c860: 2069 6e20 706c 6163 6520 6f66 206d 6973   in place of mis
+0002c870: 7369 6e67 2076 616c 7565 732e 2041 6c73  sing values. Als
+0002c880: 6f2c 2069 6620 5f66 696c 6c76 616c 7565  o, if _fillvalue
+0002c890: 5f20 6973 2070 6173 7365 6420 616e 6420  _ is passed and 
+0002c8a0: 7468 6520 6c65 6e67 7468 206f 6620 7468  the length of th
+0002c8b0: 6520 5f69 7465 7261 626c 655f 2069 7320  e _iterable_ is 
+0002c8c0: 6e6f 7420 6469 7669 7369 626c 6520 6279  not divisible by
+0002c8d0: 205f 7374 6570 5f2c 205f 6669 6c6c 7661   _step_, _fillva
+0002c8e0: 6c75 655f 2077 696c 6c20 6265 2075 7365  lue_ will be use
+0002c8f0: 6420 696e 2074 6861 7420 6361 7365 2074  d in that case t
+0002c900: 6f20 7061 6420 7468 6520 6c61 7374 2077  o pad the last w
+0002c910: 696e 646f 7720 6173 2077 656c 6c2e 204e  indow as well. N
+0002c920: 6f74 6520 7468 6174 205f 6669 6c6c 7661  ote that _fillva
+0002c930: 6c75 655f 2077 696c 6c20 6f6e 6c79 2065  lue_ will only e
+0002c940: 7665 7220 6170 7065 6172 2069 6e20 7468  ver appear in th
+0002c950: 6520 6c61 7374 2077 696e 646f 772e 0d0a  e last window...
+0002c960: 0d0a 4164 6469 7469 6f6e 616c 6c79 2c20  ..Additionally, 
+0002c970: 6077 696e 646f 7773 6f66 6020 7375 7070  `windowsof` supp
+0002c980: 6f72 7473 2060 6c65 6e60 2077 6865 6e20  orts `len` when 
+0002c990: 6069 7465 7261 626c 6560 2073 7570 706f  `iterable` suppo
+0002c9a0: 7274 7320 606c 656e 602e 0d0a 0d0a 2323  rts `len`.....##
+0002c9b0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+0002c9c0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+0002c9d0: 636f 636f 6e75 740d 0a61 7373 6572 7420  coconut..assert 
+0002c9e0: 2231 3233 3435 2220 7c3e 2077 696e 646f  "12345" |> windo
+0002c9f0: 7773 6f66 2428 3329 207c 3e20 6c69 7374  wsof$(3) |> list
+0002ca00: 203d 3d20 5b28 2231 222c 2022 3222 2c20   == [("1", "2", 
+0002ca10: 2233 2229 2c20 2822 3222 2c20 2233 222c  "3"), ("2", "3",
+0002ca20: 2022 3422 292c 2028 2233 222c 2022 3422   "4"), ("3", "4"
+0002ca30: 2c20 2235 2229 5d0d 0a60 6060 0d0a 0d0a  , "5")]..```....
+0002ca40: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a5f 4361  **Python:**.._Ca
+0002ca50: 6e27 7420 6265 2064 6f6e 6520 7769 7468  n't be done with
+0002ca60: 6f75 7420 7468 6520 6465 6669 6e69 7469  out the definiti
+0002ca70: 6f6e 206f 6620 6077 696e 646f 7773 6f66  on of `windowsof
+0002ca80: 603b 2073 6565 2074 6865 2063 6f6d 7069  `; see the compi
+0002ca90: 6c65 6420 6865 6164 6572 2066 6f72 2074  led header for t
+0002caa0: 6865 2066 756c 6c20 6465 6669 6e69 7469  he full definiti
+0002cab0: 6f6e 2e5f 0d0a 0d0a 2323 2323 2060 636f  on._....#### `co
+0002cac0: 6c6c 6563 7462 7960 0d0a 0d0a 2a2a 636f  llectby`....**co
+0002cad0: 6c6c 6563 7462 792a 2a28 5f6b 6579 5c5f  llectby**(_key\_
+0002cae0: 6675 6e63 5f2c 205f 6974 6572 6162 6c65  func_, _iterable
+0002caf0: 5f2c 205f 7661 6c75 655c 5f66 756e 635f  _, _value\_func_
+0002cb00: 3d60 4e6f 6e65 602c 205f 7265 6475 6365  =`None`, _reduce
+0002cb10: 5c5f 6675 6e63 5f3d 604e 6f6e 6560 290d  \_func_=`None`).
+0002cb20: 0a0d 0a60 636f 6c6c 6563 7462 7928 6b65  ...`collectby(ke
+0002cb30: 795f 6675 6e63 2c20 6974 6572 6162 6c65  y_func, iterable
+0002cb40: 2960 2063 6f6c 6c65 6374 7320 7468 6520  )` collects the 
+0002cb50: 6974 656d 7320 696e 2060 6974 6572 6162  items in `iterab
+0002cb60: 6c65 6020 696e 746f 2061 2064 6963 7469  le` into a dicti
+0002cb70: 6f6e 6172 7920 6f66 206c 6973 7473 206b  onary of lists k
+0002cb80: 6579 6564 2062 7920 606b 6579 5f66 756e  eyed by `key_fun
+0002cb90: 6328 6974 656d 2960 2e0d 0a0d 0a49 6620  c(item)`.....If 
+0002cba0: 6076 616c 7565 5f66 756e 6360 2069 7320  `value_func` is 
+0002cbb0: 7061 7373 6564 2c20 6063 6f6c 6c65 6374  passed, `collect
+0002cbc0: 6279 286b 6579 5f66 756e 632c 2069 7465  by(key_func, ite
+0002cbd0: 7261 626c 652c 2076 616c 7565 5f66 756e  rable, value_fun
+0002cbe0: 633d 7661 6c75 655f 6675 6e63 2960 2069  c=value_func)` i
+0002cbf0: 6e73 7465 6164 2063 6f6c 6c65 6374 7320  nstead collects 
+0002cc00: 7661 6c75 655f 6675 6e63 2869 7465 6d29  value_func(item)
+0002cc10: 2069 6e74 6f20 6561 6368 206c 6973 7420   into each list 
+0002cc20: 696e 7374 6561 6420 6f66 2069 7465 6d2e  instead of item.
+0002cc30: 0d0a 0d0a 4966 2060 7265 6475 6365 5f66  ....If `reduce_f
+0002cc40: 756e 6360 2069 7320 7061 7373 6564 2c20  unc` is passed, 
+0002cc50: 6063 6f6c 6c65 6374 6279 286b 6579 5f66  `collectby(key_f
+0002cc60: 756e 632c 2069 7465 7261 626c 652c 2072  unc, iterable, r
+0002cc70: 6564 7563 655f 6675 6e63 3d72 6564 7563  educe_func=reduc
+0002cc80: 655f 6675 6e63 2960 2c20 696e 7374 6561  e_func)`, instea
+0002cc90: 6420 6f66 2063 6f6c 6c65 6374 696e 6720  d of collecting 
+0002cca0: 7468 6520 6974 656d 7320 696e 746f 206c  the items into l
+0002ccb0: 6973 7473 2c20 7265 6475 6365 7320 6f76  ists, reduces ov
+0002ccc0: 6572 2074 6865 2069 7465 6d73 206f 6620  er the items of 
+0002ccd0: 6561 6368 206b 6579 2077 6974 6820 7265  each key with re
+0002cce0: 6475 6365 5f66 756e 632c 2065 6666 6563  duce_func, effec
+0002ccf0: 7469 7665 6c79 2069 6d70 6c65 6d65 6e74  tively implement
+0002cd00: 696e 6720 6120 4d61 7052 6564 7563 6520  ing a MapReduce 
+0002cd10: 6f70 6572 6174 696f 6e2e 0d0a 0d0a 6063  operation.....`c
+0002cd20: 6f6c 6c65 6374 6279 6020 6973 2065 6666  ollectby` is eff
+0002cd30: 6563 7469 7665 6c79 2065 7175 6976 616c  ectively equival
+0002cd40: 656e 7420 746f 3a0d 0a60 6060 636f 636f  ent to:..```coco
+0002cd50: 6e75 745f 7079 7468 6f6e 0d0a 6672 6f6d  nut_python..from
+0002cd60: 2063 6f6c 6c65 6374 696f 6e73 2069 6d70   collections imp
+0002cd70: 6f72 7420 6465 6661 756c 7464 6963 740d  ort defaultdict.
+0002cd80: 0a0d 0a64 6566 2063 6f6c 6c65 6374 6279  ...def collectby
+0002cd90: 286b 6579 5f66 756e 632c 2069 7465 7261  (key_func, itera
+0002cda0: 626c 652c 2076 616c 7565 5f66 756e 633d  ble, value_func=
+0002cdb0: 6964 656e 742c 2072 6564 7563 655f 6675  ident, reduce_fu
+0002cdc0: 6e63 3d4e 6f6e 6529 3a0d 0a20 2020 2063  nc=None):..    c
+0002cdd0: 6f6c 6c65 6374 696f 6e20 3d20 6465 6661  ollection = defa
+0002cde0: 756c 7464 6963 7428 6c69 7374 2920 6966  ultdict(list) if
+0002cdf0: 2072 6564 7563 655f 6675 6e63 2069 7320   reduce_func is 
+0002ce00: 4e6f 6e65 2065 6c73 6520 7b7d 0d0a 2020  None else {}..  
+0002ce10: 2020 666f 7220 6974 656d 2069 6e20 6974    for item in it
+0002ce20: 6572 6162 6c65 3a0d 0a20 2020 2020 2020  erable:..       
+0002ce30: 206b 6579 203d 206b 6579 5f66 756e 6328   key = key_func(
+0002ce40: 6974 656d 290d 0a20 2020 2020 2020 2076  item)..        v
+0002ce50: 616c 7565 203d 2076 616c 7565 5f66 756e  alue = value_fun
+0002ce60: 6328 6974 656d 290d 0a20 2020 2020 2020  c(item)..       
+0002ce70: 2069 6620 7265 6475 6365 5f66 756e 6320   if reduce_func 
+0002ce80: 6973 204e 6f6e 653a 0d0a 2020 2020 2020  is None:..      
+0002ce90: 2020 2020 2020 636f 6c6c 6563 7469 6f6e        collection
+0002cea0: 5b6b 6579 5d2e 6170 7065 6e64 2876 616c  [key].append(val
+0002ceb0: 7565 290d 0a20 2020 2020 2020 2065 6c73  ue)..        els
+0002cec0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0002ced0: 6f6c 645f 7661 6c75 6520 3d20 636f 6c6c  old_value = coll
+0002cee0: 6563 7469 6f6e 2e67 6574 286b 6579 2c20  ection.get(key, 
+0002cef0: 7365 6e74 696e 656c 290d 0a20 2020 2020  sentinel)..     
+0002cf00: 2020 2020 2020 2069 6620 6f6c 645f 7661         if old_va
+0002cf10: 6c75 6520 6973 206e 6f74 2073 656e 7469  lue is not senti
+0002cf20: 6e65 6c3a 0d0a 2020 2020 2020 2020 2020  nel:..          
+0002cf30: 2020 2020 2020 7661 6c75 6520 3d20 7265        value = re
+0002cf40: 6475 6365 5f66 756e 6328 6f6c 645f 7661  duce_func(old_va
+0002cf50: 6c75 652c 2076 616c 7565 290d 0a20 2020  lue, value)..   
+0002cf60: 2020 2020 2020 2020 2063 6f6c 6c65 6374           collect
+0002cf70: 696f 6e5b 6b65 795d 203d 2076 616c 7565  ion[key] = value
+0002cf80: 0d0a 2020 2020 7265 7475 726e 2063 6f6c  ..    return col
+0002cf90: 6c65 6374 696f 6e0d 0a60 6060 0d0a 0d0a  lection..```....
+0002cfa0: 6063 6f6c 6c65 6374 6279 6020 6973 2073  `collectby` is s
+0002cfb0: 696d 696c 6172 2074 6f20 5b60 6974 6572  imilar to [`iter
+0002cfc0: 746f 6f6c 732e 6772 6f75 7062 7960 5d28  tools.groupby`](
+0002cfd0: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+0002cfe0: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+0002cff0: 792f 6974 6572 746f 6f6c 732e 6874 6d6c  y/itertools.html
+0002d000: 2369 7465 7274 6f6f 6c73 2e67 726f 7570  #itertools.group
+0002d010: 6279 2920 6578 6365 7074 2074 6861 7420  by) except that 
+0002d020: 6063 6f6c 6c65 6374 6279 6020 6167 6772  `collectby` aggr
+0002d030: 6567 6174 6573 2063 6f6d 6d6f 6e20 656c  egates common el
+0002d040: 656d 656e 7473 2072 6567 6172 646c 6573  ements regardles
+0002d050: 7320 6f66 2074 6865 6972 206f 7264 6572  s of their order
+0002d060: 2069 6e20 7468 6520 696e 7075 7420 6974   in the input it
+0002d070: 6572 6162 6c65 2c20 7768 6572 6561 7320  erable, whereas 
+0002d080: 6067 726f 7570 6279 6020 6f6e 6c79 2061  `groupby` only a
+0002d090: 6767 7265 6761 7465 7320 636f 6d6d 6f6e  ggregates common
+0002d0a0: 2065 6c65 6d65 6e74 7320 7468 6174 2061   elements that a
+0002d0b0: 7265 2061 646a 6163 656e 7420 696e 2074  re adjacent in t
+0002d0c0: 6865 2069 6e70 7574 2069 7465 7261 626c  he input iterabl
+0002d0d0: 652e 0d0a 0d0a 2323 2323 2320 4578 616d  e.....##### Exam
+0002d0e0: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0002d0f0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0002d100: 0a75 7365 725f 6261 6c61 6e63 6573 203d  .user_balances =
+0002d110: 2028 0d0a 2020 2020 6261 6c61 6e63 655f   (..    balance_
+0002d120: 6461 7461 0d0a 2020 2020 7c3e 2063 6f6c  data..    |> col
+0002d130: 6c65 6374 6279 2428 2e75 7365 722c 2076  lectby$(.user, v
+0002d140: 616c 7565 5f66 756e 633d 2e62 616c 616e  alue_func=.balan
+0002d150: 6365 2c20 7265 6475 6365 5f66 756e 633d  ce, reduce_func=
+0002d160: 282b 2929 0d0a 290d 0a60 6060 0d0a 0d0a  (+))..)..```....
+0002d170: 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60 6060  **Python:**..```
+0002d180: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+0002d190: 6672 6f6d 2063 6f6c 6c65 6374 696f 6e73  from collections
+0002d1a0: 2069 6d70 6f72 7420 6465 6661 756c 7464   import defaultd
+0002d1b0: 6963 740d 0a0d 0a75 7365 725f 6261 6c61  ict....user_bala
+0002d1c0: 6e63 6573 203d 2064 6566 6175 6c74 6469  nces = defaultdi
+0002d1d0: 6374 2869 6e74 290d 0a66 6f72 2069 7465  ct(int)..for ite
+0002d1e0: 6d20 696e 2062 616c 616e 6365 5f64 6174  m in balance_dat
+0002d1f0: 613a 0d0a 2020 2020 7573 6572 5f62 616c  a:..    user_bal
+0002d200: 616e 6365 735b 6974 656d 2e75 7365 725d  ances[item.user]
+0002d210: 202b 3d20 6974 656d 2e62 616c 616e 6365   += item.balance
+0002d220: 0d0a 6060 600d 0a0d 0a23 2323 2320 6061  ..```....#### `a
+0002d230: 6c6c 5f65 7175 616c 600d 0a0d 0a2a 2a61  ll_equal`....**a
+0002d240: 6c6c 5c5f 6571 7561 6c2a 2a28 5f69 7465  ll\_equal**(_ite
+0002d250: 7261 626c 655f 290d 0a0d 0a43 6f63 6f6e  rable_)....Cocon
+0002d260: 7574 2773 2060 616c 6c5f 6571 7561 6c60  ut's `all_equal`
+0002d270: 2062 7569 6c74 2d69 6e20 7461 6b65 7320   built-in takes 
+0002d280: 696e 2061 6e20 6974 6572 6162 6c65 2061  in an iterable a
+0002d290: 6e64 2064 6574 6572 6d69 6e65 7320 7768  nd determines wh
+0002d2a0: 6574 6865 7220 616c 6c20 6f66 2069 7473  ether all of its
+0002d2b0: 2065 6c65 6d65 6e74 7320 6172 6520 6571   elements are eq
+0002d2c0: 7561 6c20 746f 2065 6163 6820 6f74 6865  ual to each othe
+0002d2d0: 722e 2060 616c 6c5f 6571 7561 6c60 2061  r. `all_equal` a
+0002d2e0: 7373 756d 6573 2074 7261 6e73 6974 6976  ssumes transitiv
+0002d2f0: 6974 7920 6f66 2065 7175 616c 6974 7920  ity of equality 
+0002d300: 616e 6420 7468 6174 2060 213d 6020 6973  and that `!=` is
+0002d310: 2074 6865 206e 6567 6174 696f 6e20 6f66   the negation of
+0002d320: 2060 3d3d 602e 2053 7065 6369 616c 2073   `==`. Special s
+0002d330: 7570 706f 7274 2069 7320 7072 6f76 6964  upport is provid
+0002d340: 6564 2066 6f72 205b 606e 756d 7079 605d  ed for [`numpy`]
+0002d350: 2823 6e75 6d70 792d 696e 7465 6772 6174  (#numpy-integrat
+0002d360: 696f 6e29 206f 626a 6563 7473 2e0d 0a0d  ion) objects....
+0002d370: 0a23 2323 2323 2045 7861 6d70 6c65 0d0a  .##### Example..
+0002d380: 0d0a 2a2a 436f 636f 6e75 743a 2a2a 0d0a  ..**Coconut:**..
+0002d390: 6060 6063 6f63 6f6e 7574 0d0a 616c 6c5f  ```coconut..all_
+0002d3a0: 6571 7561 6c28 5b31 2c20 312c 2031 5d29  equal([1, 1, 1])
+0002d3b0: 0d0a 616c 6c5f 6571 7561 6c28 5b31 2c20  ..all_equal([1, 
+0002d3c0: 312c 2032 5d29 0d0a 6060 600d 0a0d 0a2a  1, 2])..```....*
+0002d3d0: 2a50 7974 686f 6e3a 2a2a 0d0a 6060 6063  *Python:**..```c
+0002d3e0: 6f63 6f6e 7574 5f70 7974 686f 6e0d 0a73  oconut_python..s
+0002d3f0: 656e 7469 6e65 6c20 3d20 6f62 6a65 6374  entinel = object
+0002d400: 2829 0d0a 6465 6620 616c 6c5f 6571 7561  ()..def all_equa
+0002d410: 6c28 6974 6572 6162 6c65 293a 0d0a 2020  l(iterable):..  
+0002d420: 2020 6669 7273 745f 6974 656d 203d 2073    first_item = s
+0002d430: 656e 7469 6e65 6c0d 0a20 2020 2066 6f72  entinel..    for
+0002d440: 2069 7465 6d20 696e 2069 7465 7261 626c   item in iterabl
+0002d450: 653a 0d0a 2020 2020 2020 2020 6966 2066  e:..        if f
+0002d460: 6972 7374 5f69 7465 6d20 6973 2073 656e  irst_item is sen
+0002d470: 7469 6e65 6c3a 0d0a 2020 2020 2020 2020  tinel:..        
+0002d480: 2020 2020 6669 7273 745f 6974 656d 203d      first_item =
+0002d490: 2069 7465 6d0d 0a20 2020 2020 2020 2065   item..        e
+0002d4a0: 6c69 6620 6669 7273 745f 6974 656d 2021  lif first_item !
+0002d4b0: 3d20 6974 656d 3a0d 0a20 2020 2020 2020  = item:..       
+0002d4c0: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+0002d4d0: 650d 0a20 2020 2072 6574 7572 6e20 5472  e..    return Tr
+0002d4e0: 7565 0d0a 616c 6c5f 6571 7561 6c28 5b31  ue..all_equal([1
+0002d4f0: 2c20 312c 2031 5d29 0d0a 616c 6c5f 6571  , 1, 1])..all_eq
+0002d500: 7561 6c28 5b31 2c20 312c 2032 5d29 0d0a  ual([1, 1, 2])..
+0002d510: 6060 600d 0a0d 0a23 2323 2320 6070 6172  ```....#### `par
+0002d520: 616c 6c65 6c5f 6d61 7060 0d0a 0d0a 2a2a  allel_map`....**
+0002d530: 7061 7261 6c6c 656c 5c5f 6d61 702a 2a28  parallel\_map**(
+0002d540: 5f66 756e 6374 696f 6e5f 2c20 2a5f 6974  _function_, *_it
+0002d550: 6572 6162 6c65 735f 2c20 2a2c 205f 6368  erables_, *, _ch
+0002d560: 756e 6b73 697a 655f 3d60 3160 2c20 5f73  unksize_=`1`, _s
+0002d570: 7472 6963 745f 3d60 4661 6c73 6560 290d  trict_=`False`).
+0002d580: 0a0d 0a43 6f63 6f6e 7574 2070 726f 7669  ...Coconut provi
+0002d590: 6465 7320 6120 7061 7261 6c6c 656c 2076  des a parallel v
+0002d5a0: 6572 7369 6f6e 206f 6620 606d 6170 6020  ersion of `map` 
+0002d5b0: 756e 6465 7220 7468 6520 6e61 6d65 2060  under the name `
+0002d5c0: 7061 7261 6c6c 656c 5f6d 6170 602e 2060  parallel_map`. `
+0002d5d0: 7061 7261 6c6c 656c 5f6d 6170 6020 6d61  parallel_map` ma
+0002d5e0: 6b65 7320 7573 6520 6f66 206d 756c 7469  kes use of multi
+0002d5f0: 706c 6520 7072 6f63 6573 7365 732c 2061  ple processes, a
+0002d600: 6e64 2069 7320 7468 6572 6566 6f72 6520  nd is therefore 
+0002d610: 6d75 6368 2066 6173 7465 7220 7468 616e  much faster than
+0002d620: 2060 6d61 7060 2066 6f72 2043 5055 2d62   `map` for CPU-b
+0002d630: 6f75 6e64 2074 6173 6b73 2e20 6070 6172  ound tasks. `par
+0002d640: 616c 6c65 6c5f 6d61 7060 206e 6576 6572  allel_map` never
+0002d650: 206c 6f61 6473 2074 6865 2065 6e74 6972   loads the entir
+0002d660: 6520 696e 7075 7420 6974 6572 6174 6f72  e input iterator
+0002d670: 2069 6e74 6f20 6d65 6d6f 7279 2c20 7468   into memory, th
+0002d680: 6f75 6768 2069 7420 646f 6573 2063 6f6e  ough it does con
+0002d690: 7375 6d65 2074 6865 2065 6e74 6972 6520  sume the entire 
+0002d6a0: 696e 7075 7420 6974 6572 6174 6f72 2061  input iterator a
+0002d6b0: 7320 736f 6f6e 2061 7320 6120 7369 6e67  s soon as a sing
+0002d6c0: 6c65 206f 7574 7075 7420 6973 2072 6571  le output is req
+0002d6d0: 7565 7374 6564 2e20 4966 2061 6e79 2065  uested. If any e
+0002d6e0: 7863 6570 7469 6f6e 7320 6172 6520 7261  xceptions are ra
+0002d6f0: 6973 6564 2069 6e73 6964 6520 6f66 2060  ised inside of `
+0002d700: 7061 7261 6c6c 656c 5f6d 6170 602c 2061  parallel_map`, a
+0002d710: 2074 7261 6365 6261 636b 2077 696c 6c20   traceback will 
+0002d720: 6265 2070 7269 6e74 6564 2061 7320 736f  be printed as so
+0002d730: 6f6e 2061 7320 7468 6579 2061 7265 2065  on as they are e
+0002d740: 6e63 6f75 6e74 6572 6564 2e0d 0a0d 0a42  ncountered.....B
+0002d750: 6563 6175 7365 2060 7061 7261 6c6c 656c  ecause `parallel
+0002d760: 5f6d 6170 6020 7573 6573 206d 756c 7469  _map` uses multi
+0002d770: 706c 6520 7072 6f63 6573 7365 7320 666f  ple processes fo
+0002d780: 7220 6974 7320 6578 6563 7574 696f 6e2c  r its execution,
+0002d790: 2069 7420 6973 206e 6563 6573 7361 7279   it is necessary
+0002d7a0: 2074 6861 7420 616c 6c20 6f66 2069 7473   that all of its
+0002d7b0: 2061 7267 756d 656e 7473 2062 6520 7069   arguments be pi
+0002d7c0: 636b 6c65 6162 6c65 2e20 4f6e 6c79 206f  ckleable. Only o
+0002d7d0: 626a 6563 7473 2064 6566 696e 6564 2061  bjects defined a
+0002d7e0: 7420 7468 6520 6d6f 6475 6c65 206c 6576  t the module lev
+0002d7f0: 656c 2c20 616e 6420 6e6f 7420 6c61 6d62  el, and not lamb
+0002d800: 6461 732c 206f 626a 6563 7473 2064 6566  das, objects def
+0002d810: 696e 6564 2069 6e73 6964 6520 6f66 2061  ined inside of a
+0002d820: 2066 756e 6374 696f 6e2c 206f 7220 6f62   function, or ob
+0002d830: 6a65 6374 7320 6465 6669 6e65 6420 696e  jects defined in
+0002d840: 7369 6465 206f 6620 7468 6520 696e 7465  side of the inte
+0002d850: 7270 7265 7465 722c 2061 7265 2070 6963  rpreter, are pic
+0002d860: 6b6c 6561 626c 652e 2046 7572 7468 6572  kleable. Further
+0002d870: 6d6f 7265 2c20 6f6e 2057 696e 646f 7773  more, on Windows
+0002d880: 2c20 6974 2069 7320 6e65 6365 7373 6172  , it is necessar
+0002d890: 7920 7468 6174 2061 6c6c 2063 616c 6c73  y that all calls
+0002d8a0: 2074 6f20 6070 6172 616c 6c65 6c5f 6d61   to `parallel_ma
+0002d8b0: 7060 206f 6363 7572 2069 6e73 6964 6520  p` occur inside 
+0002d8c0: 6f66 2061 6e20 6069 6620 5f5f 6e61 6d65  of an `if __name
+0002d8d0: 5f5f 203d 3d20 225f 5f6d 6169 6e5f 5f22  __ == "__main__"
+0002d8e0: 6020 6775 6172 642e 0d0a 0d0a 6070 6172  ` guard.....`par
+0002d8f0: 616c 6c65 6c5f 6d61 7060 2073 7570 706f  allel_map` suppo
+0002d900: 7274 7320 6120 6063 6875 6e6b 7369 7a65  rts a `chunksize
+0002d910: 6020 6172 6775 6d65 6e74 2c20 7768 6963  ` argument, whic
+0002d920: 6820 6465 7465 726d 696e 6573 2068 6f77  h determines how
+0002d930: 206d 616e 7920 6974 656d 7320 6172 6520   many items are 
+0002d940: 7061 7373 6564 2074 6f20 6561 6368 2070  passed to each p
+0002d950: 726f 6365 7373 2061 7420 6120 7469 6d65  rocess at a time
+0002d960: 2e20 4c61 7267 6572 2076 616c 7565 7320  . Larger values 
+0002d970: 6f66 205f 6368 756e 6b73 697a 655f 2061  of _chunksize_ a
+0002d980: 7265 2072 6563 6f6d 6d65 6e64 6564 2077  re recommended w
+0002d990: 6865 6e20 6465 616c 696e 6720 7769 7468  hen dealing with
+0002d9a0: 2076 6572 7920 6c6f 6e67 2069 7465 7261   very long itera
+0002d9b0: 626c 6573 2e20 4164 6469 7469 6f6e 616c  bles. Additional
+0002d9c0: 6c79 2c20 696e 2074 6865 206d 756c 7469  ly, in the multi
+0002d9d0: 2d69 7465 7261 626c 6520 6361 7365 2c20  -iterable case, 
+0002d9e0: 5f73 7472 6963 745f 2063 616e 2062 6520  _strict_ can be 
+0002d9f0: 7365 7420 746f 2060 5472 7565 6020 746f  set to `True` to
+0002da00: 2065 6e73 7572 6520 7468 6174 2061 6c6c   ensure that all
+0002da10: 2069 7465 7261 626c 6573 2061 7265 2074   iterables are t
+0002da20: 6865 2073 616d 6520 6c65 6e67 7468 2e0d  he same length..
+0002da30: 0a0d 0a49 6620 6d75 6c74 6970 6c65 2073  ...If multiple s
+0002da40: 6571 7565 6e74 6961 6c20 6361 6c6c 7320  equential calls 
+0002da50: 746f 2060 7061 7261 6c6c 656c 5f6d 6170  to `parallel_map
+0002da60: 6020 6e65 6564 2074 6f20 6265 206d 6164  ` need to be mad
+0002da70: 652c 2069 7420 6973 2068 6967 686c 7920  e, it is highly 
+0002da80: 7265 636f 6d6d 656e 6465 6420 7468 6174  recommended that
+0002da90: 2074 6865 7920 6265 2064 6f6e 6520 696e   they be done in
+0002daa0: 7369 6465 206f 6620 6120 6077 6974 6820  side of a `with 
+0002dab0: 7061 7261 6c6c 656c 5f6d 6170 2e6d 756c  parallel_map.mul
+0002dac0: 7469 706c 655f 7365 7175 656e 7469 616c  tiple_sequential
+0002dad0: 5f63 616c 6c73 2829 3a60 2062 6c6f 636b  _calls():` block
+0002dae0: 2c20 7768 6963 6820 7769 6c6c 2063 6175  , which will cau
+0002daf0: 7365 2074 6865 2064 6966 6665 7265 6e74  se the different
+0002db00: 2063 616c 6c73 2074 6f20 7573 6520 7468   calls to use th
+0002db10: 6520 7361 6d65 2070 726f 6365 7373 2070  e same process p
+0002db20: 6f6f 6c20 616e 6420 7265 7375 6c74 2069  ool and result i
+0002db30: 6e20 6070 6172 616c 6c65 6c5f 6d61 7060  n `parallel_map`
+0002db40: 2069 6d6d 6564 6961 7465 6c79 2072 6574   immediately ret
+0002db50: 7572 6e69 6e67 2061 206c 6973 7420 7261  urning a list ra
+0002db60: 7468 6572 2074 6861 6e20 6120 6070 6172  ther than a `par
+0002db70: 616c 6c65 6c5f 6d61 7060 206f 626a 6563  allel_map` objec
+0002db80: 742e 2049 6620 6d75 6c74 6970 6c65 2073  t. If multiple s
+0002db90: 6571 7565 6e74 6961 6c20 6361 6c6c 7320  equential calls 
+0002dba0: 6172 6520 6e65 6365 7373 6172 7920 616e  are necessary an
+0002dbb0: 6420 7468 6520 6c61 7a69 6e65 7373 206f  d the laziness o
+0002dbc0: 6620 7061 7261 6c6c 656c 5f6d 6170 2069  f parallel_map i
+0002dbd0: 7320 7265 7175 6972 6564 2c20 7468 656e  s required, then
+0002dbe0: 2074 6865 2060 7061 7261 6c6c 656c 5f6d   the `parallel_m
+0002dbf0: 6170 6020 6f62 6a65 6374 7320 7368 6f75  ap` objects shou
+0002dc00: 6c64 2062 6520 636f 6e73 7472 7563 7465  ld be constructe
+0002dc10: 6420 6265 666f 7265 2074 6865 2060 6d75  d before the `mu
+0002dc20: 6c74 6970 6c65 5f73 6571 7565 6e74 6961  ltiple_sequentia
+0002dc30: 6c5f 6361 6c6c 7360 2062 6c6f 636b 2061  l_calls` block a
+0002dc40: 6e64 2074 6865 6e20 6f6e 6c79 2069 7465  nd then only ite
+0002dc50: 7261 7465 6420 6f76 6572 206f 6e63 6520  rated over once 
+0002dc60: 696e 7369 6465 2074 6865 2062 6c6f 636b  inside the block
+0002dc70: 2e0d 0a0d 0a60 7061 7261 6c6c 656c 5f6d  .....`parallel_m
+0002dc80: 6170 2e6d 756c 7469 706c 655f 7365 7175  ap.multiple_sequ
+0002dc90: 656e 7469 616c 5f63 616c 6c73 6020 616c  ential_calls` al
+0002dca0: 736f 2073 7570 706f 7274 7320 6120 606d  so supports a `m
+0002dcb0: 6178 5f77 6f72 6b65 7273 6020 6172 6775  ax_workers` argu
+0002dcc0: 6d65 6e74 2074 6f20 7365 7420 7468 6520  ment to set the 
+0002dcd0: 6e75 6d62 6572 206f 6620 7072 6f63 6573  number of proces
+0002dce0: 7365 732e 0d0a 0d0a 2323 2323 2320 5079  ses.....##### Py
+0002dcf0: 7468 6f6e 2044 6f63 730d 0a0d 0a2a 2a70  thon Docs....**p
+0002dd00: 6172 616c 6c65 6c5f 6d61 702a 2a28 5f66  arallel_map**(_f
+0002dd10: 756e 632c 205c 2a69 7465 7261 626c 6573  unc, \*iterables
+0002dd20: 5f2c 205f 6368 756e 6b73 697a 655f 3d60  _, _chunksize_=`
+0002dd30: 3160 290d 0a0d 0a45 7175 6976 616c 656e  1`)....Equivalen
+0002dd40: 7420 746f 2060 6d61 7028 6675 6e63 2c20  t to `map(func, 
+0002dd50: 2a69 7465 7261 626c 6573 2960 2065 7863  *iterables)` exc
+0002dd60: 6570 7420 5f66 756e 635f 2069 7320 6578  ept _func_ is ex
+0002dd70: 6563 7574 6564 2061 7379 6e63 6872 6f6e  ecuted asynchron
+0002dd80: 6f75 736c 7920 616e 6420 7365 7665 7261  ously and severa
+0002dd90: 6c20 6361 6c6c 7320 746f 205f 6675 6e63  l calls to _func
+0002dda0: 5f20 6d61 7920 6265 206d 6164 6520 636f  _ may be made co
+0002ddb0: 6e63 7572 7265 6e74 6c79 2e20 4966 2061  ncurrently. If a
+0002ddc0: 2063 616c 6c20 7261 6973 6573 2061 6e20   call raises an 
+0002ddd0: 6578 6365 7074 696f 6e2c 2074 6865 6e20  exception, then 
+0002dde0: 7468 6174 2065 7863 6570 7469 6f6e 2077  that exception w
+0002ddf0: 696c 6c20 6265 2072 6169 7365 6420 7768  ill be raised wh
+0002de00: 656e 2069 7473 2076 616c 7565 2069 7320  en its value is 
+0002de10: 7265 7472 6965 7665 6420 6672 6f6d 2074  retrieved from t
+0002de20: 6865 2069 7465 7261 746f 722e 0d0a 0d0a  he iterator.....
+0002de30: 6070 6172 616c 6c65 6c5f 6d61 7060 2063  `parallel_map` c
+0002de40: 686f 7073 2074 6865 2069 7465 7261 626c  hops the iterabl
+0002de50: 6520 696e 746f 2061 206e 756d 6265 7220  e into a number 
+0002de60: 6f66 2063 6875 6e6b 7320 7768 6963 6820  of chunks which 
+0002de70: 6974 2073 7562 6d69 7473 2074 6f20 7468  it submits to th
+0002de80: 6520 7072 6f63 6573 7320 706f 6f6c 2061  e process pool a
+0002de90: 7320 7365 7061 7261 7465 2074 6173 6b73  s separate tasks
+0002dea0: 2e20 5468 6520 2861 7070 726f 7869 6d61  . The (approxima
+0002deb0: 7465 2920 7369 7a65 206f 6620 7468 6573  te) size of thes
+0002dec0: 6520 6368 756e 6b73 2063 616e 2062 6520  e chunks can be 
+0002ded0: 7370 6563 6966 6965 6420 6279 2073 6574  specified by set
+0002dee0: 7469 6e67 205f 6368 756e 6b73 697a 655f  ting _chunksize_
+0002def0: 2074 6f20 6120 706f 7369 7469 7665 2069   to a positive i
+0002df00: 6e74 6567 6572 2e20 466f 7220 7665 7279  nteger. For very
+0002df10: 206c 6f6e 6720 6974 6572 6162 6c65 7320   long iterables 
+0002df20: 7573 696e 6720 6120 6c61 7267 6520 7661  using a large va
+0002df30: 6c75 6520 666f 7220 5f63 6875 6e6b 7369  lue for _chunksi
+0002df40: 7a65 5f20 6361 6e20 6d61 6b65 2074 6865  ze_ can make the
+0002df50: 206a 6f62 2063 6f6d 706c 6574 6520 2a2a   job complete **
+0002df60: 6d75 6368 2a2a 2066 6173 7465 7220 7468  much** faster th
+0002df70: 616e 2075 7369 6e67 2074 6865 2064 6566  an using the def
+0002df80: 6175 6c74 2076 616c 7565 206f 6620 6031  ault value of `1
+0002df90: 602e 0d0a 0d0a 2323 2323 2320 4578 616d  `.....##### Exam
+0002dfa0: 706c 650d 0a0d 0a2a 2a43 6f63 6f6e 7574  ple....**Coconut
+0002dfb0: 3a2a 2a0d 0a60 6060 636f 636f 6e75 740d  :**..```coconut.
+0002dfc0: 0a70 6172 616c 6c65 6c5f 6d61 7028 706f  .parallel_map(po
+0002dfd0: 7724 2832 292c 2072 616e 6765 2831 3030  w$(2), range(100
+0002dfe0: 2929 207c 3e20 6c69 7374 207c 3e20 7072  )) |> list |> pr
+0002dff0: 696e 740d 0a60 6060 0d0a 0d0a 2a2a 5079  int..```....**Py
+0002e000: 7468 6f6e 3a2a 2a0d 0a60 6060 636f 636f  thon:**..```coco
+0002e010: 6e75 745f 7079 7468 6f6e 0d0a 696d 706f  nut_python..impo
+0002e020: 7274 2066 756e 6374 6f6f 6c73 0d0a 6672  rt functools..fr
+0002e030: 6f6d 206d 756c 7469 7072 6f63 6573 7369  om multiprocessi
+0002e040: 6e67 2069 6d70 6f72 7420 506f 6f6c 0d0a  ng import Pool..
+0002e050: 7769 7468 2050 6f6f 6c28 2920 6173 2070  with Pool() as p
+0002e060: 6f6f 6c3a 0d0a 2020 2020 7072 696e 7428  ool:..    print(
+0002e070: 6c69 7374 2870 6f6f 6c2e 696d 6170 2866  list(pool.imap(f
+0002e080: 756e 6374 6f6f 6c73 2e70 6172 7469 616c  unctools.partial
+0002e090: 2870 6f77 2c20 3229 2c20 7261 6e67 6528  (pow, 2), range(
+0002e0a0: 3130 3029 2929 290d 0a60 6060 0d0a 0d0a  100))))..```....
+0002e0b0: 2323 2323 2060 636f 6e63 7572 7265 6e74  #### `concurrent
+0002e0c0: 5f6d 6170 600d 0a0d 0a2a 2a63 6f6e 6375  _map`....**concu
+0002e0d0: 7272 656e 745c 5f6d 6170 2a2a 285f 6675  rrent\_map**(_fu
+0002e0e0: 6e63 7469 6f6e 5f2c 202a 5f69 7465 7261  nction_, *_itera
+0002e0f0: 626c 6573 5f2c 202a 2c20 5f63 6875 6e6b  bles_, *, _chunk
+0002e100: 7369 7a65 5f3d 6031 602c 205f 7374 7269  size_=`1`, _stri
+0002e110: 6374 5f3d 6046 616c 7365 6029 0d0a 0d0a  ct_=`False`)....
+0002e120: 436f 636f 6e75 7420 7072 6f76 6964 6573  Coconut provides
+0002e130: 2061 2063 6f6e 6375 7272 656e 7420 7665   a concurrent ve
+0002e140: 7273 696f 6e20 6f66 205b 6070 6172 616c  rsion of [`paral
+0002e150: 6c65 6c5f 6d61 7060 5d28 2370 6172 616c  lel_map`](#paral
+0002e160: 6c65 6c5f 6d61 7029 2075 6e64 6572 2074  lel_map) under t
+0002e170: 6865 206e 616d 6520 6063 6f6e 6375 7272  he name `concurr
+0002e180: 656e 745f 6d61 7060 2e20 6063 6f6e 6375  ent_map`. `concu
+0002e190: 7272 656e 745f 6d61 7060 2062 6568 6176  rrent_map` behav
+0002e1a0: 6573 2069 6465 6e74 6963 616c 6c79 2074  es identically t
+0002e1b0: 6f20 6070 6172 616c 6c65 6c5f 6d61 7060  o `parallel_map`
+0002e1c0: 2028 696e 636c 7564 696e 6720 7375 7070   (including supp
+0002e1d0: 6f72 7420 666f 7220 6063 6f6e 6375 7272  ort for `concurr
+0002e1e0: 656e 745f 6d61 702e 6d75 6c74 6970 6c65  ent_map.multiple
+0002e1f0: 5f73 6571 7565 6e74 6961 6c5f 6361 6c6c  _sequential_call
+0002e200: 7360 2920 6578 6365 7074 2074 6861 7420  s`) except that 
+0002e210: 6974 2075 7365 7320 6d75 6c74 6974 6872  it uses multithr
+0002e220: 6561 6469 6e67 2069 6e73 7465 6164 206f  eading instead o
+0002e230: 6620 6d75 6c74 6970 726f 6365 7373 696e  f multiprocessin
+0002e240: 672c 2061 6e64 2069 7320 7468 6572 6566  g, and is theref
+0002e250: 6f72 6520 7072 696d 6172 696c 7920 7573  ore primarily us
+0002e260: 6566 756c 206f 6e6c 7920 666f 7220 494f  eful only for IO
+0002e270: 2d62 6f75 6e64 2074 6173 6b73 2064 7565  -bound tasks due
+0002e280: 2074 6f20 4350 7974 686f 6e27 7320 476c   to CPython's Gl
+0002e290: 6f62 616c 2049 6e74 6572 7072 6574 6572  obal Interpreter
+0002e2a0: 204c 6f63 6b2e 0d0a 0d0a 2323 2323 2320   Lock.....##### 
+0002e2b0: 5079 7468 6f6e 2044 6f63 730d 0a0d 0a2a  Python Docs....*
+0002e2c0: 2a63 6f6e 6375 7272 656e 745f 6d61 702a  *concurrent_map*
+0002e2d0: 2a28 5f66 756e 632c 205c 2a69 7465 7261  *(_func, \*itera
+0002e2e0: 626c 6573 5f2c 205f 6368 756e 6b73 697a  bles_, _chunksiz
+0002e2f0: 655f 3d60 3160 290d 0a0d 0a45 7175 6976  e_=`1`)....Equiv
+0002e300: 616c 656e 7420 746f 2060 6d61 7028 6675  alent to `map(fu
+0002e310: 6e63 2c20 2a69 7465 7261 626c 6573 2960  nc, *iterables)`
+0002e320: 2065 7863 6570 7420 5f66 756e 635f 2069   except _func_ i
+0002e330: 7320 6578 6563 7574 6564 2061 7379 6e63  s executed async
+0002e340: 6872 6f6e 6f75 736c 7920 616e 6420 7365  hronously and se
+0002e350: 7665 7261 6c20 6361 6c6c 7320 746f 205f  veral calls to _
+0002e360: 6675 6e63 5f20 6d61 7920 6265 206d 6164  func_ may be mad
+0002e370: 6520 636f 6e63 7572 7265 6e74 6c79 2e20  e concurrently. 
+0002e380: 4966 2061 2063 616c 6c20 7261 6973 6573  If a call raises
+0002e390: 2061 6e20 6578 6365 7074 696f 6e2c 2074   an exception, t
+0002e3a0: 6865 6e20 7468 6174 2065 7863 6570 7469  hen that excepti
+0002e3b0: 6f6e 2077 696c 6c20 6265 2072 6169 7365  on will be raise
+0002e3c0: 6420 7768 656e 2069 7473 2076 616c 7565  d when its value
+0002e3d0: 2069 7320 7265 7472 6965 7665 6420 6672   is retrieved fr
+0002e3e0: 6f6d 2074 6865 2069 7465 7261 746f 722e  om the iterator.
+0002e3f0: 0d0a 0d0a 6063 6f6e 6375 7272 656e 745f  ....`concurrent_
+0002e400: 6d61 7060 2063 686f 7073 2074 6865 2069  map` chops the i
+0002e410: 7465 7261 626c 6520 696e 746f 2061 206e  terable into a n
+0002e420: 756d 6265 7220 6f66 2063 6875 6e6b 7320  umber of chunks 
+0002e430: 7768 6963 6820 6974 2073 7562 6d69 7473  which it submits
+0002e440: 2074 6f20 7468 6520 7468 7265 6164 2070   to the thread p
+0002e450: 6f6f 6c20 6173 2073 6570 6172 6174 6520  ool as separate 
+0002e460: 7461 736b 732e 2054 6865 2028 6170 7072  tasks. The (appr
+0002e470: 6f78 696d 6174 6529 2073 697a 6520 6f66  oximate) size of
+0002e480: 2074 6865 7365 2063 6875 6e6b 7320 6361   these chunks ca
+0002e490: 6e20 6265 2073 7065 6369 6669 6564 2062  n be specified b
+0002e4a0: 7920 7365 7474 696e 6720 5f63 6875 6e6b  y setting _chunk
+0002e4b0: 7369 7a65 5f20 746f 2061 2070 6f73 6974  size_ to a posit
+0002e4c0: 6976 6520 696e 7465 6765 722e 2046 6f72  ive integer. For
+0002e4d0: 2076 6572 7920 6c6f 6e67 2069 7465 7261   very long itera
+0002e4e0: 626c 6573 2075 7369 6e67 2061 206c 6172  bles using a lar
+0002e4f0: 6765 2076 616c 7565 2066 6f72 205f 6368  ge value for _ch
+0002e500: 756e 6b73 697a 655f 2063 616e 206d 616b  unksize_ can mak
+0002e510: 6520 7468 6520 6a6f 6220 636f 6d70 6c65  e the job comple
+0002e520: 7465 202a 2a6d 7563 682a 2a20 6661 7374  te **much** fast
+0002e530: 6572 2074 6861 6e20 7573 696e 6720 7468  er than using th
+0002e540: 6520 6465 6661 756c 7420 7661 6c75 6520  e default value 
+0002e550: 6f66 2060 3160 2e0d 0a0d 0a23 2323 2323  of `1`.....#####
+0002e560: 2045 7861 6d70 6c65 0d0a 0d0a 2a2a 436f   Example....**Co
+0002e570: 636f 6e75 743a 2a2a 0d0a 6060 6063 6f63  conut:**..```coc
+0002e580: 6f6e 7574 0d0a 636f 6e63 7572 7265 6e74  onut..concurrent
+0002e590: 5f6d 6170 2867 6574 5f64 6174 615f 666f  _map(get_data_fo
+0002e5a0: 725f 7573 6572 2c20 6765 745f 616c 6c5f  r_user, get_all_
+0002e5b0: 7573 6572 7328 2929 207c 3e20 6c69 7374  users()) |> list
+0002e5c0: 207c 3e20 7072 696e 740d 0a60 6060 0d0a   |> print..```..
+0002e5d0: 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d 0a60  ..**Python:**..`
+0002e5e0: 6060 636f 636f 6e75 745f 7079 7468 6f6e  ``coconut_python
+0002e5f0: 0d0a 696d 706f 7274 2066 756e 6374 6f6f  ..import functoo
+0002e600: 6c73 0d0a 696d 706f 7274 2063 6f6e 6375  ls..import concu
+0002e610: 7272 656e 742e 6675 7475 7265 730d 0a77  rrent.futures..w
+0002e620: 6974 6820 636f 6e63 7572 7265 6e74 2e66  ith concurrent.f
+0002e630: 7574 7572 6573 2e54 6872 6561 6450 6f6f  utures.ThreadPoo
+0002e640: 6c45 7865 6375 746f 7228 2920 6173 2065  lExecutor() as e
+0002e650: 7865 6375 746f 723a 0d0a 2020 2020 7072  xecutor:..    pr
+0002e660: 696e 7428 6c69 7374 2865 7865 6375 746f  int(list(executo
+0002e670: 722e 6d61 7028 6765 745f 6461 7461 5f66  r.map(get_data_f
+0002e680: 6f72 5f75 7365 722c 2067 6574 5f61 6c6c  or_user, get_all
+0002e690: 5f75 7365 7273 2829 2929 290d 0a60 6060  _users())))..```
+0002e6a0: 0d0a 0d0a 2323 2323 2060 7465 6560 0d0a  ....#### `tee`..
+0002e6b0: 0d0a 2a2a 7465 652a 2a28 5f69 7465 7261  ..**tee**(_itera
+0002e6c0: 626c 655f 2c20 5f6e 5f3d 6032 6029 0d0a  ble_, _n_=`2`)..
+0002e6d0: 0d0a 436f 636f 6e75 7420 7072 6f76 6964  ..Coconut provid
+0002e6e0: 6573 2061 6e20 6f70 7469 6d69 7a65 6420  es an optimized 
+0002e6f0: 7665 7273 696f 6e20 6f66 2060 6974 6572  version of `iter
+0002e700: 746f 6f6c 732e 7465 6560 2061 7320 6120  tools.tee` as a 
+0002e710: 6275 696c 742d 696e 2075 6e64 6572 2074  built-in under t
+0002e720: 6865 206e 616d 6520 6074 6565 602e 0d0a  he name `tee`...
+0002e730: 0d0a 5468 6f75 6768 2060 7465 6560 2069  ..Though `tee` i
+0002e740: 7320 6e6f 7420 6465 7072 6563 6174 6564  s not deprecated
+0002e750: 2c20 5b60 7265 6974 6572 6162 6c65 605d  , [`reiterable`]
+0002e760: 2823 7265 6974 6572 6162 6c65 2920 6973  (#reiterable) is
+0002e770: 2067 656e 6572 616c 6c79 2072 6563 6f6d   generally recom
+0002e780: 6d65 6e64 6564 206f 7665 7220 6074 6565  mended over `tee
+0002e790: 602e 0d0a 0d0a 4375 7374 6f6d 2060 7465  `.....Custom `te
+0002e7a0: 6560 2f60 7265 6974 6572 6162 6c65 6020  e`/`reiterable` 
+0002e7b0: 696d 706c 656d 656e 7461 7469 6f6e 7320  implementations 
+0002e7c0: 666f 7220 6375 7374 6f6d 205b 436f 6e74  for custom [Cont
+0002e7d0: 6169 6e65 7273 2f43 6f6c 6c65 6374 696f  ainers/Collectio
+0002e7e0: 6e73 5d28 6874 7470 733a 2f2f 646f 6373  ns](https://docs
+0002e7f0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
+0002e800: 6272 6172 792f 636f 6c6c 6563 7469 6f6e  brary/collection
+0002e810: 732e 6162 632e 6874 6d6c 2920 7368 6f75  s.abc.html) shou
+0002e820: 6c64 2062 6520 7075 7420 696e 2074 6865  ld be put in the
+0002e830: 2060 5f5f 636f 7079 5f5f 6020 6d65 7468   `__copy__` meth
+0002e840: 6f64 2e20 4e6f 7465 2074 6861 7420 616c  od. Note that al
+0002e850: 6c20 5b53 6571 7565 6e63 6573 2f4d 6170  l [Sequences/Map
+0002e860: 7069 6e67 732f 5365 7473 5d28 6874 7470  pings/Sets](http
+0002e870: 733a 2f2f 646f 6373 2e70 7974 686f 6e2e  s://docs.python.
+0002e880: 6f72 672f 332f 6c69 6272 6172 792f 636f  org/3/library/co
+0002e890: 6c6c 6563 7469 6f6e 732e 6162 632e 6874  llections.abc.ht
+0002e8a0: 6d6c 2920 6172 6520 616c 7761 7973 2061  ml) are always a
+0002e8b0: 7373 756d 6564 2074 6f20 6265 2072 6569  ssumed to be rei
+0002e8c0: 7465 7261 626c 6520 6576 656e 2077 6974  terable even wit
+0002e8d0: 686f 7574 2063 616c 6c69 6e67 2060 5f5f  hout calling `__
+0002e8e0: 636f 7079 5f5f 602e 0d0a 0d0a 2323 2323  copy__`.....####
+0002e8f0: 2320 5079 7468 6f6e 2044 6f63 730d 0a0d  # Python Docs...
+0002e900: 0a2a 2a74 6565 2a2a 285f 6974 6572 6162  .**tee**(_iterab
+0002e910: 6c65 2c20 6e3d 325f 290d 0a0d 0a52 6574  le, n=2_)....Ret
+0002e920: 7572 6e20 5f6e 5f20 696e 6465 7065 6e64  urn _n_ independ
+0002e930: 656e 7420 6974 6572 6174 6f72 7320 6672  ent iterators fr
+0002e940: 6f6d 2061 2073 696e 676c 6520 6974 6572  om a single iter
+0002e950: 6162 6c65 2e20 4571 7569 7661 6c65 6e74  able. Equivalent
+0002e960: 2074 6f3a 0d0a 6060 6063 6f63 6f6e 7574   to:..```coconut
+0002e970: 5f70 7974 686f 6e0d 0a64 6566 2074 6565  _python..def tee
+0002e980: 2869 7465 7261 626c 652c 206e 3d32 293a  (iterable, n=2):
+0002e990: 0d0a 2020 2020 6974 203d 2069 7465 7228  ..    it = iter(
+0002e9a0: 6974 6572 6162 6c65 290d 0a20 2020 2064  iterable)..    d
+0002e9b0: 6571 7565 7320 3d20 5b63 6f6c 6c65 6374  eques = [collect
+0002e9c0: 696f 6e73 2e64 6571 7565 2829 2066 6f72  ions.deque() for
+0002e9d0: 2069 2069 6e20 7261 6e67 6528 6e29 5d0d   i in range(n)].
+0002e9e0: 0a20 2020 2064 6566 2067 656e 286d 7964  .    def gen(myd
+0002e9f0: 6571 7565 293a 0d0a 2020 2020 2020 2020  eque):..        
+0002ea00: 7768 696c 6520 5472 7565 3a0d 0a20 2020  while True:..   
+0002ea10: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+0002ea20: 6d79 6465 7175 653a 2020 2020 2020 2020  mydeque:        
+0002ea30: 2020 2020 2023 2077 6865 6e20 7468 6520       # when the 
+0002ea40: 6c6f 6361 6c20 6465 7175 6520 6973 2065  local deque is e
+0002ea50: 6d70 7479 0d0a 2020 2020 2020 2020 2020  mpty..          
+0002ea60: 2020 2020 2020 6e65 7776 616c 203d 206e        newval = n
+0002ea70: 6578 7428 6974 2920 2020 2020 2020 2320  ext(it)       # 
+0002ea80: 6665 7463 6820 6120 6e65 7720 7661 6c75  fetch a new valu
+0002ea90: 6520 616e 640d 0a20 2020 2020 2020 2020  e and..         
+0002eaa0: 2020 2020 2020 2066 6f72 2064 2069 6e20         for d in 
+0002eab0: 6465 7175 6573 3a20 2020 2020 2020 2023  deques:        #
+0002eac0: 206c 6f61 6420 6974 2074 6f20 616c 6c20   load it to all 
+0002ead0: 7468 6520 6465 7175 6573 0d0a 2020 2020  the deques..    
+0002eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002eaf0: 642e 6170 7065 6e64 286e 6577 7661 6c29  d.append(newval)
+0002eb00: 0d0a 2020 2020 2020 2020 2020 2020 7969  ..            yi
+0002eb10: 656c 6420 6d79 6465 7175 652e 706f 706c  eld mydeque.popl
+0002eb20: 6566 7428 290d 0a20 2020 2072 6574 7572  eft()..    retur
+0002eb30: 6e20 7475 706c 6528 6765 6e28 6429 2066  n tuple(gen(d) f
+0002eb40: 6f72 2064 2069 6e20 6465 7175 6573 290d  or d in deques).
+0002eb50: 0a60 6060 0d0a 4f6e 6365 2060 7465 6528  .```..Once `tee(
+0002eb60: 2960 2068 6173 206d 6164 6520 6120 7370  )` has made a sp
+0002eb70: 6c69 742c 2074 6865 206f 7269 6769 6e61  lit, the origina
+0002eb80: 6c20 5f69 7465 7261 626c 655f 2073 686f  l _iterable_ sho
+0002eb90: 756c 6420 6e6f 7420 6265 2075 7365 6420  uld not be used 
+0002eba0: 616e 7977 6865 7265 2065 6c73 653b 206f  anywhere else; o
+0002ebb0: 7468 6572 7769 7365 2c20 7468 6520 5f69  therwise, the _i
+0002ebc0: 7465 7261 626c 655f 2063 6f75 6c64 2067  terable_ could g
+0002ebd0: 6574 2061 6476 616e 6365 6420 7769 7468  et advanced with
+0002ebe0: 6f75 7420 7468 6520 7465 6520 6f62 6a65  out the tee obje
+0002ebf0: 6374 7320 6265 696e 6720 696e 666f 726d  cts being inform
+0002ec00: 6564 2e0d 0a0d 0a54 6869 7320 6974 6572  ed.....This iter
+0002ec10: 746f 6f6c 206d 6179 2072 6571 7569 7265  tool may require
+0002ec20: 2073 6967 6e69 6669 6361 6e74 2061 7578   significant aux
+0002ec30: 696c 6961 7279 2073 746f 7261 6765 2028  iliary storage (
+0002ec40: 6465 7065 6e64 696e 6720 6f6e 2068 6f77  depending on how
+0002ec50: 206d 7563 6820 7465 6d70 6f72 6172 7920   much temporary 
+0002ec60: 6461 7461 206e 6565 6473 2074 6f20 6265  data needs to be
+0002ec70: 2073 746f 7265 6429 2e20 496e 2067 656e   stored). In gen
+0002ec80: 6572 616c 2c20 6966 206f 6e65 2069 7465  eral, if one ite
+0002ec90: 7261 746f 7220 7573 6573 206d 6f73 7420  rator uses most 
+0002eca0: 6f72 2061 6c6c 206f 6620 7468 6520 6461  or all of the da
+0002ecb0: 7461 2062 6566 6f72 6520 616e 6f74 6865  ta before anothe
+0002ecc0: 7220 6974 6572 6174 6f72 2073 7461 7274  r iterator start
+0002ecd0: 732c 2069 7420 6973 2066 6173 7465 7220  s, it is faster 
+0002ece0: 746f 2075 7365 2060 6c69 7374 2829 6020  to use `list()` 
+0002ecf0: 696e 7374 6561 6420 6f66 2060 7465 6528  instead of `tee(
+0002ed00: 2960 2e0d 0a0d 0a23 2323 2323 2045 7861  )`.....##### Exa
+0002ed10: 6d70 6c65 0d0a 0d0a 2a2a 436f 636f 6e75  mple....**Coconu
+0002ed20: 743a 2a2a 0d0a 6060 6063 6f63 6f6e 7574  t:**..```coconut
+0002ed30: 0d0a 6f72 6967 696e 616c 2c20 7465 6d70  ..original, temp
+0002ed40: 203d 2074 6565 286f 7269 6769 6e61 6c29   = tee(original)
+0002ed50: 0d0a 736c 6963 6564 203d 2074 656d 7024  ..sliced = temp$
+0002ed60: 5b35 3a5d 0d0a 6060 600d 0a0d 0a2a 2a50  [5:]..```....**P
+0002ed70: 7974 686f 6e3a 2a2a 0d0a 6060 6063 6f63  ython:**..```coc
+0002ed80: 6f6e 7574 5f70 7974 686f 6e0d 0a69 6d70  onut_python..imp
+0002ed90: 6f72 7420 6974 6572 746f 6f6c 730d 0a6f  ort itertools..o
+0002eda0: 7269 6769 6e61 6c2c 2074 656d 7020 3d20  riginal, temp = 
+0002edb0: 6974 6572 746f 6f6c 732e 7465 6528 6f72  itertools.tee(or
+0002edc0: 6967 696e 616c 290d 0a73 6c69 6365 6420  iginal)..sliced 
+0002edd0: 3d20 6974 6572 746f 6f6c 732e 6973 6c69  = itertools.isli
+0002ede0: 6365 2874 656d 702c 2035 2c20 4e6f 6e65  ce(temp, 5, None
+0002edf0: 290d 0a60 6060 0d0a 0d0a 2323 2323 2060  )..```....#### `
+0002ee00: 636f 6e73 756d 6560 0d0a 0d0a 2a2a 636f  consume`....**co
+0002ee10: 6e73 756d 652a 2a28 5f69 7465 7261 626c  nsume**(_iterabl
+0002ee20: 655f 2c20 5f6b 6565 705c 5f6c 6173 745f  e_, _keep\_last_
+0002ee30: 3d60 3060 290d 0a0d 0a43 6f63 6f6e 7574  =`0`)....Coconut
+0002ee40: 2070 726f 7669 6465 7320 7468 6520 6063   provides the `c
+0002ee50: 6f6e 7375 6d65 6020 6675 6e63 7469 6f6e  onsume` function
+0002ee60: 2074 6f20 6566 6669 6369 656e 746c 7920   to efficiently 
+0002ee70: 6578 6861 7573 7420 616e 2069 7465 7261  exhaust an itera
+0002ee80: 746f 7220 616e 6420 7468 7573 2070 6572  tor and thus per
+0002ee90: 666f 726d 2061 6e79 206c 617a 7920 6576  form any lazy ev
+0002eea0: 616c 7561 7469 6f6e 2063 6f6e 7461 696e  aluation contain
+0002eeb0: 6564 2077 6974 6869 6e20 6974 2e20 6063  ed within it. `c
+0002eec0: 6f6e 7375 6d65 6020 7461 6b65 7320 6f6e  onsume` takes on
+0002eed0: 6520 6f70 7469 6f6e 616c 2061 7267 756d  e optional argum
+0002eee0: 656e 742c 2060 6b65 6570 5f6c 6173 7460  ent, `keep_last`
+0002eef0: 2c20 7468 6174 2064 6566 6175 6c74 7320  , that defaults 
+0002ef00: 746f 2030 2061 6e64 2073 7065 6369 6669  to 0 and specifi
+0002ef10: 6573 2068 6f77 206d 616e 792c 2069 6620  es how many, if 
+0002ef20: 616e 792c 2069 7465 6d73 2066 726f 6d20  any, items from 
+0002ef30: 7468 6520 656e 6420 746f 2072 6574 7572  the end to retur
+0002ef40: 6e20 6173 2061 2073 6571 7565 6e63 6520  n as a sequence 
+0002ef50: 2860 4e6f 6e65 6020 7769 6c6c 206b 6565  (`None` will kee
+0002ef60: 7020 616c 6c20 656c 656d 656e 7473 292e  p all elements).
+0002ef70: 0d0a 0d0a 4571 7569 7661 6c65 6e74 2074  ....Equivalent t
+0002ef80: 6f3a 0d0a 6060 6063 6f63 6f6e 7574 0d0a  o:..```coconut..
+0002ef90: 6465 6620 636f 6e73 756d 6528 6974 6572  def consume(iter
+0002efa0: 6162 6c65 2c20 6b65 6570 5f6c 6173 743d  able, keep_last=
+0002efb0: 3029 3a0d 0a20 2020 2022 2222 4675 6c6c  0):..    """Full
+0002efc0: 7920 6578 6861 7573 7420 6974 6572 6162  y exhaust iterab
+0002efd0: 6c65 2061 6e64 2072 6574 7572 6e20 7468  le and return th
+0002efe0: 6520 6c61 7374 206b 6565 705f 6c61 7374  e last keep_last
+0002eff0: 2065 6c65 6d65 6e74 732e 2222 220d 0a20   elements.""".. 
+0002f000: 2020 2072 6574 7572 6e20 636f 6c6c 6563     return collec
+0002f010: 7469 6f6e 732e 6465 7175 6528 6974 6572  tions.deque(iter
+0002f020: 6162 6c65 2c20 6d61 786c 656e 3d6b 6565  able, maxlen=kee
+0002f030: 705f 6c61 7374 2920 2023 2066 6173 7465  p_last)  # faste
+0002f040: 7374 2077 6179 2074 6f20 6578 6861 7573  st way to exhaus
+0002f050: 7420 616e 2069 7465 7261 746f 720d 0a60  t an iterator..`
+0002f060: 6060 0d0a 0d0a 2323 2323 2320 5261 7469  ``....##### Rati
+0002f070: 6f6e 616c 650d 0a0d 0a49 6e20 7468 6520  onale....In the 
+0002f080: 7072 6f63 6573 7320 6f66 206c 617a 696c  process of lazil
+0002f090: 7920 6170 706c 7969 6e67 206f 7065 7261  y applying opera
+0002f0a0: 7469 6f6e 7320 746f 2069 7465 7261 746f  tions to iterato
+0002f0b0: 7273 2c20 6576 656e 7475 616c 6c79 2061  rs, eventually a
+0002f0c0: 2070 6f69 6e74 2069 7320 7265 6163 6865   point is reache
+0002f0d0: 6420 7768 6572 6520 6576 616c 7561 7469  d where evaluati
+0002f0e0: 6f6e 206f 6620 7468 6520 6974 6572 6174  on of the iterat
+0002f0f0: 6f72 2069 7320 6e65 6365 7373 6172 792e  or is necessary.
+0002f100: 2054 6f20 646f 2074 6869 7320 6566 6669   To do this effi
+0002f110: 6369 656e 746c 792c 2043 6f63 6f6e 7574  ciently, Coconut
+0002f120: 2070 726f 7669 6465 7320 7468 6520 6063   provides the `c
+0002f130: 6f6e 7375 6d65 6020 6675 6e63 7469 6f6e  onsume` function
+0002f140: 2c20 7768 6963 6820 7769 6c6c 2066 756c  , which will ful
+0002f150: 6c79 2065 7868 6175 7374 2074 6865 2069  ly exhaust the i
+0002f160: 7465 7261 746f 7220 6769 7665 6e20 746f  terator given to
+0002f170: 2069 742e 0d0a 0d0a 2323 2323 2320 4578   it.....##### Ex
+0002f180: 616d 706c 650d 0a0d 0a2a 2a43 6f63 6f6e  ample....**Cocon
+0002f190: 7574 3a2a 2a0d 0a60 6060 636f 636f 6e75  ut:**..```coconu
+0002f1a0: 740d 0a72 616e 6765 2831 3029 207c 3e20  t..range(10) |> 
+0002f1b0: 6d61 7024 2828 7829 203d 3e20 782a 2a32  map$((x) => x**2
+0002f1c0: 2920 7c3e 206d 6170 2428 7072 696e 7429  ) |> map$(print)
+0002f1d0: 207c 3e20 636f 6e73 756d 650d 0a60 6060   |> consume..```
+0002f1e0: 0d0a 0d0a 2a2a 5079 7468 6f6e 3a2a 2a0d  ....**Python:**.
+0002f1f0: 0a60 6060 636f 636f 6e75 745f 7079 7468  .```coconut_pyth
+0002f200: 6f6e 0d0a 636f 6c6c 6563 7469 6f6e 732e  on..collections.
+0002f210: 6465 7175 6528 6d61 7028 7072 696e 742c  deque(map(print,
+0002f220: 206d 6170 286c 616d 6264 6120 783a 2078   map(lambda x: x
+0002f230: 2a2a 322c 2072 616e 6765 2831 3029 2929  **2, range(10)))
+0002f240: 2c20 6d61 786c 656e 3d30 290d 0a60 6060  , maxlen=0)..```
+0002f250: 0d0a 0d0a 2323 2320 5479 7069 6e67 2d53  ....### Typing-S
+0002f260: 7065 6369 6669 6320 4275 696c 742d 496e  pecific Built-In
+0002f270: 730d 0a0d 0a60 6060 7b63 6f6e 7465 6e74  s....```{content
+0002f280: 737d 0d0a 2d2d 2d0d 0a6c 6f63 616c 3a0d  s}..---..local:.
+0002f290: 0a64 6570 7468 3a20 310d 0a2d 2d2d 0d0a  .depth: 1..---..
+0002f2a0: 6060 600d 0a0d 0a23 2323 2320 6054 5950  ```....#### `TYP
+0002f2b0: 455f 4348 4543 4b49 4e47 600d 0a0d 0a54  E_CHECKING`....T
+0002f2c0: 6865 2060 5459 5045 5f43 4845 434b 494e  he `TYPE_CHECKIN
+0002f2d0: 4760 2076 6172 6961 626c 6520 6973 2073  G` variable is s
+0002f2e0: 6574 2074 6f20 6046 616c 7365 6020 6174  et to `False` at
+0002f2f0: 2072 756e 7469 6d65 2061 6e64 2060 5472   runtime and `Tr
+0002f300: 7565 6020 6475 7269 6e67 2074 7970 655f  ue` during type_
+0002f310: 6368 6563 6b69 6e67 2c20 616c 6c6f 7769  checking, allowi
+0002f320: 6e67 2079 6f75 2074 6f20 7072 6576 656e  ng you to preven
+0002f330: 7420 796f 7572 2060 7479 7069 6e67 6020  t your `typing` 
+0002f340: 696d 706f 7274 7320 616e 6420 6054 7970  imports and `Typ
+0002f350: 6556 6172 6020 6465 6669 6e69 7469 6f6e  eVar` definition
+0002f360: 7320 6672 6f6d 2062 6569 6e67 2065 7865  s from being exe
+0002f370: 6375 7465 6420 6174 2072 756e 7469 6d65  cuted at runtime
+0002f380: 2e20 4279 2077 7261 7070 696e 6720 796f  . By wrapping yo
+0002f390: 7572 2060 7479 7069 6e67 6020 696d 706f  ur `typing` impo
+0002f3a0: 7274 7320 696e 2061 6e20 6069 6620 5459  rts in an `if TY
+0002f3b0: 5045 5f43 4845 434b 494e 473a 6020 626c  PE_CHECKING:` bl
+0002f3c0: 6f63 6b2c 2079 6f75 2063 616e 2065 7665  ock, you can eve
+0002f3d0: 6e20 7573 6520 7468 6520 5b60 7479 7069  n use the [`typi
+0002f3e0: 6e67 605d 2868 7474 7073 3a2f 2f64 6f63  ng`](https://doc
+0002f3f0: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
+0002f400: 6962 7261 7279 2f74 7970 696e 672e 6874  ibrary/typing.ht
+0002f410: 6d6c 2920 6d6f 6475 6c65 206f 6e20 5079  ml) module on Py
+0002f420: 7468 6f6e 2076 6572 7369 6f6e 7320 7468  thon versions th
+0002f430: 6174 2064 6f6e 2774 206e 6174 6976 656c  at don't nativel
+0002f440: 7920 7375 7070 6f72 7420 6974 2e20 4675  y support it. Fu
+0002f450: 7274 6865 726d 6f72 652c 2060 5459 5045  rthermore, `TYPE
+0002f460: 5f43 4845 434b 494e 4760 2063 616e 2061  _CHECKING` can a
+0002f470: 6c73 6f20 6265 2075 7365 6420 746f 2068  lso be used to h
+0002f480: 6964 6520 636f 6465 2074 6861 7420 6973  ide code that is
+0002f490: 206d 6973 7479 7065 6420 6279 2064 6566   mistyped by def
+0002f4a0: 6175 6c74 2e0d 0a0d 0a23 2323 2323 2050  ault.....##### P
+0002f4b0: 7974 686f 6e20 446f 6373 0d0a 0d0a 4120  ython Docs....A 
+0002f4c0: 7370 6563 6961 6c20 636f 6e73 7461 6e74  special constant
+0002f4d0: 2074 6861 7420 6973 2061 7373 756d 6564   that is assumed
+0002f4e0: 2074 6f20 6265 2060 5472 7565 6020 6279   to be `True` by
+0002f4f0: 2033 7264 2070 6172 7479 2073 7461 7469   3rd party stati
+0002f500: 6320 7479 7065 2063 6865 636b 6572 732e  c type checkers.
+0002f510: 2049 7420 6973 2060 4661 6c73 6560 2061   It is `False` a
+0002f520: 7420 7275 6e74 696d 652e 2055 7361 6765  t runtime. Usage
+0002f530: 3a0d 0a60 6060 636f 636f 6e75 745f 7079  :..```coconut_py
+0002f540: 7468 6f6e 0d0a 6966 2054 5950 455f 4348  thon..if TYPE_CH
+0002f550: 4543 4b49 4e47 3a0d 0a20 2020 2069 6d70  ECKING:..    imp
+0002f560: 6f72 7420 6578 7065 6e73 6976 655f 6d6f  ort expensive_mo
+0002f570: 640d 0a0d 0a64 6566 2066 756e 2861 7267  d....def fun(arg
+0002f580: 3a20 6578 7065 6e73 6976 655f 6d6f 642e  : expensive_mod.
+0002f590: 536f 6d65 5479 7065 2920 2d3e 204e 6f6e  SomeType) -> Non
+0002f5a0: 653a 0d0a 2020 2020 6c6f 6361 6c5f 7661  e:..    local_va
+0002f5b0: 723a 2065 7870 656e 7369 7665 5f6d 6f64  r: expensive_mod
+0002f5c0: 2e41 6e6f 7468 6572 5479 7065 203d 206f  .AnotherType = o
+0002f5d0: 7468 6572 5f66 756e 2829 0d0a 6060 600d  ther_fun()..```.
+0002f5e0: 0a0d 0a23 2323 2323 2045 7861 6d70 6c65  ...##### Example
+0002f5f0: 730d 0a0d 0a2a 2a43 6f63 6f6e 7574 3a2a  s....**Coconut:*
+0002f600: 2a0d 0a60 6060 636f 636f 6e75 740d 0a69  *..```coconut..i
+0002f610: 6620 5459 5045 5f43 4845 434b 494e 473a  f TYPE_CHECKING:
+0002f620: 0d0a 2020 2020 6672 6f6d 2074 7970 696e  ..    from typin
+0002f630: 6720 696d 706f 7274 204c 6973 740d 0a78  g import List..x
+0002f640: 3a20 4c69 7374 5b73 7472 5d20 3d20 5b22  : List[str] = ["
+0002f650: 6122 2c20 2262 225d 0d0a 6060 600d 0a0d  a", "b"]..```...
+0002f660: 0a60 6060 636f 636f 6e75 740d 0a69 6620  .```coconut..if 
+0002f670: 5459 5045 5f43 4845 434b 494e 473a 0d0a  TYPE_CHECKING:..
+0002f680: 2020 2020 6465 6620 6661 6374 6f72 6961      def factoria
+0002f690: 6c28 6e3a 2069 6e74 2920 2d3e 2069 6e74  l(n: int) -> int
+0002f6a0: 3a20 2e2e 2e0d 0a65 6c73 653a 0d0a 2020  : .....else:..  
+0002f6b0: 2020 6465 6620 6661 6374 6f72 6961 6c28    def factorial(
+0002f6c0: 3029 203d 2031 0d0a 2020 2020 6164 6470  0) = 1..    addp
+0002f6d0: 6174 7465 726e 2064 6566 2066 6163 746f  attern def facto
+0002f6e0: 7269 616c 286e 2920 3d20 6e20 2a20 6661  rial(n) = n * fa
+0002f6f0: 6374 6f72 6961 6c28 6e2d 3129 0d0a 6060  ctorial(n-1)..``
+0002f700: 600d 0a0d 0a2a 2a50 7974 686f 6e3a 2a2a  `....**Python:**
+0002f710: 0d0a 6060 6063 6f63 6f6e 7574 5f70 7974  ..```coconut_pyt
+0002f720: 686f 6e0d 0a74 7279 3a0d 0a20 2020 2066  hon..try:..    f
+0002f730: 726f 6d20 7479 7069 6e67 2069 6d70 6f72  rom typing impor
+0002f740: 7420 5459 5045 5f43 4845 434b 494e 470d  t TYPE_CHECKING.
+0002f750: 0a65 7863 6570 7420 496d 706f 7274 4572  .except ImportEr
+0002f760: 726f 723a 0d0a 2020 2020 5459 5045 5f43  ror:..    TYPE_C
+0002f770: 4845 434b 494e 4720 3d20 4661 6c73 650d  HECKING = False.
+0002f780: 0a0d 0a69 6620 5459 5045 5f43 4845 434b  ...if TYPE_CHECK
+0002f790: 494e 473a 0d0a 2020 2020 6672 6f6d 2074  ING:..    from t
+0002f7a0: 7970 696e 6720 696d 706f 7274 204c 6973  yping import Lis
+0002f7b0: 740d 0a78 3a20 4c69 7374 5b73 7472 5d20  t..x: List[str] 
+0002f7c0: 3d20 5b22 6122 2c20 2262 225d 0d0a 6060  = ["a", "b"]..``
+0002f7d0: 600d 0a0d 0a60 6060 636f 636f 6e75 745f  `....```coconut_
+0002f7e0: 7079 7468 6f6e 0d0a 7472 793a 0d0a 2020  python..try:..  
+0002f7f0: 2020 6672 6f6d 2074 7970 696e 6720 696d    from typing im
+0002f800: 706f 7274 2054 5950 455f 4348 4543 4b49  port TYPE_CHECKI
+0002f810: 4e47 0d0a 6578 6365 7074 2049 6d70 6f72  NG..except Impor
+0002f820: 7445 7272 6f72 3a0d 0a20 2020 2054 5950  tError:..    TYP
+0002f830: 455f 4348 4543 4b49 4e47 203d 2046 616c  E_CHECKING = Fal
+0002f840: 7365 0d0a 0d0a 6966 2054 5950 455f 4348  se....if TYPE_CH
+0002f850: 4543 4b49 4e47 3a0d 0a20 2020 2064 6566  ECKING:..    def
+0002f860: 2066 6163 746f 7269 616c 286e 3a20 696e   factorial(n: in
+0002f870: 7429 202d 3e20 696e 743a 202e 2e2e 0d0a  t) -> int: .....
+0002f880: 656c 7365 3a0d 0a20 2020 2064 6566 2066  else:..    def f
+0002f890: 6163 746f 7269 616c 286e 293a 0d0a 2020  actorial(n):..  
+0002f8a0: 2020 2020 2020 6966 206e 203d 3d20 303a        if n == 0:
+0002f8b0: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+0002f8c0: 7475 726e 2031 0d0a 2020 2020 2020 2020  turn 1..        
+0002f8d0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+0002f8e0: 2020 2072 6574 7572 6e20 6e20 2a20 6661     return n * fa
+0002f8f0: 6374 6f72 6961 6c28 6e2d 3129 0d0a 6060  ctorial(n-1)..``
+0002f900: 600d 0a0d 0a23 2323 2320 6072 6576 6561  `....#### `revea
+0002f910: 6c5f 7479 7065 6020 616e 6420 6072 6576  l_type` and `rev
+0002f920: 6561 6c5f 6c6f 6361 6c73 600d 0a0d 0a57  eal_locals`....W
+0002f930: 6865 6e20 7573 696e 6720 4d79 5079 2c20  hen using MyPy, 
+0002f940: 6072 6576 6561 6c5f 7479 7065 283c 6578  `reveal_type(<ex
+0002f950: 7072 3e29 6020 7769 6c6c 2063 6175 7365  pr>)` will cause
+0002f960: 204d 7950 7920 746f 2070 7269 6e74 2074   MyPy to print t
+0002f970: 6865 2074 7970 6520 6f66 2060 3c65 7870  he type of `<exp
+0002f980: 723e 6020 616e 6420 6072 6576 6561 6c5f  r>` and `reveal_
+0002f990: 6c6f 6361 6c73 2829 6020 7769 6c6c 2063  locals()` will c
+0002f9a0: 6175 7365 204d 7950 7920 746f 2070 7269  ause MyPy to pri
+0002f9b0: 6e74 2074 6865 2074 7970 6573 206f 6620  nt the types of 
+0002f9c0: 7468 6520 6375 7272 656e 7420 606c 6f63  the current `loc
+0002f9d0: 616c 7328 2960 2e20 4174 2072 756e 7469  als()`. At runti
+0002f9e0: 6d65 2c20 6072 6576 6561 6c5f 7479 7065  me, `reveal_type
+0002f9f0: 2878 2960 2069 7320 616c 7761 7973 2074  (x)` is always t
+0002fa00: 6865 2069 6465 6e74 6974 7920 6675 6e63  he identity func
+0002fa10: 7469 6f6e 2061 6e64 2060 7265 7665 616c  tion and `reveal
+0002fa20: 5f6c 6f63 616c 7328 2960 2061 6c77 6179  _locals()` alway
+0002fa30: 7320 7265 7475 726e 7320 604e 6f6e 6560  s returns `None`
+0002fa40: 2e20 5365 6520 5b74 6865 204d 7950 7920  . See [the MyPy 
+0002fa50: 646f 6375 6d65 6e74 6174 696f 6e5d 2868  documentation](h
+0002fa60: 7474 7073 3a2f 2f6d 7970 792e 7265 6164  ttps://mypy.read
+0002fa70: 7468 6564 6f63 732e 696f 2f65 6e2f 7374  thedocs.io/en/st
+0002fa80: 6162 6c65 2f63 6f6d 6d6f 6e5f 6973 7375  able/common_issu
+0002fa90: 6573 2e68 746d 6c23 7265 7665 616c 2d74  es.html#reveal-t
+0002faa0: 7970 6529 2066 6f72 206d 6f72 6520 696e  ype) for more in
+0002fab0: 666f 726d 6174 696f 6e2e 0d0a 0d0a 2323  formation.....##
+0002fac0: 2323 2320 4578 616d 706c 650d 0a0d 0a2a  ### Example....*
+0002fad0: 2a43 6f63 6f6e 7574 3a2a 2a0d 0a60 6060  *Coconut:**..```
+0002fae0: 636f 636f 6e75 745f 7079 636f 6e0d 0a3e  coconut_pycon..>
+0002faf0: 2063 6f63 6f6e 7574 202d 2d6d 7970 790d   coconut --mypy.
+0002fb00: 0a43 6f63 6f6e 7574 2049 6e74 6572 7072  .Coconut Interpr
+0002fb10: 6574 6572 2076 582e 582e 583a 0d0a 2865  eter vX.X.X:..(e
+0002fb20: 6e74 6572 2027 6578 6974 2829 2720 6f72  nter 'exit()' or
+0002fb30: 2070 7265 7373 2043 7472 6c2d 4420 746f   press Ctrl-D to
+0002fb40: 2065 6e64 290d 0a3e 3e3e 2072 6576 6561   end)..>>> revea
+0002fb50: 6c5f 7479 7065 2866 6d61 7029 0d0a 3c66  l_type(fmap)..<f
+0002fb60: 756e 6374 696f 6e20 666d 6170 2061 7420  unction fmap at 
+0002fb70: 3078 3030 3030 3032 3339 4230 3645 3230  0x00000239B06E20
+0002fb80: 3430 3e0d 0a3c 7374 7269 6e67 3e3a 3137  40>..<string>:17
+0002fb90: 3a20 6e6f 7465 3a20 5265 7665 616c 6564  : note: Revealed
+0002fba0: 2074 7970 6520 6973 2027 6465 6620 5b5f   type is 'def [_
+0002fbb0: 542c 205f 555d 2028 6675 6e63 3a20 6465  T, _U] (func: de
+0002fbc0: 6620 285f 5460 2d31 2920 2d3e 205f 5560  f (_T`-1) -> _U`
+0002fbd0: 2d32 2c20 6f62 6a3a 2074 7970 696e 672e  -2, obj: typing.
+0002fbe0: 4974 6572 6162 6c65 5b5f 5460 2d31 5d29  Iterable[_T`-1])
+0002fbf0: 202d 3e20 7479 7069 6e67 2e49 7465 7261   -> typing.Itera
+0002fc00: 626c 655b 5f55 602d 325d 270d 0a3e 3e3e  ble[_U`-2]'..>>>
+0002fc10: 0d0a 6060 600d 0a0d 0a2a 2a50 7974 686f  ..```....**Pytho
+0002fc20: 6e2a 2a0d 0a60 6060 636f 636f 6e75 745f  n**..```coconut_
+0002fc30: 7079 7468 6f6e 0d0a 7472 793a 0d0a 2020  python..try:..  
+0002fc40: 2020 6672 6f6d 2074 7970 696e 6720 696d    from typing im
+0002fc50: 706f 7274 2054 5950 455f 4348 4543 4b49  port TYPE_CHECKI
+0002fc60: 4e47 0d0a 6578 6365 7074 2049 6d70 6f72  NG..except Impor
+0002fc70: 7445 7272 6f72 3a0d 0a20 2020 2054 5950  tError:..    TYP
+0002fc80: 455f 4348 4543 4b49 4e47 203d 2046 616c  E_CHECKING = Fal
+0002fc90: 7365 0d0a 0d0a 6966 206e 6f74 2054 5950  se....if not TYP
+0002fca0: 455f 4348 4543 4b49 4e47 3a0d 0a20 2020  E_CHECKING:..   
+0002fcb0: 2064 6566 2072 6576 6561 6c5f 7479 7065   def reveal_type
+0002fcc0: 2878 293a 0d0a 2020 2020 2020 2020 7265  (x):..        re
+0002fcd0: 7475 726e 2078 0d0a 0d0a 6672 6f6d 2063  turn x....from c
+0002fce0: 6f63 6f6e 7574 2e5f 5f63 6f63 6f6e 7574  oconut.__coconut
+0002fcf0: 5f5f 2069 6d70 6f72 7420 666d 6170 0d0a  __ import fmap..
+0002fd00: 7265 7665 616c 5f74 7970 6528 666d 6170  reveal_type(fmap
+0002fd10: 290d 0a60 6060 0d0a 0d0a 2323 2043 6f63  )..```....## Coc
+0002fd20: 6f6e 7574 2041 5049 0d0a 0d0a 6060 607b  onut API....```{
+0002fd30: 636f 6e74 656e 7473 7d0d 0a2d 2d2d 0d0a  contents}..---..
+0002fd40: 6c6f 6361 6c3a 0d0a 6465 7074 683a 2032  local:..depth: 2
+0002fd50: 0d0a 2d2d 2d0d 0a60 6060 0d0a 0d0a 2323  ..---..```....##
+0002fd60: 2320 6063 6f63 6f6e 7574 2e65 6d62 6564  # `coconut.embed
+0002fd70: 600d 0a0d 0a2a 2a63 6f63 6f6e 7574 2e65  `....**coconut.e
+0002fd80: 6d62 6564 2a2a 285f 6b65 726e 656c 5f3d  mbed**(_kernel_=
+0002fd90: 604e 6f6e 6560 2c20 5f64 6570 7468 5f3d  `None`, _depth_=
+0002fda0: 6030 602c 205c 2a5c 2a5f 6b77 6172 6773  `0`, \*\*_kwargs
+0002fdb0: 5f29 0d0a 0d0a 4966 205f 6b65 726e 656c  _)....If _kernel
+0002fdc0: 5f3d 6046 616c 7365 6020 2864 6566 6175  _=`False` (defau
+0002fdd0: 6c74 292c 2065 6d62 6564 7320 6120 436f  lt), embeds a Co
+0002fde0: 636f 6e75 7420 4a75 7079 7465 7220 636f  conut Jupyter co
+0002fdf0: 6e73 6f6c 6520 696e 6974 6961 6c69 7a65  nsole initialize
+0002fe00: 6420 6672 6f6d 2074 6865 2063 7572 7265  d from the curre
+0002fe10: 6e74 206c 6f63 616c 206e 616d 6573 7061  nt local namespa
+0002fe20: 6365 2e20 4966 205f 6b65 726e 656c 5f3d  ce. If _kernel_=
+0002fe30: 6054 7275 6560 2c20 6c61 756e 6368 6573  `True`, launches
+0002fe40: 2061 2043 6f63 6f6e 7574 204a 7570 7974   a Coconut Jupyt
+0002fe50: 6572 206b 6572 6e65 6c20 696e 6974 6961  er kernel initia
+0002fe60: 6c69 7a65 6420 6672 6f6d 2074 6865 206c  lized from the l
+0002fe70: 6f63 616c 206e 616d 6573 7061 6365 2074  ocal namespace t
+0002fe80: 6861 7420 6361 6e20 7468 656e 2062 6520  hat can then be 
+0002fe90: 6174 7461 6368 6564 2074 6f2e 2054 6865  attached to. The
+0002fea0: 205f 6465 7074 685f 2069 6e64 6963 6174   _depth_ indicat
+0002feb0: 6573 2068 6f77 206d 616e 7920 6164 6469  es how many addi
+0002fec0: 7469 6f6e 616c 2063 616c 6c20 6672 616d  tional call fram
+0002fed0: 6573 2074 6f20 6967 6e6f 7265 2e20 5f6b  es to ignore. _k
+0002fee0: 7761 7267 735f 2061 7265 2061 7320 696e  wargs_ are as in
+0002fef0: 205b 4950 7974 686f 6e2e 656d 6265 645d   [IPython.embed]
+0002ff00: 2868 7474 7073 3a2f 2f69 7079 7468 6f6e  (https://ipython
+0002ff10: 2e72 6561 6474 6865 646f 6373 2e69 6f2f  .readthedocs.io/
+0002ff20: 656e 2f73 7461 626c 652f 6170 692f 6765  en/stable/api/ge
+0002ff30: 6e65 7261 7465 642f 4950 7974 686f 6e2e  nerated/IPython.
+0002ff40: 7465 726d 696e 616c 2e65 6d62 6564 2e68  terminal.embed.h
+0002ff50: 746d 6c23 4950 7974 686f 6e2e 7465 726d  tml#IPython.term
+0002ff60: 696e 616c 2e65 6d62 6564 2e65 6d62 6564  inal.embed.embed
+0002ff70: 2920 6f72 205b 4950 7974 686f 6e2e 656d  ) or [IPython.em
+0002ff80: 6265 645f 6b65 726e 656c 5d28 6874 7470  bed_kernel](http
+0002ff90: 733a 2f2f 6970 7974 686f 6e2e 7265 6164  s://ipython.read
+0002ffa0: 7468 6564 6f63 732e 696f 2f65 6e2f 7374  thedocs.io/en/st
+0002ffb0: 6162 6c65 2f61 7069 2f67 656e 6572 6174  able/api/generat
+0002ffc0: 6564 2f49 5079 7468 6f6e 2e68 746d 6c23  ed/IPython.html#
+0002ffd0: 4950 7974 686f 6e2e 656d 6265 645f 6b65  IPython.embed_ke
+0002ffe0: 726e 656c 2920 6261 7365 6420 6f6e 205f  rnel) based on _
+0002fff0: 6b65 726e 656c 5f2e 0d0a 0d0a 5265 636f  kernel_.....Reco
+00030000: 6d6d 656e 6465 6420 7573 6167 6520 6973  mmended usage is
+00030010: 2061 7320 6120 6465 6275 6767 696e 6720   as a debugging 
+00030020: 746f 6f6c 2c20 7768 6572 6520 7468 6520  tool, where the 
+00030030: 636f 6465 2060 6672 6f6d 2063 6f63 6f6e  code `from cocon
+00030040: 7574 2069 6d70 6f72 7420 656d 6265 643b  ut import embed;
+00030050: 2065 6d62 6564 2829 6020 6361 6e20 6265   embed()` can be
+00030060: 2069 6e73 6572 7465 6420 746f 206c 6175   inserted to lau
+00030070: 6e63 6820 616e 2069 6e74 6572 6163 7469  nch an interacti
+00030080: 7665 2043 6f63 6f6e 7574 2073 6865 6c6c  ve Coconut shell
+00030090: 2069 6e69 7469 616c 697a 6564 2066 726f   initialized fro
+000300a0: 6d20 7468 6174 2070 6f69 6e74 2e0d 0a0d  m that point....
+000300b0: 0a23 2323 2041 7574 6f6d 6174 6963 2043  .### Automatic C
+000300c0: 6f6d 7069 6c61 7469 6f6e 0d0a 0d0a 4175  ompilation....Au
+000300d0: 746f 6d61 7469 6320 636f 6d70 696c 6174  tomatic compilat
+000300e0: 696f 6e20 6c65 7473 2079 6f75 2073 696d  ion lets you sim
+000300f0: 706c 7920 696d 706f 7274 2043 6f63 6f6e  ply import Cocon
+00030100: 7574 2066 696c 6573 2064 6972 6563 746c  ut files directl
+00030110: 7920 7769 7468 6f75 7420 6861 7669 6e67  y without having
+00030120: 2074 6f20 676f 2074 6872 6f75 6768 2061   to go through a
+00030130: 2063 6f6d 7069 6c61 7469 6f6e 2073 7465   compilation ste
+00030140: 7020 6669 7273 742e 2041 7574 6f6d 6174  p first. Automat
+00030150: 6963 2063 6f6d 7069 6c61 7469 6f6e 2063  ic compilation c
+00030160: 616e 2062 6520 656e 6162 6c65 6420 6569  an be enabled ei
+00030170: 7468 6572 2062 7920 696d 706f 7274 696e  ther by importin
+00030180: 6720 5b60 636f 636f 6e75 742e 6170 6960  g [`coconut.api`
+00030190: 5d28 2363 6f63 6f6e 7574 2d61 7069 2920  ](#coconut-api) 
+000301a0: 6265 666f 7265 2079 6f75 2069 6d70 6f72  before you impor
+000301b0: 7420 616e 7974 6869 6e67 2065 6c73 652c  t anything else,
+000301c0: 206f 7220 6279 2072 756e 6e69 6e67 2060   or by running `
+000301d0: 636f 636f 6e75 7420 2d2d 7369 7465 2d69  coconut --site-i
+000301e0: 6e73 7461 6c6c 602e 0d0a 0d0a 4f6e 6365  nstall`.....Once
+000301f0: 2061 7574 6f6d 6174 6963 2063 6f6d 7069   automatic compi
+00030200: 6c61 7469 6f6e 2069 7320 656e 6162 6c65  lation is enable
+00030210: 642c 2043 6f63 6f6e 7574 2077 696c 6c20  d, Coconut will 
+00030220: 6368 6563 6b20 6561 6368 206f 6620 796f  check each of yo
+00030230: 7572 2069 6d70 6f72 7473 2074 6f20 7365  ur imports to se
+00030240: 6520 6966 2079 6f75 2061 7265 2061 7474  e if you are att
+00030250: 656d 7074 696e 6720 746f 2069 6d70 6f72  empting to impor
+00030260: 7420 6120 602e 636f 636f 6020 6669 6c65  t a `.coco` file
+00030270: 2061 6e64 2c20 6966 2073 6f2c 2061 7574   and, if so, aut
+00030280: 6f6d 6174 6963 616c 6c79 2063 6f6d 7069  omatically compi
+00030290: 6c65 2069 7420 666f 7220 796f 752e 204e  le it for you. N
+000302a0: 6f74 6520 7468 6174 2c20 666f 7220 436f  ote that, for Co
+000302b0: 636f 6e75 7420 746f 206b 6e6f 7720 7768  conut to know wh
+000302c0: 6174 2066 696c 6520 796f 7520 6172 6520  at file you are 
+000302d0: 7472 7969 6e67 2074 6f20 696d 706f 7274  trying to import
+000302e0: 2c20 6974 2077 696c 6c20 6e65 6564 2074  , it will need t
+000302f0: 6f20 6265 2061 6363 6573 7369 626c 6520  o be accessible 
+00030300: 7669 6120 6073 7973 2e70 6174 6860 2c20  via `sys.path`, 
+00030310: 6a75 7374 206c 696b 6520 6120 6e6f 726d  just like a norm
+00030320: 616c 2069 6d70 6f72 742e 0d0a 0d0a 4175  al import.....Au
+00030330: 746f 6d61 7469 6320 636f 6d70 696c 6174  tomatic compilat
+00030340: 696f 6e20 616c 7761 7973 2063 6f6d 7069  ion always compi
+00030350: 6c65 7320 7769 7468 2060 2d2d 7461 7267  les with `--targ
+00030360: 6574 2073 7973 202d 2d6c 696e 652d 6e75  et sys --line-nu
+00030370: 6d62 6572 7320 2d2d 6b65 6570 2d6c 696e  mbers --keep-lin
+00030380: 6573 6020 6279 2064 6566 6175 6c74 2e20  es` by default. 
+00030390: 4f6e 2050 7974 686f 6e20 332e 342b 2c20  On Python 3.4+, 
+000303a0: 6175 746f 6d61 7469 6320 636f 6d70 696c  automatic compil
+000303b0: 6174 696f 6e20 7769 6c6c 2075 7365 2061  ation will use a
+000303c0: 2060 5f5f 636f 636f 6e75 745f 6361 6368   `__coconut_cach
+000303d0: 655f 5f60 2064 6972 6563 746f 7279 2074  e__` directory t
+000303e0: 6f20 6361 6368 6520 7468 6520 636f 6d70  o cache the comp
+000303f0: 696c 6564 2050 7974 686f 6e2e 204e 6f74  iled Python. Not
+00030400: 6520 7468 6174 2060 5f5f 636f 636f 6e75  e that `__coconu
+00030410: 745f 6361 6368 655f 5f60 2077 696c 6c20  t_cache__` will 
+00030420: 616c 7761 7973 2062 6520 7265 6d6f 7665  always be remove
+00030430: 6420 6672 6f6d 2060 5f5f 6669 6c65 5f5f  d from `__file__
+00030440: 602e 0d0a 0d0a 4175 746f 6d61 7469 6320  `.....Automatic 
+00030450: 636f 6d70 696c 6174 696f 6e20 6973 2061  compilation is a
+00030460: 6c77 6179 7320 6176 6169 6c61 626c 6520  lways available 
+00030470: 696e 2074 6865 2043 6f63 6f6e 7574 2069  in the Coconut i
+00030480: 6e74 6572 7072 6574 6572 206f 7220 7768  nterpreter or wh
+00030490: 656e 2075 7369 6e67 205b 6063 6f63 6f6e  en using [`cocon
+000304a0: 7574 2d72 756e 605d 2823 636f 636f 6e75  ut-run`](#coconu
+000304b0: 742d 7363 7269 7074 7329 2e20 5768 656e  t-scripts). When
+000304c0: 2075 7369 6e67 2061 7574 6f20 636f 6d70   using auto comp
+000304d0: 696c 6174 696f 6e20 7468 726f 7567 6820  ilation through 
+000304e0: 7468 6520 436f 636f 6e75 7420 696e 7465  the Coconut inte
+000304f0: 7270 7265 7465 722c 2061 6e79 2063 6f6d  rpreter, any com
+00030500: 7069 6c61 7469 6f6e 206f 7074 696f 6e73  pilation options
+00030510: 2070 6173 7365 6420 696e 2077 696c 6c20   passed in will 
+00030520: 616c 736f 2062 6520 7573 6564 2066 6f72  also be used for
+00030530: 2061 7574 6f20 636f 6d70 696c 6174 696f   auto compilatio
+00030540: 6e2e 2041 6464 6974 696f 6e61 6c6c 792c  n. Additionally,
+00030550: 2074 6865 2069 6e74 6572 7072 6574 6572   the interpreter
+00030560: 2061 6c77 6179 7320 616c 6c6f 7773 2069   always allows i
+00030570: 6d70 6f72 7469 6e67 2066 726f 6d20 7468  mporting from th
+00030580: 6520 6375 7272 656e 7420 776f 726b 696e  e current workin
+00030590: 6720 6469 7265 6374 6f72 792c 206c 6574  g directory, let
+000305a0: 7469 6e67 2079 6f75 2065 6173 696c 7920  ting you easily 
+000305b0: 636f 6d70 696c 6520 616e 6420 706c 6179  compile and play
+000305c0: 2061 726f 756e 6420 7769 7468 2061 2060   around with a `
+000305d0: 2e63 6f63 6f60 2066 696c 6520 7369 6d70  .coco` file simp
+000305e0: 6c79 2062 7920 7275 6e6e 696e 6720 7468  ly by running th
+000305f0: 6520 436f 636f 6e75 7420 696e 7465 7270  e Coconut interp
+00030600: 7265 7465 7220 616e 6420 696d 706f 7274  reter and import
+00030610: 696e 6720 6974 2e0d 0a0d 0a49 6620 7573  ing it.....If us
+00030620: 696e 6720 7468 6520 436f 636f 6e75 7420  ing the Coconut 
+00030630: 696e 7465 7270 7265 7465 722c 2061 2060  interpreter, a `
+00030640: 7265 6c6f 6164 6020 6275 696c 742d 696e  reload` built-in
+00030650: 2069 7320 616c 7761 7973 2070 726f 7669   is always provi
+00030660: 6465 6420 746f 2065 6173 696c 7920 7265  ded to easily re
+00030670: 6c6f 6164 2028 616e 6420 7468 7573 2072  load (and thus r
+00030680: 6563 6f6d 7069 6c65 2920 696d 706f 7274  ecompile) import
+00030690: 6564 206d 6f64 756c 6573 2e0d 0a0d 0a23  ed modules.....#
+000306a0: 2323 2043 6f63 6f6e 7574 2045 6e63 6f64  ## Coconut Encod
+000306b0: 696e 670d 0a0d 0a57 6869 6c65 2061 7574  ing....While aut
+000306c0: 6f6d 6174 6963 2063 6f6d 7069 6c61 7469  omatic compilati
+000306d0: 6f6e 2069 7320 7468 6520 7072 6566 6572  on is the prefer
+000306e0: 7265 6420 6d65 7468 6f64 2066 6f72 2064  red method for d
+000306f0: 796e 616d 6963 616c 6c79 2063 6f6d 7069  ynamically compi
+00030700: 6c69 6e67 2043 6f63 6f6e 7574 2066 696c  ling Coconut fil
+00030710: 6573 2c20 6173 2069 7420 6361 6368 6573  es, as it caches
+00030720: 2074 6865 2063 6f6d 7069 6c65 6420 636f   the compiled co
+00030730: 6465 2061 7320 6120 602e 7079 6020 6669  de as a `.py` fi
+00030740: 6c65 2074 6f20 7072 6576 656e 7420 7265  le to prevent re
+00030750: 636f 6d70 696c 6174 696f 6e2c 2043 6f63  compilation, Coc
+00030760: 6f6e 7574 2061 6c73 6f20 7375 7070 6f72  onut also suppor
+00030770: 7473 2061 2073 7065 6369 616c 0d0a 6060  ts a special..``
+00030780: 6063 6f63 6f6e 7574 0d0a 2320 636f 6469  `coconut..# codi
+00030790: 6e67 3a20 636f 636f 6e75 740d 0a60 6060  ng: coconut..```
+000307a0: 0d0a 6465 636c 6172 6174 696f 6e20 7768  ..declaration wh
+000307b0: 6963 6820 6361 6e20 6265 2061 6464 6564  ich can be added
+000307c0: 2074 6f20 602e 7079 6020 6669 6c65 7320   to `.py` files 
+000307d0: 746f 2068 6176 6520 7468 656d 2074 7265  to have them tre
+000307e0: 6174 6564 2061 7320 436f 636f 6e75 7420  ated as Coconut 
+000307f0: 6669 6c65 7320 696e 7374 6561 642e 2054  files instead. T
+00030800: 6f20 7573 6520 7375 6368 2061 2063 6f64  o use such a cod
+00030810: 696e 6720 6465 636c 6172 6174 696f 6e2c  ing declaration,
+00030820: 2079 6f75 276c 6c20 6e65 6564 2074 6f20   you'll need to 
+00030830: 6569 7468 6572 2072 756e 2060 636f 636f  either run `coco
+00030840: 6e75 7420 2d2d 7369 7465 2d69 6e73 7461  nut --site-insta
+00030850: 6c6c 6020 6f72 2060 696d 706f 7274 2063  ll` or `import c
+00030860: 6f63 6f6e 7574 2e61 7069 6020 6174 2073  oconut.api` at s
+00030870: 6f6d 6520 706f 696e 7420 6265 666f 7265  ome point before
+00030880: 2079 6f75 2066 6972 7374 2061 7474 656d   you first attem
+00030890: 7074 2074 6f20 696d 706f 7274 2061 2066  pt to import a f
+000308a0: 696c 6520 7769 7468 2061 2060 2320 636f  ile with a `# co
+000308b0: 6469 6e67 3a20 636f 636f 6e75 7460 2064  ding: coconut` d
+000308c0: 6563 6c61 7261 7469 6f6e 2e20 4c69 6b65  eclaration. Like
+000308d0: 2061 7574 6f6d 6174 6963 2063 6f6d 7069   automatic compi
+000308e0: 6c61 7469 6f6e 2c20 7468 6520 436f 636f  lation, the Coco
+000308f0: 6e75 7420 656e 636f 6469 6e67 2069 7320  nut encoding is 
+00030900: 616c 7761 7973 2061 7661 696c 6162 6c65  always available
+00030910: 2066 726f 6d20 7468 6520 436f 636f 6e75   from the Coconu
+00030920: 7420 696e 7465 7270 7265 7465 722e 2043  t interpreter. C
+00030930: 6f6d 7069 6c61 7469 6f6e 2061 6c77 6179  ompilation alway
+00030940: 7320 7573 6573 2074 6865 2073 616d 6520  s uses the same 
+00030950: 7061 7261 6d65 7465 7273 2061 7320 696e  parameters as in
+00030960: 2074 6865 205b 436f 636f 6e75 7420 4a75   the [Coconut Ju
+00030970: 7079 7465 7220 6b65 726e 656c 5d28 236b  pyter kernel](#k
+00030980: 6572 6e65 6c29 2e0d 0a0d 0a23 2323 2060  ernel).....### `
+00030990: 636f 636f 6e75 742e 6170 6960 0d0a 0d0a  coconut.api`....
+000309a0: 496e 2061 6464 6974 696f 6e20 746f 2065  In addition to e
+000309b0: 6e61 626c 696e 6720 6175 746f 6d61 7469  nabling automati
+000309c0: 6320 636f 6d70 696c 6174 696f 6e2c 2060  c compilation, `
+000309d0: 636f 636f 6e75 742e 6170 6960 2063 616e  coconut.api` can
+000309e0: 2061 6c73 6f20 6265 2075 7365 6420 746f   also be used to
+000309f0: 2063 616c 6c20 7468 6520 436f 636f 6e75   call the Coconu
+00030a00: 7420 636f 6d70 696c 6572 2066 726f 6d20  t compiler from 
+00030a10: 636f 6465 2069 6e73 7465 6164 206f 6620  code instead of 
+00030a20: 6672 6f6d 2074 6865 2063 6f6d 6d61 6e64  from the command
+00030a30: 206c 696e 652e 2053 6565 2062 656c 6f77   line. See below
+00030a40: 2066 6f72 2073 7065 6369 6669 6361 7469   for specificati
+00030a50: 6f6e 7320 6f66 2074 6865 2064 6966 6665  ons of the diffe
+00030a60: 7265 6e74 2061 7069 2066 756e 6374 696f  rent api functio
+00030a70: 6e73 2e0d 0a0d 0a5f 4465 7072 6563 6174  ns....._Deprecat
+00030a80: 6564 3a20 6063 6f63 6f6e 7574 2e63 6f6e  ed: `coconut.con
+00030a90: 7665 6e69 656e 6365 6020 6973 2061 2064  venience` is a d
+00030aa0: 6570 7265 6361 7465 6420 616c 6961 7320  eprecated alias 
+00030ab0: 666f 7220 6063 6f63 6f6e 7574 2e61 7069  for `coconut.api
+00030ac0: 602e 5f0d 0a0d 0a23 2323 2320 6067 6574  `._....#### `get
+00030ad0: 5f73 7461 7465 600d 0a0d 0a2a 2a63 6f63  _state`....**coc
+00030ae0: 6f6e 7574 2e61 7069 2e67 6574 5c5f 7374  onut.api.get\_st
+00030af0: 6174 652a 2a28 5f73 7461 7465 5f3d 604e  ate**(_state_=`N
+00030b00: 6f6e 6560 290d 0a0d 0a47 6574 7320 6120  one`)....Gets a 
+00030b10: 7374 6174 6520 6f62 6a65 6374 2077 6869  state object whi
+00030b20: 6368 2073 746f 7265 7320 7468 6520 6375  ch stores the cu
+00030b30: 7272 656e 7420 636f 6d70 696c 6174 696f  rrent compilatio
+00030b40: 6e20 7061 7261 6d65 7465 7273 2e20 5374  n parameters. St
+00030b50: 6174 6520 6f62 6a65 6374 7320 6361 6e20  ate objects can 
+00030b60: 6265 2063 6f6e 6669 6775 7265 6420 7769  be configured wi
+00030b70: 7468 205b 2a2a 7365 7475 702a 2a5d 2823  th [**setup**](#
+00030b80: 7365 7475 7029 206f 7220 5b2a 2a63 6d64  setup) or [**cmd
+00030b90: 2a2a 5d28 2363 6d64 2920 616e 6420 7468  **](#cmd) and th
+00030ba0: 656e 2075 7365 6420 696e 205b 2a2a 7061  en used in [**pa
+00030bb0: 7273 652a 2a5d 2823 7061 7273 6529 206f  rse**](#parse) o
+00030bc0: 7220 6f74 6865 7220 656e 6470 6f69 6e74  r other endpoint
+00030bd0: 732e 0d0a 0d0a 4966 205f 7374 6174 655f  s.....If _state_
+00030be0: 2069 7320 604e 6f6e 6560 2c20 6765 7473   is `None`, gets
+00030bf0: 2061 206e 6577 2073 7461 7465 206f 626a   a new state obj
+00030c00: 6563 742c 2077 6865 7265 6173 2069 6620  ect, whereas if 
+00030c10: 5f73 7461 7465 5f20 6973 2060 4661 6c73  _state_ is `Fals
+00030c20: 6560 2c20 7468 6520 676c 6f62 616c 2073  e`, the global s
+00030c30: 7461 7465 206f 626a 6563 7420 6973 2072  tate object is r
+00030c40: 6574 7572 6e65 642e 0d0a 0d0a 2323 2323  eturned.....####
+00030c50: 2060 7061 7273 6560 0d0a 0d0a 2a2a 636f   `parse`....**co
+00030c60: 636f 6e75 742e 6170 692e 7061 7273 652a  conut.api.parse*
+00030c70: 2a28 5f63 6f64 655f 3d60 2222 602c 205f  *(_code_=`""`, _
+00030c80: 6d6f 6465 5f3d 6022 7379 7322 602c 205f  mode_=`"sys"`, _
+00030c90: 7374 6174 655f 3d60 4661 6c73 6560 2c20  state_=`False`, 
+00030ca0: 5f6b 6565 705c 5f69 6e74 6572 6e61 6c5c  _keep\_internal\
+00030cb0: 5f73 7461 7465 5f3d 604e 6f6e 6560 290d  _state_=`None`).
+00030cc0: 0a0d 0a4c 696b 656c 7920 7468 6520 6d6f  ...Likely the mo
+00030cd0: 7374 2075 7365 6675 6c20 6f66 2074 6865  st useful of the
+00030ce0: 2061 7069 2066 756e 6374 696f 6e73 2c20   api functions, 
+00030cf0: 6070 6172 7365 6020 7461 6b65 7320 436f  `parse` takes Co
+00030d00: 636f 6e75 7420 636f 6465 2061 7320 696e  conut code as in
+00030d10: 7075 7420 616e 6420 6f75 7470 7574 7320  put and outputs 
+00030d20: 7468 6520 6571 7569 7661 6c65 6e74 2063  the equivalent c
+00030d30: 6f6d 7069 6c65 6420 5079 7468 6f6e 2063  ompiled Python c
+00030d40: 6f64 652e 205f 6d6f 6465 5f20 6973 2075  ode. _mode_ is u
+00030d50: 7365 6420 746f 2069 6e64 6963 6174 6520  sed to indicate 
+00030d60: 7468 6520 636f 6e74 6578 7420 666f 7220  the context for 
+00030d70: 7468 6520 7061 7273 696e 6720 616e 6420  the parsing and 
+00030d80: 5f73 7461 7465 5f20 6973 2074 6865 2073  _state_ is the s
+00030d90: 7461 7465 206f 626a 6563 7420 7374 6f72  tate object stor
+00030da0: 696e 6720 7468 6520 636f 6d70 696c 6174  ing the compilat
+00030db0: 696f 6e20 7061 7261 6d65 7465 7273 2074  ion parameters t
+00030dc0: 6f20 7573 6520 6173 206f 6274 6169 6e65  o use as obtaine
+00030dd0: 6420 6672 6f6d 205b 2a2a 6765 745f 7374  d from [**get_st
+00030de0: 6174 652a 2a5d 2823 6765 745f 7374 6174  ate**](#get_stat
+00030df0: 6529 2028 6966 2060 4661 6c73 6560 2c20  e) (if `False`, 
+00030e00: 7573 6573 2074 6865 2067 6c6f 6261 6c20  uses the global 
+00030e10: 7374 6174 6520 6f62 6a65 6374 292e 205f  state object). _
+00030e20: 6b65 6570 5c5f 696e 7465 726e 616c 5c5f  keep\_internal\_
+00030e30: 7374 6174 655f 2064 6574 6572 6d69 6e65  state_ determine
+00030e40: 7320 7768 6574 6865 7220 7468 6520 7374  s whether the st
+00030e50: 6174 6520 6f62 6a65 6374 2077 696c 6c20  ate object will 
+00030e60: 6b65 6570 2069 6e74 6572 6e61 6c20 7374  keep internal st
+00030e70: 6174 6520 2873 7563 6820 6173 2077 6861  ate (such as wha
+00030e80: 7420 5b63 7573 746f 6d20 6f70 6572 6174  t [custom operat
+00030e90: 6f72 735d 2823 6375 7374 6f6d 2d6f 7065  ors](#custom-ope
+00030ea0: 7261 746f 7273 2920 6861 7665 2062 6565  rators) have bee
+00030eb0: 6e20 6465 636c 6172 6564 29e2 8094 6966  n declared)...if
+00030ec0: 2060 4e6f 6e65 602c 2069 6e74 6572 6e61   `None`, interna
+00030ed0: 6c20 7374 6174 6520 7769 6c6c 2062 6520  l state will be 
+00030ee0: 6b65 7074 2069 6666 2079 6f75 2061 7265  kept iff you are
+00030ef0: 206e 6f74 2075 7369 6e67 2074 6865 2067   not using the g
+00030f00: 6c6f 6261 6c20 5f73 7461 7465 5f2e 0d0a  lobal _state_...
+00030f10: 0d0a 4966 205f 636f 6465 5f20 6973 206e  ..If _code_ is n
+00030f20: 6f74 2070 6173 7365 642c 2060 7061 7273  ot passed, `pars
+00030f30: 6560 2077 696c 6c20 6f75 7470 7574 206a  e` will output j
+00030f40: 7573 7420 7468 6520 6769 7665 6e20 5f6d  ust the given _m
+00030f50: 6f64 655f 2773 2068 6561 6465 722c 2077  ode_'s header, w
+00030f60: 6869 6368 2063 616e 2062 6520 6578 6563  hich can be exec
+00030f70: 7574 6564 2074 6f20 7365 7420 7570 2061  uted to set up a
+00030f80: 6e20 6578 6563 7574 696f 6e20 656e 7669  n execution envi
+00030f90: 726f 6e6d 656e 7420 696e 2077 6869 6368  ronment in which
+00030fa0: 2066 7574 7572 6520 636f 6465 2063 616e   future code can
+00030fb0: 2062 6520 7061 7273 6564 2061 6e64 2065   be parsed and e
+00030fc0: 7865 6375 7465 6420 7769 7468 6f75 7420  xecuted without 
+00030fd0: 6120 6865 6164 6572 2e0d 0a0d 0a45 6163  a header.....Eac
+00030fe0: 6820 5f6d 6f64 655f 2068 6173 2074 776f  h _mode_ has two
+00030ff0: 2063 6f6d 706f 6e65 6e74 733a 2077 6861   components: wha
+00031000: 7420 7061 7273 6572 2069 7420 7573 6573  t parser it uses
+00031010: 2c20 616e 6420 7768 6174 2068 6561 6465  , and what heade
+00031020: 7220 6974 2070 7265 7065 6e64 732e 2054  r it prepends. T
+00031030: 6865 2070 6172 7365 7220 6465 7465 726d  he parser determ
+00031040: 696e 6573 2077 6861 7420 436f 636f 6e75  ines what Coconu
+00031050: 7420 636f 6465 2069 7320 616c 6c6f 7765  t code is allowe
+00031060: 6420 6173 2069 6e70 7574 2c20 616e 6420  d as input, and 
+00031070: 7468 6520 6865 6164 6572 2064 6574 6572  the header deter
+00031080: 6d69 6e65 7320 686f 7720 7468 6520 636f  mines how the co
+00031090: 6d70 696c 6564 2050 7974 686f 6e20 6361  mpiled Python ca
+000310a0: 6e20 6265 2075 7365 642e 2050 6f73 7369  n be used. Possi
+000310b0: 626c 6520 7661 6c75 6573 206f 6620 5f6d  ble values of _m
+000310c0: 6f64 655f 2061 7265 3a0d 0a0d 0a2d 2060  ode_ are:....- `
+000310d0: 2273 7973 2260 3a20 2874 6865 2064 6566  "sys"`: (the def
+000310e0: 6175 6c74 290d 0a20 2020 202b 2070 6172  ault)..    + par
+000310f0: 7365 723a 2066 696c 650d 0a20 2020 2020  ser: file..     
+00031100: 2020 202a 2054 6865 2066 696c 6520 7061     * The file pa
+00031110: 7273 6572 2063 616e 2070 6172 7365 2061  rser can parse a
+00031120: 6e79 2043 6f63 6f6e 7574 2063 6f64 652e  ny Coconut code.
+00031130: 0d0a 2020 2020 2b20 6865 6164 6572 3a20  ..    + header: 
+00031140: 7379 730d 0a20 2020 2020 2020 202a 2054  sys..        * T
+00031150: 6869 7320 6865 6164 6572 2069 6d70 6f72  his header impor
+00031160: 7473 205b 6063 6f63 6f6e 7574 2e5f 5f63  ts [`coconut.__c
+00031170: 6f63 6f6e 7574 5f5f 605d 2823 636f 636f  oconut__`](#coco
+00031180: 6e75 742d 636f 636f 6e75 7429 2074 6f20  nut-coconut) to 
+00031190: 6163 6365 7373 2074 6865 206e 6563 6573  access the neces
+000311a0: 7361 7279 2043 6f63 6f6e 7574 206f 626a  sary Coconut obj
+000311b0: 6563 7473 2e0d 0a2d 2060 2265 7865 6322  ects...- `"exec"
+000311c0: 603a 0d0a 2020 2020 2b20 7061 7273 6572  `:..    + parser
+000311d0: 3a20 6669 6c65 0d0a 2020 2020 2b20 6865  : file..    + he
+000311e0: 6164 6572 3a20 6578 6563 0d0a 2020 2020  ader: exec..    
+000311f0: 2020 2020 2a20 5768 656e 2070 6173 7365      * When passe
+00031200: 6420 746f 2060 6578 6563 6020 6174 2074  d to `exec` at t
+00031210: 6865 2067 6c6f 6261 6c20 6c65 7665 6c2c  he global level,
+00031220: 2074 6869 7320 6865 6164 6572 2077 696c   this header wil
+00031230: 6c20 6372 6561 7465 2061 6c6c 2074 6865  l create all the
+00031240: 206e 6563 6573 7361 7279 2043 6f63 6f6e   necessary Cocon
+00031250: 7574 206f 626a 6563 7473 2069 7473 656c  ut objects itsel
+00031260: 6620 696e 7374 6561 6420 6f66 2069 6d70  f instead of imp
+00031270: 6f72 7469 6e67 2074 6865 6d2e 0d0a 2d20  orting them...- 
+00031280: 6022 6669 6c65 2260 3a0d 0a20 2020 202b  `"file"`:..    +
+00031290: 2070 6172 7365 723a 2066 696c 650d 0a20   parser: file.. 
+000312a0: 2020 202b 2068 6561 6465 723a 2066 696c     + header: fil
+000312b0: 650d 0a20 2020 2020 2020 202a 2054 6869  e..        * Thi
+000312c0: 7320 6865 6164 6572 2069 7320 6d65 616e  s header is mean
+000312d0: 7420 746f 2062 6520 7772 6974 7465 6e20  t to be written 
+000312e0: 746f 2061 2060 2d2d 7374 616e 6461 6c6f  to a `--standalo
+000312f0: 6e65 6020 6669 6c65 2061 6e64 2073 686f  ne` file and sho
+00031300: 756c 6420 6e6f 7420 6265 2070 6173 7365  uld not be passe
+00031310: 6420 746f 2060 6578 6563 602e 0d0a 2d20  d to `exec`...- 
+00031320: 6022 7061 636b 6167 6522 603a 0d0a 2020  `"package"`:..  
+00031330: 2020 2b20 7061 7273 6572 3a20 6669 6c65    + parser: file
+00031340: 0d0a 2020 2020 2b20 6865 6164 6572 3a20  ..    + header: 
+00031350: 7061 636b 6167 650d 0a20 2020 2020 2020  package..       
+00031360: 202a 2054 6869 7320 6865 6164 6572 2069   * This header i
+00031370: 7320 6d65 616e 7420 746f 2062 6520 7772  s meant to be wr
+00031380: 6974 7465 6e20 746f 2061 2060 2d2d 7061  itten to a `--pa
+00031390: 636b 6167 6560 2066 696c 6520 616e 6420  ckage` file and 
+000313a0: 7368 6f75 6c64 206e 6f74 2062 6520 7061  should not be pa
+000313b0: 7373 6564 2074 6f20 6065 7865 6360 2e0d  ssed to `exec`..
+000313c0: 0a2d 2060 2262 6c6f 636b 2260 3a0d 0a20  .- `"block"`:.. 
+000313d0: 2020 202b 2070 6172 7365 723a 2066 696c     + parser: fil
+000313e0: 650d 0a20 2020 202b 2068 6561 6465 723a  e..    + header:
+000313f0: 206e 6f6e 650d 0a20 2020 2020 2020 202a   none..        *
+00031400: 204e 6f20 6865 6164 6572 2069 7320 696e   No header is in
+00031410: 636c 7564 6564 2c20 7468 7573 2074 6869  cluded, thus thi
+00031420: 7320 6361 6e20 6f6e 6c79 2062 6520 7061  s can only be pa
+00031430: 7373 6564 2074 6f20 6065 7865 6360 2069  ssed to `exec` i
+00031440: 6620 636f 6465 2077 6974 6820 6120 6865  f code with a he
+00031450: 6164 6572 2068 6173 2061 6c72 6561 6479  ader has already
+00031460: 2062 6565 6e20 6578 6563 7574 6564 2061   been executed a
+00031470: 7420 7468 6520 676c 6f62 616c 206c 6576  t the global lev
+00031480: 656c 2e0d 0a2d 2060 2273 696e 676c 6522  el...- `"single"
+00031490: 603a 0d0a 2020 2020 2b20 7061 7273 6572  `:..    + parser
+000314a0: 3a20 7369 6e67 6c65 0d0a 2020 2020 2020  : single..      
+000314b0: 2020 2a20 4361 6e20 6f6e 6c79 2070 6172    * Can only par
+000314c0: 7365 206f 6e65 206c 696e 6520 6f66 2043  se one line of C
+000314d0: 6f63 6f6e 7574 2063 6f64 652e 0d0a 2020  oconut code...  
+000314e0: 2020 2b20 6865 6164 6572 3a20 6e6f 6e65    + header: none
+000314f0: 0d0a 2d20 6022 6576 616c 2260 3a0d 0a20  ..- `"eval"`:.. 
+00031500: 2020 202b 2070 6172 7365 723a 2065 7661     + parser: eva
+00031510: 6c0d 0a20 2020 2020 2020 202a 2043 616e  l..        * Can
+00031520: 206f 6e6c 7920 7061 7273 6520 6120 436f   only parse a Co
+00031530: 636f 6e75 7420 6578 7072 6573 7369 6f6e  conut expression
+00031540: 2c20 6e6f 7420 6120 7374 6174 656d 656e  , not a statemen
+00031550: 742e 0d0a 2020 2020 2b20 6865 6164 6572  t...    + header
+00031560: 3a20 6e6f 6e65 0d0a 2d20 6022 6c65 6e69  : none..- `"leni
+00031570: 656e 7422 603a 0d0a 2020 2020 2b20 7061  ent"`:..    + pa
+00031580: 7273 6572 3a20 6c65 6e69 656e 740d 0a20  rser: lenient.. 
+00031590: 2020 2020 2020 202a 2043 616e 2070 6172         * Can par
+000315a0: 7365 2061 6e79 2043 6f63 6f6e 7574 2063  se any Coconut c
+000315b0: 6f64 652c 2061 6c6c 6f77 7320 6c65 6164  ode, allows lead
+000315c0: 696e 6720 7768 6974 6573 7061 6365 2c20  ing whitespace, 
+000315d0: 616e 6420 6861 7320 6e6f 2074 7261 696c  and has no trail
+000315e0: 696e 6720 6e65 776c 696e 652e 0d0a 2020  ing newline...  
+000315f0: 2020 2b20 6865 6164 6572 3a20 6e6f 6e65    + header: none
+00031600: 0d0a 2d20 6022 786f 6e73 6822 603a 0d0a  ..- `"xonsh"`:..
+00031610: 2020 2020 2b20 7061 7273 6572 3a20 786f      + parser: xo
+00031620: 6e73 680d 0a20 2020 2020 2020 202a 2050  nsh..        * P
+00031630: 6172 7365 7320 436f 636f 6e75 7420 5b60  arses Coconut [`
+00031640: 786f 6e73 6860 5d28 6874 7470 733a 2f2f  xonsh`](https://
+00031650: 786f 6e2e 7368 2920 636f 6465 2066 6f72  xon.sh) code for
+00031660: 2075 7365 2069 6e20 5b43 6f63 6f6e 7574   use in [Coconut
+00031670: 2773 2060 786f 6e73 6860 2073 7570 706f  's `xonsh` suppo
+00031680: 7274 5d28 2378 6f6e 7368 2d73 7570 706f  rt](#xonsh-suppo
+00031690: 7274 292e 0d0a 2020 2020 2b20 6865 6164  rt)...    + head
+000316a0: 6572 3a20 6e6f 6e65 0d0a 0d0a 2323 2323  er: none....####
+000316b0: 2320 4578 616d 706c 650d 0a0d 0a60 6060  # Example....```
+000316c0: 636f 636f 6e75 745f 7079 7468 6f6e 0d0a  coconut_python..
+000316d0: 6672 6f6d 2063 6f63 6f6e 7574 2e61 7069  from coconut.api
+000316e0: 2069 6d70 6f72 7420 7061 7273 650d 0a65   import parse..e
+000316f0: 7865 6328 7061 7273 6528 2929 0d0a 7768  xec(parse())..wh
+00031700: 696c 6520 5472 7565 3a0d 0a20 2020 2065  ile True:..    e
+00031710: 7865 6328 7061 7273 6528 696e 7075 7428  xec(parse(input(
+00031720: 292c 206d 6f64 653d 2262 6c6f 636b 2229  ), mode="block")
+00031730: 290d 0a60 6060 0d0a 0d0a 2323 2323 2060  )..```....#### `
+00031740: 7365 7475 7060 0d0a 0d0a 2a2a 636f 636f  setup`....**coco
+00031750: 6e75 742e 6170 692e 7365 7475 702a 2a28  nut.api.setup**(
+00031760: 5f74 6172 6765 745f 3d60 4e6f 6e65 602c  _target_=`None`,
+00031770: 205f 7374 7269 6374 5f3d 6046 616c 7365   _strict_=`False
+00031780: 602c 205f 6d69 6e69 6679 5f3d 6046 616c  `, _minify_=`Fal
+00031790: 7365 602c 205f 6c69 6e65 5c5f 6e75 6d62  se`, _line\_numb
+000317a0: 6572 735f 3d60 5472 7565 602c 205f 6b65  ers_=`True`, _ke
+000317b0: 6570 5c5f 6c69 6e65 735f 3d60 4661 6c73  ep\_lines_=`Fals
+000317c0: 6560 2c20 5f6e 6f5c 5f74 636f 5f3d 6046  e`, _no\_tco_=`F
+000317d0: 616c 7365 602c 205f 6e6f 5c5f 7772 6170  alse`, _no\_wrap
+000317e0: 5f3d 6046 616c 7365 602c 202a 2c20 5f73  _=`False`, *, _s
+000317f0: 7461 7465 5f3d 6046 616c 7365 6029 0d0a  tate_=`False`)..
+00031800: 0d0a 6073 6574 7570 6020 6361 6e20 6265  ..`setup` can be
+00031810: 2075 7365 6420 746f 2073 6574 2075 7020   used to set up 
+00031820: 7468 6520 6769 7665 6e20 7374 6174 6520  the given state 
+00031830: 6f62 6a65 6374 2077 6974 6820 7468 6520  object with the 
+00031840: 6769 7665 6e20 636f 6d70 696c 6174 696f  given compilatio
+00031850: 6e20 7061 7261 6d65 7465 7273 2c20 6561  n parameters, ea
+00031860: 6368 2063 6f72 7265 7370 6f6e 6469 6e67  ch corresponding
+00031870: 2074 6f20 7468 6520 636f 6d6d 616e 642d   to the command-
+00031880: 6c69 6e65 2066 6c61 6720 6f66 2074 6865  line flag of the
+00031890: 2073 616d 6520 6e61 6d65 2e20 5f74 6172   same name. _tar
+000318a0: 6765 745f 2073 686f 756c 6420 6265 2065  get_ should be e
+000318b0: 6974 6865 7220 604e 6f6e 6560 2066 6f72  ither `None` for
+000318c0: 2074 6865 2064 6566 6175 6c74 2074 6172   the default tar
+000318d0: 6765 7420 6f72 2061 2073 7472 696e 6720  get or a string 
+000318e0: 6f66 2061 6e79 205b 616c 6c6f 7761 626c  of any [allowabl
+000318f0: 6520 7461 7267 6574 5d28 2361 6c6c 6f77  e target](#allow
+00031900: 6162 6c65 2d74 6172 6765 7473 292e 0d0a  able-targets)...
+00031910: 0d0a 4966 205f 7374 6174 655f 2069 7320  ..If _state_ is 
+00031920: 6046 616c 7365 602c 2074 6865 2067 6c6f  `False`, the glo
+00031930: 6261 6c20 7374 6174 6520 6f62 6a65 6374  bal state object
+00031940: 2069 7320 7573 6564 2e0d 0a0d 0a23 2323   is used.....###
+00031950: 2320 6077 6172 6d5f 7570 600d 0a0d 0a2a  # `warm_up`....*
+00031960: 2a63 6f63 6f6e 7574 2e61 7069 2e77 6172  *coconut.api.war
+00031970: 6d5f 7570 2a2a 285f 666f 7263 655f 3d60  m_up**(_force_=`
+00031980: 5472 7565 602c 205f 656e 6162 6c65 5c5f  True`, _enable\_
+00031990: 696e 6372 656d 656e 7461 6c5c 5f6d 6f64  incremental\_mod
+000319a0: 655f 3d60 4661 6c73 6560 2c20 2a2c 205f  e_=`False`, *, _
+000319b0: 7374 6174 655f 3d60 4661 6c73 6560 290d  state_=`False`).
+000319c0: 0a0d 0a43 616e 206f 7074 696f 6e61 6c6c  ...Can optionall
+000319d0: 7920 6265 2063 616c 6c65 6420 746f 2077  y be called to w
+000319e0: 6172 6d20 7570 2074 6865 2063 6f6d 7069  arm up the compi
+000319f0: 6c65 7220 616e 6420 6765 7420 6974 2072  ler and get it r
+00031a00: 6561 6479 2066 6f72 2070 6172 7369 6e67  eady for parsing
+00031a10: 2e20 5061 7373 696e 6720 5f66 6f72 6365  . Passing _force
+00031a20: 5f20 7769 6c6c 2063 6175 7365 2074 6865  _ will cause the
+00031a30: 2077 6172 6d20 7570 2074 6f20 7461 6b65   warm up to take
+00031a40: 206c 6f6e 6765 7220 6275 7420 7769 6c6c   longer but will
+00031a50: 2073 7562 7374 616e 7469 616c 6c79 2072   substantially r
+00031a60: 6564 7563 6520 7061 7273 696e 6720 7469  educe parsing ti
+00031a70: 6d65 7320 2862 7920 6465 6661 756c 742c  mes (by default,
+00031a80: 2074 6869 7320 6c65 7665 6c20 6f66 2077   this level of w
+00031a90: 6172 6d20 7570 2069 7320 6f6e 6c79 2064  arm up is only d
+00031aa0: 6f6e 6520 7768 656e 2074 6865 2063 6f6d  one when the com
+00031ab0: 7069 6c65 7220 656e 636f 756e 7465 7273  piler encounters
+00031ac0: 2061 206c 6172 6765 2066 696c 6529 2e20   a large file). 
+00031ad0: 5061 7373 696e 6720 5f65 6e61 626c 655c  Passing _enable\
+00031ae0: 5f69 6e63 7265 6d65 6e74 616c 5c5f 6d6f  _incremental\_mo
+00031af0: 6465 5f20 7769 6c6c 2065 6e61 626c 6520  de_ will enable 
+00031b00: 7468 6520 636f 6d70 696c 6572 2773 2069  the compiler's i
+00031b10: 6e63 7265 6d65 6e74 616c 206d 646f 652c  ncremental mdoe,
+00031b20: 2077 6865 7265 2070 6172 7369 6e67 2073   where parsing s
+00031b30: 6f6d 6520 7374 7269 6e67 2c20 7468 656e  ome string, then
+00031b40: 206c 6174 6572 2070 6172 7369 6e67 2061   later parsing a
+00031b50: 2063 6f6e 7469 6e75 6174 696f 6e20 6f66   continuation of
+00031b60: 2074 6861 7420 7374 7269 6e67 2c20 7769   that string, wi
+00031b70: 6c6c 2079 6965 6c64 2073 7562 7374 616e  ll yield substan
+00031b80: 7469 616c 2070 6572 666f 726d 616e 6365  tial performance
+00031b90: 2069 6d70 726f 7665 6d65 6e74 732e 0d0a   improvements...
+00031ba0: 0d0a 2323 2323 2060 636d 6460 0d0a 0d0a  ..#### `cmd`....
+00031bb0: 2a2a 636f 636f 6e75 742e 6170 692e 636d  **coconut.api.cm
+00031bc0: 642a 2a28 5f61 7267 735f 3d60 4e6f 6e65  d**(_args_=`None
+00031bd0: 602c 202a 2c20 5f61 7267 765f 3d60 4e6f  `, *, _argv_=`No
+00031be0: 6e65 602c 205f 696e 7465 7261 6374 5f3d  ne`, _interact_=
+00031bf0: 6046 616c 7365 602c 205f 6465 6661 756c  `False`, _defaul
+00031c00: 745c 5f74 6172 6765 745f 3d60 4e6f 6e65  t\_target_=`None
+00031c10: 602c 205f 7374 6174 655f 3d60 4661 6c73  `, _state_=`Fals
+00031c20: 6560 290d 0a0d 0a45 7865 6375 7465 7320  e`)....Executes 
+00031c30: 7468 6520 6769 7665 6e20 5f61 7267 735f  the given _args_
+00031c40: 2061 7320 6966 2074 6865 7920 7765 7265   as if they were
+00031c50: 2066 6564 2074 6f20 6063 6f63 6f6e 7574   fed to `coconut
+00031c60: 6020 6f6e 2074 6865 2063 6f6d 6d61 6e64  ` on the command
+00031c70: 2d6c 696e 652c 2077 6974 6820 7468 6520  -line, with the 
+00031c80: 6578 6365 7074 696f 6e20 7468 6174 2075  exception that u
+00031c90: 6e6c 6573 7320 5f69 6e74 6572 6163 745f  nless _interact_
+00031ca0: 2069 7320 7472 7565 206f 7220 602d 6960   is true or `-i`
+00031cb0: 2069 7320 7061 7373 6564 2c20 7468 6520   is passed, the 
+00031cc0: 696e 7465 7270 7265 7465 7220 7769 6c6c  interpreter will
+00031cd0: 206e 6f74 2062 6520 7374 6172 7465 642e   not be started.
+00031ce0: 2041 6464 6974 696f 6e61 6c6c 792c 205f   Additionally, _
+00031cf0: 6172 6776 5f20 6361 6e20 6265 2075 7365  argv_ can be use
+00031d00: 6420 746f 2070 6173 7320 696e 2061 7267  d to pass in arg
+00031d10: 756d 656e 7473 2061 7320 696e 2060 2d2d  uments as in `--
+00031d20: 6172 6776 6020 616e 6420 5f64 6566 6175  argv` and _defau
+00031d30: 6c74 5c5f 7461 7267 6574 5f20 6361 6e20  lt\_target_ can 
+00031d40: 6265 2075 7365 6420 746f 2073 6574 2074  be used to set t
+00031d50: 6865 2064 6566 6175 6c74 2060 2d2d 7461  he default `--ta
+00031d60: 7267 6574 602e 0d0a 0d0a 4861 7320 7468  rget`.....Has th
+00031d70: 6520 7361 6d65 2065 6666 6563 7420 6f66  e same effect of
+00031d80: 2073 6574 7469 6e67 2074 6865 2063 6f6d   setting the com
+00031d90: 6d61 6e64 2d6c 696e 6520 666c 6167 7320  mand-line flags 
+00031da0: 6f6e 2074 6865 2067 6976 656e 205f 7374  on the given _st
+00031db0: 6174 655f 206f 626a 6563 7420 6173 2060  ate_ object as `
+00031dc0: 7365 7475 7060 2028 7769 7468 2074 6865  setup` (with the
+00031dd0: 2067 6c6f 6261 6c20 6073 7461 7465 6020   global `state` 
+00031de0: 6f62 6a65 6374 2075 7365 6420 7768 656e  object used when
+00031df0: 205f 7374 6174 655f 2069 7320 6046 616c   _state_ is `Fal
+00031e00: 7365 6029 2e0d 0a0d 0a23 2323 2320 6063  se`).....#### `c
+00031e10: 6f63 6f6e 7574 5f65 7865 6360 0d0a 0d0a  oconut_exec`....
+00031e20: 2a2a 636f 636f 6e75 742e 6170 692e 636f  **coconut.api.co
+00031e30: 636f 6e75 745f 6578 6563 2a2a 285f 6578  conut_exec**(_ex
+00031e40: 7072 6573 7369 6f6e 5f2c 205f 676c 6f62  pression_, _glob
+00031e50: 616c 735f 3d60 4e6f 6e65 602c 205f 6c6f  als_=`None`, _lo
+00031e60: 6361 6c73 5f3d 604e 6f6e 6560 2c20 5f73  cals_=`None`, _s
+00031e70: 7461 7465 5f3d 6046 616c 7365 602c 205f  tate_=`False`, _
+00031e80: 6b65 6570 5c5f 696e 7465 726e 616c 5c5f  keep\_internal\_
+00031e90: 7374 6174 655f 3d60 4e6f 6e65 6029 0d0a  state_=`None`)..
+00031ea0: 0d0a 5665 7273 696f 6e20 6f66 205b 6065  ..Version of [`e
+00031eb0: 7865 6360 5d28 6874 7470 733a 2f2f 646f  xec`](https://do
+00031ec0: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+00031ed0: 6c69 6272 6172 792f 6675 6e63 7469 6f6e  library/function
+00031ee0: 732e 6874 6d6c 2365 7865 6329 2077 6869  s.html#exec) whi
+00031ef0: 6368 2063 616e 2065 7865 6375 7465 2043  ch can execute C
+00031f00: 6f63 6f6e 7574 2063 6f64 652e 0d0a 0d0a  oconut code.....
+00031f10: 2323 2323 2060 636f 636f 6e75 745f 6576  #### `coconut_ev
+00031f20: 616c 600d 0a0d 0a2a 2a63 6f63 6f6e 7574  al`....**coconut
+00031f30: 2e61 7069 2e63 6f63 6f6e 7574 5f65 7661  .api.coconut_eva
+00031f40: 6c2a 2a28 5f65 7870 7265 7373 696f 6e5f  l**(_expression_
+00031f50: 2c20 5f67 6c6f 6261 6c73 5f3d 604e 6f6e  , _globals_=`Non
+00031f60: 6560 2c20 5f6c 6f63 616c 735f 3d60 4e6f  e`, _locals_=`No
+00031f70: 6e65 602c 205f 7374 6174 655f 3d60 4661  ne`, _state_=`Fa
+00031f80: 6c73 6560 2c20 5f6b 6565 705c 5f69 6e74  lse`, _keep\_int
+00031f90: 6572 6e61 6c5c 5f73 7461 7465 5f3d 604e  ernal\_state_=`N
+00031fa0: 6f6e 6560 290d 0a0d 0a56 6572 7369 6f6e  one`)....Version
+00031fb0: 206f 6620 5b60 6576 616c 605d 2868 7474   of [`eval`](htt
+00031fc0: 7073 3a2f 2f64 6f63 732e 7079 7468 6f6e  ps://docs.python
+00031fd0: 2e6f 7267 2f33 2f6c 6962 7261 7279 2f66  .org/3/library/f
+00031fe0: 756e 6374 696f 6e73 2e68 746d 6c23 6576  unctions.html#ev
+00031ff0: 616c 2920 7768 6963 6820 6361 6e20 6576  al) which can ev
+00032000: 616c 7561 7465 2043 6f63 6f6e 7574 2063  aluate Coconut c
+00032010: 6f64 652e 0d0a 0d0a 2323 2323 2060 7665  ode.....#### `ve
+00032020: 7273 696f 6e60 0d0a 0d0a 2a2a 636f 636f  rsion`....**coco
+00032030: 6e75 742e 6170 692e 7665 7273 696f 6e2a  nut.api.version*
+00032040: 2a28 2a2a 5b2a 2a5f 7768 6963 685f 2a2a  *(**[**_which_**
+00032050: 5d2a 2a29 0d0a 0d0a 5265 7472 6965 7665  ]**)....Retrieve
+00032060: 7320 6120 7374 7269 6e67 2063 6f6e 7461  s a string conta
+00032070: 696e 696e 6720 696e 666f 726d 6174 696f  ining informatio
+00032080: 6e20 6162 6f75 7420 7468 6520 436f 636f  n about the Coco
+00032090: 6e75 7420 7665 7273 696f 6e2e 2054 6865  nut version. The
+000320a0: 206f 7074 696f 6e61 6c20 6172 6775 6d65   optional argume
+000320b0: 6e74 205f 7768 6963 685f 2069 7320 7468  nt _which_ is th
+000320c0: 6520 7479 7065 206f 6620 7665 7273 696f  e type of versio
+000320d0: 6e20 696e 666f 726d 6174 696f 6e20 6465  n information de
+000320e0: 7369 7265 642e 2050 6f73 7369 626c 6520  sired. Possible 
+000320f0: 7661 6c75 6573 206f 6620 5f77 6869 6368  values of _which
+00032100: 5f20 6172 653a 0d0a 0d0a 2d20 6022 6e75  _ are:....- `"nu
+00032110: 6d22 603a 2074 6865 206e 756d 6572 6963  m"`: the numeric
+00032120: 616c 2076 6572 7369 6f6e 2028 7468 6520  al version (the 
+00032130: 6465 6661 756c 7429 0d0a 2d20 6022 6e61  default)..- `"na
+00032140: 6d65 2260 3a20 7468 6520 7665 7273 696f  me"`: the versio
+00032150: 6e20 636f 6465 6e61 6d65 0d0a 2d20 6022  n codename..- `"
+00032160: 7370 6563 2260 3a20 7468 6520 6e75 6d65  spec"`: the nume
+00032170: 7269 6361 6c20 7665 7273 696f 6e20 7769  rical version wi
+00032180: 7468 2074 6865 2063 6f64 656e 616d 6520  th the codename 
+00032190: 6174 7461 6368 6564 0d0a 2d20 6022 7461  attached..- `"ta
+000321a0: 6722 603a 2074 6865 2076 6572 7369 6f6e  g"`: the version
+000321b0: 2074 6167 2075 7365 6420 696e 2047 6974   tag used in Git
+000321c0: 4875 6220 616e 6420 646f 6375 6d65 6e74  Hub and document
+000321d0: 6174 696f 6e20 5552 4c73 0d0a 2d20 6022  ation URLs..- `"
+000321e0: 2d76 2260 3a20 7468 6520 6675 6c6c 2073  -v"`: the full s
+000321f0: 7472 696e 6720 7072 696e 7465 6420 6279  tring printed by
+00032200: 2060 636f 636f 6e75 7420 2d76 600d 0a0d   `coconut -v`...
+00032210: 0a23 2323 2320 6061 7574 6f5f 636f 6d70  .#### `auto_comp
+00032220: 696c 6174 696f 6e60 0d0a 0d0a 2a2a 636f  ilation`....**co
+00032230: 636f 6e75 742e 6170 692e 6175 746f 5f63  conut.api.auto_c
+00032240: 6f6d 7069 6c61 7469 6f6e 2a2a 285f 6f6e  ompilation**(_on
+00032250: 5f3d 6054 7275 6560 2c20 5f61 7267 735f  _=`True`, _args_
+00032260: 3d60 4e6f 6e65 602c 205f 7573 655c 5f63  =`None`, _use\_c
+00032270: 6163 6865 5c5f 6469 725f 3d60 4e6f 6e65  ache\_dir_=`None
+00032280: 6029 0d0a 0d0a 5475 726e 7320 5b61 7574  `)....Turns [aut
+00032290: 6f6d 6174 6963 2063 6f6d 7069 6c61 7469  omatic compilati
+000322a0: 6f6e 5d28 2361 7574 6f6d 6174 6963 2d63  on](#automatic-c
+000322b0: 6f6d 7069 6c61 7469 6f6e 2920 6f6e 206f  ompilation) on o
+000322c0: 7220 6f66 662e 2054 6869 7320 6675 6e63  r off. This func
+000322d0: 7469 6f6e 2069 7320 6361 6c6c 6564 2061  tion is called a
+000322e0: 7574 6f6d 6174 6963 616c 6c79 2077 6865  utomatically whe
+000322f0: 6e20 6063 6f63 6f6e 7574 2e61 7069 6020  n `coconut.api` 
+00032300: 6973 2069 6d70 6f72 7465 642e 0d0a 0d0a  is imported.....
+00032310: 4966 205f 6172 6773 5f20 6973 2070 6173  If _args_ is pas
+00032320: 7365 642c 2069 7420 7769 6c6c 2073 6574  sed, it will set
+00032330: 2074 6865 2043 6f63 6f6e 7574 2063 6f6d   the Coconut com
+00032340: 6d61 6e64 2d6c 696e 6520 6172 6775 6d65  mand-line argume
+00032350: 6e74 7320 746f 2075 7365 2066 6f72 2061  nts to use for a
+00032360: 7574 6f6d 6174 6963 2063 6f6d 7069 6c61  utomatic compila
+00032370: 7469 6f6e 2e20 4172 6775 6d65 6e74 7320  tion. Arguments 
+00032380: 7769 6c6c 2062 6520 7072 6f63 6573 7365  will be processe
+00032390: 6420 7468 6520 7361 6d65 2077 6179 2061  d the same way a
+000323a0: 7320 7769 7468 205b 6063 6f63 6f6e 7574  s with [`coconut
+000323b0: 2d72 756e 605d 2823 636f 636f 6e75 742d  -run`](#coconut-
+000323c0: 7363 7269 7074 7329 2073 7563 6820 7468  scripts) such th
+000323d0: 6174 2060 2d2d 7175 6965 7420 2d2d 7461  at `--quiet --ta
+000323e0: 7267 6574 2073 7973 202d 2d6b 6565 702d  rget sys --keep-
+000323f0: 6c69 6e65 7360 2077 696c 6c20 616c 6c20  lines` will all 
+00032400: 6265 2073 6574 2062 7920 6465 6661 756c  be set by defaul
+00032410: 742e 0d0a 0d0a 4966 205f 7573 655c 5f63  t.....If _use\_c
+00032420: 6163 6865 5c5f 6469 725f 2069 7320 7061  ache\_dir_ is pa
+00032430: 7373 6564 2c20 6974 2077 696c 6c20 7475  ssed, it will tu
+00032440: 726e 206f 6e20 6f72 206f 6666 2074 6865  rn on or off the
+00032450: 2075 7361 6765 206f 6620 6120 605f 5f63   usage of a `__c
+00032460: 6f63 6f6e 7574 5f63 6163 6865 5f5f 6020  oconut_cache__` 
+00032470: 6469 7265 6374 6f72 7920 746f 2070 7574  directory to put
+00032480: 2063 6f6d 7069 6c65 2066 696c 6573 2069   compile files i
+00032490: 6e20 7261 7468 6572 2074 6861 6e20 636f  n rather than co
+000324a0: 6d70 696c 696e 6720 7468 656d 2069 6e2d  mpiling them in-
+000324b0: 706c 6163 652e 204e 6f74 6520 7468 6174  place. Note that
+000324c0: 2060 5f5f 636f 636f 6e75 745f 6361 6368   `__coconut_cach
+000324d0: 655f 5f60 2077 696c 6c20 616c 7761 7973  e__` will always
+000324e0: 2062 6520 7265 6d6f 7665 6420 6672 6f6d   be removed from
+000324f0: 2060 5f5f 6669 6c65 5f5f 602e 0d0a 0d0a   `__file__`.....
+00032500: 2323 2323 2060 7573 655f 636f 636f 6e75  #### `use_coconu
+00032510: 745f 6272 6561 6b70 6f69 6e74 600d 0a0d  t_breakpoint`...
+00032520: 0a2a 2a63 6f63 6f6e 7574 2e61 7069 2e75  .**coconut.api.u
+00032530: 7365 5f63 6f63 6f6e 7574 5f62 7265 616b  se_coconut_break
+00032540: 706f 696e 742a 2a28 5f6f 6e5f 3d60 5472  point**(_on_=`Tr
+00032550: 7565 6029 0d0a 0d0a 5377 6974 6368 6573  ue`)....Switches
+00032560: 2074 6865 205b 6062 7265 616b 706f 696e   the [`breakpoin
+00032570: 7460 2062 7569 6c74 2d69 6e5d 2868 7474  t` built-in](htt
+00032580: 7073 3a2f 2f77 7777 2e70 7974 686f 6e2e  ps://www.python.
+00032590: 6f72 672f 6465 762f 7065 7073 2f70 6570  org/dev/peps/pep
+000325a0: 2d30 3535 332f 2920 7768 6963 6820 436f  -0553/) which Co
+000325b0: 636f 6e75 7420 6d61 6b65 7320 756e 6976  conut makes univ
+000325c0: 6572 7361 6c6c 7920 6176 6169 6c61 626c  ersally availabl
+000325d0: 6520 746f 2075 7365 205b 6063 6f63 6f6e  e to use [`cocon
+000325e0: 7574 2e65 6d62 6564 605d 2823 636f 636f  ut.embed`](#coco
+000325f0: 6e75 742d 656d 6265 6429 2069 6e73 7465  nut-embed) inste
+00032600: 6164 206f 6620 5b60 7064 622e 7365 745f  ad of [`pdb.set_
+00032610: 7472 6163 6560 5d28 6874 7470 733a 2f2f  trace`](https://
+00032620: 646f 6373 2e70 7974 686f 6e2e 6f72 672f  docs.python.org/
+00032630: 332f 6c69 6272 6172 792f 7064 622e 6874  3/library/pdb.ht
+00032640: 6d6c 2370 6462 2e73 6574 5f74 7261 6365  ml#pdb.set_trace
+00032650: 2920 286f 7220 756e 646f 6573 2074 6861  ) (or undoes tha
+00032660: 7420 7377 6974 6368 2069 6620 606f 6e3d  t switch if `on=
+00032670: 4661 6c73 6560 292e 2054 6869 7320 6675  False`). This fu
+00032680: 6e63 7469 6f6e 2069 7320 6361 6c6c 6564  nction is called
+00032690: 2061 7574 6f6d 6174 6963 616c 6c79 2077   automatically w
+000326a0: 6865 6e20 6063 6f63 6f6e 7574 2e61 7069  hen `coconut.api
+000326b0: 6020 6973 2069 6d70 6f72 7465 642e 0d0a  ` is imported...
+000326c0: 0d0a 2323 2323 2060 436f 636f 6e75 7445  ..#### `CoconutE
+000326d0: 7863 6570 7469 6f6e 600d 0a0d 0a49 6620  xception`....If 
+000326e0: 616e 2065 7272 6f72 2069 7320 656e 636f  an error is enco
+000326f0: 756e 7465 7265 6420 696e 2061 2061 7069  untered in a api
+00032700: 2066 756e 6374 696f 6e2c 2061 2060 436f   function, a `Co
+00032710: 636f 6e75 7445 7863 6570 7469 6f6e 6020  conutException` 
+00032720: 696e 7374 616e 6365 206d 6179 2062 6520  instance may be 
+00032730: 7261 6973 6564 2e20 6063 6f63 6f6e 7574  raised. `coconut
+00032740: 2e61 7069 2e43 6f63 6f6e 7574 4578 6365  .api.CoconutExce
+00032750: 7074 696f 6e60 2069 7320 7072 6f76 6964  ption` is provid
+00032760: 6564 2074 6f20 616c 6c6f 7720 6361 7463  ed to allow catc
+00032770: 6869 6e67 2073 7563 6820 6572 726f 7273  hing such errors
+00032780: 2e0d 0a0d 0a23 2323 2060 636f 636f 6e75  .....### `coconu
+00032790: 742e 5f5f 636f 636f 6e75 745f 5f60 0d0a  t.__coconut__`..
+000327a0: 0d0a 4974 2069 7320 736f 6d65 7469 6d65  ..It is sometime
+000327b0: 7320 7573 6566 756c 2074 6f20 6265 2061  s useful to be a
+000327c0: 626c 6520 746f 2061 6363 6573 7320 436f  ble to access Co
+000327d0: 636f 6e75 7420 6275 696c 742d 696e 7320  conut built-ins 
+000327e0: 6672 6f6d 2070 7572 6520 5079 7468 6f6e  from pure Python
+000327f0: 2e20 546f 2061 6363 6f6d 706c 6973 6820  . To accomplish 
+00032800: 7468 6973 2c20 436f 636f 6e75 7420 7072  this, Coconut pr
+00032810: 6f76 6964 6573 2060 636f 636f 6e75 742e  ovides `coconut.
+00032820: 5f5f 636f 636f 6e75 745f 5f60 2c20 7768  __coconut__`, wh
+00032830: 6963 6820 6265 6861 7665 7320 6578 6163  ich behaves exac
+00032840: 746c 7920 6c69 6b65 2074 6865 2060 5f5f  tly like the `__
+00032850: 636f 636f 6e75 745f 5f2e 7079 6020 6865  coconut__.py` he
+00032860: 6164 6572 2066 696c 6520 696e 636c 7564  ader file includ
+00032870: 6564 2077 6865 6e20 436f 636f 6e75 7420  ed when Coconut 
+00032880: 6973 2063 6f6d 7069 6c65 6420 696e 2070  is compiled in p
+00032890: 6163 6b61 6765 206d 6f64 652e 0d0a 0d0a  ackage mode.....
+000328a0: 416c 6c20 436f 636f 6e75 7420 6275 696c  All Coconut buil
+000328b0: 742d 696e 7320 6172 6520 6163 6365 7373  t-ins are access
+000328c0: 6962 6c65 2066 726f 6d20 6063 6f63 6f6e  ible from `cocon
+000328d0: 7574 2e5f 5f63 6f63 6f6e 7574 5f5f 602e  ut.__coconut__`.
+000328e0: 2054 6865 2072 6563 6f6d 6d65 6e64 6564   The recommended
+000328f0: 2077 6179 2074 6f20 696d 706f 7274 2074   way to import t
+00032900: 6865 6d20 6973 2074 6f20 7573 6520 6066  hem is to use `f
+00032910: 726f 6d20 636f 636f 6e75 742e 5f5f 636f  rom coconut.__co
+00032920: 636f 6e75 745f 5f20 696d 706f 7274 6020  conut__ import` 
+00032930: 616e 6420 696d 706f 7274 2077 6861 7465  and import whate
+00032940: 7665 7220 6275 696c 742d 696e 7320 796f  ver built-ins yo
+00032950: 7527 6c6c 2062 6520 7573 696e 672e 0d0a  u'll be using...
+00032960: 0d0a 2323 2323 2320 4578 616d 706c 650d  ..##### Example.
+00032970: 0a0d 0a60 6060 636f 636f 6e75 745f 7079  ...```coconut_py
+00032980: 7468 6f6e 0d0a 6672 6f6d 2063 6f63 6f6e  thon..from cocon
+00032990: 7574 2e5f 5f63 6f63 6f6e 7574 5f5f 2069  ut.__coconut__ i
+000329a0: 6d70 6f72 7420 7061 7261 6c6c 656c 5f6d  mport parallel_m
+000329b0: 6170 0d0a 6060 600d 0a                   ap..```..
```

### Comparing `coconut-3.0.2/FAQ.md` & `coconut-3.0.3/FAQ.md`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/HELP.md` & `coconut-3.0.3/HELP.md`

 * *Files 0% similar despite different names*

```diff
@@ -345,19 +345,19 @@
 f(f(f(a, b), c), d)
 
 return acc
 ```
 
 Now let's take a look at what we do to `reduce` to make it multiply all the numbers we feed into it together. The Coconut code that we saw for that was `reduce$(*)`. There are two different Coconut constructs being used here: the operator function for multiplication in the form of `(*)`, and partial application in the form of `$`.
 
-First, the operator function. In Coconut, a function form of any operator can be retrieved by surrounding that operator in parentheses. In this case, `(*)` is roughly equivalent to `lambda x, y: x*y`, but much cleaner and neater. In Coconut's lambda syntax, `(*)` is also equivalent to `(x, y) -> x*y`, which we will use from now on for all lambdas, even though both are legal Coconut, because Python's `lambda` statement is too ugly and bulky to use regularly.
+First, the operator function. In Coconut, a function form of any operator can be retrieved by surrounding that operator in parentheses. In this case, `(*)` is roughly equivalent to `lambda x, y: x*y`, but much cleaner and neater. In Coconut's lambda syntax, `(*)` is also equivalent to `(x, y) => x*y`, which we will use from now on for all lambdas, even though both are legal Coconut, because Python's `lambda` statement is too ugly and bulky to use regularly.
 
 _Note: If Coconut's `--strict` mode is enabled, which will force your code to obey certain cleanliness standards, it will raise an error whenever Python `lambda` statements are used._
 
-Second, the partial application. Think of partial application as _lazy function calling_, and `$` as the _lazy-ify_ operator, where lazy just means "don't evaluate this until you need to." In Coconut, if a function call is prefixed by a `$`, like in this example, instead of actually performing the function call, a new function is returned with the given arguments already provided to it, so that when it is then called, it will be called with both the partially-applied arguments and the new arguments, in that order. In this case, `reduce$(*)` is roughly equivalent to `(*args, **kwargs) -> reduce((*), *args, **kwargs)`.
+Second, the partial application. Think of partial application as _lazy function calling_, and `$` as the _lazy-ify_ operator, where lazy just means "don't evaluate this until you need to." In Coconut, if a function call is prefixed by a `$`, like in this example, instead of actually performing the function call, a new function is returned with the given arguments already provided to it, so that when it is then called, it will be called with both the partially-applied arguments and the new arguments, in that order. In this case, `reduce$(*)` is roughly equivalent to `(*args, **kwargs) => reduce((*), *args, **kwargs)`.
 
 _You can partially apply arguments in any order using `?` in place of missing arguments, as in `to_binary = int$(?, 2)`._
 
 Putting it all together, we can see how the single line of code
 ```coconut
 range(1, n+1) |> reduce$(*)
 ```
@@ -527,15 +527,15 @@
     def __abs__(self) =
         """Return the magnitude of the 2-vector."""
         (self.x**2 + self.y**2)**0.5
 
 # Test cases:
 vector2(1, 2) |> print  # vector2(x=1, y=2)
 vector2(3, 4) |> abs |> print  # 5
-vector2(1, 2) |> fmap$(x -> x*2) |> print  # vector2(x=2, y=4)
+vector2(1, 2) |> fmap$(x => x*2) |> print  # vector2(x=2, y=4)
 v = vector2(2, 3)
 v.x = 7  # AttributeError
 ```
 
 Copy, paste! This example shows the basic syntax of `data` statements:
 ```coconut
 data <name>(<attributes>):
@@ -575,15 +575,15 @@
 
 Now that we have a constructor for our n-vector, it's time to write its methods. First up is `__abs__`, which should compute the vector's magnitude. This will be slightly more complicated than with the 2-vector, since we have to make it work over an arbitrary number of `pts`. Fortunately, we can use Coconut's pipeline-style programming and partial application to make it simple:
 ```coconut
     def __abs__(self) =
         """Return the magnitude of the vector."""
         self.pts |> map$(.**2) |> sum |> (.**0.5)
 ```
-The basic algorithm here is map square over each element, sum them all, then square root the result. The one new construct here is the `(.**2)` and `(.**0.5)` syntax, which are effectively equivalent to `(x -> x**2)` and `(x -> x**0.5)`, respectively (though the `(.**2)` syntax produces a pickleable object). This syntax works for all [operator functions](./DOCS.md#operator-functions), so you can do things like `(1-.)` or `(cond() or .)`.
+The basic algorithm here is map square over each element, sum them all, then square root the result. The one new construct here is the `(.**2)` and `(.**0.5)` syntax, which are effectively equivalent to `(x => x**2)` and `(x => x**0.5)`, respectively (though the `(.**2)` syntax produces a pickleable object). This syntax works for all [operator functions](./DOCS.md#operator-functions), so you can do things like `(1-.)` or `(cond() or .)`.
 
 Next up is vector addition. The goal here is to add two vectors of equal length by adding their components. To do this, we're going to make use of Coconut's ability to perform pattern-matching, or in this case destructuring assignment, to data types, like so:
 ```coconut
     def __add__(self, vector(*other_pts)
                 if len(other_pts) == len(self.pts)) =
         """Add two vectors together."""
         map((+), self.pts, other_pts) |*> vector
@@ -729,15 +729,15 @@
 <br>
 <br>
 <br>
 <br>
 
 That wasn't so bad, now was it? Now, let's take a look at my solution:
 ```coconut
-def diagonal_line(n) = range(n+1) |> map$(i -> (i, n-i))
+def diagonal_line(n) = range(n+1) |> map$(i => (i, n-i))
 ```
 Pretty simple, huh? We take `range(n+1)`, and use `map` to transform it into the right sequence of tuples.
 
 ### `linearized_plane`
 
 Now that we've created our diagonal lines, we need to join them together to make the full linearized plane, and to do that we're going to write the function `linearized_plane()`. `linearized_plane` should produce an iterator that goes through all the points in the plane, in order of all the points in the first `diagonal(0)`, then the second `diagonal(1)`, and so on. `linearized_plane` is going to be, by necessity, an infinite iterator, since it needs to loop through all the points in the plane, which have no end. To help you accomplish this, remember that the `::` operator is lazy, and won't evaluate its operands until they're needed, which means it can be used to construct infinite iterators. When you're ready to move on, scroll down.
 
@@ -852,15 +852,15 @@
             return map((*), self.pts, other_pts) |> sum  # dot product
         else:
             return self.pts |> map$(.*other) |*> vector  # scalar multiplication
     def __rmul__(self, other) =
         """Necessary to make scalar multiplication commutative."""
         self * other
 
-def diagonal_line(n) = range(n+1) |> map$(i -> (i, n-i))
+def diagonal_line(n) = range(n+1) |> map$(i => (i, n-i))
 def linearized_plane(n=0) = diagonal_line(n) :: linearized_plane(n+1)
 def vector_field() = linearized_plane() |> starmap$(vector)
 
 # Test cases:
 diagonal_line(0) `isinstance` (list, tuple) |> print  # False (should be an iterator)
 diagonal_line(0) |> list |> print  # [(0, 0)]
 diagonal_line(1) |> list |> print  # [(0, 1), (1, 0)]
@@ -915,15 +915,15 @@
 <br>
 <br>
 <br>
 <br>
 
 Here's my solution for you to check against:
 ```coconut
-    def __truediv__(self, other) = self.pts |> map$(x -> x/other) |*> vector
+    def __truediv__(self, other) = self.pts |> map$(x => x/other) |*> vector
 ```
 
 ### `.unit`
 
 Next up, `.unit`. We're going to write a `unit` method that takes just `self` as its argument and returns a new vector the same size as `self` with each element divided by the magnitude of `self`, which we can retrieve with `abs`. This should be a very simple one-line function.
 
 Tests:
@@ -1032,15 +1032,15 @@
             return map((*), self.pts, other_pts) |> sum  # dot product
         else:
             return self.pts |> map$(.*other) |*> vector  # scalar multiplication
     def __rmul__(self, other) =
         """Necessary to make scalar multiplication commutative."""
         self * other
     # New one-line functions necessary for finding the angle between vectors:
-    def __truediv__(self, other) = self.pts |> map$(x -> x/other) |*> vector
+    def __truediv__(self, other) = self.pts |> map$(x => x/other) |*> vector
     def unit(self) = self / abs(self)
     def angle(self, other `isinstance` vector) = math.acos(self.unit() * other.unit())
 
 # Test cases:
 vector(3, 4) / 1 |> print  # vector(*pts=(3.0, 4.0))
 vector(2, 4) / 2 |> print  # vector(*pts=(1.0, 2.0))
 vector(0, 1).unit() |> print  # vector(*pts=(0.0, 1.0))
@@ -1078,15 +1078,15 @@
 abcd$[1]
 c = 3
 abcd$[2]
 ```
 
 ### Function Composition
 
-Next is function composition. In Coconut, this is primarily accomplished through the `f1 ..> f2` operator, which takes two functions and composes them, creating a new function equivalent to `(*args, **kwargs) -> f2(f1(*args, **kwargs))`. This can be useful in combination with partial application for piecing together multiple higher-order functions, like so:
+Next is function composition. In Coconut, this is primarily accomplished through the `f1 ..> f2` operator, which takes two functions and composes them, creating a new function equivalent to `(*args, **kwargs) => f2(f1(*args, **kwargs))`. This can be useful in combination with partial application for piecing together multiple higher-order functions, like so:
 ```coconut
 zipsum = zip ..> map$(sum)
 ```
 
 _While `..>` is generally preferred, if you'd rather use the more traditional mathematical function composition ordering, you can get that with the `<..` operator._
 
 If the composed functions are wrapped in parentheses, arguments can be passed into them:
@@ -1107,17 +1107,17 @@
 ```
 
 Another useful trick with function composition involves composing a function with a higher-order function:
 ```coconut
 def inc_or_dec(t):
     # Our higher-order function, which returns another function
     if t:
-        return x -> x+1
+        return x => x+1
     else:
-        return x -> x-1
+        return x => x-1
 
 def square(n) = n * n
 
 square_inc = inc_or_dec(True) ..> square
 square_dec = inc_or_dec(False) ..> square
 square_inc(4)  # 25
 square_dec(4)  # 9
```

### Comparing `coconut-3.0.2/LICENSE.txt` & `coconut-3.0.3/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/PKG-INFO` & `coconut-3.0.3/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,16 +1,16 @@
 Metadata-Version: 2.1
 Name: coconut
-Version: 3.0.2
+Version: 3.0.3
 Summary: Simple, elegant, Pythonic functional programming.
 Home-page: http://coconut-lang.org
 Author: Evan Hubinger
 Author-email: evanjhub@gmail.com
 License: Apache 2.0
-Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,py_chr,py_dict,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,data,match,case,cases,where,addpattern,then,operator,type,copyclosure,
+Keywords: functional,programming,language,compiler,pattern,pattern-matching,algebraic,data type,data types,lambda,lambdas,lazy,evaluation,lazy list,lazy lists,tail,recursion,call,recursive,infix,function,composition,compose,partial,application,currying,curry,pipeline,pipe,unicode,operator,operators,frozenset,literal,syntax,destructuring,assignment,fold,datamaker,prepattern,iterator,none,coalesce,coalescing,statement,lru_cache,memoization,backport,typing,embed,PEP 622,overrides,islice,itertools,functools,TYPE_CHECKING,Expected,breakpoint,help,reduce,takewhile,dropwhile,tee,count,makedata,consume,parallel_map,addpattern,recursive_iterator,concurrent_map,fmap,starmap,reiterable,scan,groupsof,memoize,zip_longest,override,flatten,ident,call,safe_call,flip,const,lift,all_equal,collectby,multi_enumerate,cartesian_product,multiset,cycle,windowsof,and_then,and_then_await,py_chr,py_dict,py_hex,py_input,py_int,py_map,py_object,py_oct,py_open,py_print,py_range,py_str,py_super,py_zip,py_filter,py_reversed,py_enumerate,py_raw_input,py_xrange,py_repr,py_breakpoint,_namedtuple_of,reveal_type,reveal_locals,MatchError,__fmap__,__iter_getitem__,data,match,case,cases,where,addpattern,then,operator,type,copyclosure,
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Intended Audience :: Developers
 Classifier: Topic :: Software Development
 Classifier: Topic :: Software Development :: Code Generators
 Classifier: Topic :: Software Development :: Compilers
 Classifier: Topic :: Software Development :: Interpreters
```

### Comparing `coconut-3.0.2/README.rst` & `coconut-3.0.3/README.rst`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/__coconut__/__init__.py` & `coconut-3.0.3/__coconut__/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/_coconut/__init__.py` & `coconut-3.0.3/_coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/_coconut/__init__.pyi` & `coconut-3.0.3/_coconut/__init__.pyi`

 * *Files 2% similar despite different names*

```diff
@@ -86,14 +86,15 @@
 traceback = _traceback
 weakref = _weakref
 multiprocessing = _multiprocessing
 multiprocessing_dummy = _multiprocessing_dummy
 
 copyreg = _copyreg
 asyncio = _asyncio
+asyncio_Return = StopIteration
 async_generator = _async_generator
 pickle = _pickle
 if sys.version_info >= (2, 7):
     OrderedDict = collections.OrderedDict
 else:
     OrderedDict = dict
```

### Comparing `coconut-3.0.2/coconut/__coconut__.py` & `coconut-3.0.3/coconut/__coconut__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/__coconut__.pyi` & `coconut-3.0.3/coconut/__coconut__.pyi`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/__init__.py` & `coconut-3.0.3/coconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/__init__.pyi` & `coconut-3.0.3/coconut/__init__.pyi`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/__main__.py` & `coconut-3.0.3/coconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/_pyparsing.py` & `coconut-3.0.3/coconut/_pyparsing.py`

 * *Files 22% similar despite different names*

```diff
@@ -37,14 +37,18 @@
     varchars,
     min_versions,
     pure_python_env_var,
     enable_pyparsing_warnings,
     use_left_recursion_if_available,
     get_bool_env_var,
     use_computation_graph_env_var,
+    use_incremental_if_available,
+    incremental_cache_size,
+    never_clear_incremental_cache,
+    warn_on_multiline_regex,
 )
 from coconut.util import get_clock_time  # NOQA
 from coconut.util import (
     ver_str_to_tuple,
     ver_tuple_to_str,
     get_next_version,
 )
@@ -76,15 +80,15 @@
         traceback.print_exc()
         __version__ = None
         PYPARSING_PACKAGE = "cPyparsing"
         PYPARSING_INFO = None
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# VERSION CHECKING:
+# VERSIONING:
 # -----------------------------------------------------------------------------------------------------------------------
 
 min_ver = min(min_versions["pyparsing"], min_versions["cPyparsing"][:3])  # inclusive
 max_ver = get_next_version(max(min_versions["pyparsing"], min_versions["cPyparsing"][:3]))  # exclusive
 cur_ver = None if __version__ is None else ver_str_to_tuple(__version__)
 
 min_ver_str = ver_tuple_to_str(min_ver)
@@ -99,96 +103,131 @@
 elif cur_ver >= max_ver:
     warn(
         "This version of Coconut was built for pyparsing/cPyparsing versions < " + max_ver_str
         + ("; got " + PYPARSING_INFO if PYPARSING_INFO is not None else "")
         + " (run '{python} -m pip install {package}<{max_ver}' to fix)".format(python=sys.executable, package=PYPARSING_PACKAGE, max_ver=max_ver_str),
     )
 
+MODERN_PYPARSING = cur_ver >= (3,)
+
+if MODERN_PYPARSING:
+    warn(
+        "This version of Coconut is not built for pyparsing v3; some syntax features WILL NOT WORK"
+        + " (run either '{python} -m pip install cPyparsing<{max_ver}' or '{python} -m pip install pyparsing<{max_ver}' to fix)".format(python=sys.executable, max_ver=max_ver_str),
+    )
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# OVERRIDES:
+# -----------------------------------------------------------------------------------------------------------------------
+
+if PYPARSING_PACKAGE != "cPyparsing":
+    if not MODERN_PYPARSING:
+        HIT, MISS = 0, 1
+
+        def _parseCache(self, instring, loc, doActions=True, callPreParse=True):
+            # [CPYPARSING] include packrat_context
+            lookup = (self, instring, loc, callPreParse, doActions, tuple(self.packrat_context))
+            with ParserElement.packrat_cache_lock:
+                cache = ParserElement.packrat_cache
+                value = cache.get(lookup)
+                if value is cache.not_in_cache:
+                    ParserElement.packrat_cache_stats[MISS] += 1
+                    try:
+                        value = self._parseNoCache(instring, loc, doActions, callPreParse)
+                    except ParseBaseException as pe:
+                        # cache a copy of the exception, without the traceback
+                        cache.set(lookup, pe.__class__(*pe.args))
+                        raise
+                    else:
+                        cache.set(lookup, (value[0], value[1].copy()))
+                        return value
+                else:
+                    ParserElement.packrat_cache_stats[HIT] += 1
+                    if isinstance(value, Exception):
+                        raise value
+                    return value[0], value[1].copy()
+        ParserElement.packrat_context = []
+        ParserElement._parseCache = _parseCache
+
+elif not hasattr(ParserElement, "packrat_context"):
+    raise ImportError(
+        "This version of Coconut requires cPyparsing>=" + ver_tuple_to_str(min_versions["cPyparsing"])
+        + "; got cPyparsing==" + __version__
+        + " (run '{python} -m pip install --upgrade cPyparsing' to fix)".format(python=sys.executable),
+    )
+
+if hasattr(ParserElement, "enableIncremental"):
+    SUPPORTS_INCREMENTAL = sys.version_info >= (3, 8)  # avoids stack overflows on py<=37
+else:
+    SUPPORTS_INCREMENTAL = False
+    ParserElement._incrementalEnabled = False
+    ParserElement._incrementalWithResets = False
+
+    def enableIncremental(*args, **kwargs):
+        """Dummy version of enableIncremental that just raises an error."""
+        raise ImportError(
+            "incremental parsing only supported on cPyparsing>="
+            + ver_tuple_to_str(min_versions["cPyparsing"])
+            + " (run '{python} -m pip install --upgrade cPyparsing' to fix)".format(python=sys.executable)
+        )
+
 
 # -----------------------------------------------------------------------------------------------------------------------
 # SETUP:
 # -----------------------------------------------------------------------------------------------------------------------
 
-if cur_ver >= (3,):
-    MODERN_PYPARSING = True
+if MODERN_PYPARSING:
     _trim_arity = _pyparsing.core._trim_arity
     _ParseResultsWithOffset = _pyparsing.core._ParseResultsWithOffset
 else:
-    MODERN_PYPARSING = False
     _trim_arity = _pyparsing._trim_arity
     _ParseResultsWithOffset = _pyparsing._ParseResultsWithOffset
 
-if MODERN_PYPARSING:
-    warn(
-        "This version of Coconut is not built for pyparsing v3; some syntax features WILL NOT WORK"
-        + " (run either '{python} -m pip install cPyparsing<{max_ver}' or '{python} -m pip install pyparsing<{max_ver}' to fix)".format(python=sys.executable, max_ver=max_ver_str),
-    )
-
 USE_COMPUTATION_GRAPH = get_bool_env_var(
     use_computation_graph_env_var,
     default=(
         not MODERN_PYPARSING  # not yet supported
         and not PYPY  # experimentally determined
     ),
 )
 
 if enable_pyparsing_warnings:
     if MODERN_PYPARSING:
         _pyparsing.enable_all_warnings()
     else:
         _pyparsing._enable_all_warnings()
     _pyparsing.__diag__.warn_name_set_on_empty_Forward = False
+    _pyparsing.__diag__.warn_on_incremental_multiline_regex = warn_on_multiline_regex
 
 if MODERN_PYPARSING and use_left_recursion_if_available:
     ParserElement.enable_left_recursion()
+elif SUPPORTS_INCREMENTAL and use_incremental_if_available:
+    ParserElement.enableIncremental(incremental_cache_size, still_reset_cache=not never_clear_incremental_cache)
 elif use_packrat_parser:
     ParserElement.enablePackrat(packrat_cache_size)
 
 ParserElement.setDefaultWhitespaceChars(default_whitespace_chars)
 
 Keyword.setDefaultKeywordChars(varchars)
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# PACKRAT CONTEXT:
+# MISSING OBJECTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
-if PYPARSING_PACKAGE == "cPyparsing":
-    if not hasattr(ParserElement, "packrat_context"):
-        raise ImportError(
-            "This version of Coconut requires cPyparsing>=" + ver_tuple_to_str(min_versions["cPyparsing"])
-            + "; got cPyparsing==" + __version__
-            + " (run '{python} -m pip install --upgrade cPyparsing' to fix)".format(python=sys.executable),
-        )
-elif not MODERN_PYPARSING:
-    def _parseCache(self, instring, loc, doActions=True, callPreParse=True):
-        HIT, MISS = 0, 1
-        # [CPYPARSING] include packrat_context
-        lookup = (self, instring, loc, callPreParse, doActions, tuple(self.packrat_context))
-        with ParserElement.packrat_cache_lock:
-            cache = ParserElement.packrat_cache
-            value = cache.get(lookup)
-            if value is cache.not_in_cache:
-                ParserElement.packrat_cache_stats[MISS] += 1
-                try:
-                    value = self._parseNoCache(instring, loc, doActions, callPreParse)
-                except ParseBaseException as pe:
-                    # cache a copy of the exception, without the traceback
-                    cache.set(lookup, pe.__class__(*pe.args))
-                    raise
-                else:
-                    cache.set(lookup, (value[0], value[1].copy()))
-                    return value
-            else:
-                ParserElement.packrat_cache_stats[HIT] += 1
-                if isinstance(value, Exception):
-                    raise value
-                return value[0], value[1].copy()
-    ParserElement.packrat_context = []
-    ParserElement._parseCache = _parseCache
+if not hasattr(_pyparsing, "python_quoted_string"):
+    import re as _re
+    python_quoted_string = _pyparsing.Combine(
+        (_pyparsing.Regex(r'"""(?:[^"\\]|""(?!")|"(?!"")|\\.)*', flags=_re.MULTILINE) + '"""').setName("multiline double quoted string")
+        ^ (_pyparsing.Regex(r"'''(?:[^'\\]|''(?!')|'(?!'')|\\.)*", flags=_re.MULTILINE) + "'''").setName("multiline single quoted string")
+        ^ (_pyparsing.Regex(r'"(?:[^"\n\r\\]|(?:\\")|(?:\\(?:[^x]|x[0-9a-fA-F]+)))*') + '"').setName("double quoted string")
+        ^ (_pyparsing.Regex(r"'(?:[^'\n\r\\]|(?:\\')|(?:\\(?:[^x]|x[0-9a-fA-F]+)))*") + "'").setName("single quoted string")
+    ).setName("Python quoted string")
+    _pyparsing.python_quoted_string = python_quoted_string
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # FAST REPRS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if PY2:
@@ -331,14 +370,15 @@
                         "__repr__",
                         "__hash__",
                         "__eq__",
                         "_trim_traceback",
                         "_ErrorStop",
                         "_UnboundedCache",
                         "enablePackrat",
+                        "enableIncremental",
                         "inlineLiteralsUsing",
                         "setDefaultWhitespaceChars",
                         "setDefaultKeywordChars",
                         "resetCache",
                     )
                 ):
                     added_timing |= add_timing_to_method(obj, attr_name, attr)
```

### Comparing `coconut-3.0.2/coconut/api.py` & `coconut-3.0.3/coconut/icoconut/root.py`

 * *Files 23% similar despite different names*

```diff
@@ -4,272 +4,295 @@
 # -----------------------------------------------------------------------------------------------------------------------
 # INFO:
 # -----------------------------------------------------------------------------------------------------------------------
 
 """
 Author: Evan Hubinger
 License: Apache 2.0
-Description: Coconut's main external API.
+Description: The Coconut IPython kernel.
 """
 
 # -----------------------------------------------------------------------------------------------------------------------
 # IMPORTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
+import os
 import sys
-import os.path
-import codecs
+import logging
+
 try:
-    from encodings import utf_8
+    import asyncio
 except ImportError:
-    utf_8 = None
+    asyncio = None
 
-from coconut.integrations import embed
-from coconut.exceptions import CoconutException
-from coconut.command import Command
-from coconut.command.cli import cli_version
-from coconut.compiler import Compiler
+from coconut.exceptions import (
+    CoconutException,
+    CoconutInternalException,
+)
 from coconut.constants import (
-    version_tag,
+    WINDOWS,
+    PY38,
+    PY311,
+    py_syntax_version,
+    mimetype,
+    version_banner,
+    tutorial_url,
+    documentation_url,
     code_exts,
-    coconut_import_hook_args,
+    conda_build_env_var,
     coconut_kernel_kwargs,
 )
+from coconut.terminal import logger
+from coconut.util import override, memoize_with_exceptions
+from coconut.compiler import Compiler
+from coconut.compiler.util import should_indent
+from coconut.command.util import Runner
 
-# -----------------------------------------------------------------------------------------------------------------------
-# COMMAND:
-# -----------------------------------------------------------------------------------------------------------------------
-
-GLOBAL_STATE = None
-
-
-def get_state(state=None):
-    """Get a Coconut state object; None gets a new state, False gets the global state."""
-    global GLOBAL_STATE
-    if state is None:
-        return Command()
-    elif state is False:
-        if GLOBAL_STATE is None:
-            GLOBAL_STATE = Command()
-        return GLOBAL_STATE
-    else:
-        return state
-
-
-def cmd(cmd_args, interact=False, state=False, **kwargs):
-    """Process command-line arguments."""
-    if isinstance(cmd_args, (str, bytes)):
-        cmd_args = cmd_args.split()
-    return get_state(state).cmd(cmd_args, interact=interact, **kwargs)
-
-
-VERSIONS = {
-    "num": VERSION,
-    "name": VERSION_NAME,
-    "spec": VERSION_STR,
-    "tag": version_tag,
-    "-v": cli_version,
-}
-
+if WINDOWS and PY38 and asyncio is not None:  # attempt to fix zmq warning
+    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
 
-def version(which="num"):
-    """Get the Coconut version."""
-    if which in VERSIONS:
-        return VERSIONS[which]
+try:
+    from IPython.core.inputsplitter import IPythonInputSplitter
+    from IPython.core.interactiveshell import InteractiveShellABC
+    from IPython.core.compilerop import CachingCompiler
+    from IPython.terminal.embed import InteractiveShellEmbed
+    from ipykernel.ipkernel import IPythonKernel
+    from ipykernel.zmqshell import ZMQInteractiveShell
+    from ipykernel.kernelapp import IPKernelApp
+except ImportError:
+    LOAD_MODULE = False
+    if os.getenv(conda_build_env_var):
+        # conda tries to import coconut.icoconut as a test even when IPython isn't available
+        logger.warn("Missing IPython but detected " + conda_build_env_var + "; skipping coconut.icoconut loading")
     else:
         raise CoconutException(
-            "invalid version type " + repr(which),
-            extra="valid versions are " + ", ".join(VERSIONS),
-        )
-
-
-# -----------------------------------------------------------------------------------------------------------------------
-# COMPILER:
-# -----------------------------------------------------------------------------------------------------------------------
-
-def setup(*args, **kwargs):
-    """Set up the given state object."""
-    state = kwargs.pop("state", False)
-    return get_state(state).setup(*args, **kwargs)
-
-
-PARSERS = {
-    "sys": lambda comp: comp.parse_sys,
-    "exec": lambda comp: comp.parse_exec,
-    "file": lambda comp: comp.parse_file,
-    "package": lambda comp: comp.parse_package,
-    "block": lambda comp: comp.parse_block,
-    "single": lambda comp: comp.parse_single,
-    "eval": lambda comp: comp.parse_eval,
-    "lenient": lambda comp: comp.parse_lenient,
-    "xonsh": lambda comp: comp.parse_xonsh,
-}
-
-# deprecated aliases
-PARSERS["any"] = PARSERS["debug"] = PARSERS["lenient"]
-
-
-def parse(code="", mode="sys", state=False, keep_internal_state=None):
-    """Compile Coconut code."""
-    if keep_internal_state is None:
-        keep_internal_state = bool(state)
-    command = get_state(state)
-    if command.comp is None:
-        command.setup()
-    if mode not in PARSERS:
-        raise CoconutException(
-            "invalid parse mode " + repr(mode),
-            extra="valid modes are " + ", ".join(PARSERS),
+            "--jupyter flag requires Jupyter library",
+            extra="run '{python} -m pip install coconut[jupyter]' to fix".format(python=sys.executable),
         )
-    return PARSERS[mode](command.comp)(code, keep_state=keep_internal_state)
-
+else:
+    LOAD_MODULE = True
 
-def coconut_eval(expression, globals=None, locals=None, state=False, **kwargs):
-    """Compile and evaluate Coconut code."""
-    command = get_state(state)
-    if command.comp is None:
-        setup()
-    command.check_runner(set_sys_vars=False)
-    if globals is None:
-        globals = {}
-    command.runner.update_vars(globals)
-    compiled_python = parse(expression, "eval", state, **kwargs)
-    return eval(compiled_python, globals, locals)
-
-
-# -----------------------------------------------------------------------------------------------------------------------
-# BREAKPOINT:
-# -----------------------------------------------------------------------------------------------------------------------
-
-
-def _coconut_breakpoint():
-    """Determine coconut.embed depth based on whether we're being
-    called by Coconut's breakpoint() or Python's breakpoint()."""
-    if sys.version_info >= (3, 7):
-        return embed(depth=1)
-    else:
-        return embed(depth=2)
-
-
-def use_coconut_breakpoint(on=True):
-    """Switches the breakpoint() built-in (universally accessible via
-    coconut.__coconut__.breakpoint) to use coconut.embed."""
-    if on:
-        sys.breakpointhook = _coconut_breakpoint
-    else:
-        sys.breakpointhook = sys.__breakpointhook__
-
-
-use_coconut_breakpoint()
+try:
+    from papermill.translators import (
+        papermill_translators,
+        PythonTranslator,
+    )
+except ImportError:
+    papermill_translators = None
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# AUTOMATIC COMPILATION:
+# UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
+COMPILER = Compiler(**coconut_kernel_kwargs)
 
-class CoconutImporter(object):
-    """Finder and loader for compiling Coconut files at import time."""
-    ext = code_exts[0]
-    command = None
-
-    def run_compiler(self, path):
-        """Run the Coconut compiler on the given path."""
-        if self.command is None:
-            self.command = Command()
-        self.command.cmd([path] + list(coconut_import_hook_args))
-
-    def find_module(self, fullname, path=None):
-        """Searches for a Coconut file of the given name and compiles it."""
-        basepaths = [""] + list(sys.path)
-        if fullname.startswith("."):
-            if path is None:
-                # we can't do a relative import if there's no package path
-                return
-            fullname = fullname[1:]
-            basepaths.insert(0, path)
-        fullpath = os.path.join(*fullname.split("."))
-        for head in basepaths:
-            path = os.path.join(head, fullpath)
-            filepath = path + self.ext
-            dirpath = os.path.join(path, "__init__" + self.ext)
-            if os.path.exists(filepath):
-                self.run_compiler(filepath)
-                # Coconut file was found and compiled, now let Python import it
-                return
-            if os.path.exists(dirpath):
-                self.run_compiler(path)
-                # Coconut package was found and compiled, now let Python import it
-                return
-
-
-coconut_importer = CoconutImporter()
-
-
-def auto_compilation(on=True):
-    """Turn automatic compilation of Coconut files on or off."""
-    if on:
-        if coconut_importer not in sys.meta_path:
-            sys.meta_path.insert(0, coconut_importer)
-    else:
+RUNNER = Runner(COMPILER)
+
+
+@memoize_with_exceptions(128)
+def memoized_parse_block(code):
+    return COMPILER.parse_block(code, keep_state=True)
+
+
+def syntaxerr_memoized_parse_block(code):
+    """Version of memoized_parse_block that raises SyntaxError without any __cause__."""
+    syntax_err = None
+    try:
+        return memoized_parse_block(code)
+    except CoconutException as err:
+        syntax_err = err.syntax_err()
+    raise syntax_err
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# KERNEL:
+# -----------------------------------------------------------------------------------------------------------------------
+
+if LOAD_MODULE:
+
+    COMPILER.warm_up(enable_incremental_mode=True)
+
+    class CoconutCompiler(CachingCompiler, object):
+        """IPython compiler for Coconut."""
+
+        def __init__(self):
+            super(CoconutCompiler, self).__init__()
+
+            # we compile the header here to cache the proper __future__ imports
+            header = COMPILER.getheader("sys")
+            super(CoconutCompiler, self).__call__(header, "<string>", "exec")
+
+        @override
+        def ast_parse(self, source, *args, **kwargs):
+            """Version of ast_parse that compiles Coconut code first."""
+            compiled = syntaxerr_memoized_parse_block(source)
+            return super(CoconutCompiler, self).ast_parse(compiled, *args, **kwargs)
+
+        @override
+        def cache(self, code, *args, **kwargs):
+            """Version of cache that compiles Coconut code first."""
+            try:
+                compiled = memoized_parse_block(code)
+            except CoconutException:
+                logger.print_exc()
+                return None
+            else:
+                return super(CoconutCompiler, self).cache(compiled, *args, **kwargs)
+
+        @override
+        def __call__(self, source, *args, **kwargs):
+            """Version of __call__ that compiles Coconut code first."""
+            if isinstance(source, (str, bytes)):
+                compiled = syntaxerr_memoized_parse_block(source)
+            else:
+                compiled = source
+            return super(CoconutCompiler, self).__call__(compiled, *args, **kwargs)
+
+    class CoconutSplitter(IPythonInputSplitter, object):
+        """IPython splitter for Coconut."""
+
+        def __init__(self, *args, **kwargs):
+            """Version of __init__ that sets up Coconut code compilation."""
+            super(CoconutSplitter, self).__init__(*args, **kwargs)
+            self._original_compile = self._compile
+            self._compile = self._coconut_compile
+
+        def _coconut_compile(self, source, *args, **kwargs):
+            """Version of _compile that checks Coconut code.
+            None means that the code should not be run as is.
+            Any other value means that it can."""
+            if not source.endswith("\n\n") and should_indent(source):
+                return None
+            else:
+                return True
+
+    INTERACTIVE_SHELL_CODE = '''
+input_splitter = CoconutSplitter(line_input_checker=True)
+input_transformer_manager = CoconutSplitter(line_input_checker=False)
+
+@override
+def init_instance_attrs(self):
+    """Version of init_instance_attrs that uses CoconutCompiler."""
+    super({cls}, self).init_instance_attrs()
+    self.compile = CoconutCompiler()
+
+@override
+def init_user_ns(self):
+    """Version of init_user_ns that adds Coconut built-ins."""
+    super({cls}, self).init_user_ns()
+    RUNNER.update_vars(self.user_ns)
+    RUNNER.update_vars(self.user_ns_hidden)
+
+@override
+def run_cell(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
+    """Version of run_cell that always uses shell_futures."""
+    # cell_id is just ignored because we don't use it but we have to have it because
+    #  the presence of **kwargs means ipykernel.kernelbase._accepts_cell_id thinks we do
+    return super({cls}, self).run_cell(raw_cell, store_history, silent, shell_futures=True, **kwargs)
+
+if asyncio is not None:
+    @override
+    {coroutine}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
+        """Version of run_cell_async that always uses shell_futures."""
+        # same as above
+        return super({cls}, self).run_cell_async(raw_cell, store_history, silent, shell_futures=True, **kwargs)
+
+@override
+def user_expressions(self, expressions):
+    """Version of user_expressions that compiles Coconut code first."""
+    compiled_expressions = {dict}
+    for key, expr in expressions.items():
         try:
-            sys.meta_path.remove(coconut_importer)
-        except ValueError:
-            pass
-
-
-auto_compilation()
-
-
-# -----------------------------------------------------------------------------------------------------------------------
-# ENCODING:
-# -----------------------------------------------------------------------------------------------------------------------
-
-
-if utf_8 is not None:
-    class CoconutStreamReader(utf_8.StreamReader, object):
-        """Compile Coconut code from a stream of UTF-8."""
-        coconut_compiler = None
-
-        @classmethod
-        def compile_coconut(cls, source):
-            """Compile the given Coconut source text."""
-            if cls.coconut_compiler is None:
-                cls.coconut_compiler = Compiler(**coconut_kernel_kwargs)
-            return cls.coconut_compiler.parse_sys(source)
-
-        @classmethod
-        def decode(cls, input_bytes, errors="strict"):
-            """Decode and compile the given Coconut source bytes."""
-            input_str, len_consumed = super(CoconutStreamReader, cls).decode(input_bytes, errors)
-            return cls.compile_coconut(input_str), len_consumed
-
-    class CoconutIncrementalDecoder(utf_8.IncrementalDecoder, object):
-        """Compile Coconut at the end of incrementally decoding UTF-8."""
-        invertible = False
-        _buffer_decode = CoconutStreamReader.decode
-
-
-def get_coconut_encoding(encoding="coconut"):
-    """Get a CodecInfo for the given Coconut encoding."""
-    if not encoding.startswith("coconut"):
-        return None
-    if encoding != "coconut":
-        raise CoconutException("unknown Coconut encoding: " + repr(encoding))
-    if utf_8 is None:
-        raise CoconutException("coconut encoding requires encodings.utf_8")
-    return codecs.CodecInfo(
-        name=encoding,
-        encode=utf_8.encode,
-        decode=CoconutStreamReader.decode,
-        incrementalencoder=utf_8.IncrementalEncoder,
-        incrementaldecoder=CoconutIncrementalDecoder,
-        streamreader=CoconutStreamReader,
-        streamwriter=utf_8.StreamWriter,
+            compiled_expressions[key] = COMPILER.parse_eval(expr, keep_state=True)
+        except CoconutException:
+            compiled_expressions[key] = expr
+    return super({cls}, self).user_expressions(compiled_expressions)
+'''
+
+    format_dict = dict(
+        dict="{}",
+        coroutine=(
+            "" if PY311 else
+            """@asyncio.coroutine
+    """
+        ),
     )
 
+    class CoconutShell(ZMQInteractiveShell, object):
+        """ZMQInteractiveShell for Coconut."""
+        exec(INTERACTIVE_SHELL_CODE.format(cls="CoconutShell", **format_dict))
+
+    InteractiveShellABC.register(CoconutShell)
+
+    class CoconutShellEmbed(InteractiveShellEmbed, object):
+        """InteractiveShellEmbed for Coconut."""
+        exec(INTERACTIVE_SHELL_CODE.format(cls="CoconutShellEmbed", **format_dict))
+
+    InteractiveShellABC.register(CoconutShellEmbed)
+
+    class CoconutKernel(IPythonKernel, object):
+        """Jupyter kernel for Coconut."""
+        shell_class = CoconutShell
+        use_experimental_completions = True
+        implementation = "icoconut"
+        implementation_version = VERSION
+        language = "coconut"
+        language_version = VERSION
+        banner = version_banner
+        language_info = {
+            "name": "coconut",
+            "version": VERSION,
+            "mimetype": mimetype,
+            "codemirror_mode": {
+                "name": "python",
+                "version": py_syntax_version,
+            },
+            "pygments_lexer": "coconut",
+            "file_extension": code_exts[0],
+        }
+        help_links = [
+            {
+                "text": "Coconut Tutorial",
+                "url": tutorial_url,
+            },
+            {
+                "text": "Coconut Documentation",
+                "url": documentation_url,
+            },
+        ]
+
+        def __init__(self, *args, **kwargs):
+            super(CoconutKernel, self).__init__(*args, **kwargs)
+            if self.log is None:
+                self.log = logging.getLogger(__name__)
+
+        @override
+        def do_complete(self, code, cursor_pos):
+            # first try with Jedi completions
+            self.use_experimental_completions = True
+            try:
+                return super(CoconutKernel, self).do_complete(code, cursor_pos)
+            except Exception:
+                logger.print_exc()
+                logger.warn_err(CoconutInternalException("experimental IPython completion failed, defaulting to shell completion"), force=True)
+
+            # then if that fails default to shell completions
+            self.use_experimental_completions = False
+            try:
+                return super(CoconutKernel, self).do_complete(code, cursor_pos)
+            finally:
+                self.use_experimental_completions = True
+
+    class CoconutKernelApp(IPKernelApp, object):
+        """IPython kernel app that uses the Coconut kernel."""
+        name = "coconut-kernel"
+        classes = IPKernelApp.classes + [CoconutKernel, CoconutShell]
+        kernel_class = CoconutKernel
+        subcommands = {}
 
-codecs.register(get_coconut_encoding)
+    if papermill_translators is not None:
+        papermill_translators.register("coconut", PythonTranslator)
```

### Comparing `coconut-3.0.2/coconut/command/__init__.py` & `coconut-3.0.3/coconut/command/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/command/cli.py` & `coconut-3.0.3/coconut/command/cli.py`

 * *Files 9% similar despite different names*

```diff
@@ -111,15 +111,21 @@
     action="store_true",
     help="compile source as standalone files (defaults to only if source is a single file)",
 )
 
 arguments.add_argument(
     "-l", "--line-numbers", "--linenumbers",
     action="store_true",
-    help="add line number comments for ease of debugging",
+    help="force enable line number comments (--line-numbers are enabled by default unless --minify is passed)",
+)
+
+arguments.add_argument(
+    "--no-line-numbers", "--nolinenumbers",
+    action="store_true",
+    help="disable line number comments (opposite of --line-numbers)",
 )
 
 arguments.add_argument(
     "-k", "--keep-lines", "--keeplines",
     action="store_true",
     help="include source code in comments for ease of debugging",
 )
@@ -205,15 +211,15 @@
     help="run Jupyter/IPython with Coconut as the kernel (remaining args passed to Jupyter)",
 )
 
 arguments.add_argument(
     "--mypy",
     type=str,
     nargs=argparse.REMAINDER,
-    help="run MyPy on compiled Python (remaining args passed to MyPy) (implies --package)",
+    help="run MyPy on compiled Python (remaining args passed to MyPy) (implies --package --line-numbers)",
 )
 
 arguments.add_argument(
     "--argv", "--args",
     type=str,
     nargs=argparse.REMAINDER,
     help="set sys.argv to source plus remaining args for use in the Coconut script being run",
@@ -252,15 +258,15 @@
     help="enable vi mode in the interpreter (currently set to " + ascii(prompt_vi_mode) + ") (can be modified by setting " + vi_mode_env_var + " environment variable)",
 )
 
 arguments.add_argument(
     "--recursion-limit", "--recursionlimit",
     metavar="limit",
     type=int,
-    help="set maximum recursion depth in compiler (defaults to " + ascii(default_recursion_limit) + ") (when increasing --recursion-limit, you may also need to increase --stack-size)",
+    help="set maximum recursion depth in compiler (defaults to " + ascii(default_recursion_limit) + ") (when increasing --recursion-limit, you may also need to increase --stack-size; setting them to approximately equal values is recommended)",
 )
 
 arguments.add_argument(
     "--stack-size", "--stacksize",
     metavar="kbs",
     type=int,
     help="run the compiler in a separate thread with the given stack size in kilobytes",
```

### Comparing `coconut-3.0.2/coconut/command/command.py` & `coconut-3.0.3/coconut/command/command.py`

 * *Files 5% similar despite different names*

```diff
@@ -51,29 +51,32 @@
     comp_ext,
     watch_interval,
     icoconut_default_kernel_names,
     icoconut_default_kernel_dirs,
     icoconut_custom_kernel_name,
     icoconut_old_kernel_names,
     exit_chars,
-    coconut_run_args,
-    coconut_run_verbose_args,
     verbose_mypy_args,
     default_mypy_args,
     report_this_text,
     mypy_silent_non_err_prefixes,
     mypy_silent_err_prefixes,
     mypy_err_infixes,
     mypy_install_arg,
+    jupyter_install_arg,
     mypy_builtin_regex,
     coconut_pth_file,
     error_color_code,
     jupyter_console_commands,
     default_jobs,
     create_package_retries,
+    default_use_cache_dir,
+    coconut_cache_dir,
+    coconut_run_kwargs,
+    interpreter_uses_incremental,
 )
 from coconut.util import (
     univ_open,
     ver_tuple_to_str,
     install_custom_kernel,
     get_clock_time,
     first_import_time,
@@ -94,16 +97,15 @@
     launch_documentation,
     launch_tutorial,
     stdin_readable,
     set_recursion_limit,
     can_parse,
     invert_mypy_arg,
     run_with_stack_size,
-    memoized_isdir,
-    memoized_isfile,
+    proc_run_args,
 )
 from coconut.compiler.util import (
     should_indent,
     get_target_info_smart,
 )
 from coconut.compiler.header import gethash
 from coconut.compiler.grammar import set_grammar_names
@@ -118,15 +120,15 @@
     """Coconut command-line interface."""
     comp = None  # current coconut.compiler.Compiler
     runner = None  # the current Runner
     executor = None  # runs --jobs
     exit_code = 0  # exit status to return
     errmsg = None  # error message to display
 
-    show = False  # corresponds to --display flag
+    display = False  # corresponds to --display flag
     jobs = 0  # corresponds to --jobs flag
     mypy_args = None  # corresponds to --mypy flag
     argv_args = None  # corresponds to --argv flag
     stack_size = 0  # corresponds to --stack-size flag
 
     _prompt = None
 
@@ -138,45 +140,65 @@
         return self._prompt
 
     def start(self, run=False):
         """Endpoint for coconut and coconut-run."""
         if run:
             args, argv = [], []
             # for coconut-run, all args beyond the source file should be wrapped in an --argv
+            source = None
             for i in range(1, len(sys.argv)):
                 arg = sys.argv[i]
-                args.append(arg)
                 # if arg is source file, put everything else in argv
-                if not arg.startswith("-") and can_parse(arguments, args[:-1]):
+                if not arg.startswith("-") and can_parse(arguments, args):
+                    source = arg
                     argv = sys.argv[i + 1:]
                     break
-            for run_arg in (coconut_run_verbose_args if "--verbose" in args else coconut_run_args):
-                if run_arg not in args:
-                    args.append(run_arg)
-            self.cmd(args, argv=argv)
+                else:
+                    args.append(arg)
+            args = proc_run_args(args)
+            if "--run" in args:
+                logger.warn("extraneous --run argument passed; coconut-run implies --run")
+            else:
+                args.append("--run")
+            dest = None
+            if source is not None:
+                source = fixpath(source)
+                args.append(source)
+                if default_use_cache_dir:
+                    if os.path.isfile(source):
+                        dest = os.path.join(os.path.dirname(source), coconut_cache_dir)
+                    else:
+                        dest = os.path.join(source, coconut_cache_dir)
+            self.cmd(args, argv=argv, use_dest=dest, **coconut_run_kwargs)
         else:
             self.cmd()
 
-    def cmd(self, args=None, argv=None, interact=True, default_target=None):
+    # new external parameters should be updated in api.pyi and DOCS
+    def cmd(self, args=None, argv=None, interact=True, default_target=None, use_dest=None):
         """Process command-line arguments."""
+        result = None
         with self.handling_exceptions():
             if args is None:
                 parsed_args = arguments.parse_args()
             else:
                 parsed_args = arguments.parse_args(args)
             if argv is not None:
                 if parsed_args.argv is not None:
                     raise CoconutException("cannot pass --argv/--args when using coconut-run (coconut-run interprets any arguments after the source file as --argv/--args)")
                 parsed_args.argv = argv
             if parsed_args.target is None:
                 parsed_args.target = default_target
+            if use_dest is not None and not parsed_args.no_write:
+                internal_assert(parsed_args.dest is None, "coconut-run got passed a dest", parsed_args)
+                parsed_args.dest = use_dest
             self.exit_code = 0
             self.stack_size = parsed_args.stack_size
-            self.run_with_stack_size(self.execute_args, parsed_args, interact, original_args=args)
+            result = self.run_with_stack_size(self.execute_args, parsed_args, interact, original_args=args)
         self.exit_on_error()
+        return result
 
     def run_with_stack_size(self, func, *args, **kwargs):
         """Execute func with the correct stack size."""
         if self.stack_size:
             return run_with_stack_size(self.stack_size, func, *args, **kwargs)
         else:
             return func(*args, **kwargs)
@@ -208,15 +230,19 @@
         """Handle command-line arguments."""
         with self.handling_exceptions():
             # fix args
             if not DEVELOP:
                 args.trace = args.profile = False
 
             # set up logger
-            logger.quiet, logger.verbose, logger.tracing = args.quiet, args.verbose, args.trace
+            logger.setup(
+                quiet=args.quiet,
+                verbose=args.verbose,
+                tracing=args.trace,
+            )
             if args.verbose or args.trace or args.profile:
                 set_grammar_names()
             if args.trace or args.profile:
                 unset_fast_pyparsing_reprs()
             if args.profile:
                 collect_timing_info()
             logger.enable_colors()
@@ -225,16 +251,18 @@
             if original_args is not None:
                 logger.log("Directly passed args:", original_args)
             logger.log("Parsed args:", args)
 
             # validate general command args
             if args.stack_size and args.stack_size % 4 != 0:
                 logger.warn("--stack-size should generally be a multiple of 4, not {stack_size} (to support 4 KB pages)".format(stack_size=args.stack_size))
-            if args.mypy is not None and args.line_numbers:
-                logger.warn("extraneous --line-numbers argument passed; --mypy implies --line-numbers")
+            if args.mypy is not None and args.no_line_numbers:
+                logger.warn("using --mypy running with --no-line-numbers is not recommended; mypy error messages won't include Coconut line numbers")
+            if args.line_numbers and args.no_line_numbers:
+                raise CoconutException("cannot compile with both --line-numbers and --no-line-numbers")
             if args.site_install and args.site_uninstall:
                 raise CoconutException("cannot --site-install and --site-uninstall simultaneously")
             for and_args in getattr(args, "and") or []:
                 if len(and_args) > 2:
                     raise CoconutException(
                         "--and accepts at most two arguments, source and dest ({n} given: {args!r})".format(
                             n=len(and_args),
@@ -242,49 +270,62 @@
                         ),
                     )
 
             # process general command args
             self.set_jobs(args.jobs, args.profile)
             if args.recursion_limit is not None:
                 set_recursion_limit(args.recursion_limit)
-            if args.display:
-                self.show = True
+            self.display = args.display
+            self.prompt.vi_mode = args.vi_mode
             if args.style is not None:
                 self.prompt.set_style(args.style)
             if args.history_file is not None:
                 self.prompt.set_history_file(args.history_file)
-            if args.vi_mode:
-                self.prompt.vi_mode = True
+            if args.argv is not None:
+                self.argv_args = list(args.argv)
+
+            # execute non-compilation tasks
             if args.docs:
                 launch_documentation()
             if args.tutorial:
                 launch_tutorial()
             if args.site_uninstall:
                 self.site_uninstall()
             if args.site_install:
                 self.site_install()
-            if args.argv is not None:
-                self.argv_args = list(args.argv)
 
             # process general compiler args
+            if args.line_numbers:
+                line_numbers = True
+            elif args.no_line_numbers:
+                line_numbers = False
+            else:
+                line_numbers = (
+                    not args.minify
+                    or args.mypy is not None
+                )
             self.setup(
                 target=args.target,
                 strict=args.strict,
                 minify=args.minify,
-                line_numbers=args.line_numbers or args.mypy is not None,
+                line_numbers=line_numbers,
                 keep_lines=args.keep_lines,
                 no_tco=args.no_tco,
                 no_wrap=args.no_wrap_types,
             )
+            if args.watch:
+                self.comp.warm_up(enable_incremental_mode=True)
 
             # process mypy args and print timing info (must come after compiler setup)
             if args.mypy is not None:
                 self.set_mypy_args(args.mypy)
             logger.log("Grammar init time: " + str(self.comp.grammar_init_time) + " secs / Total init time: " + str(get_clock_time() - first_import_time) + " secs")
 
+            # do compilation, keeping track of compiled filepaths
+            filepaths = []
             if args.source is not None:
                 # warnings if source is given
                 if args.interact and args.run:
                     logger.warn("extraneous --run argument passed; --interact implies --run")
                 if args.package and self.mypy:
                     logger.warn("extraneous --package argument passed; --mypy implies --package")
 
@@ -303,20 +344,19 @@
                         src, = and_args
                         dest = None
                     else:
                         src, dest = and_args
                     src_dest_package_triples.append(self.process_source_dest(src, dest, args))
 
                 # disable jobs if we know we're only compiling one file
-                if len(src_dest_package_triples) <= 1 and not any(memoized_isdir(source) for source, dest, package in src_dest_package_triples):
+                if len(src_dest_package_triples) <= 1 and not any(os.path.isdir(source) for source, dest, package in src_dest_package_triples):
                     self.disable_jobs()
 
                 # do compilation
                 with self.running_jobs(exit_on_error=not args.watch):
-                    filepaths = []
                     for source, dest, package in src_dest_package_triples:
                         filepaths += self.compile_path(source, dest, package, run=args.run or args.interact, force=args.force)
                 self.run_mypy(filepaths)
 
             # validate args if no source is given
             elif (
                 args.run
@@ -358,26 +398,29 @@
                 self.start_prompt()
             if args.watch:
                 # src_dest_package_triples is always available here
                 self.watch(src_dest_package_triples, args.run, args.force)
             if args.profile:
                 print_timing_info()
 
+            # make sure to return inside handling_exceptions to ensure filepaths is available
+            return filepaths
+
     def process_source_dest(self, source, dest, args):
         """Determine the correct source, dest, package mode to use for the given source, dest, and args."""
         # determine source
         processed_source = fixpath(source)
 
         # validate args
-        if (args.run or args.interact) and memoized_isdir(processed_source):
+        if (args.run or args.interact) and os.path.isdir(processed_source):
             if args.run:
                 raise CoconutException("source path %r must point to file not directory when --run is enabled" % (source,))
             if args.interact:
                 raise CoconutException("source path %r must point to file not directory when --run (implied by --interact) is enabled" % (source,))
-        if args.watch and memoized_isfile(processed_source):
+        if args.watch and os.path.isfile(processed_source):
             raise CoconutException("source path %r must point to directory not file when --watch is enabled" % (source,))
 
         # determine dest
         if dest is None:
             if args.no_write:
                 processed_dest = False  # no dest
             else:
@@ -390,17 +433,17 @@
         # determine package mode
         if args.package or self.mypy:
             package = True
         elif args.standalone:
             package = False
         else:
             # auto-decide package
-            if memoized_isfile(processed_source):
+            if os.path.isfile(processed_source):
                 package = False
-            elif memoized_isdir(processed_source):
+            elif os.path.isdir(processed_source):
                 package = True
             else:
                 raise CoconutException("could not find source path", source)
 
         return processed_source, processed_dest, package
 
     def register_exit_code(self, code=1, errmsg=None, err=None):
@@ -440,28 +483,28 @@
                 logger.print_exc()
             elif not isinstance(err, KeyboardInterrupt):
                 logger.print_exc()
                 logger.printerr(report_this_text)
             self.register_exit_code(err=err)
 
     def compile_path(self, path, write=True, package=True, **kwargs):
-        """Compile a path and returns paths to compiled files."""
+        """Compile a path and return paths to compiled files."""
         if not isinstance(write, bool):
             write = fixpath(write)
-        if memoized_isfile(path):
+        if os.path.isfile(path):
             destpath = self.compile_file(path, write, package, **kwargs)
             return [destpath] if destpath is not None else []
-        elif memoized_isdir(path):
+        elif os.path.isdir(path):
             return self.compile_folder(path, write, package, **kwargs)
         else:
             raise CoconutException("could not find source path", path)
 
     def compile_folder(self, directory, write=True, package=True, **kwargs):
-        """Compile a directory and returns paths to compiled files."""
-        if not isinstance(write, bool) and memoized_isfile(write):
+        """Compile a directory and return paths to compiled files."""
+        if not isinstance(write, bool) and os.path.isfile(write):
             raise CoconutException("destination path cannot point to a file when compiling a directory")
         filepaths = []
         for dirpath, dirnames, filenames in os.walk(directory):
             if isinstance(write, bool):
                 writedir = write
             else:
                 writedir = os.path.join(write, os.path.relpath(dirpath, directory))
@@ -475,15 +518,15 @@
                 if not is_special_dir(name) and name.startswith("."):
                     if logger.verbose:
                         logger.show_tabulated("Skipped directory", name, "(explicitly pass as source to override).")
                     dirnames.remove(name)  # directories removed from dirnames won't appear in further os.walk iterations
         return filepaths
 
     def compile_file(self, filepath, write=True, package=False, force=False, **kwargs):
-        """Compile a file and returns the compiled file's path."""
+        """Compile a file and return the compiled file's path."""
         set_ext = False
         if write is False:
             destpath = None
         elif write is True:
             destpath = filepath
             set_ext = True
         elif os.path.splitext(write)[1]:
@@ -528,31 +571,31 @@
                 package_level = self.get_package_level(codepath)
                 if package_level == 0:
                     self.create_package(destdir)
 
         foundhash = None if force else self.has_hash_of(destpath, code, package_level)
         if foundhash:
             if show_unchanged:
-                logger.show_tabulated("Left unchanged", showpath(destpath), "(pass --force to override).")
-            if self.show:
+                logger.show_tabulated("Left unchanged", showpath(destpath), "(pass --force to overwrite).")
+            if self.display:
                 logger.print(foundhash)
             if run:
                 self.execute_file(destpath, argv_source_path=codepath)
 
         else:
             logger.show_tabulated("Compiling", showpath(codepath), "...")
 
             def callback(compiled):
                 if destpath is None:
                     logger.show_tabulated("Compiled", showpath(codepath), "without writing to file.")
                 else:
                     with univ_open(destpath, "w") as opened:
                         writefile(opened, compiled)
                     logger.show_tabulated("Compiled to", showpath(destpath), ".")
-                if self.show:
+                if self.display:
                     logger.print(compiled)
                 if run:
                     if destpath is None:
                         self.execute(compiled, path=codepath, allow_show=False)
                     else:
                         self.execute_file(destpath, argv_source_path=codepath)
 
@@ -671,20 +714,23 @@
             else:
                 yield
         if exit_on_error:
             self.exit_on_error()
 
     def has_hash_of(self, destpath, code, package_level):
         """Determine if a file has the hash of the code."""
-        if destpath is not None and memoized_isfile(destpath):
+        if destpath is not None and os.path.isfile(destpath):
             with univ_open(destpath, "r") as opened:
                 compiled = readfile(opened)
             hashash = gethash(compiled)
-            if hashash is not None and hashash == self.comp.genhash(code, package_level):
-                return True
+            if hashash is not None:
+                newhash = self.comp.genhash(code, package_level)
+                if hashash == newhash:
+                    return True
+                logger.log("old __coconut_hash__", hashash, "!= new __coconut_hash__", newhash)
         return False
 
     def get_input(self, more=False):
         """Prompt for code input."""
         received = None
         try:
             received = self.prompt.input(more)
@@ -697,24 +743,25 @@
             if received.startswith(exit_chars):
                 self.exit_runner()
                 received = None
         return received
 
     def start_running(self):
         """Start running the Runner."""
-        self.comp.warm_up()
+        self.comp.warm_up(enable_incremental_mode=interpreter_uses_incremental)
         self.check_runner()
         self.running = True
         logger.log("Time till prompt: " + str(get_clock_time() - first_import_time) + " secs")
 
     def start_prompt(self):
         """Start the interpreter."""
         logger.show(
-            "Coconut Interpreter v{co_ver}:".format(
+            "Coconut Interpreter v{co_ver} (Python {py_ver}):".format(
                 co_ver=VERSION,
+                py_ver=".".join(str(v) for v in sys.version_info[:2]),
             ),
         )
         logger.show("(enter 'exit()' or press Ctrl-D to end)")
         self.start_running()
         while self.running:
             try:
                 code = self.get_input()
@@ -753,15 +800,15 @@
         return None
 
     def execute(self, compiled=None, path=None, use_eval=False, allow_show=True):
         """Execute compiled code."""
         self.check_runner()
         if compiled is not None:
 
-            if allow_show and self.show:
+            if allow_show and self.display:
                 logger.print(compiled)
 
             if path is None:  # header is not included
                 if not self.mypy:
                     no_str_code = self.comp.remove_strs(compiled)
                     result = mypy_builtin_regex.search(no_str_code)
                     if result:
@@ -868,17 +915,17 @@
                             logger.printerr(line)
                         self.mypy_errs.append(line)
 
     def run_silent_cmd(self, *args):
         """Same as run_cmd$(show_output=logger.verbose)."""
         return run_cmd(*args, show_output=logger.verbose)
 
-    def install_jupyter_kernel(self, jupyter, kernel_dir):
+    def install_jupyter_kernel(self, jupyter, kernel_dir, install_args=[]):
         """Install the given kernel via the command line and return whether successful."""
-        install_args = jupyter + ["kernelspec", "install", kernel_dir, "--replace"]
+        install_args = jupyter + ["kernelspec", "install", kernel_dir, "--replace"] + install_args
         try:
             self.run_silent_cmd(install_args)
         except CalledProcessError:
             user_install_args = install_args + ["--user"]
             try:
                 self.run_silent_cmd(user_install_args)
             except CalledProcessError:
@@ -894,26 +941,26 @@
             self.run_silent_cmd(remove_args)
         except CalledProcessError:
             logger.warn("kernel removal failed on command", " ".join(remove_args))
             self.register_exit_code(errmsg="Jupyter kernel error")
             return False
         return True
 
-    def install_default_jupyter_kernels(self, jupyter, kernel_list):
+    def install_default_jupyter_kernels(self, jupyter, kernel_list, install_args=[]):
         """Install icoconut default kernels."""
         logger.show_sig("Installing Jupyter kernels '" + "', '".join(icoconut_default_kernel_names) + "'...")
         overall_success = True
 
         for old_kernel_name in icoconut_old_kernel_names:
             if old_kernel_name in kernel_list:
                 success = self.remove_jupyter_kernel(jupyter, old_kernel_name)
                 overall_success = overall_success and success
 
         for kernel_dir in icoconut_default_kernel_dirs:
-            success = self.install_jupyter_kernel(jupyter, kernel_dir)
+            success = self.install_jupyter_kernel(jupyter, kernel_dir, install_args)
             overall_success = overall_success and success
 
         if overall_success:
             return icoconut_default_kernel_names
         else:
             return []
 
@@ -948,23 +995,35 @@
         """Start Jupyter with the Coconut kernel."""
         jupyter = self.get_jupyter_command()
 
         # get a list of installed kernels
         kernel_list = self.get_jupyter_kernels(jupyter)
         newly_installed_kernels = []
 
-        # always update the custom kernel, but only reinstall it if it isn't already there or given no args
+        # determine if we're just installing
+        if not args:
+            just_install = True
+        elif args[0].startswith("-"):
+            just_install = True
+        elif args[0] == jupyter_install_arg:
+            just_install = True
+            args = args[1:]
+        else:
+            just_install = False
+        install_args = args if just_install else []
+
+        # always update the custom kernel, but only reinstall it if it isn't already there or just installing
         custom_kernel_dir = install_custom_kernel(logger=logger)
-        if custom_kernel_dir is not None and (icoconut_custom_kernel_name not in kernel_list or not args):
+        if custom_kernel_dir is not None and (icoconut_custom_kernel_name not in kernel_list or just_install):
             logger.show_sig("Installing Jupyter kernel {name!r}...".format(name=icoconut_custom_kernel_name))
-            if self.install_jupyter_kernel(jupyter, custom_kernel_dir):
+            if self.install_jupyter_kernel(jupyter, custom_kernel_dir, install_args):
                 newly_installed_kernels.append(icoconut_custom_kernel_name)
 
-        if not args:
-            # install default kernels if given no args
+        if just_install:
+            # install default kernels if just installing
             newly_installed_kernels += self.install_default_jupyter_kernels(jupyter, kernel_list)
             run_args = None
 
         else:
             # use the custom kernel if it exists
             if icoconut_custom_kernel_name in kernel_list or icoconut_custom_kernel_name in newly_installed_kernels:
                 kernel = icoconut_custom_kernel_name
@@ -975,15 +1034,15 @@
                 try:
                     self.run_silent_cmd(["python" + ver, "-m", "coconut.main", "--version"])
                 except CalledProcessError:
                     kernel = "coconut_py"
                 else:
                     kernel = "coconut_py" + ver
                 if kernel not in kernel_list:
-                    newly_installed_kernels += self.install_default_jupyter_kernels(jupyter, kernel_list)
+                    newly_installed_kernels += self.install_default_jupyter_kernels(jupyter, kernel_list, install_args)
                 logger.warn("could not find {name!r} kernel; using {kernel!r} kernel instead".format(name=icoconut_custom_kernel_name, kernel=kernel))
 
             # pass the kernel to the console or otherwise just launch Jupyter now that we know our kernel is available
             if args[0] in jupyter_console_commands:
                 if any(a.startswith("--kernel") for a in args):
                     logger.warn("unable to specify Coconut kernel in 'jupyter " + args[0] + "' command as --kernel was already specified in the given arguments")
                 else:
@@ -1003,15 +1062,15 @@
 
         for src, _, _ in src_dest_package_triples:
             logger.show()
             logger.show_tabulated("Watching", showpath(src), "(press Ctrl-C to end)...")
 
         def recompile(path, src, dest, package):
             path = fixpath(path)
-            if memoized_isfile(path) and os.path.splitext(path)[1] in code_exts:
+            if os.path.isfile(path) and os.path.splitext(path)[1] in code_exts:
                 with self.handling_exceptions():
                     if dest is True or dest is None:
                         writedir = dest
                     else:
                         # correct the compilation path based on the relative position of path to src
                         dirpath = os.path.dirname(path)
                         writedir = os.path.join(dest, os.path.relpath(dirpath, src))
@@ -1057,12 +1116,12 @@
         logger.show_sig("Added %s to %s" % (os.path.basename(coconut_pth_file), python_lib))
 
     def site_uninstall(self):
         """Remove Coconut's pth file from site-packages."""
         python_lib = self.get_python_lib()
         pth_file = os.path.join(python_lib, os.path.basename(coconut_pth_file))
 
-        if memoized_isfile(pth_file):
+        if os.path.isfile(pth_file):
             os.remove(pth_file)
             logger.show_sig("Removed %s from %s" % (os.path.basename(coconut_pth_file), python_lib))
         else:
             raise CoconutException("failed to find %s file to remove" % (os.path.basename(coconut_pth_file),))
```

### Comparing `coconut-3.0.2/coconut/command/command.pyi` & `coconut-3.0.3/coconut/command/command.pyi`

 * *Files 24% similar despite different names*

```diff
@@ -13,8 +13,9 @@
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class Command:
+    """Coconut command-line interface."""
     ...
```

### Comparing `coconut-3.0.2/coconut/command/mypy.py` & `coconut-3.0.3/coconut/command/mypy.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/command/util.py` & `coconut-3.0.3/coconut/command/util.py`

 * *Files 4% similar despite different names*

```diff
@@ -28,29 +28,29 @@
 from contextlib import contextmanager
 from functools import partial
 if PY2:
     import __builtin__ as builtins
 else:
     import builtins
 
+from coconut.root import _coconut_exec
 from coconut.terminal import (
     logger,
     complain,
     internal_assert,
     isatty,
 )
 from coconut.exceptions import (
     CoconutException,
     BaseCoconutException,
 )
 from coconut.util import (
     pickleable_obj,
     get_encoding,
     get_clock_time,
-    memoize,
     assert_remove_prefix,
 )
 from coconut.constants import (
     WINDOWS,
     PY34,
     PY32,
     fixpath,
@@ -68,21 +68,23 @@
     mypy_path_env_var,
     tutorial_url,
     documentation_url,
     reserved_vars,
     minimum_recursion_limit,
     oserror_retcode,
     base_stub_dir,
+    stub_dir_names,
     installed_stub_dir,
     interpreter_uses_auto_compilation,
     interpreter_uses_coconut_breakpoint,
     interpreter_compiler_var,
     must_use_specific_target_builtins,
     kilobyte,
     min_stack_size_kbs,
+    coconut_base_run_args,
 )
 
 if PY26:
     import imp
 else:
     import runpy
 try:
@@ -130,18 +132,14 @@
     prompt_toolkit = None
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
-memoized_isdir = memoize(64)(os.path.isdir)
-memoized_isfile = memoize(64)(os.path.isfile)
-
-
 def writefile(openedfile, newcontents):
     """Set the contents of a file."""
     openedfile.seek(0)
     openedfile.truncate()
     openedfile.write(newcontents)
 
 
@@ -191,32 +189,25 @@
         line = old_lines[i]
         if not (line.lstrip().startswith("#") and "coding" in line):
             new_lines.append(line)
     new_lines += old_lines[2:]
     return "\n".join(new_lines)
 
 
-def exec_func(code, glob_vars, loc_vars=None):
-    """Wrapper around exec."""
-    if loc_vars is None:
-        loc_vars = glob_vars
-    exec(code, glob_vars, loc_vars)
-
-
 def interpret(code, in_vars):
     """Try to evaluate the given code, otherwise execute it."""
     try:
         result = eval(code, in_vars)
     except SyntaxError:
         pass  # exec code outside of exception context
     else:
         if result is not None:
             logger.print(ascii(result))
         return result  # don't also exec code
-    exec_func(code, in_vars)
+    _coconut_exec(code, in_vars)
 
 
 @contextmanager
 def handling_broken_process_pool():
     """Handle BrokenProcessPool error."""
     if sys.version_info < (3, 3):
         yield
@@ -321,41 +312,68 @@
             raise subprocess.CalledProcessError(oserror_retcode, cmd)
         elif show_output:
             return oserror_retcode
         else:
             return ""
 
 
-def symlink(link_to, link_from):
-    """Link link_from to the directory link_to universally."""
-    if os.path.islink(link_from):
-        os.unlink(link_from)
-    elif os.path.exists(link_from):
+def unlink(link_path):
+    """Remove a symbolic link if one exists. Return whether anything was done."""
+    if os.path.islink(link_path):
+        os.unlink(link_path)
+        return True
+    return False
+
+
+def rm_dir_or_link(dir_to_rm):
+    """Safely delete a directory without deleting the contents of symlinks."""
+    if not unlink(dir_to_rm) and os.path.exists(dir_to_rm):
         if WINDOWS:
             try:
-                os.rmdir(link_from)
+                os.rmdir(dir_to_rm)
             except OSError:
                 logger.log_exc()
-                shutil.rmtree(link_from)
+                shutil.rmtree(dir_to_rm)
         else:
-            shutil.rmtree(link_from)
+            shutil.rmtree(dir_to_rm)
+
+
+def symlink(link_to, link_from):
+    """Link link_from to the directory link_to universally."""
+    rm_dir_or_link(link_from)
     try:
         if PY32:
             os.symlink(link_to, link_from, target_is_directory=True)
         elif not WINDOWS:
             os.symlink(link_to, link_from)
     except OSError:
         logger.log_exc()
     if not os.path.islink(link_from):
         shutil.copytree(link_to, link_from)
 
 
 def install_mypy_stubs():
     """Properly symlink mypy stub files."""
-    symlink(base_stub_dir, installed_stub_dir)
+    # unlink stub_dirs so we know rm_dir_or_link won't clear them
+    for stub_name in stub_dir_names:
+        unlink(os.path.join(base_stub_dir, stub_name))
+
+    # clean out the installed_stub_dir (which shouldn't follow symlinks,
+    #  but we still do the previous unlinking just to be sure)
+    rm_dir_or_link(installed_stub_dir)
+
+    # recreate installed_stub_dir
+    os.makedirs(installed_stub_dir)
+
+    # link stub dirs into the installed_stub_dir
+    for stub_name in stub_dir_names:
+        current_stub = os.path.join(base_stub_dir, stub_name)
+        install_stub = os.path.join(installed_stub_dir, stub_name)
+        symlink(current_stub, install_stub)
+
     return installed_stub_dir
 
 
 def set_env_var(name, value):
     """Universally set an environment variable."""
     os.environ[py_str(name)] = py_str(value)
 
@@ -445,14 +463,26 @@
     thread.start()
     thread.join()
     logger.log("Stack size used:", old_stack_size, "->", stack_kbs * kilobyte)
     internal_assert(len(out) == 1, "invalid threading results", out)
     return out[0]
 
 
+def proc_run_args(args=()):
+    """Process args to use for coconut-run or the import hook."""
+    args = list(args)
+    if "--verbose" not in args and "--quiet" not in args:
+        args.append("--quiet")
+    for run_arg in coconut_base_run_args:
+        run_arg_name = run_arg.split("=", 1)[0]
+        if not any(arg.startswith(run_arg_name) for arg in args):
+            args.append(run_arg)
+    return args
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # CLASSES:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Prompt(object):
     """Manages prompting for code on the command line."""
     # config options
@@ -475,15 +505,15 @@
             self.suggester = AutoSuggestFromHistory() if use_suggester else None
 
     def set_style(self, style):
         """Set pygments syntax highlighting style."""
         if style == "none":
             self.style = None
         elif prompt_toolkit is None:
-            raise CoconutException("syntax highlighting is not supported on this Python version")
+            raise CoconutException("syntax highlighting requires prompt_toolkit (run 'pip install -U prompt_toolkit' to fix)")
         elif style == "list":
             logger.print("Coconut Styles: none, " + ", ".join(pygments.styles.get_all_styles()))
             sys.exit(0)
         elif style in pygments.styles.get_all_styles():
             self.style = style
         else:
             raise CoconutException("unrecognized pygments style", style, extra="use '--style list' to show all valid styles")
@@ -550,15 +580,15 @@
 
 class Runner(object):
     """Compiled Python executor."""
 
     def __init__(self, comp=None, exit=sys.exit, store=False, path=None):
         """Create the executor."""
         from coconut.api import auto_compilation, use_coconut_breakpoint
-        auto_compilation(on=interpreter_uses_auto_compilation)
+        auto_compilation(on=interpreter_uses_auto_compilation, args=comp.get_cli_args() if comp else None)
         use_coconut_breakpoint(on=interpreter_uses_coconut_breakpoint)
         self.exit = exit
         self.vars = self.build_vars(path, init=True)
         self.stored = [] if store else None
         if comp is not None:
             self.store(comp.getheader("package:0"))
             self.run(comp.getheader("code"), use_eval=False, store=False)
@@ -568,17 +598,16 @@
     @staticmethod
     def build_vars(path=None, init=False):
         """Build initial vars."""
         init_vars = {
             "__name__": "__main__",
             "__package__": None,
             "reload": reload,
+            "__file__": None if path is None else fixpath(path)
         }
-        if path is not None:
-            init_vars["__file__"] = fixpath(path)
         if init:
             # put reserved_vars in for auto-completion purposes only at the very beginning
             for var in reserved_vars:
                 # but don't override any default Python built-ins
                 if var not in dir(builtins):
                     init_vars[var] = None
         return init_vars
@@ -628,15 +657,15 @@
     def run(self, code, use_eval=False, path=None, all_errors_exit=False, store=True):
         """Execute Python code."""
         if use_eval is None:
             run_func = interpret
         elif use_eval:
             run_func = eval
         else:
-            run_func = exec_func
+            run_func = _coconut_exec
         logger.log("Running {func}()...".format(func=getattr(run_func, "__name__", run_func)))
         start_time = get_clock_time()
         result = None
         with self.handling_errors(all_errors_exit):
             if path is None:
                 result = run_func(code, self.vars)
             else:
@@ -667,15 +696,15 @@
             if get_all:
                 self.stored = ["\n".join(self.stored)]
             return self.stored[-1]
 
 
 class multiprocess_wrapper(pickleable_obj):
     """Wrapper for a method that needs to be multiprocessed."""
-    __slots__ = ("base", "method", "rec_limit", "logger", "argv")
+    __slots__ = ("base", "method", "stack_size", "rec_limit", "logger", "argv")
 
     def __init__(self, base, method, stack_size=None, _rec_limit=None, _logger=None, _argv=None):
         """Create new multiprocessable method."""
         self.base = base
         self.method = method
         self.stack_size = stack_size
         self.rec_limit = sys.getrecursionlimit() if _rec_limit is None else _rec_limit
```

### Comparing `coconut-3.0.2/coconut/command/watch.py` & `coconut-3.0.3/coconut/command/watch.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/compiler/__init__.py` & `coconut-3.0.3/coconut/compiler/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/compiler/compiler.py` & `coconut-3.0.3/coconut/compiler/compiler.py`

 * *Files 5% similar despite different names*

```diff
@@ -56,30 +56,28 @@
     closeindent,
     strwrapper,
     errwrapper,
     lnwrapper,
     unwrapper,
     open_chars,
     close_chars,
-    hold_chars,
+    str_chars,
     tabideal,
     match_to_args_var,
     match_to_kwargs_var,
     py3_to_py2_stdlib,
     reserved_prefix,
     function_match_error_var,
     legal_indent_chars,
     format_var,
     none_coalesce_var,
     is_data_var,
     data_defaults_var,
     funcwrapper,
     non_syntactic_newline,
-    indchars,
-    default_whitespace_chars,
     early_passthrough_wrapper,
     super_names,
     custom_op_var,
     all_keywords,
     reserved_compiler_symbols,
     delimiter_symbols,
     reserved_command_symbols,
@@ -95,14 +93,16 @@
     clip,
     logical_lines,
     clean,
     get_target_info,
     get_clock_time,
     get_name,
     assert_remove_prefix,
+    dictset,
+    noop_ctx,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutSyntaxError,
     CoconutParseError,
     CoconutStyleError,
     CoconutTargetError,
@@ -133,15 +133,14 @@
     addskip,
     count_end,
     paren_change,
     ind_change,
     rem_comment,
     split_comment,
     attach,
-    trace_attach,
     split_leading_indent,
     split_trailing_indent,
     split_leading_trailing_indent,
     match_in,
     transform,
     parse,
     all_matches,
@@ -163,14 +162,19 @@
     try_parse,
     does_parse,
     prep_grammar,
     ordered,
     tuple_str_of_str,
     dict_to_str,
     close_char_for,
+    base_keyword,
+    enable_incremental_parsing,
+    get_psf_target,
+    move_loc_to_non_whitespace,
+    move_endpt_to_non_whitespace,
 )
 from coconut.compiler.header import (
     minify_header,
     getheader,
 )
 
 # end: IMPORTS
@@ -195,15 +199,15 @@
         return "(" + tokens[0] + ",)"
     else:
         raise CoconutInternalException("invalid set maker item", tokens[0])
 
 
 def import_stmt(imp_from, imp, imp_as, raw=False):
     """Generate an import statement."""
-    if not raw:
+    if not raw and imp != "*":
         module_path = (imp if imp_from is None else imp_from).split(".", 1)
         existing_imp = import_existing.get(module_path[0])
         if existing_imp is not None:
             return handle_indentation(
                 """
 if _coconut.typing.TYPE_CHECKING:
     {raw_import}
@@ -469,47 +473,66 @@
         lambda self: self.polish,
     ]
 
     def __init__(self, *args, **kwargs):
         """Creates a new compiler with the given parsing parameters."""
         self.setup(*args, **kwargs)
 
-    # changes here should be reflected in __reduce__ and in the stub for coconut.api.setup
-    def setup(self, target=None, strict=False, minify=False, line_numbers=False, keep_lines=False, no_tco=False, no_wrap=False):
+    # changes here should be reflected in __reduce__, get_cli_args, and in the stub for coconut.api.setup
+    def setup(self, target=None, strict=False, minify=False, line_numbers=True, keep_lines=False, no_tco=False, no_wrap=False):
         """Initializes parsing parameters."""
         if target is None:
             target = ""
         else:
             target = str(target)
         if len(target) > 1 and target[1] == ".":
             target = target[:1] + target[2:]
         if "." in target:
             raise CoconutException("target Python version must be major.minor, not major.minor.micro")
         if target == "sys":
             target = sys_target
+        elif target == "psf":
+            target = get_psf_target()
         if target in pseudo_targets:
             target = pseudo_targets[target]
         if target not in targets:
             raise CoconutException(
                 "unsupported target Python version " + repr(target),
-                extra="supported targets are: " + ", ".join(repr(t) for t in specific_targets + tuple(pseudo_targets)) + ", and 'sys'",
+                extra="supported targets are: " + ", ".join(repr(t) for t in specific_targets + tuple(pseudo_targets)) + ", 'sys', 'psf'",
             )
         logger.log_vars("Compiler args:", locals())
         self.target = target
         self.strict = strict
         self.minify = minify
         self.line_numbers = line_numbers
         self.keep_lines = keep_lines
         self.no_tco = no_tco
         self.no_wrap = no_wrap
 
     def __reduce__(self):
         """Return pickling information."""
         return (self.__class__, (self.target, self.strict, self.minify, self.line_numbers, self.keep_lines, self.no_tco, self.no_wrap))
 
+    def get_cli_args(self):
+        """Get the Coconut CLI args that can be used to set up an equivalent compiler."""
+        args = ["--target=" + self.target]
+        if self.strict:
+            args.append("--strict")
+        if self.minify:
+            args.append("--minify")
+        if not self.line_numbers:
+            args.append("--no-line-numbers")
+        if self.keep_lines:
+            args.append("--keep-lines")
+        if self.no_tco:
+            args.append("--no-tco")
+        if self.no_wrap:
+            args.append("--no-wrap-types")
+        return args
+
     def __copy__(self):
         """Create a new, blank copy of the compiler."""
         cls, args = self.__reduce__()
         return cls(*args)
 
     copy = __copy__
 
@@ -539,51 +562,56 @@
 
     def reset(self, keep_state=False, filename=None):
         """Reset references.
 
         IMPORTANT: When adding anything here, consider whether it should also be added to inner_environment.
         """
         self.filename = filename
+        self.outer_ln = None
         self.indchar = None
-        self.comments = {}
+        self.comments = defaultdict(set)
         self.wrapped_type_ignore = None
         self.refs = []
         self.skips = []
         self.docstring = ""
         # need to keep temp_var_counts in interpreter to avoid overwriting typevars
         if self.temp_var_counts is None or not keep_state:
             self.temp_var_counts = defaultdict(int)
+        # but always overwrite temp_vars_by_key since they store locs that will be invalidated
+        self.temp_vars_by_key = {}
         self.parsing_context = defaultdict(list)
         self.unused_imports = defaultdict(list)
         self.kept_lines = []
         self.num_lines = 0
         self.disable_name_check = False
         if self.operators is None or not keep_state:
             self.operators = []
             self.operator_repl_table = []
         self.add_code_before = {}
         self.add_code_before_regexes = {}
         self.add_code_before_replacements = {}
         self.add_code_before_ignore_names = {}
 
     @contextmanager
-    def inner_environment(self):
+    def inner_environment(self, ln=None):
         """Set up compiler to evaluate inner expressions."""
+        outer_ln, self.outer_ln = self.outer_ln, ln
         line_numbers, self.line_numbers = self.line_numbers, False
         keep_lines, self.keep_lines = self.keep_lines, False
-        comments, self.comments = self.comments, {}
+        comments, self.comments = self.comments, defaultdict(dictset)
         wrapped_type_ignore, self.wrapped_type_ignore = self.wrapped_type_ignore, None
         skips, self.skips = self.skips, []
         docstring, self.docstring = self.docstring, ""
         parsing_context, self.parsing_context = self.parsing_context, defaultdict(list)
         kept_lines, self.kept_lines = self.kept_lines, []
         num_lines, self.num_lines = self.num_lines, 0
         try:
             yield
         finally:
+            self.outer_ln = outer_ln
             self.line_numbers = line_numbers
             self.keep_lines = keep_lines
             self.comments = comments
             self.wrapped_type_ignore = wrapped_type_ignore
             self.skips = skips
             self.docstring = docstring
             self.parsing_context = parsing_context
@@ -612,20 +640,30 @@
     def post_transform(self, grammar, text):
         """Version of transform for post-processing."""
         with self.complain_on_err():
             with self.disable_checks():
                 return transform(grammar, text)
         return None
 
-    def get_temp_var(self, base_name="temp"):
+    def get_temp_var(self, base_name="temp", loc=None):
         """Get a unique temporary variable name."""
+        if loc is None:
+            key = None
+        else:
+            key = (base_name, loc)
+        if key is not None:
+            got_name = self.temp_vars_by_key.get(key)
+            if got_name is not None:
+                return got_name
         if self.minify:
             base_name = ""
         var_name = reserved_prefix + "_" + base_name + "_" + str(self.temp_var_counts[base_name])
         self.temp_var_counts[base_name] += 1
+        if key is not None:
+            self.temp_vars_by_key[key] = var_name
         return var_name
 
     @classmethod
     def method(cls, method_name, is_action=None, **kwargs):
         """Get a function that always dispatches to getattr(current_compiler, method_name)$(**kwargs)."""
         cls_method = getattr(cls, method_name)
         if is_action is None:
@@ -650,133 +688,133 @@
         method.trim_arity = False
         return method
 
     @classmethod
     def bind(cls):
         """Binds reference objects to the proper parse actions."""
         # handle parsing_context for class definitions
-        new_classdef = trace_attach(cls.classdef_ref, cls.method("classdef_handle"))
+        new_classdef = attach(cls.classdef_ref, cls.method("classdef_handle"))
         cls.classdef <<= Wrap(new_classdef, cls.method("class_manage"), greedy=True)
 
-        new_datadef = trace_attach(cls.datadef_ref, cls.method("datadef_handle"))
+        new_datadef = attach(cls.datadef_ref, cls.method("datadef_handle"))
         cls.datadef <<= Wrap(new_datadef, cls.method("class_manage"), greedy=True)
 
-        new_match_datadef = trace_attach(cls.match_datadef_ref, cls.method("match_datadef_handle"))
+        new_match_datadef = attach(cls.match_datadef_ref, cls.method("match_datadef_handle"))
         cls.match_datadef <<= Wrap(new_match_datadef, cls.method("class_manage"), greedy=True)
 
         # handle parsing_context for function definitions
-        new_stmt_lambdef = trace_attach(cls.stmt_lambdef_ref, cls.method("stmt_lambdef_handle"))
+        new_stmt_lambdef = attach(cls.stmt_lambdef_ref, cls.method("stmt_lambdef_handle"))
         cls.stmt_lambdef <<= Wrap(new_stmt_lambdef, cls.method("func_manage"), greedy=True)
 
-        new_decoratable_normal_funcdef_stmt = trace_attach(
+        new_decoratable_normal_funcdef_stmt = attach(
             cls.decoratable_normal_funcdef_stmt_ref,
             cls.method("decoratable_funcdef_stmt_handle"),
         )
         cls.decoratable_normal_funcdef_stmt <<= Wrap(new_decoratable_normal_funcdef_stmt, cls.method("func_manage"), greedy=True)
 
-        new_decoratable_async_funcdef_stmt = trace_attach(
+        new_decoratable_async_funcdef_stmt = attach(
             cls.decoratable_async_funcdef_stmt_ref,
             cls.method("decoratable_funcdef_stmt_handle", is_async=True),
         )
         cls.decoratable_async_funcdef_stmt <<= Wrap(new_decoratable_async_funcdef_stmt, cls.method("func_manage"), greedy=True)
 
         # handle parsing_context for type aliases
-        new_type_alias_stmt = trace_attach(cls.type_alias_stmt_ref, cls.method("type_alias_stmt_handle"))
+        new_type_alias_stmt = attach(cls.type_alias_stmt_ref, cls.method("type_alias_stmt_handle"))
         cls.type_alias_stmt <<= Wrap(new_type_alias_stmt, cls.method("type_alias_stmt_manage"), greedy=True)
 
         # greedy handlers (we need to know about them even if suppressed and/or they use the parsing_context)
-        cls.comment <<= trace_attach(cls.comment_tokens, cls.method("comment_handle"), greedy=True)
-        cls.type_param <<= trace_attach(cls.type_param_ref, cls.method("type_param_handle"), greedy=True)
+        cls.comment <<= attach(cls.comment_tokens, cls.method("comment_handle"), greedy=True)
+        cls.type_param <<= attach(cls.type_param_ref, cls.method("type_param_handle"), greedy=True)
 
         # name handlers
         cls.refname <<= attach(cls.name_ref, cls.method("name_handle"))
         cls.setname <<= attach(cls.name_ref, cls.method("name_handle", assign=True))
-        cls.classname <<= trace_attach(cls.name_ref, cls.method("name_handle", assign=True, classname=True), greedy=True)
+        cls.classname <<= attach(cls.name_ref, cls.method("name_handle", assign=True, classname=True), greedy=True)
 
         # abnormally named handlers
-        cls.moduledoc_item <<= trace_attach(cls.moduledoc, cls.method("set_moduledoc"))
+        cls.moduledoc_item <<= attach(cls.moduledoc, cls.method("set_moduledoc"))
         cls.endline <<= attach(cls.endline_ref, cls.method("endline_handle"))
-        cls.normal_pipe_expr <<= trace_attach(cls.normal_pipe_expr_tokens, cls.method("pipe_handle"))
-        cls.return_typedef <<= trace_attach(cls.return_typedef_ref, cls.method("typedef_handle"))
-        cls.power_in_impl_call <<= trace_attach(cls.power, cls.method("power_in_impl_call_check"))
+        cls.normal_pipe_expr <<= attach(cls.normal_pipe_expr_tokens, cls.method("pipe_handle"))
+        cls.return_typedef <<= attach(cls.return_typedef_ref, cls.method("typedef_handle"))
+        cls.power_in_impl_call <<= attach(cls.power, cls.method("power_in_impl_call_check"))
 
         # handle all atom + trailers constructs with item_handle
-        cls.trailer_atom <<= trace_attach(cls.trailer_atom_ref, cls.method("item_handle"))
-        cls.no_partial_trailer_atom <<= trace_attach(cls.no_partial_trailer_atom_ref, cls.method("item_handle"))
-        cls.simple_assign <<= trace_attach(cls.simple_assign_ref, cls.method("item_handle"))
+        cls.trailer_atom <<= attach(cls.trailer_atom_ref, cls.method("item_handle"))
+        cls.no_partial_trailer_atom <<= attach(cls.no_partial_trailer_atom_ref, cls.method("item_handle"))
+        cls.simple_assign <<= attach(cls.simple_assign_ref, cls.method("item_handle"))
 
         # handle all string atoms with string_atom_handle
-        cls.string_atom <<= trace_attach(cls.string_atom_ref, cls.method("string_atom_handle"))
-        cls.f_string_atom <<= trace_attach(cls.f_string_atom_ref, cls.method("string_atom_handle"))
+        cls.string_atom <<= attach(cls.string_atom_ref, cls.method("string_atom_handle"))
+        cls.f_string_atom <<= attach(cls.f_string_atom_ref, cls.method("string_atom_handle"))
 
         # handle all keyword funcdefs with keyword_funcdef_handle
-        cls.keyword_funcdef <<= trace_attach(cls.keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
-        cls.async_keyword_funcdef <<= trace_attach(cls.async_keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+        cls.keyword_funcdef <<= attach(cls.keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
+        cls.async_keyword_funcdef <<= attach(cls.async_keyword_funcdef_ref, cls.method("keyword_funcdef_handle"))
 
-        # standard handlers of the form name <<= trace_attach(name_tokens, method("name_handle")) (implies name_tokens is reused)
-        cls.function_call <<= trace_attach(cls.function_call_tokens, cls.method("function_call_handle"))
-        cls.testlist_star_namedexpr <<= trace_attach(cls.testlist_star_namedexpr_tokens, cls.method("testlist_star_expr_handle"))
-        cls.ellipsis <<= trace_attach(cls.ellipsis_tokens, cls.method("ellipsis_handle"))
-        cls.f_string <<= trace_attach(cls.f_string_tokens, cls.method("f_string_handle"))
-
-        # standard handlers of the form name <<= trace_attach(name_ref, method("name_handle"))
-        cls.term <<= trace_attach(cls.term_ref, cls.method("term_handle"))
-        cls.set_literal <<= trace_attach(cls.set_literal_ref, cls.method("set_literal_handle"))
-        cls.set_letter_literal <<= trace_attach(cls.set_letter_literal_ref, cls.method("set_letter_literal_handle"))
-        cls.import_stmt <<= trace_attach(cls.import_stmt_ref, cls.method("import_handle"))
-        cls.complex_raise_stmt <<= trace_attach(cls.complex_raise_stmt_ref, cls.method("complex_raise_stmt_handle"))
-        cls.augassign_stmt <<= trace_attach(cls.augassign_stmt_ref, cls.method("augassign_stmt_handle"))
-        cls.kwd_augassign <<= trace_attach(cls.kwd_augassign_ref, cls.method("kwd_augassign_handle"))
-        cls.dict_comp <<= trace_attach(cls.dict_comp_ref, cls.method("dict_comp_handle"))
-        cls.destructuring_stmt <<= trace_attach(cls.destructuring_stmt_ref, cls.method("destructuring_stmt_handle"))
-        cls.full_match <<= trace_attach(cls.full_match_ref, cls.method("full_match_handle"))
-        cls.name_match_funcdef <<= trace_attach(cls.name_match_funcdef_ref, cls.method("name_match_funcdef_handle"))
-        cls.op_match_funcdef <<= trace_attach(cls.op_match_funcdef_ref, cls.method("op_match_funcdef_handle"))
-        cls.yield_from <<= trace_attach(cls.yield_from_ref, cls.method("yield_from_handle"))
-        cls.typedef <<= trace_attach(cls.typedef_ref, cls.method("typedef_handle"))
-        cls.typedef_default <<= trace_attach(cls.typedef_default_ref, cls.method("typedef_handle"))
-        cls.unsafe_typedef_default <<= trace_attach(cls.unsafe_typedef_default_ref, cls.method("unsafe_typedef_handle"))
-        cls.typed_assign_stmt <<= trace_attach(cls.typed_assign_stmt_ref, cls.method("typed_assign_stmt_handle"))
-        cls.with_stmt <<= trace_attach(cls.with_stmt_ref, cls.method("with_stmt_handle"))
-        cls.await_expr <<= trace_attach(cls.await_expr_ref, cls.method("await_expr_handle"))
-        cls.cases_stmt <<= trace_attach(cls.cases_stmt_ref, cls.method("cases_stmt_handle"))
-        cls.decorators <<= trace_attach(cls.decorators_ref, cls.method("decorators_handle"))
-        cls.unsafe_typedef_or_expr <<= trace_attach(cls.unsafe_typedef_or_expr_ref, cls.method("unsafe_typedef_or_expr_handle"))
-        cls.testlist_star_expr <<= trace_attach(cls.testlist_star_expr_ref, cls.method("testlist_star_expr_handle"))
-        cls.list_expr <<= trace_attach(cls.list_expr_ref, cls.method("list_expr_handle"))
-        cls.dict_literal <<= trace_attach(cls.dict_literal_ref, cls.method("dict_literal_handle"))
-        cls.new_testlist_star_expr <<= trace_attach(cls.new_testlist_star_expr_ref, cls.method("new_testlist_star_expr_handle"))
-        cls.anon_namedtuple <<= trace_attach(cls.anon_namedtuple_ref, cls.method("anon_namedtuple_handle"))
-        cls.base_match_for_stmt <<= trace_attach(cls.base_match_for_stmt_ref, cls.method("base_match_for_stmt_handle"))
-        cls.async_with_for_stmt <<= trace_attach(cls.async_with_for_stmt_ref, cls.method("async_with_for_stmt_handle"))
-        cls.unsafe_typedef_tuple <<= trace_attach(cls.unsafe_typedef_tuple_ref, cls.method("unsafe_typedef_tuple_handle"))
-        cls.funcname_typeparams <<= trace_attach(cls.funcname_typeparams_ref, cls.method("funcname_typeparams_handle"))
-        cls.impl_call <<= trace_attach(cls.impl_call_ref, cls.method("impl_call_handle"))
-        cls.protocol_intersect_expr <<= trace_attach(cls.protocol_intersect_expr_ref, cls.method("protocol_intersect_expr_handle"))
+        # standard handlers of the form name <<= attach(name_tokens, method("name_handle")) (implies name_tokens is reused)
+        cls.function_call <<= attach(cls.function_call_tokens, cls.method("function_call_handle"))
+        cls.testlist_star_namedexpr <<= attach(cls.testlist_star_namedexpr_tokens, cls.method("testlist_star_expr_handle"))
+        cls.ellipsis <<= attach(cls.ellipsis_tokens, cls.method("ellipsis_handle"))
+        cls.f_string <<= attach(cls.f_string_tokens, cls.method("f_string_handle"))
+
+        # standard handlers of the form name <<= attach(name_ref, method("name_handle"))
+        cls.term <<= attach(cls.term_ref, cls.method("term_handle"))
+        cls.set_literal <<= attach(cls.set_literal_ref, cls.method("set_literal_handle"))
+        cls.set_letter_literal <<= attach(cls.set_letter_literal_ref, cls.method("set_letter_literal_handle"))
+        cls.import_stmt <<= attach(cls.import_stmt_ref, cls.method("import_handle"))
+        cls.complex_raise_stmt <<= attach(cls.complex_raise_stmt_ref, cls.method("complex_raise_stmt_handle"))
+        cls.augassign_stmt <<= attach(cls.augassign_stmt_ref, cls.method("augassign_stmt_handle"))
+        cls.kwd_augassign <<= attach(cls.kwd_augassign_ref, cls.method("kwd_augassign_handle"))
+        cls.dict_comp <<= attach(cls.dict_comp_ref, cls.method("dict_comp_handle"))
+        cls.destructuring_stmt <<= attach(cls.destructuring_stmt_ref, cls.method("destructuring_stmt_handle"))
+        cls.full_match <<= attach(cls.full_match_ref, cls.method("full_match_handle"))
+        cls.name_match_funcdef <<= attach(cls.name_match_funcdef_ref, cls.method("name_match_funcdef_handle"))
+        cls.op_match_funcdef <<= attach(cls.op_match_funcdef_ref, cls.method("op_match_funcdef_handle"))
+        cls.yield_from <<= attach(cls.yield_from_ref, cls.method("yield_from_handle"))
+        cls.typedef <<= attach(cls.typedef_ref, cls.method("typedef_handle"))
+        cls.typedef_default <<= attach(cls.typedef_default_ref, cls.method("typedef_handle"))
+        cls.unsafe_typedef_default <<= attach(cls.unsafe_typedef_default_ref, cls.method("unsafe_typedef_handle"))
+        cls.typed_assign_stmt <<= attach(cls.typed_assign_stmt_ref, cls.method("typed_assign_stmt_handle"))
+        cls.with_stmt <<= attach(cls.with_stmt_ref, cls.method("with_stmt_handle"))
+        cls.await_expr <<= attach(cls.await_expr_ref, cls.method("await_expr_handle"))
+        cls.cases_stmt <<= attach(cls.cases_stmt_ref, cls.method("cases_stmt_handle"))
+        cls.decorators <<= attach(cls.decorators_ref, cls.method("decorators_handle"))
+        cls.unsafe_typedef_or_expr <<= attach(cls.unsafe_typedef_or_expr_ref, cls.method("unsafe_typedef_or_expr_handle"))
+        cls.testlist_star_expr <<= attach(cls.testlist_star_expr_ref, cls.method("testlist_star_expr_handle"))
+        cls.list_expr <<= attach(cls.list_expr_ref, cls.method("list_expr_handle"))
+        cls.dict_literal <<= attach(cls.dict_literal_ref, cls.method("dict_literal_handle"))
+        cls.new_testlist_star_expr <<= attach(cls.new_testlist_star_expr_ref, cls.method("new_testlist_star_expr_handle"))
+        cls.anon_namedtuple <<= attach(cls.anon_namedtuple_ref, cls.method("anon_namedtuple_handle"))
+        cls.base_match_for_stmt <<= attach(cls.base_match_for_stmt_ref, cls.method("base_match_for_stmt_handle"))
+        cls.async_with_for_stmt <<= attach(cls.async_with_for_stmt_ref, cls.method("async_with_for_stmt_handle"))
+        cls.unsafe_typedef_tuple <<= attach(cls.unsafe_typedef_tuple_ref, cls.method("unsafe_typedef_tuple_handle"))
+        cls.funcname_typeparams <<= attach(cls.funcname_typeparams_ref, cls.method("funcname_typeparams_handle"))
+        cls.impl_call <<= attach(cls.impl_call_ref, cls.method("impl_call_handle"))
+        cls.protocol_intersect_expr <<= attach(cls.protocol_intersect_expr_ref, cls.method("protocol_intersect_expr_handle"))
 
         # these handlers just do strict/target checking
-        cls.u_string <<= trace_attach(cls.u_string_ref, cls.method("u_string_check"))
-        cls.nonlocal_stmt <<= trace_attach(cls.nonlocal_stmt_ref, cls.method("nonlocal_check"))
-        cls.star_assign_item <<= trace_attach(cls.star_assign_item_ref, cls.method("star_assign_item_check"))
-        cls.classic_lambdef <<= trace_attach(cls.classic_lambdef_ref, cls.method("lambdef_check"))
-        cls.star_sep_arg <<= trace_attach(cls.star_sep_arg_ref, cls.method("star_sep_check"))
-        cls.star_sep_setarg <<= trace_attach(cls.star_sep_setarg_ref, cls.method("star_sep_check"))
-        cls.slash_sep_arg <<= trace_attach(cls.slash_sep_arg_ref, cls.method("slash_sep_check"))
-        cls.slash_sep_setarg <<= trace_attach(cls.slash_sep_setarg_ref, cls.method("slash_sep_check"))
-        cls.endline_semicolon <<= trace_attach(cls.endline_semicolon_ref, cls.method("endline_semicolon_check"))
-        cls.async_stmt <<= trace_attach(cls.async_stmt_ref, cls.method("async_stmt_check"))
-        cls.async_comp_for <<= trace_attach(cls.async_comp_for_ref, cls.method("async_comp_check"))
-        cls.namedexpr <<= trace_attach(cls.namedexpr_ref, cls.method("namedexpr_check"))
-        cls.new_namedexpr <<= trace_attach(cls.new_namedexpr_ref, cls.method("new_namedexpr_check"))
-        cls.match_dotted_name_const <<= trace_attach(cls.match_dotted_name_const_ref, cls.method("match_dotted_name_const_check"))
-        cls.except_star_clause <<= trace_attach(cls.except_star_clause_ref, cls.method("except_star_clause_check"))
-        cls.subscript_star <<= trace_attach(cls.subscript_star_ref, cls.method("subscript_star_check"))
+        cls.u_string <<= attach(cls.u_string_ref, cls.method("u_string_check"))
+        cls.nonlocal_stmt <<= attach(cls.nonlocal_stmt_ref, cls.method("nonlocal_check"))
+        cls.star_assign_item <<= attach(cls.star_assign_item_ref, cls.method("star_assign_item_check"))
+        cls.keyword_lambdef <<= attach(cls.keyword_lambdef_ref, cls.method("lambdef_check"))
+        cls.star_sep_arg <<= attach(cls.star_sep_arg_ref, cls.method("star_sep_check"))
+        cls.star_sep_setarg <<= attach(cls.star_sep_setarg_ref, cls.method("star_sep_check"))
+        cls.slash_sep_arg <<= attach(cls.slash_sep_arg_ref, cls.method("slash_sep_check"))
+        cls.slash_sep_setarg <<= attach(cls.slash_sep_setarg_ref, cls.method("slash_sep_check"))
+        cls.endline_semicolon <<= attach(cls.endline_semicolon_ref, cls.method("endline_semicolon_check"))
+        cls.async_stmt <<= attach(cls.async_stmt_ref, cls.method("async_stmt_check"))
+        cls.async_comp_for <<= attach(cls.async_comp_for_ref, cls.method("async_comp_check"))
+        cls.namedexpr <<= attach(cls.namedexpr_ref, cls.method("namedexpr_check"))
+        cls.new_namedexpr <<= attach(cls.new_namedexpr_ref, cls.method("new_namedexpr_check"))
+        cls.match_dotted_name_const <<= attach(cls.match_dotted_name_const_ref, cls.method("match_dotted_name_const_check"))
+        cls.except_star_clause <<= attach(cls.except_star_clause_ref, cls.method("except_star_clause_check"))
+        cls.subscript_star <<= attach(cls.subscript_star_ref, cls.method("subscript_star_check"))
 
         # these checking handlers need to be greedy since they can be suppressed
-        cls.match_check_equals <<= trace_attach(cls.match_check_equals_ref, cls.method("match_check_equals_check"), greedy=True)
+        cls.match_check_equals <<= attach(cls.match_check_equals_ref, cls.method("match_check_equals_check"), greedy=True)
 
     def copy_skips(self):
         """Copy the line skips."""
         return self.skips[:]
 
     def set_skips(self, skips):
         """Set the line skips."""
@@ -800,27 +838,39 @@
                 adj_ln = i
         return adj_ln + need_unskipped
 
     def reformat_post_deferred_code_proc(self, snip):
         """Do post-processing that comes after deferred_code_proc."""
         return self.apply_procs(self.reformatprocs[1:], snip, reformatting=True, log=False)
 
-    def reformat(self, snip, *indices, **kwargs):
+    def reformat(self, snip, **kwargs):
         """Post process a preprocessed snippet."""
         internal_assert("ignore_errors" in kwargs, "reformat() missing required keyword argument: 'ignore_errors'")
-        if not indices:
-            with self.complain_on_err():
-                return self.apply_procs(self.reformatprocs, snip, reformatting=True, log=False, **kwargs)
-            return snip
-        else:
-            internal_assert(kwargs.get("ignore_errors", False), "cannot reformat with indices and ignore_errors=False")
-            return (
-                (self.reformat(snip, **kwargs),)
-                + tuple(len(self.reformat(snip[:index], **kwargs)) for index in indices)
-            )
+        with self.complain_on_err():
+            return self.apply_procs(self.reformatprocs, snip, reformatting=True, log=False, **kwargs)
+        return snip
+
+    def reformat_locs(self, snip, loc, endpt=None, **kwargs):
+        """Reformats a snippet and adjusts the locations in it."""
+        internal_assert("ignore_errors" not in kwargs, "cannot pass ignore_errors to reformat_locs")
+        kwargs["ignore_errors"] = True
+
+        new_snip = self.reformat(snip, **kwargs)
+        new_loc = move_loc_to_non_whitespace(
+            new_snip,
+            len(self.reformat(snip[:loc], **kwargs)),
+        )
+        if endpt is None:
+            return new_snip, new_loc
+
+        new_endpt = move_endpt_to_non_whitespace(
+            new_snip,
+            len(self.reformat(snip[:endpt], **kwargs)),
+        )
+        return new_snip, new_loc, new_endpt
 
     def reformat_without_adding_code_before(self, code, **kwargs):
         """Reformats without adding code before and instead returns what would have been added."""
         got_code_to_add_before = {}
         reformatted_code = self.reformat(code, put_code_to_add_before_in=got_code_to_add_before, **kwargs)
         return reformatted_code, tuple(got_code_to_add_before.keys()), got_code_to_add_before.values()
 
@@ -846,38 +896,47 @@
 
     def strict_err(self, *args, **kwargs):
         """Raise a CoconutStyleError if in strict mode."""
         internal_assert("extra" not in kwargs, "cannot pass extra=... to strict_err")
         if self.strict:
             raise self.make_err(CoconutStyleError, *args, **kwargs)
 
+    def syntax_warning(self, *args, **kwargs):
+        """Show a CoconutSyntaxWarning. Usage:
+            self.syntax_warning(message, original, loc)
+        """
+        logger.warn_err(self.make_err(CoconutSyntaxWarning, *args, **kwargs))
+
     def strict_err_or_warn(self, *args, **kwargs):
-        """Raises an error if in strict mode, otherwise raises a warning."""
+        """Raises an error if in strict mode, otherwise raises a warning. Usage:
+            self.strict_err_or_warn(message, original, loc)
+        """
         internal_assert("extra" not in kwargs, "cannot pass extra=... to strict_err_or_warn")
         if self.strict:
             kwargs["extra"] = "remove --strict to downgrade to a warning"
             raise self.make_err(CoconutStyleError, *args, **kwargs)
         else:
-            logger.warn_err(self.make_err(CoconutSyntaxWarning, *args, **kwargs))
+            self.syntax_warning(*args, **kwargs)
 
     @contextmanager
     def complain_on_err(self):
         """Complain about any parsing-related errors raised inside."""
         try:
             yield
         except ParseBaseException as err:
             # don't reformat, since we might have gotten here because reformat failed
-            complain(self.make_parse_err(err, reformat=False, include_ln=False))
+            complain(self.make_parse_err(err, include_ln=False, reformat=False, endpoint=True))
         except CoconutException as err:
             complain(err)
 
-    def remove_strs(self, inputstring):
+    def remove_strs(self, inputstring, inner_environment=True):
         """Remove strings/comments from the given input."""
         with self.complain_on_err():
-            return self.str_proc(inputstring)
+            with (self.inner_environment() if inner_environment else noop_ctx()):
+                return self.str_proc(inputstring)
         return inputstring
 
     def get_matcher(self, original, loc, check_var, name_list=None):
         """Get a Matcher object."""
         return Matcher(self, original, loc, check_var, name_list=name_list)
 
     def add_ref(self, reftype, data):
@@ -892,27 +951,49 @@
             got_reftype, data = self.refs[int(index)]
         except (IndexError, ValueError):
             raise CoconutInternalException(
                 "no reference at invalid index",
                 index,
                 extra="max index: {max_index}; wanted reftype: {reftype}".format(max_index=len(self.refs) - 1, reftype=reftype),
             )
-        internal_assert(
-            got_reftype == reftype,
-            "wanted {reftype} reference; got {got_reftype} reference".format(reftype=reftype, got_reftype=got_reftype),
-            extra="index: {index}; data: {data!r}".format(index=index, data=data),
-        )
-        return data
+        if reftype is None:
+            return got_reftype, data
+        else:
+            internal_assert(
+                got_reftype == reftype,
+                "wanted {reftype} reference; got {got_reftype} reference".format(reftype=reftype, got_reftype=got_reftype),
+                extra="index: {index}; data: {data!r}".format(index=index, data=data),
+            )
+            return data
+
+    def get_str_ref(self, index, reformatting):
+        """Get a reference to a string."""
+        if reformatting:
+            reftype, data = self.get_ref(None, index)
+            if reftype == "str":
+                return data
+            elif reftype == "f_str":
+                strchar, string_parts, exprs = data
+                text = interleaved_join(string_parts, exprs)
+                return text, strchar
+            else:
+                raise CoconutInternalException("unknown str ref type", reftype)
+        else:
+            return self.get_ref("str", index)
 
     def wrap_str(self, text, strchar, multiline=False):
         """Wrap a string."""
         if multiline:
             strchar *= 3
         return strwrapper + self.add_ref("str", (text, strchar)) + unwrapper
 
+    def wrap_f_str(self, strchar, string_parts, exprs):
+        """Wrap a format string."""
+        return strwrapper + self.add_ref("f_str", (strchar, string_parts, exprs)) + unwrapper
+
     def wrap_str_of(self, text, expect_bytes=False):
         """Wrap a string of a string."""
         text_repr = ascii(text)
         if expect_bytes:
             internal_assert(text_repr[0] == "b", "expected bytes but got str", text)
             text_repr = text_repr[1:]
         internal_assert(text_repr[0] == text_repr[-1] and text_repr[0] in ("'", '"'), "cannot wrap str of", text)
@@ -1003,116 +1084,134 @@
         return header
 
     @property
     def target_info(self):
         """Return information on the current target as a version tuple."""
         return get_target_info(self.target)
 
-    def make_err(self, errtype, message, original, loc=0, ln=None, extra=None, reformat=True, endpoint=False, include_causes=False, **kwargs):
+    def make_err(self, errtype, message, original, loc=0, ln=None, extra=None, reformat=True, endpoint=None, include_causes=False, **kwargs):
         """Generate an error of the specified type."""
+        logger.log_loc("raw_loc", original, loc)
+        logger.log_loc("raw_endpoint", original, endpoint)
+
         # move loc back to end of most recent actual text
-        while loc >= 2 and original[loc - 1:loc + 1].rstrip("".join(indchars) + default_whitespace_chars) == "":
-            loc -= 1
+        loc = move_loc_to_non_whitespace(original, loc)
+        logger.log_loc("loc", original, loc)
 
-        # get endpoint and line number
+        # get endpoint
+        if endpoint is None:
+            endpoint = reformat
         if endpoint is False:
             endpoint = loc
-        elif endpoint is True:
-            endpoint = clip(get_highest_parse_loc() + 1, min=loc)
         else:
-            endpoint = clip(endpoint, min=loc)
+            if endpoint is True:
+                endpoint = get_highest_parse_loc(original)
+                logger.log_loc("highest_parse_loc", original, endpoint)
+            endpoint = clip(
+                move_endpt_to_non_whitespace(original, endpoint, backwards=True),
+                min=loc,
+            )
+        logger.log_loc("endpoint", original, endpoint)
+
+        # get line number
         if ln is None:
-            ln = self.adjust(lineno(loc, original))
+            ln = self.outer_ln or self.adjust(lineno(loc, original))
 
         # get line indices for the error locs
         original_lines = tuple(logical_lines(original, True))
         loc_line_ind = clip(lineno(loc, original) - 1, max=len(original_lines) - 1)
 
         # build the source snippet that the error is referring to
         endpt_line_ind = lineno(endpoint, original) - 1
         snippet = "".join(original_lines[loc_line_ind:endpt_line_ind + 1])
 
         # fix error locations to correspond to the snippet
         loc_in_snip = getcol(loc, original) - 1
         endpt_in_snip = endpoint - sum(len(line) for line in original_lines[:loc_line_ind])
+        logger.log_loc("loc_in_snip", snippet, loc_in_snip)
+        logger.log_loc("endpt_in_snip", snippet, endpt_in_snip)
 
         # determine possible causes
         if include_causes:
             self.internal_assert(extra is None, original, loc, "make_err cannot include causes with extra")
-            causes = set()
+            causes = dictset()
             for cause, _, _ in all_matches(self.parse_err_msg, snippet[loc_in_snip:]):
                 causes.add(cause)
             for cause, _, _ in all_matches(self.parse_err_msg, snippet[endpt_in_snip:]):
                 causes.add(cause)
             if causes:
                 extra = "possible cause{s}: {causes}".format(
                     s="s" if len(causes) > 1 else "",
                     causes=", ".join(ordered(causes)),
                 )
             else:
                 extra = None
 
         # reformat the snippet and fix error locations to match
         if reformat:
-            snippet, loc_in_snip, endpt_in_snip = self.reformat(snippet, loc_in_snip, endpt_in_snip, ignore_errors=True)
+            snippet, loc_in_snip, endpt_in_snip = self.reformat_locs(snippet, loc_in_snip, endpt_in_snip)
+            logger.log_loc("reformatted_loc", snippet, loc_in_snip)
+            logger.log_loc("reformatted_endpt", snippet, endpt_in_snip)
 
         if extra is not None:
             kwargs["extra"] = extra
         return errtype(message, snippet, loc_in_snip, ln, endpoint=endpt_in_snip, filename=self.filename, **kwargs)
 
     def make_syntax_err(self, err, original):
         """Make a CoconutSyntaxError from a CoconutDeferredSyntaxError."""
         msg, loc = err.args
-        return self.make_err(CoconutSyntaxError, msg, original, loc, endpoint=True)
+        return self.make_err(CoconutSyntaxError, msg, original, loc)
 
     def make_parse_err(self, err, msg=None, include_ln=True, **kwargs):
         """Make a CoconutParseError from a ParseBaseException."""
         original = err.pstr
         loc = err.loc
         ln = self.adjust(err.lineno) if include_ln else None
 
-        return self.make_err(CoconutParseError, msg, original, loc, ln, endpoint=True, include_causes=True, **kwargs)
+        return self.make_err(CoconutParseError, msg, original, loc, ln, include_causes=True, **kwargs)
 
     def make_internal_syntax_err(self, original, loc, msg, item, extra):
         """Make a CoconutInternalSyntaxError."""
         message = msg + ": " + repr(item)
-        return self.make_err(CoconutInternalSyntaxError, message, original, loc, extra=extra, endpoint=True)
+        return self.make_err(CoconutInternalSyntaxError, message, original, loc, extra=extra)
 
     def internal_assert(self, cond, original, loc, msg=None, item=None):
         """Version of internal_assert that raises CoconutInternalSyntaxErrors."""
         if not cond or callable(cond):  # avoid the overhead of another call if we know the assert will pass
             internal_assert(cond, msg, item, exc_maker=partial(self.make_internal_syntax_err, original, loc))
 
     def inner_parse_eval(
         self,
+        original,
+        loc,
         inputstring,
         parser=None,
         preargs={"strip": True},
         postargs={"header": "none", "initial": "none", "final_endline": False},
     ):
         """Parse eval code in an inner environment."""
         if parser is None:
             parser = self.eval_parser
-        with self.inner_environment():
+        with self.inner_environment(ln=self.adjust(lineno(loc, original))):
             self.streamline(parser, inputstring)
             pre_procd = self.pre(inputstring, **preargs)
             parsed = parse(parser, pre_procd)
             return self.post(parsed, **postargs)
 
     @contextmanager
     def parsing(self, keep_state=False, filename=None):
         """Acquire the lock and reset the parser."""
         with self.lock:
             self.reset(keep_state, filename)
             self.current_compiler[0] = self
             yield
 
-    def streamline(self, grammar, inputstring=""):
+    def streamline(self, grammar, inputstring="", force=False):
         """Streamline the given grammar for the given inputstring."""
-        if streamline_grammar_for_len is not None and len(inputstring) >= streamline_grammar_for_len:
+        if force or (streamline_grammar_for_len is not None and len(inputstring) >= streamline_grammar_for_len):
             start_time = get_clock_time()
             prep_grammar(grammar, streamline=True)
             logger.log_lambda(
                 lambda: "Streamlined {grammar} in {time} seconds (streamlined due to receiving input of length {length}).".format(
                     grammar=get_name(grammar),
                     time=get_clock_time() - start_time,
                     length=len(inputstring),
@@ -1124,15 +1223,15 @@
     def run_final_checks(self, original, keep_state=False):
         """Run post-parsing checks to raise any necessary errors/warnings."""
         # only check for unused imports if we're not keeping state accross parses
         if not keep_state:
             for name, locs in self.unused_imports.items():
                 for loc in locs:
                     ln = self.adjust(lineno(loc, original))
-                    comment = self.reformat(self.comments.get(ln, ""), ignore_errors=True)
+                    comment = self.reformat(" ".join(self.comments[ln]), ignore_errors=True)
                     if not self.noqa_regex.search(comment):
                         self.strict_err_or_warn(
                             "found unused import " + repr(self.reformat(name, ignore_errors=True)) + " (add '# NOQA' to suppress)",
                             original,
                             loc,
                         )
 
@@ -1176,102 +1275,227 @@
         if self.keep_lines:
             self.kept_lines = kept_lines
         inputstring = "\n".join(kept_lines)
         if strip:
             inputstring = inputstring.strip()
         return inputstring
 
+    def wrap_str_hold(self, hold):
+        """Wrap a string hold from str_proc."""
+        if hold["type"] == "string":
+            return self.wrap_str(hold["contents"], hold["start"])
+        elif hold["type"] == "f string":
+            return self.wrap_f_str(hold["start"], hold["str_parts"], hold["exprs"])
+        else:
+            raise CoconutInternalException("invalid str_proc hold type", hold["type"])
+
+    def str_hold_contents(self, hold, append=None):
+        """Get the contents of a string hold from str_proc."""
+        if hold["type"] == "string":
+            if append is not None:
+                hold["contents"] += append
+            return hold["contents"]
+        elif hold["type"] == "f string":
+            if append is not None:
+                hold["str_parts"][-1] += append
+            return hold["str_parts"][-1]
+        else:
+            raise CoconutInternalException("invalid str_proc hold type", hold["type"])
+
     def str_proc(self, inputstring, **kwargs):
         """Process strings and comments."""
         out = []
         found = None  # store of characters that might be the start of a string
-        hold = None
-        # hold = [_comment]:
-        _comment = 0  # the contents of the comment so far
-        # hold = [_contents, _start, _stop]:
-        _contents = 0  # the contents of the string so far
-        _start = 1  # the string of characters that started the string
-        _stop = 2  # store of characters that might be the end of the string
+        hold = None  # dictionary of information on the string/comment we're currently in
         skips = self.copy_skips()
 
-        x = 0
-        while x <= len(inputstring):
+        i = 0
+        while i <= len(inputstring):
             try:
-                c = inputstring[x]
+                c = inputstring[i]
             except IndexError:
-                internal_assert(x == len(inputstring), "invalid index in str_proc", (inputstring, x))
+                internal_assert(i == len(inputstring), "invalid index in str_proc", (inputstring, i))
                 c = "\n"
 
             if hold is not None:
-                if len(hold) == 1:  # hold == [_comment]
+                internal_assert(found is None, "str_proc error, got both hold and found", (hold, found))
+                if hold["type"] == "comment":
                     if c == "\n":
-                        out += [self.wrap_comment(hold[_comment]), c]
+                        out += [self.wrap_comment(hold["comment"]), c]
                         hold = None
                     else:
-                        hold[_comment] += c
-                elif hold[_stop] is not None:
-                    if c == "\\":
-                        hold[_contents] += hold[_stop] + c
-                        hold[_stop] = None
-                    elif c == hold[_start][0]:
-                        hold[_stop] += c
-                    elif len(hold[_stop]) > len(hold[_start]):
-                        raise self.make_err(CoconutSyntaxError, "invalid number of closing " + repr(hold[_start][0]) + "s", inputstring, x, reformat=False)
-                    elif hold[_stop] == hold[_start]:
-                        out.append(self.wrap_str(hold[_contents], hold[_start][0], True))
-                        hold = None
-                        x -= 1
-                    else:
-                        if c == "\n":
-                            if len(hold[_start]) == 1:
-                                raise self.make_err(CoconutSyntaxError, "linebreak in non-multiline string", inputstring, x, reformat=False)
-                            skips = addskip(skips, self.adjust(lineno(x, inputstring)))
-                        hold[_contents] += hold[_stop] + c
-                        hold[_stop] = None
-                elif count_end(hold[_contents], "\\") % 2 == 1:
-                    if c == "\n":
-                        skips = addskip(skips, self.adjust(lineno(x, inputstring)))
-                    hold[_contents] += c
-                elif c == hold[_start]:
-                    out.append(self.wrap_str(hold[_contents], hold[_start], False))
-                    hold = None
-                elif c == hold[_start][0]:
-                    hold[_stop] = c
+                        hold["comment"] += c
+
                 else:
-                    if c == "\n":
-                        if len(hold[_start]) == 1:
-                            raise self.make_err(CoconutSyntaxError, "linebreak in non-multiline string", inputstring, x, reformat=False)
-                        skips = addskip(skips, self.adjust(lineno(x, inputstring)))
-                    hold[_contents] += c
+                    if hold["type"] == "string":
+                        is_f = False
+                    elif hold["type"] == "f string":
+                        is_f = True
+                    else:
+                        raise CoconutInternalException("invalid str_proc string hold type", hold["type"])
+                    done = False  # whether the string is finished
+                    rerun = False  # whether we want to rerun the loop with the same i next iteration
+
+                    # if we're inside an f string expr
+                    if hold.get("in_expr", False):
+                        internal_assert(is_f, "in_expr should only be for f string holds, not", hold)
+                        remaining_text = inputstring[i:]
+                        str_start, str_stop = parse_where(self.string_start, remaining_text)
+                        if str_start is not None:  # str_start >= 0; if > 0 means there is whitespace before the string
+                            hold["exprs"][-1] += remaining_text[:str_stop]
+                            # add any skips from where we're fast-forwarding (except don't include c since we handle that below)
+                            for j in range(1, str_stop):
+                                if inputstring[i + j] == "\n":
+                                    skips = addskip(skips, self.adjust(lineno(i + j, inputstring)))
+                            i += str_stop - 1
+                        elif hold["paren_level"] < 0:
+                            hold["paren_level"] += paren_change(c)
+                            hold["exprs"][-1] += c
+                        elif hold["paren_level"] > 0:
+                            raise self.make_err(CoconutSyntaxError, "imbalanced parentheses in format string expression", inputstring, i, reformat=False)
+                        elif match_in(self.end_f_str_expr, remaining_text):
+                            hold["in_expr"] = False
+                            hold["str_parts"].append(c)
+                        else:
+                            hold["paren_level"] += paren_change(c)
+                            hold["exprs"][-1] += c
+
+                    # if we might be at the end of the string
+                    elif hold["stop"] is not None:
+                        if c == "\\":
+                            self.str_hold_contents(hold, append=hold["stop"] + c)
+                            hold["stop"] = None
+                        elif c == hold["start"][0]:
+                            hold["stop"] += c
+                        elif len(hold["stop"]) > len(hold["start"]):
+                            raise self.make_err(CoconutSyntaxError, "invalid number of closing " + repr(hold["start"][0]) + "s", inputstring, i, reformat=False)
+                        elif hold["stop"] == hold["start"]:
+                            done = True
+                            rerun = True
+                        else:
+                            self.str_hold_contents(hold, append=hold["stop"] + c)
+                            hold["stop"] = None
+
+                    # if we might be at the start of an f string expr
+                    elif hold.get("saw_brace", False):
+                        internal_assert(is_f, "saw_brace should only be for f string holds, not", hold)
+                        hold["saw_brace"] = False
+                        if c == "{":
+                            self.str_hold_contents(hold, append=c)
+                        elif c == "}":
+                            raise self.make_err(CoconutSyntaxError, "empty expression in format string", inputstring, i, reformat=False)
+                        else:
+                            hold["in_expr"] = True
+                            hold["exprs"].append("")
+                            rerun = True
+
+                    elif count_end(self.str_hold_contents(hold), "\\") % 2 == 1:
+                        self.str_hold_contents(hold, append=c)
+                    elif c == hold["start"]:
+                        done = True
+                    elif c == hold["start"][0]:
+                        hold["stop"] = c
+                    elif is_f and c == "{":
+                        hold["saw_brace"] = True
+                        self.str_hold_contents(hold, append=c)
+                    else:
+                        self.str_hold_contents(hold, append=c)
+
+                    if rerun:
+                        i -= 1
+
+                    # wrap the string if it's complete
+                    if done:
+                        if is_f:
+                            # handle dangling detections
+                            if hold["saw_brace"]:
+                                raise self.make_err(CoconutSyntaxError, "format string ends with unescaped brace (escape by doubling to '{{')", inputstring, i, reformat=False)
+                            if hold["in_expr"]:
+                                raise self.make_err(CoconutSyntaxError, "imbalanced braces in format string (escape braces by doubling to '{{' and '}}')", inputstring, i, reformat=False)
+                        out.append(self.wrap_str_hold(hold))
+                        hold = None
+                    # add a line skip if c is inside the string (not done) and we wont be seeing this c again (not rerun)
+                    elif not rerun and c == "\n":
+                        if not hold.get("in_expr", False) and len(hold["start"]) == 1:
+                            raise self.make_err(CoconutSyntaxError, "linebreak in non-multi-line string", inputstring, i, reformat=False)
+                        skips = addskip(skips, self.adjust(lineno(i, inputstring)))
+
             elif found is not None:
+
+                # determine if we're at the start of a string
                 if c == found[0] and len(found) < 3:
                     found += c
                 elif len(found) == 1:  # found == "_"
-                    hold = ["", found, None]  # [_contents, _start, _stop]
+                    hold = {
+                        "start": found,
+                        "stop": None,
+                        "contents": ""
+                    }
                     found = None
-                    x -= 1
+                    i -= 1
                 elif len(found) == 2:  # found == "__"
-                    out.append(self.wrap_str("", found[0], False))
+                    # empty string; will be wrapped immediately below
+                    hold = {
+                        "start": found[0],
+                        "stop": found[-1],
+                    }
                     found = None
-                    x -= 1
+                    i -= 1
                 else:  # found == "___"
                     internal_assert(len(found) == 3, "invalid number of string starts", found)
-                    hold = ["", found, None]  # [_contents, _start, _stop]
+                    hold = {
+                        "start": found,
+                        "stop": None,
+                    }
                     found = None
-                    x -= 1
+                    i -= 1
+
+                # start the string hold if we're at the start of a string
+                if hold is not None:
+                    is_f = False
+                    j = i - len(hold["start"])
+                    while j >= 0:
+                        prev_c = inputstring[j]
+                        if prev_c == "f":
+                            is_f = True
+                            break
+                        elif prev_c != "r":
+                            break
+                        j -= 1
+                    if is_f:
+                        hold.update({
+                            "type": "f string",
+                            "str_parts": [""],
+                            "exprs": [],
+                            "saw_brace": False,
+                            "in_expr": False,
+                            "paren_level": 0,
+                        })
+                    else:
+                        hold.update({
+                            "type": "string",
+                            "contents": "",
+                        })
+                    if hold["stop"]:  # empty string; wrap immediately
+                        out.append(self.wrap_str_hold(hold))
+                        hold = None
+
             elif c == "#":
-                hold = [""]  # [_comment]
-            elif c in hold_chars:
+                hold = {
+                    "type": "comment",
+                    "comment": "",
+                }
+            elif c in str_chars:
                 found = c
             else:
                 out.append(c)
-            x += 1
+            i += 1
 
         if hold is not None or found is not None:
-            raise self.make_err(CoconutSyntaxError, "unclosed string", inputstring, x, reformat=False)
+            raise self.make_err(CoconutSyntaxError, "unclosed string", inputstring, i, reformat=False)
 
         self.set_skips(skips)
         return "".join(out)
 
     def passthrough_proc(self, inputstring, **kwargs):
         """Process python passthroughs."""
         out = []
@@ -1469,15 +1693,15 @@
                     opens.append((c, line, i, self.adjust(len(new)), line_id))
                 elif c in close_chars:
                     if not opens:
                         raise self.make_err(CoconutSyntaxError, "unmatched close " + repr(c), line, i, self.adjust(len(new)))
                     open_char, _, open_col_ind, _, open_line_id = opens.pop()
                     if c != close_char_for(open_char):
                         if open_line_id is line_id:
-                            err_kwargs = {"loc": open_col_ind, "endpoint": i + 1}
+                            err_kwargs = {"loc": open_col_ind, "endpoint": i}
                         else:
                             err_kwargs = {"loc": i}
                         raise self.make_err(
                             CoconutSyntaxError,
                             "mismatched open " + repr(open_char) + " and close " + repr(c),
                             original=line,
                             ln=self.adjust(len(new)),
@@ -1599,15 +1823,15 @@
                         #  since there are circumstances where the compiler will reorder lines
                         ln = new_ln
                         add_one_to_ln = True
 
                 # add comments based on source line number
                 src_ln = self.adjust(ln)
                 if not reformatting or has_wrapped_ln:
-                    line += self.comments.get(src_ln, "")
+                    line += " ".join(self.comments[src_ln])
                 if not reformatting and line.rstrip() and not line.lstrip().startswith("#"):
                     line += self.ln_comment(src_ln)
 
             except CoconutInternalException as err:
                 if not ignore_errors:
                     complain(err)
 
@@ -1652,15 +1876,15 @@
                     out += [wrap_char, index]
                     index = None
                 if c is not None:
                     out.append(c)
 
         return "".join(out)
 
-    def str_repl(self, inputstring, ignore_errors=False, **kwargs):
+    def str_repl(self, inputstring, reformatting=False, ignore_errors=False, **kwargs):
         """Add back strings and comments."""
         out = []
         comment = None
         string = None
 
         for i, c in enumerate(append_it(inputstring, None)):
             try:
@@ -1678,15 +1902,15 @@
                         comment = None
                     else:
                         raise CoconutInternalException("invalid comment marker in", getline(i, inputstring))
                 elif string is not None:
                     if c is not None and c in nums:
                         string += c
                     elif c == unwrapper and string:
-                        text, strchar = self.get_ref("str", string)
+                        text, strchar = self.get_str_ref(string, reformatting)
                         out += [strchar, text, strchar]
                         string = None
                     else:
                         raise CoconutInternalException("invalid string marker in", getline(i, inputstring))
                 elif c is not None:
                     if c == "#":
                         comment = ""
@@ -1718,15 +1942,15 @@
             pass
         else:
             raw_first_line = split_leading_trailing_indent(rem_comment(first_line))[1]
             if match_in(self.just_a_string, raw_first_line):
                 return first_line, rest_of_lines
         return None, block
 
-    def tre_return(self, func_name, func_args, func_store, mock_var=None):
+    def tre_return_grammar(self, func_name, func_args, func_store, mock_var=None):
         """Generate grammar element that matches a string which is just a TRE return statement."""
         def tre_return_handle(loc, tokens):
             args = ", ".join(tokens)
 
             # we have to use func_name not func_store here since we use
             #  this when we fail to verify that func_name is func_store
             if self.no_tco:
@@ -1737,15 +1961,15 @@
             if not func_args or func_args == args:
                 tre_recurse = "continue"
             elif mock_var is None:
                 tre_recurse = tuple_str_of_str(func_args) + " = " + tuple_str_of_str(args) + "\ncontinue"
             else:
                 tre_recurse = tuple_str_of_str(func_args) + " = " + mock_var + "(" + args + ")" + "\ncontinue"
 
-            tre_check_var = self.get_temp_var("tre_check")
+            tre_check_var = self.get_temp_var("tre_check", loc)
             return handle_indentation(
                 """
 try:
     {tre_check_var} = {func_name} is {func_store} {type_ignore}
 except _coconut.NameError:
     {tre_check_var} = False
 if {tre_check_var}:
@@ -1758,16 +1982,17 @@
                 tre_check_var=tre_check_var,
                 func_name=func_name,
                 func_store=func_store,
                 tre_recurse=tre_recurse,
                 tco_recurse=tco_recurse,
                 type_ignore=self.type_ignore_comment(),
             )
+        self.tre_func_name <<= base_keyword(func_name).suppress()
         return attach(
-            self.get_tre_return_grammar(func_name),
+            self.tre_return,
             tre_return_handle,
             greedy=True,
         )
 
     def detect_is_gen(self, raw_lines):
         """Determine if the given function code is for a generator."""
         level = 0  # indentation level
@@ -1868,27 +2093,31 @@
                 # handle generator/async returns
                 if not normal_func and self.return_regex.match(base):
                     to_return = assert_remove_prefix(base, "return").strip()
                     if to_return:
                         to_return = "(" + to_return + ")"
                     # only use trollius Return when trollius is imported
                     if is_async and self.target_info < (3, 4):
-                        ret_err = "_coconut.asyncio.Return"
-                    else:
+                        ret_err = "_coconut.asyncio_Return"
+                    # for both coroutines and generators, use StopIteration if return isn't supported
+                    elif self.target_info < (3, 3):
                         ret_err = "_coconut.StopIteration"
                         # warn about Python 3.7 incompatibility on any target with Python 3 support
                         if not self.target.startswith("2"):
                             logger.warn_err(
                                 self.make_err(
                                     CoconutSyntaxWarning,
                                     "compiled generator return to StopIteration error; this will break on Python >= 3.7 (pass --target sys to fix)",
                                     original, loc,
                                 ),
                             )
-                    line = indent + "raise " + ret_err + "(" + to_return + ")" + comment + dedent
+                    else:
+                        ret_err = None
+                    if ret_err is not None:
+                        line = indent + "raise " + ret_err + "(" + to_return + ")" + comment + dedent
 
                 # handle async generator yields
                 if is_async and is_gen and self.target_info < (3, 6):
                     if self.yield_regex.match(base):
                         to_yield = assert_remove_prefix(base, "yield").strip()
                         line = indent + "await _coconut.async_generator.yield_(" + to_yield + ")" + comment + dedent
                     elif self.yield_regex.search(base):
@@ -2000,33 +2229,33 @@
 
         def_name = func_name  # the name used when defining the function
 
         # handle dotted function definition
         undotted_name = None
         if func_name is not None and "." in func_name:
             undotted_name = func_name.rsplit(".", 1)[-1]
-            def_name = self.get_temp_var(undotted_name)
+            def_name = self.get_temp_var("dotted_" + undotted_name, loc)
 
         # detect pattern-matching functions
         is_match_func = func_paramdef == match_func_paramdef
 
         # handle addpattern functions
         if addpattern:
             if func_name is None:
                 raise CoconutInternalException("could not find name in addpattern function definition", def_stmt)
             # binds most tightly, except for TCO
-            addpattern_decorator = self.get_temp_var("addpattern")
+            addpattern_decorator = self.get_temp_var("addpattern", loc)
             out.append(
                 handle_indentation(
                     """
 try:
     {addpattern_decorator} = _coconut_addpattern({func_name}) {type_ignore}
 except _coconut.NameError:
     {addpattern_decorator} = lambda f: f
-                """,
+                    """,
                     add_newline=True,
                 ).format(
                     func_name=func_name,
                     addpattern_decorator=addpattern_decorator,
                     type_ignore=self.type_ignore_comment(),
                 ),
             )
@@ -2040,14 +2269,15 @@
             def_stmt = def_stmt_def + " " + def_stmt_name + "(" + def_stmt_post_lparen
 
         # detect generators
         is_gen = self.detect_is_gen(raw_lines)
 
         # handle async functions
         if is_async:
+            force_gen = False
             if not self.target:
                 raise self.make_err(
                     CoconutTargetError,
                     "async function definition requires a specific target",
                     original, loc,
                     target="sys",
                 )
@@ -2060,33 +2290,43 @@
                     CoconutTargetError,
                     "found Python 3.6 async generator (Coconut can only backport async generators as far back as 3.5)",
                     original, loc,
                     target="35",
                 )
             else:
                 decorators += "@_coconut.asyncio.coroutine\n"
+                # raise StopIteration/Return will only work if we ensure it's a generator
+                force_gen = True
 
             func_code, _, _ = self.transform_returns(original, loc, raw_lines, is_async=True, is_gen=is_gen)
+            if force_gen:
+                func_code += "\n" + handle_indentation(
+                    """
+if False:
+    yield
+                    """,
+                    extra_indent=1,
+                )
 
         # handle normal functions
         else:
             attempt_tre = (
                 func_name is not None
                 and not is_gen
                 and not in_method
                 and not is_stmt_lambda
                 and not decorators
             )
             if attempt_tre:
                 if func_args and func_args != func_paramdef:
-                    mock_var = self.get_temp_var("mock")
+                    mock_var = self.get_temp_var("mock", loc)
                 else:
                     mock_var = None
-                func_store = self.get_temp_var("recursive_func")
-                tre_return_grammar = self.tre_return(func_name, func_args, func_store, mock_var)
+                func_store = self.get_temp_var("recursive_func", loc)
+                tre_return_grammar = self.tre_return_grammar(func_name, func_args, func_store, mock_var)
             else:
                 mock_var = func_store = tre_return_grammar = None
 
             func_code, tco, tre = self.transform_returns(
                 original,
                 loc,
                 raw_lines,
@@ -2190,29 +2430,29 @@
                 ).format(
                     def_name=def_name,
                     decorators=decorators,
                     def_stmt=def_stmt,
                     func_code=func_code,
                     func_name=func_name,
                     undotted_name=undotted_name,
-                    temp_var=self.get_temp_var("qualname"),
+                    temp_var=self.get_temp_var("qualname", loc),
                 ),
             )
             # decorating the function must come after __name__ has been set,
             #  and if it's a copyclosure function, it has to happen outside the exec
             if not copyclosure:
                 out += [func_name, " = ", call_decorators(decorators, def_name), "\n"]
                 decorators = ""
         else:
             out += [decorators, def_stmt, func_code]
             decorators = ""
 
         # handle copyclosure functions
         if copyclosure:
-            vars_var = self.get_temp_var("func_vars")
+            vars_var = self.get_temp_var("func_vars", loc)
             func_from_vars = vars_var + '["' + def_name + '"]'
             # for dotted copyclosure function definition, decoration was deferred until now
             if decorators:
                 func_from_vars = call_decorators(decorators, func_from_vars)
                 decorators = ""
             code = "".join(out)
             out = [
@@ -2641,33 +2881,33 @@
 
     def set_moduledoc(self, tokens):
         """Set the docstring."""
         moduledoc, endline = tokens
         self.docstring = self.reformat(moduledoc, ignore_errors=False) + "\n\n"
         return endline
 
-    def yield_from_handle(self, tokens):
+    def yield_from_handle(self, loc, tokens):
         """Process Python 3.3 yield from."""
         expr, = tokens
         if self.target_info < (3, 3):
-            ret_val_name = self.get_temp_var("yield_from")
+            ret_val_name = self.get_temp_var("yield_from_return", loc)
             self.add_code_before[ret_val_name] = handle_indentation(
                 '''
 {yield_from_var} = _coconut.iter({expr})
 while True:
     try:
         yield _coconut.next({yield_from_var})
     except _coconut.StopIteration as {yield_err_var}:
         {ret_val_name} = {yield_err_var}.args[0] if _coconut.len({yield_err_var}.args) > 0 else None
         break
                 ''',
             ).format(
                 expr=expr,
-                yield_from_var=self.get_temp_var("yield_from"),
-                yield_err_var=self.get_temp_var("yield_err"),
+                yield_from_var=self.get_temp_var("yield_from", loc),
+                yield_err_var=self.get_temp_var("yield_err", loc),
                 ret_val_name=ret_val_name,
             )
             return ret_val_name
         else:
             return "yield from " + expr
 
     def endline_handle(self, original, loc, tokens):
@@ -2683,18 +2923,15 @@
             ln += 1
         return "".join(out)
 
     def comment_handle(self, original, loc, tokens):
         """Store comment in comments."""
         comment_marker, = tokens
         ln = self.adjust(lineno(loc, original))
-        if ln in self.comments:
-            self.comments[ln] += " " + comment_marker
-        else:
-            self.comments[ln] = comment_marker
+        self.comments[ln].add(comment_marker)
         return ""
 
     def kwd_augassign_handle(self, original, loc, tokens):
         """Process global/nonlocal augmented assignments."""
         name, _ = tokens
         return name + "\n" + self.augassign_stmt_handle(original, loc, tokens)
 
@@ -2723,15 +2960,15 @@
         elif op == "<**|=":
             return name + " = " + name + "(**(" + item + "))"
         elif op in in_place_op_funcs:
             return name + " = " + in_place_op_funcs[op] + "(" + name + ", (" + item + "))"
         elif op == "??=":
             return name + " = " + item + " if " + name + " is None else " + name
         elif op == "::=":
-            ichain_var = self.get_temp_var("lazy_chain")
+            ichain_var = self.get_temp_var("lazy_chain", loc)
             # this is necessary to prevent a segfault caused by self-reference
             return (
                 ichain_var + " = " + name + "\n"
                 + name + " = _coconut_flatten(" + lazy_list_handle(loc, [ichain_var, "(" + item + ")"]) + ")"
             )
         else:
             return name + " " + op + " " + item
@@ -2798,15 +3035,15 @@
             matches, = match_tokens
             cond = None
         elif len(match_tokens) == 2:
             matches, cond = match_tokens
         else:
             raise CoconutInternalException("invalid pattern-matching tokens in data", match_tokens)
 
-        check_var = self.get_temp_var("match_check")
+        check_var = self.get_temp_var("match_check", loc)
         matcher = self.get_matcher(original, loc, check_var, name_list=[])
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
         matcher.match_function(
             pos_only_match_args=pos_only_args,
             match_args=req_args + default_args,
             star_arg=star_arg,
@@ -3099,15 +3336,15 @@
                 name = item
             names.append(name)
             items.append(item)
 
         namedtuple_call = self.make_namedtuple_call(None, names, types)
         return namedtuple_call + "(" + ", ".join(items) + ")"
 
-    def single_import(self, path, imp_as, type_ignore=False):
+    def single_import(self, loc, path, imp_as, type_ignore=False):
         """Generate import statements from a fully qualified import and the name to bind it to."""
         out = []
 
         parts = path.split("./")  # denotes from ... import ...
         if len(parts) == 1:
             imp_from, imp = None, parts[0]
         else:
@@ -3118,15 +3355,15 @@
         elif imp.endswith("." + imp_as):
             if imp_from is None:
                 imp_from = ""
             imp_from += imp.rsplit("." + imp_as, 1)[0]
             imp, imp_as = imp_as, None
 
         if imp_as is not None and "." in imp_as:
-            import_as_var = self.get_temp_var("import")
+            import_as_var = self.get_temp_var("import", loc)
             out.append(import_stmt(imp_from, imp, import_as_var))
             fake_mods = imp_as.split(".")
             for i in range(1, len(fake_mods)):
                 mod_name = ".".join(fake_mods[:i])
                 out.extend((
                     "try:",
                     openindent + mod_name,
@@ -3142,15 +3379,15 @@
 
         if type_ignore:
             for i, line in enumerate(out):
                 out[i] = line + self.type_ignore_comment()
 
         return out
 
-    def universal_import(self, imports, imp_from=None):
+    def universal_import(self, loc, imports, imp_from=None):
         """Generate code for a universal import of imports from imp_from.
         imports = [[imp1], [imp2, as], ...]"""
         importmap = []  # [((imp | old_imp, imp, version_check), imp_as), ...]
         for imps in imports:
             if len(imps) == 1:
                 imp, imp_as = imps[0], imps[0]
             else:
@@ -3189,15 +3426,15 @@
             else:  # "35" and above can safely use new
                 paths = (imp,)
             importmap.append((paths, imp_as, type_ignore))
 
         stmts = []
         for paths, imp_as, type_ignore in importmap:
             if len(paths) == 1:
-                more_stmts = self.single_import(paths[0], imp_as)
+                more_stmts = self.single_import(loc, paths[0], imp_as)
                 stmts.extend(more_stmts)
             else:
                 old_imp, new_imp, version_check = paths
                 # we have to do this craziness to get mypy to statically handle the version check
                 stmts.append(
                     handle_indentation("""
 try:
@@ -3208,19 +3445,19 @@
 if sys.version_info >= {version_check}:
     {new_imp}
 else:
     {old_imp}
 if {store_var} is not _coconut_sentinel:
     sys = {store_var}
                 """).format(
-                        store_var=self.get_temp_var("sys"),
+                        store_var=self.get_temp_var("sys", loc),
                         version_check=version_check,
-                        new_imp="\n".join(self.single_import(new_imp, imp_as)),
+                        new_imp="\n".join(self.single_import(loc, new_imp, imp_as)),
                         # should only type: ignore the old import
-                        old_imp="\n".join(self.single_import(old_imp, imp_as, type_ignore=type_ignore)),
+                        old_imp="\n".join(self.single_import(loc, old_imp, imp_as, type_ignore=type_ignore)),
                         type_ignore=self.type_ignore_comment(),
                     ),
                 )
         return "\n".join(stmts)
 
     def import_handle(self, original, loc, tokens):
         """Universalizes imports."""
@@ -3233,34 +3470,34 @@
                 return ""
         else:
             raise CoconutInternalException("invalid import tokens", tokens)
         imports = list(imports)
         if imp_from == "*" or imp_from is None and "*" in imports:
             if not (len(imports) == 1 and imports[0] == "*"):
                 raise self.make_err(CoconutSyntaxError, "only [from *] import * allowed, not from * import name", original, loc)
-            logger.warn_err(self.make_err(CoconutSyntaxWarning, "[from *] import * is a Coconut Easter egg and should not be used in production code", original, loc))
+            self.syntax_warning("[from *] import * is a Coconut Easter egg and should not be used in production code", original, loc)
             return special_starred_import_handle(imp_all=bool(imp_from))
         for imp_name in imported_names(imports):
             self.unused_imports[imp_name].append(loc)
-        return self.universal_import(imports, imp_from=imp_from)
+        return self.universal_import(loc, imports, imp_from=imp_from)
 
-    def complex_raise_stmt_handle(self, tokens):
+    def complex_raise_stmt_handle(self, loc, tokens):
         """Process Python 3 raise from statement."""
         raise_expr, from_expr = tokens
         if self.target.startswith("3"):
             return "raise " + raise_expr + " from " + from_expr
         else:
             return handle_indentation(
                 '''
 {raise_from_var} = {raise_expr}
 {raise_from_var}.__cause__ = {from_expr}
 raise {raise_from_var}
                 ''',
             ).format(
-                raise_from_var=self.get_temp_var("raise_from"),
+                raise_from_var=self.get_temp_var("raise_from", loc),
                 raise_expr=raise_expr,
                 from_expr=from_expr,
             )
 
     def dict_comp_handle(self, loc, tokens):
         """Process Python 2.7 dictionary comprehension."""
         key, val, comp = tokens
@@ -3301,17 +3538,17 @@
             invert = False
         elif match_type == "not in":
             invert = True
         else:
             raise CoconutInternalException("invalid match type", match_type)
 
         if match_to_var is None:
-            match_to_var = self.get_temp_var("match_to")
+            match_to_var = self.get_temp_var("match_to", loc)
         if match_check_var is None:
-            match_check_var = self.get_temp_var("match_check")
+            match_check_var = self.get_temp_var("match_check", loc)
 
         matching = self.get_matcher(original, loc, match_check_var)
         matching.match(matches, match_to_var)
         if cond:
             matching.add_guard(cond)
         return handle_indentation(
             '''
@@ -3323,31 +3560,31 @@
             item=item,
             match=matching.build(stmts, invert=invert),
         )
 
     def destructuring_stmt_handle(self, original, loc, tokens):
         """Process match assign blocks."""
         matches, item = tokens
-        match_to_var = self.get_temp_var("match_to")
-        match_check_var = self.get_temp_var("match_check")
+        match_to_var = self.get_temp_var("match_to", loc)
+        match_check_var = self.get_temp_var("match_check", loc)
         out = self.full_match_handle(original, loc, [matches, "in", item, None], match_to_var, match_check_var)
         out += self.pattern_error(original, loc, match_to_var, match_check_var)
         return out
 
     def name_match_funcdef_handle(self, original, loc, tokens):
         """Process match defs. Result must be passed to insert_docstring_handle."""
         if len(tokens) == 2:
             func, matches = tokens
             cond = None
         elif len(tokens) == 3:
             func, matches, cond = tokens
         else:
             raise CoconutInternalException("invalid match function definition tokens", tokens)
 
-        check_var = self.get_temp_var("match_check")
+        check_var = self.get_temp_var("match_check", loc)
         matcher = self.get_matcher(original, loc, check_var)
 
         pos_only_args, req_args, default_args, star_arg, kwd_only_args, dubstar_arg = split_args_list(matches, loc)
         matcher.match_function(
             pos_only_match_args=pos_only_args,
             match_args=req_args + default_args,
             star_arg=star_arg,
@@ -3418,15 +3655,19 @@
             else:
                 raise CoconutInternalException("invalid set type", set_type)
         else:
             raise CoconutInternalException("invalid set literal tokens", tokens)
 
     def stmt_lambdef_handle(self, original, loc, tokens):
         """Process multi-line lambdef statements."""
-        got_kwds, params, stmts_toks, followed_by = tokens
+        if len(tokens) == 4:
+            got_kwds, params, stmts_toks, followed_by = tokens
+            typedef = None
+        else:
+            got_kwds, params, typedef, stmts_toks, followed_by = tokens
 
         if followed_by == ",":
             self.strict_err_or_warn("found statement lambda followed by comma; this isn't recommended as it can be unclear whether the comma is inside or outside the lambda (just wrap the lambda in parentheses)", original, loc)
         else:
             internal_assert(followed_by == "", "invalid stmt_lambdef followed_by", followed_by)
 
         is_async = False
@@ -3447,27 +3688,32 @@
             if "tests" in stmts_toks:
                 stmts = stmts.asList() + ["return " + last]
             else:
                 stmts = stmts.asList() + [last]
         else:
             raise CoconutInternalException("invalid statement lambda body tokens", stmts_toks)
 
-        name = self.get_temp_var("lambda")
+        name = self.get_temp_var("lambda", loc)
         body = openindent + "\n".join(stmts) + closeindent
 
+        if typedef is None:
+            colon = ":"
+        else:
+            colon = self.typedef_handle([typedef])
         if isinstance(params, str):
             decorators = ""
-            funcdef = "def " + name + params + ":\n" + body
+            funcdef = "def " + name + params + colon + "\n" + body
         else:
             match_tokens = [name] + list(params)
             before_colon, after_docstring = self.name_match_funcdef_handle(original, loc, match_tokens)
             decorators = "@_coconut_mark_as_match\n"
             funcdef = (
                 before_colon
-                + ":\n"
+                + colon
+                + "\n"
                 + after_docstring
                 + body
             )
 
         funcdef = " ".join(add_kwds + [funcdef])
 
         self.add_code_before[name] = self.decoratable_funcdef_stmt_handle(original, loc, [decorators, funcdef], is_async, is_stmt_lambda=True)
@@ -3495,15 +3741,15 @@
                 original, loc,
                 target="sys",
             )
         elif self.target_info >= (3, 5):
             return "await " + await_expr
         elif self.target_info >= (3, 3):
             # we have to wrap the yield here so it doesn't cause the function to be detected as an async generator
-            return self.wrap_passthrough("(yield from " + await_expr + ")", early=True)
+            return "(" + self.wrap_passthrough("yield from") + " " + await_expr + ")"
         else:
             # this yield is fine because we can detect the _coconut.asyncio.From
             return "(yield _coconut.asyncio.From(" + await_expr + "))"
 
     def unsafe_typedef_handle(self, tokens):
         """Process type annotations without a comma after them."""
         # we add an empty string token to take the place of the comma,
@@ -3662,15 +3908,15 @@
         if typevar_info is not None:
             # check to see if we already parsed this exact typevar, in which case just reuse the existing temp_name
             if typevar_info["typevar_locs"].get(name, None) == name_loc:
                 name = typevar_info["all_typevars"][name]
             else:
                 if name in typevar_info["all_typevars"]:
                     raise CoconutDeferredSyntaxError("type variable {name!r} already defined".format(name=name), loc)
-                temp_name = self.get_temp_var("typevar_" + name)
+                temp_name = self.get_temp_var("typevar_" + name, name_loc)
                 typevar_info["all_typevars"][name] = temp_name
                 typevar_info["new_typevars"].append((TypeVarFunc, temp_name))
                 typevar_info["typevar_locs"][name] = name_loc
                 name = temp_name
 
         return '{name} = _coconut.typing.{TypeVarFunc}("{name}"{args}{kwargs})\n'.format(
             name=name,
@@ -3773,141 +4019,98 @@
         else:
             raise CoconutInternalException("invalid case tokens", tokens)
 
         self.internal_assert(block_kwd in ("cases", "case", "match"), original, loc, "invalid case statement keyword", block_kwd)
         if block_kwd == "case":
             self.strict_err_or_warn("deprecated case keyword at top level in case ...: match ...: block (use Python 3.10 match ...: case ...: syntax instead)", original, loc)
 
-        check_var = self.get_temp_var("case_match_check")
-        match_var = self.get_temp_var("case_match_to")
+        check_var = self.get_temp_var("case_match_check", loc)
+        match_var = self.get_temp_var("case_match_to", loc)
 
         out = (
             match_var + " = " + item + "\n"
             + self.match_case_tokens(match_var, check_var, original, cases[0], True)
         )
         for case in cases[1:]:
             out += (
                 "if not " + check_var + ":\n" + openindent
                 + self.match_case_tokens(match_var, check_var, original, case, False) + closeindent
             )
         if default is not None:
             out += "if not " + check_var + default
         return out
 
-    def f_string_handle(self, loc, tokens):
+    def f_string_handle(self, original, loc, tokens):
         """Process Python 3.6 format strings."""
         string, = tokens
 
         # strip raw r
         raw = string.startswith("r")
         if raw:
             string = string[1:]
 
         # strip wrappers
         internal_assert(string.startswith(strwrapper) and string.endswith(unwrapper), "invalid f string item", string)
         string = string[1:-1]
 
-        # get text
-        old_text, strchar = self.get_ref("str", string)
-
-        # separate expressions
-        string_parts = [""]
-        exprs = []
-        saw_brace = False
-        in_expr = False
-        paren_level = 0
-        i = 0
-        while i < len(old_text):
-            c = old_text[i]
-            if saw_brace:
-                saw_brace = False
-                if c == "{":
-                    string_parts[-1] += c
-                elif c == "}":
-                    raise CoconutDeferredSyntaxError("empty expression in format string", loc)
-                else:
-                    in_expr = True
-                    exprs.append("")
-                    i -= 1
-            elif in_expr:
-                remaining_text = old_text[i:]
-                str_start, str_stop = parse_where(self.string_start, remaining_text)
-                if str_start is not None:  # str_start >= 0; if > 0 means there is whitespace before the string
-                    exprs[-1] += remaining_text[:str_stop]
-                    i += str_stop - 1
-                elif paren_level < 0:
-                    paren_level += paren_change(c)
-                    exprs[-1] += c
-                elif paren_level > 0:
-                    raise CoconutDeferredSyntaxError("imbalanced parentheses in format string expression", loc)
-                elif match_in(self.end_f_str_expr, remaining_text):
-                    in_expr = False
-                    string_parts.append(c)
-                else:
-                    paren_level += paren_change(c)
-                    exprs[-1] += c
-            elif c == "{":
-                saw_brace = True
-                string_parts[-1] += c
-            else:
-                string_parts[-1] += c
-            i += 1
+        # get f string parts
+        strchar, string_parts, exprs = self.get_ref("f_str", string)
 
-        # handle dangling detections
-        if saw_brace:
-            raise CoconutDeferredSyntaxError("format string ends with unescaped brace (escape by doubling to '{{')", loc)
-        if in_expr:
-            raise CoconutDeferredSyntaxError("imbalanced braces in format string (escape braces by doubling to '{{' and '}}')", loc)
+        # warn if there are no exprs
+        if not exprs:
+            self.strict_err_or_warn("f-string with no expressions", original, loc)
 
         # handle Python 3.8 f string = specifier
         for i, expr in enumerate(exprs):
             if expr.endswith("="):
                 before = string_parts[i]
                 internal_assert(before[-1] == "{", "invalid format string split", (string_parts, exprs))
                 string_parts[i] = before[:-1] + expr + "{"
                 exprs[i] = expr[:-1]
 
         # compile Coconut expressions
         compiled_exprs = []
         for co_expr in exprs:
             try:
-                py_expr = self.inner_parse_eval(co_expr)
+                py_expr = self.inner_parse_eval(original, loc, co_expr)
             except ParseBaseException:
                 raise CoconutDeferredSyntaxError("parsing failed for format string expression: " + co_expr, loc)
-            if "\n" in py_expr:
-                raise CoconutDeferredSyntaxError("invalid expression in format string: " + co_expr, loc)
+            if not does_parse(self.no_unquoted_newlines, py_expr):
+                raise CoconutDeferredSyntaxError("illegal complex expression in format string: " + co_expr, loc)
             compiled_exprs.append(py_expr)
 
         # reconstitute string
-        if self.target_info >= (3, 6):
+        #  (though f strings are supported on 3.6+, nested strings with the same strchars are only
+        #   supported on 3.12+, so we should only use the literal syntax there)
+        if self.target_info >= (3, 12):
             new_text = interleaved_join(string_parts, compiled_exprs)
-
             return "f" + ("r" if raw else "") + self.wrap_str(new_text, strchar)
+
         else:
             names = [format_var + "_" + str(i) for i in range(len(compiled_exprs))]
             new_text = interleaved_join(string_parts, names)
 
             # generate format call
             return ("r" if raw else "") + self.wrap_str(new_text, strchar) + ".format(" + ", ".join(
-                name + "=(" + expr + ")"
+                name + "=(" + self.wrap_passthrough(expr) + ")"
                 for name, expr in zip(names, compiled_exprs)
             ) + ")"
 
-    def decorators_handle(self, tokens):
+    def decorators_handle(self, loc, tokens):
         """Process decorators."""
         defs = []
         decorators = []
         for tok in tokens:
             if "simple" in tok and len(tok) == 1:
                 decorators.append("@" + tok[0])
             elif "complex" in tok and len(tok) == 1:
                 if self.target_info >= (3, 9):
                     decorators.append("@" + tok[0])
                 else:
-                    varname = self.get_temp_var("decorator")
+                    varname = self.get_temp_var("decorator", loc)
                     defs.append(varname + " = " + tok[0])
                     decorators.append("@" + varname + "\n")
             else:
                 raise CoconutInternalException("invalid decorator tokens", tok)
         return "".join(defs + decorators)
 
     def unsafe_typedef_or_expr_handle(self, tokens):
@@ -4016,16 +4219,16 @@
         else:
             return item
 
     def base_match_for_stmt_handle(self, original, loc, tokens):
         """Handle match for loops."""
         matches, item, body = tokens
 
-        match_to_var = self.get_temp_var("match_to")
-        match_check_var = self.get_temp_var("match_check")
+        match_to_var = self.get_temp_var("match_to", loc)
+        match_check_var = self.get_temp_var("match_check", loc)
 
         matcher = self.get_matcher(original, loc, match_check_var)
         matcher.match(matches, match_to_var)
 
         match_code = matcher.build()
         match_error = self.pattern_error(original, loc, match_to_var, match_check_var)
 
@@ -4055,15 +4258,15 @@
         if "match" in inner_toks:
             is_match = True
         else:
             internal_assert("normal" in inner_toks, "invalid async_with_for_stmt inner_toks", inner_toks)
             is_match = False
 
         loop_vars, iter_item, body = inner_toks
-        temp_var = self.get_temp_var("async_with_for")
+        temp_var = self.get_temp_var("async_with_for", loc)
 
         if is_match:
             loop = "async " + self.base_match_for_stmt_handle(
                 original,
                 loc,
                 [loop_vars, temp_var, body],
             )
@@ -4144,19 +4347,19 @@
                 )
             else:
                 # new keywords here must be replicated in def_regex and handled in proc_funcdef
                 internal_assert(kwd in ("addpattern", "copyclosure"), "unknown deferred funcdef keyword", kwd)
                 funcdef = kwd + " " + funcdef
         return funcdef
 
-    def protocol_intersect_expr_handle(self, tokens):
+    def protocol_intersect_expr_handle(self, loc, tokens):
         if len(tokens) == 1:
             return tokens[0]
         internal_assert(len(tokens) >= 2, "invalid protocol intersection tokens", tokens)
-        protocol_var = self.get_temp_var("protocol_intersection")
+        protocol_var = self.get_temp_var("protocol_intersection", loc)
         self.add_code_before[protocol_var] = handle_indentation(
             '''
 class {protocol_var}({tokens}, _coconut.typing.Protocol): pass
             ''',
         ).format(
             protocol_var=protocol_var,
             tokens=", ".join(tokens),
@@ -4166,30 +4369,30 @@
     protocol_intersect_expr_handle.ignore_one_token = True
 
 # end: HANDLERS
 # -----------------------------------------------------------------------------------------------------------------------
 # CHECKING HANDLERS:
 # -----------------------------------------------------------------------------------------------------------------------
 
-    def check_strict(self, name, original, loc, tokens, only_warn=False, always_warn=False):
+    def check_strict(self, name, original, loc, tokens=(None,), only_warn=False, always_warn=False):
         """Check that syntax meets --strict requirements."""
         self.internal_assert(len(tokens) == 1, original, loc, "invalid " + name + " tokens", tokens)
         message = "found " + name
         if self.strict:
             kwargs = {}
             if only_warn:
                 if not always_warn:
                     kwargs["extra"] = "remove --strict to dismiss"
-                logger.warn_err(self.make_err(CoconutSyntaxWarning, message, original, loc, **kwargs))
+                self.syntax_warning(message, original, loc, **kwargs)
             else:
                 if always_warn:
                     kwargs["extra"] = "remove --strict to downgrade to a warning"
                 raise self.make_err(CoconutStyleError, message, original, loc, **kwargs)
         elif always_warn:
-            logger.warn_err(self.make_err(CoconutSyntaxWarning, message, original, loc))
+            self.syntax_warning(message, original, loc)
         return tokens[0]
 
     def lambdef_check(self, original, loc, tokens):
         """Check for Python-style lambdas."""
         return self.check_strict("Python-style lambda", original, loc, tokens)
 
     def endline_semicolon_check(self, original, loc, tokens):
@@ -4455,18 +4658,20 @@
         """Parse any code."""
         return self.parse(inputstring, self.file_parser, {"strip": True}, {"header": "none", "initial": "none", "final_endline": newline}, **kwargs)
 
     def parse_xonsh(self, inputstring, **kwargs):
         """Parse xonsh code."""
         return self.parse(inputstring, self.xonsh_parser, {"strip": True}, {"header": "none", "initial": "none"}, streamline=False, **kwargs)
 
-    def warm_up(self):
+    def warm_up(self, force=False, enable_incremental_mode=False):
         """Warm up the compiler by streamlining the file_parser."""
-        self.streamline(self.file_parser)
-        self.streamline(self.eval_parser)
+        self.streamline(self.file_parser, force=force)
+        self.streamline(self.eval_parser, force=force)
+        if enable_incremental_mode:
+            enable_incremental_parsing()
 
 
 # end: ENDPOINTS
 # -----------------------------------------------------------------------------------------------------------------------
 # BINDING:
 # -----------------------------------------------------------------------------------------------------------------------
```

### Comparing `coconut-3.0.2/coconut/compiler/grammar.py` & `coconut-3.0.3/coconut/compiler/grammar.py`

 * *Files 2% similar despite different names*

```diff
@@ -43,30 +43,30 @@
     Word,
     ZeroOrMore,
     hexnums,
     nums,
     originalTextFor,
     nestedExpr,
     FollowedBy,
-    quotedString,
+    python_quoted_string,
     restOfLine,
 )
 
 from coconut.util import (
     memoize,
     get_clock_time,
     keydefaultdict,
     assert_remove_prefix,
 )
 from coconut.exceptions import (
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 from coconut.terminal import (
-    trace,
+    trace,  # NOQA
     internal_assert,
 )
 from coconut.constants import (
     openindent,
     closeindent,
     strwrapper,
     unwrapper,
@@ -620,23 +620,24 @@
     grammar_init_time = get_clock_time()
 
     comma = Literal(",")
     dubstar = Literal("**")
     star = ~dubstar + Literal("*")
     at = Literal("@")
     arrow = Literal("->") | fixto(Literal("\u2192"), "->")
+    unsafe_fat_arrow = Literal("=>") | fixto(Literal("\u21d2"), "=>")
     colon_eq = Literal(":=")
     unsafe_dubcolon = Literal("::")
     unsafe_colon = Literal(":")
     colon = ~unsafe_dubcolon + ~colon_eq + unsafe_colon
     lt_colon = Literal("<:")
     semicolon = Literal(";") | invalid_syntax("\u037e", "invalid Greek question mark instead of semicolon", greedy=True)
     multisemicolon = combine(OneOrMore(semicolon))
     eq = Literal("==")
-    equals = ~eq + Literal("=")
+    equals = ~eq + ~Literal("=>") + Literal("=")
     lbrack = Literal("[")
     rbrack = Literal("]")
     lbrace = Literal("{")
     rbrace = Literal("}")
     lbanana = ~Literal("(|)") + ~Literal("(|>") + ~Literal("(|*") + ~Literal("(|?") + Literal("(|")
     rbanana = Literal("|)")
     lparen = ~lbanana + Literal("(")
@@ -800,15 +801,15 @@
     hexint = combine(Word(hexnums) + ZeroOrMore(underscore.suppress() + Word(hexnums)))
 
     imag_j = caseless_literal("j") | fixto(caseless_literal("i", suppress=True), "j")
     basenum = combine(
         integer + dot + Optional(integer)
         | Optional(integer) + dot + integer
     ) | integer
-    sci_e = combine(caseless_literal("e") + Optional(plus | neg_minus))
+    sci_e = combine((caseless_literal("e") | fixto(Literal("\u23e8"), "e")) + Optional(plus | neg_minus))
     numitem = ~(Literal("0") + Word(nums + "_", exact=1)) + combine(basenum + Optional(sci_e + integer))
     imag_num = combine(numitem + imag_j)
     bin_num = combine(caseless_literal("0b") + Optional(underscore.suppress()) + binint)
     oct_num = combine(caseless_literal("0o") + Optional(underscore.suppress()) + octint)
     hex_num = combine(caseless_literal("0x") + Optional(underscore.suppress()) + hexint)
     number = (
         bin_num
@@ -938,17 +939,17 @@
     typedef_test = Forward()
     typedef_tuple = Forward()
     typedef_ellipsis = Forward()
     typedef_op_item = Forward()
 
     negable_atom_item = condense(Optional(neg_minus) + atom_item)
 
-    testlist = trace(itemlist(test, comma, suppress_trailing=False))
-    testlist_has_comma = trace(addspace(OneOrMore(condense(test + comma)) + Optional(test)))
-    new_namedexpr_testlist_has_comma = trace(addspace(OneOrMore(condense(new_namedexpr_test + comma)) + Optional(test)))
+    testlist = itemlist(test, comma, suppress_trailing=False)
+    testlist_has_comma = addspace(OneOrMore(condense(test + comma)) + Optional(test))
+    new_namedexpr_testlist_has_comma = addspace(OneOrMore(condense(new_namedexpr_test + comma)) + Optional(test))
 
     testlist_star_expr = Forward()
     testlist_star_expr_ref = tokenlist(Group(test) | star_expr, comma, suppress=False)
     testlist_star_namedexpr = Forward()
     testlist_star_namedexpr_tokens = tokenlist(Group(namedexpr_test) | star_expr, comma, suppress=False)
     # for testlist_star_expr locations only supported in Python 3.9
     new_testlist_star_expr = Forward()
@@ -1046,15 +1047,15 @@
     )
     partialable_op = base_op_item | infix_op
     partial_op_item_tokens = (
         labeled_group(dot.suppress() + partialable_op + test_no_infix, "right partial")
         | labeled_group(test_no_infix + partialable_op + dot.suppress(), "left partial")
     )
     partial_op_item = attach(partial_op_item_tokens, partial_op_item_handle)
-    op_item = trace(
+    op_item = (
         typedef_op_item
         | partial_op_item
         | base_op_item
     )
 
     partial_op_atom_tokens = lparen.suppress() + partial_op_item_tokens + rparen.suppress()
 
@@ -1079,58 +1080,54 @@
     slash_sep_setarg_ref = condense(slash + setarg_comma)
 
     just_star = star + rparen
     just_slash = slash + rparen
     just_op = just_star | just_slash
 
     match = Forward()
-    args_list = trace(
+    args_list = (
         ~just_op
         + addspace(
             ZeroOrMore(
                 condense(
                     # everything here must end with arg_comma
                     (star | dubstar) + tfpdef
                     | star_sep_arg
                     | slash_sep_arg
                     | tfpdef_default
                 )
             )
         )
     )
     parameters = condense(lparen + args_list + rparen)
-    set_args_list = trace(
+    set_args_list = (
         ~just_op
         + addspace(
             ZeroOrMore(
                 condense(
                     # everything here must end with setarg_comma
                     (star | dubstar) + setname + setarg_comma
                     | star_sep_setarg
                     | slash_sep_setarg
                     | setname + Optional(default) + setarg_comma
                 )
             )
         )
     )
-    match_args_list = trace(
-        Group(
-            Optional(
-                tokenlist(
-                    Group(
-                        (star | dubstar) + match
-                        | star  # not star_sep because pattern-matching can handle star separators on any Python version
-                        | slash  # not slash_sep as above
-                        | match + Optional(equals.suppress() + test)
-                    ),
-                    comma,
-                )
-            )
+    match_args_list = Group(Optional(
+        tokenlist(
+            Group(
+                (star | dubstar) + match
+                | star  # not star_sep because pattern-matching can handle star separators on any Python version
+                | slash  # not slash_sep as above
+                | match + Optional(equals.suppress() + test)
+            ),
+            comma,
         )
-    )
+    ))
 
     call_item = (
         dubstar + test
         | star + test
         | unsafe_name + default
         | ellipsis_tokens + equals.suppress() + refname
         | namedexpr_test
@@ -1227,15 +1224,15 @@
     string_atom = Forward()
     string_atom_ref = OneOrMore(nonb_string) | OneOrMore(b_string)
     fixed_len_string_tokens = OneOrMore(nonbf_string) | OneOrMore(b_string)
     f_string_atom = Forward()
     f_string_atom_ref = ZeroOrMore(nonbf_string) + f_string + ZeroOrMore(nonb_string)
 
     keyword_atom = any_keyword_in(const_vars)
-    passthrough_atom = trace(addspace(OneOrMore(passthrough_item)))
+    passthrough_atom = addspace(OneOrMore(passthrough_item))
 
     set_literal = Forward()
     set_letter_literal = Forward()
     set_s = caseless_literal("s")
     set_f = caseless_literal("f")
     set_m = caseless_literal("m")
     set_letter = set_s | set_f | set_m
@@ -1247,15 +1244,15 @@
     )
     set_literal_ref = lbrace.suppress() + setmaker + rbrace.suppress()
     set_letter_literal_ref = combine(set_letter + lbrace.suppress()) + Optional(setmaker) + rbrace.suppress()
 
     lazy_items = Optional(tokenlist(test, comma))
     lazy_list = attach(lbanana.suppress() + lazy_items + rbanana.suppress(), lazy_list_handle)
 
-    known_atom = trace(
+    known_atom = (
         keyword_atom
         | string_atom
         | num_atom
         | list_item
         | dict_comp
         | dict_literal
         | set_literal
@@ -1347,15 +1344,15 @@
     )
     star_assign_item_ref = condense(star + base_assign_item)
     assign_item = star_assign_item | base_assign_item
     assignlist <<= itemlist(assign_item, comma, suppress_trailing=False)
 
     typed_assign_stmt = Forward()
     typed_assign_stmt_ref = simple_assign + colon.suppress() + typedef_test + Optional(equals.suppress() + test_expr)
-    basic_stmt = trace(addspace(ZeroOrMore(assignlist + equals) + test_expr))
+    basic_stmt = addspace(ZeroOrMore(assignlist + equals) + test_expr)
 
     type_param = Forward()
     type_param_bound_op = lt_colon | colon | le
     type_var_name = stores_loc_item + setname
     type_param_constraint = lparen.suppress() + Group(tokenlist(typedef_test, comma, require_sep=True)) + rparen.suppress()
     type_param_ref = (
         (type_var_name + type_param_bound_op + type_param_constraint)("TypeVar constraint")
@@ -1386,15 +1383,17 @@
     impl_call_item = condense(
         disallow_keywords(reserved_vars)
         + ~any_string
         + atom_item
         + Optional(power_in_impl_call)
     )
     impl_call = Forward()
-    impl_call_ref = (
+    # we need to disable this inside the xonsh parser
+    impl_call_ref = Forward()
+    unsafe_impl_call_ref = (
         impl_call_item + OneOrMore(impl_call_arg)
     )
 
     factor <<= condense(
         ZeroOrMore(unary) + (
             impl_call
             | await_item + Optional(power)
@@ -1495,21 +1494,21 @@
         | labeled_group(attrgetter_atom_tokens, "attrgetter") + pipe_op
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + pipe_op
         | labeled_group(partial_atom_tokens, "partial") + pipe_op
         | labeled_group(partial_op_atom_tokens, "op partial") + pipe_op
         # expr must come at end
         | labeled_group(comp_pipe_expr, "expr") + pipe_op
     )
-    pipe_augassign_item = trace(
+    pipe_augassign_item = (
         # should match pipe_item but with pipe_op -> end_simple_stmt_item and no expr
         labeled_group(keyword("await"), "await") + end_simple_stmt_item
         | labeled_group(attrgetter_atom_tokens, "attrgetter") + end_simple_stmt_item
         | labeled_group(itemgetter_atom_tokens, "itemgetter") + end_simple_stmt_item
         | labeled_group(partial_atom_tokens, "partial") + end_simple_stmt_item
-        | labeled_group(partial_op_atom_tokens, "op partial") + end_simple_stmt_item,
+        | labeled_group(partial_op_atom_tokens, "op partial") + end_simple_stmt_item
     )
     last_pipe_item = Group(
         lambdef("expr")
         # we need longest here because there's no following pipe_op we can use as above
         | longest(
             keyword("await")("await"),
             attrgetter_atom_tokens("attrgetter"),
@@ -1533,32 +1532,37 @@
     star_expr <<= Group(star + expr)
     dubstar_expr <<= Group(dubstar + expr)
 
     comparison = exprlist(expr, comp_op)
     not_test = addspace(ZeroOrMore(keyword("not")) + comparison)
     # we condense "and" and "or" into one, since Python handles the precedence, not Coconut
     # and_test = exprlist(not_test, keyword("and"))
-    # test_item = trace(exprlist(and_test, keyword("or")))
-    test_item = trace(exprlist(not_test, keyword("and") | keyword("or")))
+    # test_item = exprlist(and_test, keyword("or"))
+    test_item = exprlist(not_test, keyword("and") | keyword("or"))
 
     simple_stmt_item = Forward()
     unsafe_simple_stmt_item = Forward()
     simple_stmt = Forward()
     stmt = Forward()
     suite = Forward()
     nocolon_suite = Forward()
     base_suite = Forward()
 
-    classic_lambdef = Forward()
-    classic_lambdef_params = maybeparens(lparen, set_args_list, rparen)
-    new_lambdef_params = lparen.suppress() + set_args_list + rparen.suppress() | setname
-    classic_lambdef_ref = addspace(keyword("lambda") + condense(classic_lambdef_params + colon))
-    new_lambdef = attach(new_lambdef_params + arrow.suppress(), lambdef_handle)
-    implicit_lambdef = fixto(arrow, "lambda _=None:")
-    lambdef_base = classic_lambdef | new_lambdef | implicit_lambdef
+    fat_arrow = Forward()
+    lambda_arrow = Forward()
+    unsafe_lambda_arrow = fat_arrow | arrow
+
+    keyword_lambdef_params = maybeparens(lparen, set_args_list, rparen)
+    arrow_lambdef_params = lparen.suppress() + set_args_list + rparen.suppress() | setname
+
+    keyword_lambdef = Forward()
+    keyword_lambdef_ref = addspace(keyword("lambda") + condense(keyword_lambdef_params + colon))
+    arrow_lambdef = attach(arrow_lambdef_params + lambda_arrow.suppress(), lambdef_handle)
+    implicit_lambdef = fixto(lambda_arrow, "lambda _=None:")
+    lambdef_base = keyword_lambdef | arrow_lambdef | implicit_lambdef
 
     stmt_lambdef = Forward()
     match_guard = Optional(keyword("if").suppress() + namedexpr_test)
     closing_stmt = longest(new_testlist_star_expr("tests"), unsafe_simple_stmt_item)
     stmt_lambdef_match_params = Group(lparen.suppress() + match_args_list + match_guard + rparen.suppress())
     stmt_lambdef_params = Optional(
         attach(setname, add_parens_handle)
@@ -1566,43 +1570,49 @@
         | stmt_lambdef_match_params,
         default="(_=None)",
     )
     stmt_lambdef_body = Group(
         Group(OneOrMore(simple_stmt_item + semicolon.suppress())) + Optional(closing_stmt)
         | Group(ZeroOrMore(simple_stmt_item + semicolon.suppress())) + closing_stmt,
     )
+
+    no_fat_arrow_stmt_lambdef_body, _fat_arrow = disable_inside(stmt_lambdef_body, unsafe_fat_arrow)
+    fat_arrow <<= _fat_arrow
+    stmt_lambdef_suite = (
+        arrow.suppress() + no_fat_arrow_stmt_lambdef_body + ~fat_arrow
+        | Optional(arrow.suppress() + typedef_test) + fat_arrow.suppress() + stmt_lambdef_body
+    )
+
     general_stmt_lambdef = (
         Group(any_len_perm(
             keyword("async"),
             keyword("copyclosure"),
         )) + keyword("def").suppress()
         + stmt_lambdef_params
-        + arrow.suppress()
-        + stmt_lambdef_body
+        + stmt_lambdef_suite
     )
     match_stmt_lambdef = (
         Group(any_len_perm(
             keyword("match").suppress(),
             keyword("async"),
             keyword("copyclosure"),
         )) + keyword("def").suppress()
         + stmt_lambdef_match_params
-        + arrow.suppress()
-        + stmt_lambdef_body
+        + stmt_lambdef_suite
     )
-    stmt_lambdef_ref = (
+    stmt_lambdef_ref = trace(
         general_stmt_lambdef
         | match_stmt_lambdef
     ) + (
         fixto(FollowedBy(comma), ",")
         | fixto(always_match, "")
     )
 
     lambdef <<= addspace(lambdef_base + test) | stmt_lambdef
-    lambdef_no_cond = trace(addspace(lambdef_base + test_no_cond))
+    lambdef_no_cond = addspace(lambdef_base + test_no_cond)
 
     typedef_callable_arg = Group(
         test("arg")
         | (dubstar.suppress() + refname)("paramspec")
     )
     typedef_callable_params = Optional(Group(
         labeled_group(maybeparens(lparen, ellipsis_tokens, rparen), "ellipsis")
@@ -1630,30 +1640,36 @@
     # should mimic testlist_star_namedexpr but with require_sep=True
     unsafe_typedef_tuple_ref = tokenlist(Group(namedexpr_test) | star_expr, fixto(semicolon, ","), suppress=False, require_sep=True)
 
     unsafe_typedef_ellipsis = ellipsis_tokens
 
     unsafe_typedef_op_item = attach(base_op_item, typedef_op_item_handle)
 
-    _typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis, _typedef_op_item = disable_outside(
+    unsafe_typedef_test, typedef_callable, _typedef_trailer, _typedef_or_expr, _typedef_tuple, _typedef_ellipsis, _typedef_op_item = disable_outside(
         test,
         unsafe_typedef_callable,
         unsafe_typedef_trailer,
         unsafe_typedef_or_expr,
         unsafe_typedef_tuple,
         unsafe_typedef_ellipsis,
         unsafe_typedef_op_item,
     )
-    typedef_test <<= _typedef_test
     typedef_trailer <<= _typedef_trailer
     typedef_or_expr <<= _typedef_or_expr
     typedef_tuple <<= _typedef_tuple
     typedef_ellipsis <<= _typedef_ellipsis
     typedef_op_item <<= _typedef_op_item
 
+    _typedef_test, _lambda_arrow = disable_inside(
+        unsafe_typedef_test,
+        unsafe_lambda_arrow,
+    )
+    typedef_test <<= _typedef_test
+    lambda_arrow <<= _lambda_arrow
+
     alt_ternary_expr = attach(keyword("if").suppress() + test_item + keyword("then").suppress() + test_item + keyword("else").suppress() + test, alt_ternary_handle)
     test <<= (
         typedef_callable
         | lambdef
         | alt_ternary_expr
         | addspace(test_item + Optional(keyword("if") + test_item + keyword("else") + test))  # must come last since it includes plain test_item
     )
@@ -1859,15 +1875,15 @@
         allow_trailing=True,
     )
     star_match = (
         lbrack.suppress() + matchlist_star + rbrack.suppress()
         | lparen.suppress() + matchlist_star + rparen.suppress()
     )("star")
 
-    base_match = trace(Group(
+    base_match = Group(
         (negable_atom_item + arrow.suppress() + match)("view")
         | match_string
         | match_const("const")
         | (keyword_atom | keyword("is").suppress() + negable_atom_item)("is")
         | (keyword("in").suppress() + negable_atom_item)("in")
         | iter_match
         | match_lazy("lazy")
@@ -1884,15 +1900,15 @@
                 | Group(Optional(tokenlist(match_const, comma)))
             ) + rbrace.suppress()
         )("set")
         | (keyword("data").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data")
         | (keyword("class").suppress() + dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("class")
         | (dotted_refname + lparen.suppress() + matchlist_data + rparen.suppress())("data_or_class")
         | Optional(keyword("as").suppress()) + setname("var")
-    ))
+    )
 
     matchlist_isinstance = base_match + OneOrMore(keyword("is").suppress() + negable_atom_item)
     isinstance_match = labeled_group(matchlist_isinstance, "isinstance_is") | base_match
 
     matchlist_bar_or = isinstance_match + OneOrMore(bar.suppress() + isinstance_match)
     bar_or_match = labeled_group(matchlist_bar_or, "or") | isinstance_match
 
@@ -1904,15 +1920,15 @@
 
     matchlist_and = as_match + OneOrMore(keyword("and").suppress() + as_match)
     and_match = labeled_group(matchlist_and, "and") | as_match
 
     matchlist_kwd_or = and_match + OneOrMore(keyword("or").suppress() + and_match)
     kwd_or_match = labeled_group(matchlist_kwd_or, "or") | and_match
 
-    match <<= trace(kwd_or_match)
+    match <<= kwd_or_match
 
     many_match = (
         labeled_group(matchlist_star, "star")
         | labeled_group(matchlist_tuple_items, "implicit_tuple")
         | match
     )
 
@@ -1925,40 +1941,40 @@
         + addspace(Optional(keyword("not")) + keyword("in"))
         + testlist_star_namedexpr
         + match_guard
         # avoid match match-case blocks
         + ~FollowedBy(colon + newline + indent + keyword("case"))
         - full_suite
     )
-    match_stmt = trace(condense(full_match - Optional(else_stmt)))
+    match_stmt = condense(full_match - Optional(else_stmt))
 
     destructuring_stmt = Forward()
     base_destructuring_stmt = Optional(keyword("match").suppress()) + many_match + equals.suppress() + test_expr
     destructuring_stmt_ref, match_dotted_name_const_ref = disable_inside(base_destructuring_stmt, must_be_dotted_name + ~lparen)
 
     # both syntaxes here must be kept the same except for the keywords
-    case_match_co_syntax = trace(Group(
+    case_match_co_syntax = Group(
         (keyword("match") | keyword("case")).suppress()
         + stores_loc_item
         + many_match
         + Optional(keyword("if").suppress() + namedexpr_test)
         - full_suite
-    ))
+    )
     cases_stmt_co_syntax = (
         (keyword("cases") | keyword("case")) + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_co_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() + suite)
     )
-    case_match_py_syntax = trace(Group(
+    case_match_py_syntax = Group(
         keyword("case").suppress()
         + stores_loc_item
         + many_match
         + Optional(keyword("if").suppress() + namedexpr_test)
         - full_suite
-    ))
+    )
     cases_stmt_py_syntax = (
         keyword("match") + testlist_star_namedexpr + colon.suppress() + newline.suppress()
         + indent.suppress() + Group(OneOrMore(case_match_py_syntax))
         + dedent.suppress() + Optional(keyword("else").suppress() - suite)
     )
     cases_stmt = Forward()
     cases_stmt_ref = cases_stmt_co_syntax | cases_stmt_py_syntax
@@ -2014,30 +2030,30 @@
     with_item = addspace(test + Optional(keyword("as") + base_assign_item))
     with_item_list = Group(maybeparens(lparen, tokenlist(with_item, comma), rparen))
     with_stmt_ref = keyword("with").suppress() - with_item_list - suite
     with_stmt = Forward()
 
     funcname_typeparams = Forward()
     funcname_typeparams_ref = dotted_setname + Optional(type_params)
-    name_funcdef = trace(condense(funcname_typeparams + parameters))
+    name_funcdef = condense(funcname_typeparams + parameters)
     op_tfpdef = unsafe_typedef_default | condense(setname + Optional(default))
     op_funcdef_arg = setname | condense(lparen.suppress() + op_tfpdef + rparen.suppress())
     op_funcdef_name = unsafe_backtick.suppress() + funcname_typeparams + unsafe_backtick.suppress()
-    op_funcdef = trace(attach(
+    op_funcdef = attach(
         Group(Optional(op_funcdef_arg))
         + op_funcdef_name
         + Group(Optional(op_funcdef_arg)),
         op_funcdef_handle,
-    ))
+    )
 
     return_typedef = Forward()
     return_typedef_ref = arrow.suppress() + typedef_test
     end_func_colon = return_typedef + colon.suppress() | colon
     base_funcdef = op_funcdef | name_funcdef
-    funcdef = trace(addspace(keyword("def") + condense(base_funcdef + end_func_colon + nocolon_suite)))
+    funcdef = addspace(keyword("def") + condense(base_funcdef + end_func_colon + nocolon_suite))
 
     name_match_funcdef = Forward()
     op_match_funcdef = Forward()
     op_match_funcdef_arg = Group(Optional(
         Group(
             (
                 lparen.suppress()
@@ -2045,36 +2061,36 @@
                 + Optional(equals.suppress() + test)
                 + rparen.suppress()
             ) | interior_name_match
         )
     ))
     name_match_funcdef_ref = keyword("def").suppress() + funcname_typeparams + lparen.suppress() + match_args_list + match_guard + rparen.suppress()
     op_match_funcdef_ref = keyword("def").suppress() + op_match_funcdef_arg + op_funcdef_name + op_match_funcdef_arg + match_guard
-    base_match_funcdef = trace(op_match_funcdef | name_match_funcdef)
+    base_match_funcdef = op_match_funcdef | name_match_funcdef
     func_suite = (
         attach(simple_stmt, make_suite_handle)
         | (
             newline.suppress()
             - indent.suppress()
             - Optional(docstring)
             - attach(condense(OneOrMore(stmt)), make_suite_handle)
             - dedent.suppress()
         )
     )
-    def_match_funcdef = trace(attach(
+    def_match_funcdef = attach(
         base_match_funcdef
         + end_func_colon
         - func_suite,
         join_match_funcdef,
-    ))
-    match_def_modifiers = trace(any_len_perm(
+    )
+    match_def_modifiers = any_len_perm(
         keyword("match").suppress(),
         # addpattern is detected later
         keyword("addpattern"),
-    ))
+    )
     match_funcdef = addspace(match_def_modifiers + def_match_funcdef)
 
     where_stmt = attach(
         unsafe_simple_stmt_item
         + keyword("where").suppress()
         - full_suite,
         where_handle,
@@ -2096,19 +2112,19 @@
     )
     math_funcdef_body = condense(ZeroOrMore(~(implicit_return_stmt + dedent) + stmt) - implicit_return_stmt)
     math_funcdef_suite = (
         attach(implicit_return_stmt, make_suite_handle)
         | condense(newline - indent - math_funcdef_body - dedent)
     )
     end_func_equals = return_typedef + equals.suppress() | fixto(equals, ":")
-    math_funcdef = trace(attach(
+    math_funcdef = attach(
         condense(addspace(keyword("def") + base_funcdef) + end_func_equals) - math_funcdef_suite,
         math_funcdef_handle,
-    ))
-    math_match_funcdef = trace(addspace(
+    )
+    math_match_funcdef = addspace(
         match_def_modifiers
         + attach(
             base_match_funcdef
             + end_func_equals
             + (
                 attach(implicit_return_stmt, make_suite_handle)
                 | (
@@ -2116,15 +2132,15 @@
                     + Optional(docstring)
                     + attach(math_funcdef_body, make_suite_handle)
                     + dedent.suppress()
                 )
             ),
             join_match_funcdef,
         )
-    ))
+    )
 
     async_stmt = Forward()
     async_with_for_stmt = Forward()
     async_with_for_stmt_ref = (
         labeled_group(
             (keyword("async") + keyword("with") + keyword("for")).suppress()
             + assignlist + keyword("in").suppress()
@@ -2146,22 +2162,22 @@
     async_stmt_ref = addspace(
         keyword("async") + (with_stmt | for_stmt | match_for_stmt)  # handles async [match] for
         | keyword("match").suppress() + keyword("async") + base_match_for_stmt  # handles match async for
         | async_with_for_stmt
     )
 
     async_funcdef = keyword("async").suppress() + (funcdef | math_funcdef)
-    async_match_funcdef = trace(addspace(
+    async_match_funcdef = addspace(
         any_len_perm(
             keyword("match").suppress(),
             # addpattern is detected later
             keyword("addpattern"),
             required=(keyword("async").suppress(),),
         ) + (def_match_funcdef | math_match_funcdef),
-    ))
+    )
 
     async_keyword_normal_funcdef = Group(
         any_len_perm_at_least_one(
             keyword("yield"),
             keyword("copyclosure"),
             required=(keyword("async").suppress(),),
         )
@@ -2274,34 +2290,34 @@
     decoratable_func_stmt = decoratable_normal_funcdef_stmt | decoratable_async_funcdef_stmt
 
     # decorators are integrated into the definitions of each item here
     decoratable_class_stmt = classdef | datadef | match_datadef
 
     passthrough_stmt = condense(passthrough_block - (base_suite | newline))
 
-    simple_compound_stmt = trace(
+    simple_compound_stmt = (
         if_stmt
         | try_stmt
         | match_stmt
         | passthrough_stmt
     )
-    compound_stmt = trace(
+    compound_stmt = (
         decoratable_class_stmt
         | decoratable_func_stmt
         | for_stmt
         | while_stmt
         | with_stmt
         | async_stmt
         | match_for_stmt
         | simple_compound_stmt
         | where_stmt
     )
     endline_semicolon = Forward()
     endline_semicolon_ref = semicolon.suppress() + newline
-    keyword_stmt = trace(
+    keyword_stmt = (
         flow_stmt
         | import_stmt
         | assert_stmt
         | pass_stmt
         | del_stmt
         | global_stmt
         | nonlocal_stmt
@@ -2332,19 +2348,19 @@
         # at the very end as a fallback case for the anything parser
         | anything_stmt
     )
     base_suite <<= condense(newline + indent - OneOrMore(stmt) - dedent)
     simple_suite = attach(stmt, make_suite_handle)
     nocolon_suite <<= base_suite | simple_suite
     suite <<= condense(colon + nocolon_suite)
-    line = trace(newline | stmt)
+    line = newline | stmt
 
-    single_input = trace(condense(Optional(line) - ZeroOrMore(newline)))
-    file_input = trace(condense(moduledoc_marker - ZeroOrMore(line)))
-    eval_input = trace(condense(testlist - ZeroOrMore(newline)))
+    single_input = condense(Optional(line) - ZeroOrMore(newline))
+    file_input = condense(moduledoc_marker - ZeroOrMore(line))
+    eval_input = condense(testlist - ZeroOrMore(newline))
 
     single_parser = start_marker - single_input - end_marker
     file_parser = start_marker - file_input - end_marker
     eval_parser = start_marker - eval_input - end_marker
     some_eval_parser = start_marker + eval_input
 
     parens = originalTextFor(nestedExpr("(", ")", ignoreExpr=None))
@@ -2353,16 +2369,21 @@
 
     unsafe_anything_stmt = originalTextFor(regex_item("[^\n]+\n+"))
     unsafe_xonsh_command = originalTextFor(
         (Optional(at) + dollar | bang)
         + ~(lparen + rparen | lbrack + rbrack | lbrace + rbrace)
         + (parens | brackets | braces | unsafe_name)
     )
-    xonsh_parser, _anything_stmt, _xonsh_command = disable_outside(
+    unsafe_xonsh_parser, _impl_call_ref = disable_inside(
         single_parser,
+        unsafe_impl_call_ref,
+    )
+    impl_call_ref <<= _impl_call_ref
+    xonsh_parser, _anything_stmt, _xonsh_command = disable_outside(
+        unsafe_xonsh_parser,
         unsafe_anything_stmt,
         unsafe_xonsh_command,
     )
     anything_stmt <<= _anything_stmt
     xonsh_command <<= _xonsh_command
 
 # end: MAIN GRAMMAR
@@ -2389,33 +2410,31 @@
     original_function_call_tokens = (
         lparen.suppress() + rparen.suppress()
         # we need to keep the parens here, since f(x for x in y) is fine but tail_call(f, x for x in y) is not
         | condense(lparen + originalTextFor(test + comp_for) + rparen)
         | attach(parens, strip_parens_handle)
     )
 
-    def get_tre_return_grammar(self, func_name):
-        """The TRE return grammar is parameterized by the name of the function being optimized."""
-        return (
-            self.start_marker
-            + self.keyword("return").suppress()
-            + maybeparens(
-                self.lparen,
-                base_keyword(func_name).suppress()
-                + self.original_function_call_tokens,
-                self.rparen,
-            ) + self.end_marker
-        )
+    tre_func_name = Forward()
+    tre_return = (
+        start_marker
+        + keyword("return").suppress()
+        + maybeparens(
+            lparen,
+            tre_func_name + original_function_call_tokens,
+            rparen,
+        ) + end_marker
+    )
 
     tco_return = attach(
         start_marker
         + keyword("return").suppress()
         + maybeparens(
             lparen,
-            disallow_keywords(untcoable_funcs, with_suffix=lparen)
+            disallow_keywords(untcoable_funcs, with_suffix="(")
             + condense(
                 (unsafe_name | parens | brackets | braces | string_atom)
                 + ZeroOrMore(
                     dot + unsafe_name
                     | brackets
                     # don't match the last set of parentheses
                     | parens + ~end_marker + ~rparen
@@ -2499,17 +2518,19 @@
             + ~lparen
             + ~lbrack
             + ~dot,
             "misplaced '?' (naked '?' is only supported inside partial application arguments)",
         )
     )
 
-    end_f_str_expr = start_marker + (bang | colon | rbrace)
+    end_f_str_expr = combine(start_marker + (bang | colon | rbrace))
+
+    string_start = start_marker + python_quoted_string
 
-    string_start = start_marker + quotedString
+    no_unquoted_newlines = start_marker + ZeroOrMore(python_quoted_string | ~Literal("\n") + any_char) + end_marker
 
     operator_stmt = (
         start_marker
         + keyword("operator").suppress()
         + restOfLine
     )
 
@@ -2542,12 +2563,10 @@
 
 
 def set_grammar_names():
     """Set names of grammar elements to their variable names."""
     for varname, val in vars(Grammar).items():
         if isinstance(val, ParserElement):
             val.setName(varname)
-            if isinstance(val, Forward):
-                trace(val)
 
 
 # end: TRACING
```

### Comparing `coconut-3.0.2/coconut/compiler/header.py` & `coconut-3.0.3/coconut/compiler/header.py`

 * *Files 8% similar despite different names*

```diff
@@ -34,14 +34,15 @@
     report_this_text,
     numpy_modules,
     pandas_numpy_modules,
     jax_numpy_modules,
     self_match_types,
     is_data_var,
     data_defaults_var,
+    coconut_cache_dir,
 )
 from coconut.util import (
     univ_open,
     get_target_info,
     assert_remove_prefix,
 )
 from coconut.compiler.util import (
@@ -220,14 +221,15 @@
         hash_line=hash_prefix + use_hash + "\n" if use_hash is not None else "",
         typing_line="# type: ignore\n" if which == "__coconut__" else "",
         _coconut_="_coconut_" if which != "__coconut__" else "",  # only for aliases defined at the end of the header
         VERSION_STR=VERSION_STR,
         module_docstring='"""Built-in Coconut utilities."""\n\n' if which == "__coconut__" else "",
         __coconut__=make_py_str("__coconut__", target),
         _coconut_cached__coconut__=make_py_str("_coconut_cached__coconut__", target),
+        coconut_cache_dir=make_py_str(coconut_cache_dir, target),
         object="" if target.startswith("3") else "(object)",
         comma_object="" if target.startswith("3") else ", object",
         comma_slash=", /" if target_info >= (3, 8) else "",
         report_this_text=report_this_text,
         numpy_modules=tuple_str_of(numpy_modules, add_quotes=True),
         pandas_numpy_modules=tuple_str_of(pandas_numpy_modules, add_quotes=True),
         jax_numpy_modules=tuple_str_of(jax_numpy_modules, add_quotes=True),
@@ -472,44 +474,96 @@
             return False
         found_diff = found_diff or self[k] != v
     return found_diff
             ''',
             indent=1,
             newline=True,
         ),
-        assign_multiset_views=pycondition(
+        def_py2_multiset_methods=pycondition(
             (3,),
             if_lt='''
+def __bool__(self):
+    return _coconut.bool(_coconut.len(self))
 keys = _coconut.collections.Counter.viewkeys
 values = _coconut.collections.Counter.viewvalues
 items = _coconut.collections.Counter.viewitems
             ''',
             indent=1,
             newline=True,
         ),
+        def_async_compose_call=prepare(
+            r'''
+async def __call__(self, *args, **kwargs):
+    arg = await self._coconut_func(*args, **kwargs)
+    for f, await_f in self._coconut_func_infos:
+        arg = f(arg)
+        if await_f:
+            arg = await arg
+    return arg
+            ''' if target_info >= (3, 5) else
+            pycondition(
+                (3, 5),
+                if_ge=r'''
+_coconut_call_ns = {"_coconut": _coconut}
+_coconut_exec("""async def __call__(self, *args, **kwargs):
+    arg = await self._coconut_func(*args, **kwargs)
+    for f, await_f in self._coconut_func_infos:
+        arg = f(arg)
+        if await_f:
+            arg = await arg
+    return arg""", _coconut_call_ns)
+__call__ = _coconut_call_ns["__call__"]
+                ''',
+                if_lt=pycondition(
+                    (3, 4),
+                    if_ge=r'''
+_coconut_call_ns = {"_coconut": _coconut}
+_coconut_exec("""def __call__(self, *args, **kwargs):
+    arg = yield from self._coconut_func(*args, **kwargs)
+    for f, await_f in self._coconut_func_infos:
+        arg = f(arg)
+        if await_f:
+            arg = yield from arg
+    raise _coconut.StopIteration(arg)""", _coconut_call_ns)
+__call__ = _coconut.asyncio.coroutine(_coconut_call_ns["__call__"])
+                    ''',
+                    if_lt='''
+@_coconut.asyncio.coroutine
+def __call__(self, *args, **kwargs):
+    arg = yield _coconut.asyncio.From(self._coconut_func(*args, **kwargs))
+    for f, await_f in self._coconut_func_infos:
+        arg = f(arg)
+        if await_f:
+            arg = yield _coconut.asyncio.From(arg)
+    raise _coconut.asyncio.Return(arg)
+                    ''',
+                ),
+            ),
+            indent=1
+        ),
 
         # used in the second round
         tco_comma="_coconut_tail_call, _coconut_tco, " if not no_tco else "",
         call_set_names_comma="_coconut_call_set_names, " if target_info < (3, 6) else "",
         handle_cls_args_comma="_coconut_handle_cls_kwargs, _coconut_handle_cls_stargs, " if not target.startswith("3") else "",
         async_def_anext=prepare(
             r'''
 async def __anext__(self):
     return self.func(await self.aiter.__anext__())
             ''' if target_info >= (3, 5) else
             pycondition(
                 (3, 5),
                 if_ge=r'''
-_coconut_anext_ns = {}
+_coconut_anext_ns = {"_coconut": _coconut}
 _coconut_exec("""async def __anext__(self):
     return self.func(await self.aiter.__anext__())""", _coconut_anext_ns)
 __anext__ = _coconut_anext_ns["__anext__"]
                 ''',
                 if_lt=r'''
-_coconut_anext_ns = {}
+_coconut_anext_ns = {"_coconut": _coconut}
 _coconut_exec("""def __anext__(self):
     result = yield from self.aiter.__anext__()
     return self.func(result)""", _coconut_anext_ns)
 __anext__ = _coconut.asyncio.coroutine(_coconut_anext_ns["__anext__"])
                 ''',
             ),
             indent=1,
@@ -627,21 +681,29 @@
             newline=True,
         ),
         import_asyncio=pycondition(
             (3, 4),
             if_lt='''
 try:
     import trollius as asyncio
-except ImportError:
-    class you_need_to_install_trollius{object}:
+except ImportError as trollius_import_err:
+    class you_need_to_install_trollius(_coconut_missing_module):
         __slots__ = ()
-    asyncio = you_need_to_install_trollius()
+        def coroutine(self, func):
+            def raise_import_error(*args, **kwargs):
+                raise self._import_err
+            return raise_import_error
+        def Return(self, obj):
+            raise self._import_err
+    asyncio = you_need_to_install_trollius(trollius_import_err)
+asyncio_Return = asyncio.Return
             '''.format(**format_dict),
             if_ge='''
 import asyncio
+asyncio_Return = StopIteration
             ''',
             indent=1,
         ),
         class_amap=pycondition(
             (3, 3),
             if_lt=r'''
 _coconut_amap = None
@@ -663,23 +725,61 @@
         ),
         maybe_bind_lru_cache=pycondition(
             (3, 2),
             if_lt='''
 try:
     from backports.functools_lru_cache import lru_cache
     functools.lru_cache = lru_cache
-except ImportError:
-    class you_need_to_install_backports_functools_lru_cache{object}:
-        __slots__ = ()
-    functools.lru_cache = you_need_to_install_backports_functools_lru_cache()
+except ImportError as lru_cache_import_err:
+    functools.lru_cache = _coconut_missing_module(lru_cache_import_err)
             '''.format(**format_dict),
             if_ge=None,
             indent=1,
             newline=True,
         ),
+        def_multiset_ops=pycondition(
+            (3,),
+            if_ge='''
+def __add__(self, other):
+    out = self.copy()
+    out += other
+    return out
+def __and__(self, other):
+    out = self.copy()
+    out &= other
+    return out
+def __or__(self, other):
+    out = self.copy()
+    out |= other
+    return out
+def __sub__(self, other):
+    out = self.copy()
+    out -= other
+    return out
+def __pos__(self):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__pos__())
+def __neg__(self):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__neg__())
+            '''.format(**format_dict),
+            if_lt='''
+def __add__(self, other):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__add__(other))
+def __and__(self, other):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__and__(other))
+def __or__(self, other):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__or__(other))
+def __sub__(self, other):
+    return self.__class__(_coconut.super({_coconut_}multiset, self).__sub__(other))
+def __pos__(self):
+    return self + {_coconut_}multiset()
+def __neg__(self):
+    return {_coconut_}multiset() - self
+            '''.format(**format_dict),
+            indent=1,
+        ),
     )
     format_dict.update(extra_format_dict)
 
     return format_dict
 
 
 # -----------------------------------------------------------------------------------------------------------------------
@@ -728,38 +828,42 @@
 
     # __coconut__, package:n, sys, code, file
 
     header += section("Coconut Header", newline_before=False)
 
     if not target.startswith("3"):
         header += "from __future__ import print_function, absolute_import, unicode_literals, division\n"
-    # including generator_stop here is fine, even though to universalize
-    #  generator returns we raise StopIteration errors, since we only do so
-    #  when target_info < (3, 3)
+    # including generator_stop here is fine, even though to universalize generator returns
+    #  we raise StopIteration errors, since we only do so when target_info < (3, 3)
+    elif target_info >= (3, 13):
+        # 3.13 supports lazy annotations, so we should just use that instead of from __future__ import annotations
+        header += "from __future__ import generator_stop\n"
     elif target_info >= (3, 7):
         if no_wrap:
             header += "from __future__ import generator_stop\n"
         else:
             header += "from __future__ import generator_stop, annotations\n"
     elif target_info >= (3, 5):
         header += "from __future__ import generator_stop\n"
 
-    header += "import sys as _coconut_sys\n"
+    header += '''import sys as _coconut_sys
+import os as _coconut_os
+'''
 
     if which.startswith("package") or which == "__coconut__":
         header += "_coconut_header_info = " + header_info + "\n"
 
+    levels_up = None
     if which.startswith("package"):
         levels_up = int(assert_remove_prefix(which, "package:"))
         coconut_file_dir = "_coconut_os.path.dirname(_coconut_os.path.abspath(__file__))"
         for _ in range(levels_up):
             coconut_file_dir = "_coconut_os.path.dirname(" + coconut_file_dir + ")"
-        return header + prepare(
+        header += prepare(
             '''
-import os as _coconut_os
 _coconut_cached__coconut__ = _coconut_sys.modules.get({__coconut__})
 _coconut_file_dir = {coconut_file_dir}
 _coconut_pop_path = False
 if _coconut_cached__coconut__ is None or getattr(_coconut_cached__coconut__, "_coconut_header_info", None) != _coconut_header_info and _coconut_os.path.dirname(_coconut_cached__coconut__.__file__ or "") != _coconut_file_dir:
     if _coconut_cached__coconut__ is not None:
         _coconut_sys.modules[{_coconut_cached__coconut__}] = _coconut_cached__coconut__
         del _coconut_sys.modules[{__coconut__}]
@@ -784,22 +888,48 @@
 if _coconut_pop_path:
     _coconut_sys.path.pop(0)
             ''',
             newline=True,
         ).format(
             coconut_file_dir=coconut_file_dir,
             **format_dict
-        ) + section("Compiled Coconut")
+        )
 
     if which == "sys":
-        return header + '''from coconut.__coconut__ import *
+        header += '''from coconut.__coconut__ import *
 from coconut.__coconut__ import {underscore_imports}
-'''.format(**format_dict) + section("Compiled Coconut")
+'''.format(**format_dict)
+
+    # remove coconut_cache_dir from __file__ if it was put there by auto compilation
+    header += prepare(
+        '''
+try:
+    __file__ = _coconut_os.path.abspath(__file__) if __file__ else __file__
+except NameError:
+    pass
+else:
+    if __file__ and {coconut_cache_dir} in __file__:
+        _coconut_file_comps = []
+        while __file__:
+            __file__, _coconut_file_comp = _coconut_os.path.split(__file__)
+            if not _coconut_file_comp:
+                _coconut_file_comps.append(__file__)
+                break
+            if _coconut_file_comp != {coconut_cache_dir}:
+                _coconut_file_comps.append(_coconut_file_comp)
+        __file__ = _coconut_os.path.join(*reversed(_coconut_file_comps))
+        ''',
+        newline=True,
+    ).format(**format_dict)
+
+    if which == "sys" or which.startswith("package"):
+        return header + section("Compiled Coconut")
 
     # __coconut__, code, file
+    internal_assert(which in ("__coconut__", "code", "file"), "wrong header type", which)
 
     header += prepare(
         '''
 _coconut_cached__coconut__ = _coconut_sys.modules.get({_coconut_cached__coconut__}, _coconut_sys.modules.get({__coconut__}))
         ''',
         newline=True,
     ).format(**format_dict)
```

### Comparing `coconut-3.0.2/coconut/compiler/matching.py` & `coconut-3.0.3/coconut/compiler/matching.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/compiler/templates/header.py_template` & `coconut-3.0.3/coconut/compiler/templates/header.py_template`

 * *Files 1% similar despite different names*

```diff
@@ -1,7 +1,13 @@
+class _coconut_missing_module{object}:
+    __slots__ = ("_import_err",)
+    def __init__(self, error):
+        self._import_err = error
+    def __getattr__(self, name):
+        raise self._import_err
 @_coconut_wraps(_coconut_py_super)
 def _coconut_super(type=None, object_or_type=None):
     if type is None:
         if object_or_type is not None:
             raise _coconut.TypeError("invalid use of super()")
         frame = _coconut_sys._getframe(1)
         try:
@@ -15,18 +21,16 @@
 class _coconut{object}:{COMMENT.EVERYTHING_HERE_MUST_BE_COPIED_TO_STUB_FILE}
     import collections, copy, functools, types, itertools, operator, threading, os, warnings, contextlib, traceback, weakref, multiprocessing
     from multiprocessing import dummy as multiprocessing_dummy
 {maybe_bind_lru_cache}{import_copyreg}
 {import_asyncio}
     try:
         import async_generator
-    except ImportError:
-        class you_need_to_install_async_generator{object}:
-            __slots__ = ()
-        async_generator = you_need_to_install_async_generator()
+    except ImportError as async_generator_import_err:
+        async_generator = _coconut_missing_module(async_generator_import_err)
 {import_pickle}
 {import_OrderedDict}
 {import_collections_abc}
     typing = types.ModuleType(_coconut_py_str("typing"))
     try:
         import typing_extensions
     except ImportError:
@@ -41,18 +45,16 @@
     def _typing_getattr(name):
         raise _coconut.AttributeError("typing.%s is not available on the current Python version and couldn't be looked up in typing_extensions; try hiding your typedefs behind an 'if TYPE_CHECKING:' block" % (name,))
     typing.__getattr__ = _typing_getattr
     _typing_getattr = staticmethod(_typing_getattr)
 {set_zip_longest}
     try:
         import numpy
-    except ImportError:
-        class you_need_to_install_numpy{object}:
-            __slots__ = ()
-        numpy = you_need_to_install_numpy()
+    except ImportError as numpy_import_err:
+        numpy = _coconut_missing_module(numpy_import_err)
     else:
         abc.Sequence.register(numpy.ndarray)
     numpy_modules = {numpy_modules}
     pandas_numpy_modules = {pandas_numpy_modules}
     jax_numpy_modules = {jax_numpy_modules}
     tee_type = type(itertools.tee((), 1)[0])
     reiterables = abc.Sequence, abc.Mapping, abc.Set
@@ -348,33 +350,42 @@
                 i = None
                 n = start - stop
             if n is not None:
                 if n <= 0:
                     return ()
                 iterable = _coconut.itertools.islice(iterable, 0, n)
             return _coconut.tuple(iterable)[i::step]
-class _coconut_base_compose(_coconut_baseclass):{COMMENT.no_slots_to_allow_update_wrapper}{COMMENT.must_use_coconut_attrs_to_avoid_interacting_with_update_wrapper}
+class _coconut_compostion_baseclass(_coconut_baseclass):{COMMENT.no_slots_to_allow_update_wrapper}{COMMENT.must_use_coconut_attrs_to_avoid_interacting_with_update_wrapper}
     def __init__(self, func, *func_infos):
         try:
             _coconut.functools.update_wrapper(self, func)
         except _coconut.AttributeError:
             pass
-        if _coconut.isinstance(func, _coconut_base_compose):
+        if _coconut.isinstance(func, self.__class__):
             self._coconut_func = func._coconut_func
             func_infos = func._coconut_func_infos + func_infos
         else:
             self._coconut_func = func
         self._coconut_func_infos = []
-        for f, stars, none_aware in func_infos:
-            if _coconut.isinstance(f, _coconut_base_compose):
-                self._coconut_func_infos.append((f._coconut_func, stars, none_aware))
+        for f_info in func_infos:
+            f = f_info[0]
+            if _coconut.isinstance(f, self.__class__):
+                self._coconut_func_infos.append((f._coconut_func,) + f_info[1:])
                 self._coconut_func_infos += f._coconut_func_infos
             else:
-                self._coconut_func_infos.append((f, stars, none_aware))
+                self._coconut_func_infos.append(f_info)
         self._coconut_func_infos = _coconut.tuple(self._coconut_func_infos)
+    def __reduce__(self):
+        return (self.__class__, (self._coconut_func,) + self._coconut_func_infos)
+    def __get__(self, obj, objtype=None):
+        if obj is None:
+            return self
+{return_method_of_self}
+class _coconut_base_compose(_coconut_compostion_baseclass):
+    __slots__ = ()
     def __call__(self, *args, **kwargs):
         arg = self._coconut_func(*args, **kwargs)
         for f, stars, none_aware in self._coconut_func_infos:
             if none_aware and arg is None:
                 return arg
             if stars == 0:
                 arg = f(arg)
@@ -383,70 +394,100 @@
             elif stars == 2:
                 arg = f(**arg)
             else:
                 raise _coconut.RuntimeError("invalid internal stars value " + _coconut.repr(stars) + " in " + _coconut.repr(self) + " {report_this_text}")
         return arg
     def __repr__(self):
         return _coconut.repr(self._coconut_func) + " " + " ".join(".." + "?"*none_aware + "*"*stars + "> " + _coconut.repr(f) for f, stars, none_aware in self._coconut_func_infos)
-    def __reduce__(self):
-        return (self.__class__, (self._coconut_func,) + self._coconut_func_infos)
-    def __get__(self, obj, objtype=None):
-        if obj is None:
-            return self
-{return_method_of_self}
+class _coconut_async_compose(_coconut_compostion_baseclass):
+    __slots__ = ()
+{def_async_compose_call}
+    def __repr__(self):
+        return _coconut.repr(self._coconut_func) + " " + " ".join("`and_then" + "_await"*await_f + "` " + _coconut.repr(f) for f, await_f in self._coconut_func_infos)
+def and_then(first_async_func, second_func):
+    """Compose an async function with a normal function.
+
+    Effectively equivalent to:
+        def and_then[**T, U, V](
+            first_async_func: async (**T) -> U,
+            second_func: U -> V,
+        ) -> async (**T) -> V =
+            async def (*args, **kwargs) -> (
+                first_async_func(*args, **kwargs)
+                |> await
+                |> second_func
+            )
+    """
+    return _coconut_async_compose(first_async_func, (second_func, False))
+def and_then_await(first_async_func, second_async_func):
+    """Compose two async functions.
+
+    Effectively equivalent to:
+        def and_then_await[**T, U, V](
+            first_async_func: async (**T) -> U,
+            second_async_func: async U -> V,
+        ) -> async (**T) -> V =
+            async def (*args, **kwargs) -> (
+                first_async_func(*args, **kwargs)
+                |> await
+                |> second_async_func
+                |> await
+            )
+    """
+    return _coconut_async_compose(first_async_func, (second_async_func, True))
 def _coconut_forward_compose(func, *funcs):
     """Forward composition operator (..>).
 
     (..>)(f, g) is effectively equivalent to (*args, **kwargs) -> g(f(*args, **kwargs))."""
     return _coconut_base_compose(func, *((f, 0, False) for f in funcs))
 def _coconut_back_compose(*funcs):
     """Backward composition operator (<..).
 
     (<..)(f, g) is effectively equivalent to (*args, **kwargs) -> f(g(*args, **kwargs))."""
     return _coconut_forward_compose(*_coconut.reversed(funcs))
-def _coconut_forward_star_compose(func, *funcs):
-    """Forward star composition operator (..*>).
-
-    (..*>)(f, g) is effectively equivalent to (*args, **kwargs) -> g(*f(*args, **kwargs))."""
-    return _coconut_base_compose(func, *((f, 1, False) for f in funcs))
-def _coconut_back_star_compose(*funcs):
-    """Backward star composition operator (<*..).
-
-    (<*..)(f, g) is effectively equivalent to (*args, **kwargs) -> f(*g(*args, **kwargs))."""
-    return _coconut_forward_star_compose(*_coconut.reversed(funcs))
-def _coconut_forward_dubstar_compose(func, *funcs):
-    """Forward double star composition operator (..**>).
-
-    (..**>)(f, g) is effectively equivalent to (*args, **kwargs) -> g(**f(*args, **kwargs))."""
-    return _coconut_base_compose(func, *((f, 2, False) for f in funcs))
-def _coconut_back_dubstar_compose(*funcs):
-    """Backward double star composition operator (<**..).
-
-    (<**..)(f, g) is effectively equivalent to (*args, **kwargs) -> f(**g(*args, **kwargs))."""
-    return _coconut_forward_dubstar_compose(*_coconut.reversed(funcs))
 def _coconut_forward_none_compose(func, *funcs):
     """Forward none-aware composition operator (..?>).
 
     (..?>)(f, g) is effectively equivalent to (*args, **kwargs) -> g?(f(*args, **kwargs))."""
     return _coconut_base_compose(func, *((f, 0, True) for f in funcs))
 def _coconut_back_none_compose(*funcs):
     """Backward none-aware composition operator (<..?).
 
     (<..?)(f, g) is effectively equivalent to (*args, **kwargs) -> f?(g(*args, **kwargs))."""
     return _coconut_forward_none_compose(*_coconut.reversed(funcs))
+def _coconut_forward_star_compose(func, *funcs):
+    """Forward star composition operator (..*>).
+
+    (..*>)(f, g) is effectively equivalent to (*args, **kwargs) -> g(*f(*args, **kwargs))."""
+    return _coconut_base_compose(func, *((f, 1, False) for f in funcs))
+def _coconut_back_star_compose(*funcs):
+    """Backward star composition operator (<*..).
+
+    (<*..)(f, g) is effectively equivalent to (*args, **kwargs) -> f(*g(*args, **kwargs))."""
+    return _coconut_forward_star_compose(*_coconut.reversed(funcs))
 def _coconut_forward_none_star_compose(func, *funcs):
     """Forward none-aware star composition operator (..?*>).
 
     (..?*>)(f, g) is effectively equivalent to (*args, **kwargs) -> g?(*f(*args, **kwargs))."""
     return _coconut_base_compose(func, *((f, 1, True) for f in funcs))
 def _coconut_back_none_star_compose(*funcs):
     """Backward none-aware star composition operator (<*?..).
 
     (<*?..)(f, g) is effectively equivalent to (*args, **kwargs) -> f?(*g(*args, **kwargs))."""
     return _coconut_forward_none_star_compose(*_coconut.reversed(funcs))
+def _coconut_forward_dubstar_compose(func, *funcs):
+    """Forward double star composition operator (..**>).
+
+    (..**>)(f, g) is effectively equivalent to (*args, **kwargs) -> g(**f(*args, **kwargs))."""
+    return _coconut_base_compose(func, *((f, 2, False) for f in funcs))
+def _coconut_back_dubstar_compose(*funcs):
+    """Backward double star composition operator (<**..).
+
+    (<**..)(f, g) is effectively equivalent to (*args, **kwargs) -> f(**g(*args, **kwargs))."""
+    return _coconut_forward_dubstar_compose(*_coconut.reversed(funcs))
 def _coconut_forward_none_dubstar_compose(func, *funcs):
     """Forward none-aware double star composition operator (..?**>).
 
     (..?**>)(f, g) is effectively equivalent to (*args, **kwargs) -> g?(**f(*args, **kwargs))."""
     return _coconut_base_compose(func, *((f, 2, True) for f in funcs))
 def _coconut_back_none_dubstar_compose(*funcs):
     """Backward none-aware double star composition operator (<**?..).
@@ -1470,24 +1511,30 @@
         else:
             raise _coconut.KeyError(item)
     def isdisjoint(self, other):
         """Return True if two multisets have a null intersection."""
         return not self & other
     def __xor__(self, other):
         return self - other | other - self
+    def __ixor__(self, other):
+        right = other - self
+        self -= other
+        self |= right
+        return self
     def count(self, item):
         """Return the number of times an element occurs in a multiset.
         Equivalent to multiset[item], but additionally verifies the count is non-negative."""
         result = self[item]
         if result < 0:
             raise _coconut.ValueError("multiset has negative count for " + _coconut.repr(item))
         return result
     def __fmap__(self, func):
         return self.__class__(_coconut.dict((func(obj), num) for obj, num in self.items()))
-{def_total_and_comparisons}{assign_multiset_views}_coconut.abc.MutableSet.register(multiset)
+{def_multiset_ops}
+{def_total_and_comparisons}{def_py2_multiset_methods}_coconut.abc.MutableSet.register(multiset)
 def _coconut_base_makedata(data_type, args, from_fmap=False, fallback_to_init=False):
     if _coconut.hasattr(data_type, "_make") and _coconut.issubclass(data_type, _coconut.tuple):
         return data_type._make(args)
     if _coconut.issubclass(data_type, (_coconut.range, _coconut.abc.Iterator)):
         return args
     if _coconut.issubclass(data_type, _coconut.str):
         return "".join(args)
@@ -1562,14 +1609,16 @@
         return _coconut.functools.lru_cache(maxsize=None)(args[0])
     if _coconut.len(kwargs) == 1 and "user_function" in kwargs and _coconut.callable(kwargs["user_function"]):
         return _coconut.functools.lru_cache(maxsize=None)(kwargs["user_function"])
     maxsize, typed = _coconut_memoize_helper(*args, **kwargs)
     return _coconut.functools.lru_cache(maxsize, typed)
 {def_call_set_names}
 class override(_coconut_baseclass):
+    """Declare a method in a subclass as an override of a parent class method.
+    Enforces at runtime that the parent class has such a method to be overwritten."""
     __slots__ = ("func",)
     def __init__(self, func):
         self.func = func
     def __get__(self, obj, objtype=None):
         if obj is None:
             return self.func
 {return_method_of_self_func}
```

### Comparing `coconut-3.0.2/coconut/compiler/util.py` & `coconut-3.0.3/coconut/compiler/util.py`

 * *Files 2% similar despite different names*

```diff
@@ -10,14 +10,15 @@
 License: Apache 2.0
 Description: Utilities for use in the compiler.
 """
 
 # Table of Contents:
 #   - Imports
 #   - Computation Graph
+#   - Parsing Introspection
 #   - Targets
 #   - Parse Elements
 #   - Utilities
 
 # -----------------------------------------------------------------------------------------------------------------------
 # IMPORTS:
 # -----------------------------------------------------------------------------------------------------------------------
@@ -28,21 +29,23 @@
 
 import sys
 import re
 import ast
 import inspect
 import __future__
 import itertools
+import datetime as dt
 from functools import partial, reduce
 from collections import defaultdict
 from contextlib import contextmanager
 from pprint import pformat, pprint
 
 from coconut._pyparsing import (
     USE_COMPUTATION_GRAPH,
+    SUPPORTS_INCREMENTAL,
     replaceWith,
     ZeroOrMore,
     OneOrMore,
     Optional,
     SkipTo,
     CharsNotIn,
     ParseElementEnhance,
@@ -92,14 +95,17 @@
     packrat_cache_size,
     temp_grammar_item_ref_count,
     indchars,
     comment_chars,
     non_syntactic_newline,
     allow_explicit_keyword_vars,
     reserved_prefix,
+    incremental_cache_size,
+    repeatedly_clear_incremental_cache,
+    py_vers_with_eols,
 )
 from coconut.exceptions import (
     CoconutException,
     CoconutInternalException,
     CoconutDeferredSyntaxError,
 )
 
@@ -337,31 +343,41 @@
             kwargs["ignore_one_token"] = ignore_one_token
         if not trim_arity:
             kwargs["trim_arity"] = trim_arity
         action = partial(ComputationNode, action, **kwargs)
     return add_action(item, action, make_copy)
 
 
-def trace_attach(*args, **kwargs):
-    """trace_attach = trace .. attach"""
-    return trace(attach(*args, **kwargs))
+def should_clear_cache():
+    """Determine if we should be clearing the packrat cache."""
+    return (
+        use_packrat_parser
+        and (
+            not ParserElement._incrementalEnabled
+            or (
+                ParserElement._incrementalWithResets
+                and repeatedly_clear_incremental_cache
+            )
+        )
+    )
 
 
 def final_evaluate_tokens(tokens):
     """Same as evaluate_tokens but should only be used once a parse is assured."""
-    if use_packrat_parser:
+    # don't clear the cache in incremental mode
+    if should_clear_cache():
         # clear cache without resetting stats
         ParserElement.packrat_cache.clear()
     return evaluate_tokens(tokens)
 
 
 def final(item):
     """Collapse the computation graph upon parsing the given item."""
     # evaluate_tokens expects a computation graph, so we just call add_action directly
-    return add_action(item, final_evaluate_tokens)
+    return add_action(trace(item), final_evaluate_tokens)
 
 
 def defer(item):
     """Defers evaluation of the given item.
     Only does any actual deferring if USE_COMPUTATION_GRAPH is True."""
     return add_action(item, DeferredNode)
 
@@ -371,37 +387,54 @@
     logger.log_tag("unpack", tokens)
     tokens = evaluate_tokens(tokens)
     if isinstance(tokens, ParseResults) and len(tokens) == 1:
         tokens = tokens[0]
     return tokens
 
 
+def force_reset_packrat_cache():
+    """Forcibly reset the packrat cache and all packrat stats."""
+    if ParserElement._incrementalEnabled:
+        ParserElement._incrementalEnabled = False
+        ParserElement.enableIncremental(incremental_cache_size, still_reset_cache=ParserElement._incrementalWithResets)
+    else:
+        ParserElement._packratEnabled = False
+        ParserElement.enablePackrat(packrat_cache_size)
+
+
 @contextmanager
 def parsing_context(inner_parse=True):
     """Context to manage the packrat cache across parse calls."""
-    if inner_parse and use_packrat_parser:
+    if inner_parse and should_clear_cache():
         # store old packrat cache
         old_cache = ParserElement.packrat_cache
         old_cache_stats = ParserElement.packrat_cache_stats[:]
 
         # give inner parser a new packrat cache
-        ParserElement._packratEnabled = False
-        ParserElement.enablePackrat(packrat_cache_size)
-    try:
-        yield
-    finally:
-        if inner_parse and use_packrat_parser:
+        force_reset_packrat_cache()
+        try:
+            yield
+        finally:
             ParserElement.packrat_cache = old_cache
             if logger.verbose:
                 ParserElement.packrat_cache_stats[0] += old_cache_stats[0]
                 ParserElement.packrat_cache_stats[1] += old_cache_stats[1]
+    elif inner_parse and ParserElement._incrementalWithResets:
+        incrementalWithResets, ParserElement._incrementalWithResets = ParserElement._incrementalWithResets, False
+        try:
+            yield
+        finally:
+            ParserElement._incrementalWithResets = incrementalWithResets
+    else:
+        yield
 
 
 def prep_grammar(grammar, streamline=False):
     """Prepare a grammar item to be used as the root of a parse."""
+    grammar = trace(grammar)
     if streamline:
         grammar.streamlined = False
         grammar.streamline()
     else:
         grammar.streamlined = True
     return grammar.parseWithTabs()
 
@@ -450,24 +483,93 @@
     internal_assert((start is None) == (stop is None), "invalid parse_where results", (start, stop))
     return start is not None
 
 
 def transform(grammar, text, inner=True):
     """Transform text by replacing matches to grammar."""
     with parsing_context(inner):
-        result = add_action(grammar, unpack).parseWithTabs().transformString(text)
+        result = prep_grammar(add_action(grammar, unpack)).transformString(text)
         if result == text:
             result = None
         return result
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# TARGETS:
+# PARSING INTROSPECTION:
 # -----------------------------------------------------------------------------------------------------------------------
 
+
+def get_func_closure(func):
+    """Get variables in func's closure."""
+    if PY2:
+        varnames = func.func_code.co_freevars
+        cells = func.func_closure
+    else:
+        varnames = func.__code__.co_freevars
+        cells = func.__closure__
+    return {v: c.cell_contents for v, c in zip(varnames, cells)}
+
+
+def get_pyparsing_cache():
+    """Extract the underlying pyparsing packrat cache."""
+    packrat_cache = ParserElement.packrat_cache
+    if isinstance(packrat_cache, dict):  # if enablePackrat is never called
+        return packrat_cache
+    elif hasattr(packrat_cache, "cache"):  # cPyparsing adds this
+        return packrat_cache.cache
+    else:  # on pyparsing we have to do this
+        try:
+            # this is sketchy, so errors should only be complained
+            return get_func_closure(packrat_cache.get.__func__)["cache"]
+        except Exception as err:
+            complain(err)
+            return {}
+
+
+def add_to_cache(new_cache_items):
+    """Add the given items directly to the pyparsing packrat cache."""
+    packrat_cache = ParserElement.packrat_cache
+    for lookup, value in new_cache_items:
+        packrat_cache.set(lookup, value)
+
+
+def get_cache_items_for(original):
+    """Get items from the pyparsing cache filtered to only from parsing original."""
+    cache = get_pyparsing_cache()
+    for lookup, value in cache.items():
+        got_orig = lookup[1]
+        if got_orig == original:
+            yield lookup, value
+
+
+def get_highest_parse_loc(original):
+    """Get the highest observed parse location."""
+    # find the highest observed parse location
+    highest_loc = 0
+    for item, _ in get_cache_items_for(original):
+        loc = item[2]
+        if loc > highest_loc:
+            highest_loc = loc
+    return highest_loc
+
+
+def enable_incremental_parsing(force=False):
+    """Enable incremental parsing mode where prefix parses are reused."""
+    if SUPPORTS_INCREMENTAL or force:
+        try:
+            ParserElement.enableIncremental(incremental_cache_size, still_reset_cache=False)
+        except ImportError as err:
+            raise CoconutException(str(err))
+        else:
+            logger.log("Incremental parsing mode enabled.")
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# TARGETS:
+# -----------------------------------------------------------------------------------------------------------------------
 on_new_python = False
 
 raw_sys_target = str(sys.version_info[0]) + str(sys.version_info[1])
 if raw_sys_target in pseudo_targets:
     sys_target = pseudo_targets[raw_sys_target]
 elif raw_sys_target in specific_targets:
     sys_target = raw_sys_target
@@ -478,14 +580,23 @@
     sys_target = "".join(str(i) for i in supported_py2_vers[0])
 elif sys.version_info < (3,):
     sys_target = "".join(str(i) for i in supported_py2_vers[-1])
 else:
     sys_target = "".join(str(i) for i in supported_py3_vers[0])
 
 
+def get_psf_target():
+    """Get the oldest PSF-supported Python version target."""
+    now = dt.datetime.now()
+    for ver, eol in py_vers_with_eols:
+        if now < eol:
+            break
+    return pseudo_targets.get(ver, ver)
+
+
 def get_vers_for_target(target):
     """Gets a list of the versions supported by the given target."""
     target_info = get_target_info(target)
     if not target_info:
         return supported_py2_vers + supported_py3_vers
     elif len(target_info) == 1:
         if target_info == (2,):
@@ -531,48 +642,50 @@
 
 # -----------------------------------------------------------------------------------------------------------------------
 # PARSE ELEMENTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Wrap(ParseElementEnhance):
     """PyParsing token that wraps the given item in the given context manager."""
+    inside = False
 
     def __init__(self, item, wrapper, greedy=False, include_in_packrat_context=False):
         super(Wrap, self).__init__(item)
         self.wrapper = wrapper
         self.greedy = greedy
-        self.include_in_packrat_context = include_in_packrat_context
+        self.include_in_packrat_context = include_in_packrat_context and hasattr(ParserElement, "packrat_context")
 
     @property
     def wrapped_name(self):
         return get_name(self.expr) + " (Wrapped)"
 
     @contextmanager
-    def wrapped_packrat_context(self):
+    def wrapped_context(self):
         """Context manager that edits the packrat_context.
 
         Required to allow the packrat cache to distinguish between wrapped
         and unwrapped parses. Only supported natively on cPyparsing."""
-        if self.include_in_packrat_context and hasattr(self, "packrat_context"):
-            self.packrat_context.append(self.wrapper)
-            try:
-                yield
-            finally:
-                self.packrat_context.pop()
-        else:
+        was_inside, self.inside = self.inside, True
+        if self.include_in_packrat_context:
+            ParserElement.packrat_context.append(self.wrapper)
+        try:
             yield
+        finally:
+            if self.include_in_packrat_context:
+                ParserElement.packrat_context.pop()
+            self.inside = was_inside
 
     @override
     def parseImpl(self, original, loc, *args, **kwargs):
         """Wrapper around ParseElementEnhance.parseImpl."""
         if logger.tracing:  # avoid the overhead of the call if not tracing
             logger.log_trace(self.wrapped_name, original, loc)
         with logger.indent_tracing():
             with self.wrapper(self, original, loc):
-                with self.wrapped_packrat_context():
+                with self.wrapped_context():
                     parse_loc, tokens = super(Wrap, self).parseImpl(original, loc, *args, **kwargs)
                     if self.greedy:
                         tokens = evaluate_tokens(tokens)
         if logger.tracing:  # avoid the overhead of the call if not tracing
             logger.log_trace(self.wrapped_name, original, loc, tokens)
         return parse_loc, tokens
 
@@ -582,15 +695,15 @@
     def __repr__(self):
         return self.wrapped_name
 
 
 def disable_inside(item, *elems, **kwargs):
     """Prevent elems from matching inside of item.
 
-    Returns (item with elem disabled, *new versions of elems).
+    Returns (item with elems disabled, *new versions of elems).
     """
     _invert = kwargs.pop("_invert", False)
     internal_assert(not kwargs, "excess keyword arguments passed to disable_inside", kwargs)
 
     level = [0]  # number of wrapped items deep we are; in a list to allow modification
 
     @contextmanager
@@ -613,17 +726,17 @@
     for elem in elems:
         yield Wrap(elem, manage_elem, include_in_packrat_context=True)
 
 
 def disable_outside(item, *elems):
     """Prevent elems from matching outside of item.
 
-    Returns (item with elem enabled, *new versions of elems).
+    Returns (item with elems enabled, *new versions of elems).
     """
-    for wrapped in disable_inside(item, *elems, **{"_invert": True}):
+    for wrapped in disable_inside(item, *elems, _invert=True):
         yield wrapped
 
 
 @memoize()
 def labeled_group(item, label):
     """A labeled pyparsing Group."""
     return Group(item(label))
@@ -663,14 +776,17 @@
     if options is None:
         options = re.U
     else:
         options |= re.U
     return re.compile(regex, options)
 
 
+memoized_compile_regex = memoize(64)(compile_regex)
+
+
 def regex_item(regex, options=None):
     """pyparsing.Regex except it always uses unicode."""
     if options is None:
         options = re.U
     else:
         options |= re.U
     return Regex(regex, options)
@@ -795,28 +911,21 @@
 stores_loc_action.ignore_tokens = True
 
 
 always_match = Empty()
 stores_loc_item = attach(always_match, stores_loc_action)
 
 
-def disallow_keywords(kwds, with_suffix=None):
+def disallow_keywords(kwds, with_suffix=""):
     """Prevent the given kwds from matching."""
-    item = ~(
-        base_keyword(kwds[0])
-        if with_suffix is None else
-        base_keyword(kwds[0]) + with_suffix
+    to_disallow = (
+        k + r"\b" + re.escape(with_suffix)
+        for k in kwds
     )
-    for k in kwds[1:]:
-        item += ~(
-            base_keyword(k)
-            if with_suffix is None else
-            base_keyword(k) + with_suffix
-        )
-    return item
+    return regex_item(r"(?!" + "|".join(to_disallow) + r")").suppress()
 
 
 def any_keyword_in(kwds):
     """Match any of the given keywords."""
     return regex_item(r"|".join(k + r"\b" for k in kwds))
 
 
@@ -900,14 +1009,15 @@
         return fixto(CaselessLiteral(literalstr), literalstr)
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # UTILITIES:
 # -----------------------------------------------------------------------------------------------------------------------
 
+
 def ordered(items):
     """Return the items in a deterministic order."""
     if PY2:
         return sorted(items)
     else:
         return items
 
@@ -1245,51 +1355,14 @@
     out = "\n".join(out_lines)
     if extra_indent:
         out = openindent * extra_indent + out + closeindent * extra_indent
     internal_assert(lambda: out.count(openindent) == out.count(closeindent), "failed to properly handle indentation in", out)
     return out
 
 
-def get_func_closure(func):
-    """Get variables in func's closure."""
-    if PY2:
-        varnames = func.func_code.co_freevars
-        cells = func.func_closure
-    else:
-        varnames = func.__code__.co_freevars
-        cells = func.__closure__
-    return {v: c.cell_contents for v, c in zip(varnames, cells)}
-
-
-def get_highest_parse_loc():
-    """Get the highest observed parse location."""
-    try:
-        # extract the actual cache object (pyparsing does not make this easy)
-        packrat_cache = ParserElement.packrat_cache
-        if isinstance(packrat_cache, dict):  # if enablePackrat is never called
-            cache = packrat_cache
-        elif hasattr(packrat_cache, "cache"):  # cPyparsing adds this
-            cache = packrat_cache.cache
-        else:  # on pyparsing we have to do this
-            cache = get_func_closure(packrat_cache.get.__func__)["cache"]
-
-        # find the highest observed parse location
-        highest_loc = 0
-        for item in cache:
-            loc = item[2]
-            if loc > highest_loc:
-                highest_loc = loc
-        return highest_loc
-
-    # everything here is sketchy, so errors should only be complained
-    except Exception as err:
-        complain(err)
-        return 0
-
-
 def literal_eval(py_code):
     """Version of ast.literal_eval that attempts to be version-independent."""
     try:
         compiled = compile(
             py_code,
             "<string>",
             "eval",
@@ -1366,14 +1439,66 @@
         return str_parts[0]
     out = " + ".join(str_parts)
     if parens:
         out = "(" + out + ")"
     return out
 
 
+def base_move_loc(original, loc, chars_to_move_forwards):
+    """Move loc in original in accordance with chars_to_move_forwards."""
+    visited_locs = set()
+    while 0 <= loc <= len(original) - 1:
+        c = original[loc]
+        for charset, forwards in chars_to_move_forwards.items():
+            if c in charset:
+                break
+        else:  # no break
+            break
+        if forwards:
+            if loc >= len(original) - 1:
+                break
+            next_loc = loc + 1
+        else:
+            if loc <= 1:
+                break
+            next_loc = loc - 1
+        if next_loc in visited_locs:
+            loc = next_loc
+            break
+        visited_locs.add(next_loc)
+        loc = next_loc
+    return loc
+
+
+def move_loc_to_non_whitespace(original, loc, backwards=False):
+    """Move the given loc in original to the closest non-whitespace in the given direction.
+    Won't ever move far enough to set loc to 0 or len(original)."""
+    return base_move_loc(
+        original,
+        loc,
+        chars_to_move_forwards={
+            default_whitespace_chars: not backwards,
+            # for loc, move backwards on newlines/indents, which we can do safely without removing anything from the error
+            indchars: False,
+        },
+    )
+
+
+def move_endpt_to_non_whitespace(original, loc, backwards=False):
+    """Same as base_move_loc but for endpoints specifically."""
+    return base_move_loc(
+        original,
+        loc,
+        chars_to_move_forwards={
+            default_whitespace_chars: not backwards,
+            # for endpt, ignore newlines/indents to avoid introducing unnecessary lines into the error
+        },
+    )
+
+
 # -----------------------------------------------------------------------------------------------------------------------
 # PYTEST:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
 class FixPytestNames(ast.NodeTransformer):
     """Renames invalid names added by pytest assert rewriting."""
```

### Comparing `coconut-3.0.2/coconut/constants.py` & `coconut-3.0.3/coconut/constants.py`

 * *Files 2% similar despite different names*

```diff
@@ -36,17 +36,17 @@
     """Uniformly format a path."""
     return os.path.normpath(os.path.realpath(os.path.expanduser(path)))
 
 
 def get_bool_env_var(env_var, default=False):
     """Get a boolean from an environment variable."""
     boolstr = os.getenv(env_var, "").lower()
-    if boolstr in ("true", "yes", "on", "1"):
+    if boolstr in ("true", "yes", "on", "1", "t"):
         return True
-    elif boolstr in ("false", "no", "off", "0"):
+    elif boolstr in ("false", "no", "off", "0", "f"):
         return False
     else:
         if boolstr not in ("", "none", "default"):
             warn("{env_var} has invalid value {value!r} (defaulting to {default})".format(env_var=env_var, value=os.getenv(env_var), default=default))
         return default
 
 
@@ -74,16 +74,17 @@
 PY37 = sys.version_info >= (3, 7)
 PY38 = sys.version_info >= (3, 8)
 PY39 = sys.version_info >= (3, 9)
 PY310 = sys.version_info >= (3, 10)
 PY311 = sys.version_info >= (3, 11)
 IPY = (
     ((PY2 and not PY26) or PY35)
-    and not (PYPY and WINDOWS)
     and (PY37 or not PYPY)
+    and not (PYPY and WINDOWS)
+    and not (PY2 and WINDOWS)
     and sys.version_info[:2] != (3, 7)
 )
 MYPY = (
     PY37
     and not WINDOWS
     and not PYPY
 )
@@ -100,27 +101,38 @@
 # -----------------------------------------------------------------------------------------------------------------------
 
 # set this to False only ever temporarily for ease of debugging
 use_fast_pyparsing_reprs = True
 assert use_fast_pyparsing_reprs or DEVELOP, "use_fast_pyparsing_reprs should never be disabled on non-develop build"
 
 enable_pyparsing_warnings = DEVELOP
-
-# experimentally determined to maximize performance
-use_packrat_parser = True  # True also gives us better error messages
-use_left_recursion_if_available = False
-packrat_cache_size = None  # only works because final() clears the cache
-streamline_grammar_for_len = 4000
+warn_on_multiline_regex = False
 
 default_whitespace_chars = " \t\f"  # the only non-newline whitespace Python allows
 
 varchars = string.ascii_letters + string.digits + "_"
 
 use_computation_graph_env_var = "COCONUT_USE_COMPUTATION_GRAPH"
 
+# below constants are experimentally determined to maximize performance
+
+streamline_grammar_for_len = 4000
+
+use_packrat_parser = True  # True also gives us better error messages
+packrat_cache_size = None  # only works because final() clears the cache
+
+# note that _parseIncremental produces much smaller caches
+use_incremental_if_available = True
+incremental_cache_size = None
+# these only apply to use_incremental_if_available, not compiler.util.enable_incremental_parsing()
+repeatedly_clear_incremental_cache = True
+never_clear_incremental_cache = False
+
+use_left_recursion_if_available = False
+
 # -----------------------------------------------------------------------------------------------------------------------
 # COMPILER CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 # set this to True only ever temporarily for ease of debugging
 embed_on_internal_exc = False
 assert not embed_on_internal_exc or DEVELOP, "embed_on_internal_exc should never be enabled on non-develop build"
@@ -167,14 +179,26 @@
     (3, 6),
     (3, 7),
     (3, 8),
     (3, 9),
     (3, 10),
     (3, 11),
     (3, 12),
+    (3, 13),
+)
+
+# must be in ascending order and kept up-to-date with https://devguide.python.org/versions
+py_vers_with_eols = (
+    # (target, eol date)
+    ("38", dt.datetime(2024, 11, 1)),
+    ("39", dt.datetime(2025, 11, 1)),
+    ("310", dt.datetime(2026, 11, 1)),
+    ("311", dt.datetime(2027, 11, 1)),
+    ("312", dt.datetime(2028, 11, 1)),
+    ("313", dt.datetime(2029, 11, 1)),
 )
 
 # must match supported vers above and must be replicated in DOCS
 specific_targets = (
     "2",
     "27",
     "3",
@@ -184,21 +208,22 @@
     "36",
     "37",
     "38",
     "39",
     "310",
     "311",
     "312",
+    "313",
 )
 pseudo_targets = {
     "universal": "",
+    "univ": "",
     "26": "2",
     "32": "3",
 }
-assert all(v in specific_targets or v in pseudo_targets for v in ROOT_HEADER_VERSIONS)
 
 targets = ("",) + specific_targets
 
 template_ext = ".py_template"
 
 default_encoding = "utf-8"
 
@@ -233,37 +258,42 @@
 unwrapper = "\u23f9"  # stop square
 funcwrapper = "def:"
 
 # must be tuples for .startswith / .endswith purposes
 indchars = (openindent, closeindent, "\n")
 comment_chars = ("#", lnwrapper)
 
+all_whitespace = default_whitespace_chars + "".join(indchars)
+
 # open_chars and close_chars MUST BE IN THE SAME ORDER
 open_chars = "([{"  # opens parenthetical
 close_chars = ")]}"  # closes parenthetical
 
-hold_chars = "'\""  # string open/close chars
+str_chars = "'\""  # string open/close chars
 
 # together should include all the constants defined above
-delimiter_symbols = tuple(open_chars + close_chars + hold_chars) + (
+delimiter_symbols = tuple(open_chars + close_chars + str_chars) + (
     strwrapper,
     errwrapper,
     early_passthrough_wrapper,
     unwrapper,
 ) + indchars + comment_chars
 reserved_compiler_symbols = delimiter_symbols + (
     reserved_prefix,
     funcwrapper,
 )
 
-taberrfmt = 2  # spaces to indent exceptions
 tabideal = 4  # spaces to indent code for displaying
 
+taberrfmt = 2  # spaces to indent exceptions
+
 justify_len = 79  # ideal line length
 
+min_squiggles_in_err_msg = 1
+
 # for pattern-matching
 default_matcher_style = "python warn"
 wildcard = "_"
 
 in_place_op_funcs = {
     "|?>=": "_coconut_none_pipe",
     "|?*>=": "_coconut_none_star_pipe",
@@ -559,38 +589,47 @@
 comp_ext = ".py"
 
 main_sig = "Coconut: "
 
 main_prompt = ">>> "
 more_prompt = "    "
 
+default_use_cache_dir = PY34
+coconut_cache_dir = "__coconut_cache__"
+
 mypy_path_env_var = "MYPYPATH"
 
 style_env_var = "COCONUT_STYLE"
 vi_mode_env_var = "COCONUT_VI_MODE"
 home_env_var = "COCONUT_HOME"
-use_color_env_var = "COCONUT_USE_COLOR"
+
+force_verbose_logger = get_bool_env_var("COCONUT_FORCE_VERBOSE", False)
 
 coconut_home = fixpath(os.getenv(home_env_var, "~"))
 
-use_color = get_bool_env_var(use_color_env_var, default=None)
+use_color = get_bool_env_var("COCONUT_USE_COLOR", None)
 error_color_code = "31"
 log_color_code = "93"
 
 default_style = "default"
 prompt_histfile = os.path.join(coconut_home, ".coconut_history")
 prompt_multiline = False
-prompt_vi_mode = get_bool_env_var(vi_mode_env_var)
+prompt_vi_mode = get_bool_env_var(vi_mode_env_var, False)
 prompt_wrap_lines = True
 prompt_history_search = True
 prompt_use_suggester = False
 
 base_dir = os.path.dirname(os.path.abspath(fixpath(__file__)))
 
 base_stub_dir = os.path.dirname(base_dir)
+stub_dir_names = (
+    "__coconut__",
+    "_coconut",
+    "coconut",
+)
 installed_stub_dir = os.path.join(coconut_home, ".coconut_stubs")
 
 watch_interval = .1  # seconds
 
 info_tabulation = 18  # offset for tabulated info messages
 
 rtfd_url = "http://coconut.readthedocs.io/en/" + version_tag
@@ -608,17 +647,17 @@
 
 # should match special characters above
 reserved_command_symbols = exit_chars + (
     ansii_escape,
 )
 
 # always use atomic --xxx=yyy rather than --xxx yyy
-coconut_run_verbose_args = ("--run", "--target=sys", "--line-numbers", "--keep-lines")
-coconut_run_args = coconut_run_verbose_args + ("--quiet",)
-coconut_import_hook_args = ("--target=sys", "--line-numbers", "--keep-lines", "--quiet")
+#  and don't include --run, --quiet, or --target as they're added separately
+coconut_base_run_args = ("--keep-lines",)
+coconut_run_kwargs = dict(default_target="sys")  # passed to Command.cmd
 
 default_mypy_args = (
     "--pretty",
 )
 verbose_mypy_args = (
     "--show-traceback",
     "--show-error-context",
@@ -645,19 +684,21 @@
 
 kilobyte = 1024
 min_stack_size_kbs = 160
 
 default_jobs = "sys" if not PY26 else 0
 
 mypy_install_arg = "install"
+jupyter_install_arg = "install"
 
 mypy_builtin_regex = re.compile(r"\b(reveal_type|reveal_locals)\b")
 
 interpreter_uses_auto_compilation = True
 interpreter_uses_coconut_breakpoint = True
+interpreter_uses_incremental = get_bool_env_var("COCONUT_INTERPRETER_USE_INCREMENTAL_PARSING", True)
 
 command_resources_dir = os.path.join(base_dir, "command", "resources")
 coconut_pth_file = os.path.join(command_resources_dir, "zcoconut.pth")
 
 interpreter_compiler_var = "__coconut_compiler__"
 
 jupyter_console_commands = ("console", "qtconsole")
@@ -710,14 +751,16 @@
     "all_equal",
     "collectby",
     "multi_enumerate",
     "cartesian_product",
     "multiset",
     "cycle",
     "windowsof",
+    "and_then",
+    "and_then_await",
     "py_chr",
     "py_dict",
     "py_hex",
     "py_input",
     "py_int",
     "py_map",
     "py_object",
@@ -762,18 +805,21 @@
     r"`",
     r"::",
     r";+",
     r"(?:<\*?\*?\??)?(?!\.\.\.)\.\.(?:\??\*?\*?>)?",  # ..
     r"\|\??\*?\*?>",
     r"<\*?\*?\??\|",
     r"->",
+    r"=>",
     r"\?\??",
     r"<:",
     r"&:",
+    # not raw strings since we want the actual unicode chars
     "\u2192",  # ->
+    "\u21d2",  # =>
     "\\??\\*?\\*?\u21a6",  # |>
     "\u21a4\\*?\\*?\\??",  # <|
     "<?\\*?\\*?\\??\u2218\\??\\*?\\*?>?",  # ..
     "\xd7",  # *
     "\u2191",  # **
     "\xf7",  # /
     "\u207b",  # -
@@ -786,14 +832,15 @@
     "\xab",  # <<
     "\xbb",  # >>
     "\u2026",  # ...
     "\u2286",  # C=
     "\u2287",  # ^reversed
     "\u228a",  # C!=
     "\u228b",  # ^reversed
+    "\u23e8",  # 10
 )
 
 # -----------------------------------------------------------------------------------------------------------------------
 # INSTALLATION CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 package_name = "coconut" + ("-develop" if DEVELOP else "")
@@ -803,31 +850,31 @@
 
 description = "Simple, elegant, Pythonic functional programming."
 website_url = "http://coconut-lang.org"
 
 license_name = "Apache 2.0"
 
 pure_python_env_var = "COCONUT_PURE_PYTHON"
-PURE_PYTHON = get_bool_env_var(pure_python_env_var)
+PURE_PYTHON = get_bool_env_var(pure_python_env_var, False)
 
 # the different categories here are defined in requirements.py,
 #  tuples denote the use of environment markers
 all_reqs = {
     "main": (
         ("argparse", "py<27"),
         ("psutil", "py>=27"),
         ("futures", "py<3"),
         ("backports.functools-lru-cache", "py<3"),
         ("prompt_toolkit", "py<3"),
         ("prompt_toolkit", "py>=3"),
         ("pygments", "py<39"),
         ("pygments", "py>=39"),
-        ("typing_extensions", "py==35"),
+        ("typing_extensions", "py<36"),
         ("typing_extensions", "py==36"),
-        ("typing_extensions", "py37"),
+        ("typing_extensions", "py>=37"),
     ),
     "cpython": (
         "cPyparsing",
     ),
     "purepython": (
         "pyparsing",
     ),
@@ -869,15 +916,15 @@
         ("xonsh", "py38"),
     ),
     "backports": (
         ("trollius", "py<3;cpy"),
         ("aenum", "py<34"),
         ("dataclasses", "py==36"),
         ("typing", "py<35"),
-        ("async_generator", "py3"),
+        ("async_generator", "py35"),
     ),
     "dev": (
         ("pre-commit", "py3"),
         "requests",
         "vprof",
     ),
     "docs": (
@@ -895,47 +942,46 @@
         ("numpy", "py<3;cpy"),
         ("pandas", "py36"),
     ),
 }
 
 # min versions are inclusive
 min_versions = {
-    "cPyparsing": (2, 4, 7, 1, 2, 1),
+    "cPyparsing": (2, 4, 7, 2, 2, 1),
     ("pre-commit", "py3"): (3,),
     ("psutil", "py>=27"): (5,),
     "jupyter": (1, 0),
     "types-backports": (0, 1),
     ("futures", "py<3"): (3, 4),
     ("backports.functools-lru-cache", "py<3"): (1, 6),
     ("argparse", "py<27"): (1, 4),
     "pexpect": (4,),
     ("trollius", "py<3;cpy"): (2, 2),
     "requests": (2, 31),
     ("numpy", "py34"): (1,),
     ("numpy", "py<3;cpy"): (1,),
     ("dataclasses", "py==36"): (0, 8),
-    ("aenum", "py<34"): (3,),
+    ("aenum", "py<34"): (3, 1, 15),
     "pydata-sphinx-theme": (0, 13),
-    "myst-parser": (1,),
-    "mypy[python2]": (1, 3),
+    "myst-parser": (2,),
+    "sphinx": (7,),
+    "mypy[python2]": (1, 4),
     ("jupyter-console", "py37"): (6, 6),
     ("typing", "py<35"): (3, 10),
-    ("typing_extensions", "py37"): (4, 6),
+    ("typing_extensions", "py>=37"): (4, 7),
     ("ipython", "py38"): (8,),
     ("ipykernel", "py38"): (6,),
-    ("jedi", "py39"): (0, 18),
+    ("jedi", "py39"): (0, 19),
     ("pygments", "py>=39"): (2, 15),
     ("xonsh", "py38"): (0, 14),
     ("pytest", "py36"): (7,),
-    ("async_generator", "py3"): (1, 10),
+    ("async_generator", "py35"): (1, 10),
 
     # pinned reqs: (must be added to pinned_reqs below)
 
-    # don't upgrade until myst-parser supports the new version
-    "sphinx": (6,),
     # don't upgrade these; they breaks on Python 3.7
     ("ipython", "py==37"): (7, 34),
     # don't upgrade these; they breaks on Python 3.6
     ("xonsh", "py>=36;py<38"): (0, 11),
     ("pandas", "py36"): (1,),
     ("jupyter-client", "py36"): (7, 1, 2),
     ("typing_extensions", "py==36"): (4, 1),
@@ -943,15 +989,15 @@
     ("ipykernel", "py3;py<38"): (5, 5),
     ("ipython", "py3;py<37"): (7, 9),
     ("jupyter-console", "py>=35;py<37"): (6, 1),
     ("jupyter-client", "py==35"): (6, 1, 12),
     ("jupytext", "py3"): (1, 8),
     ("jupyterlab", "py35"): (2, 2),
     ("xonsh", "py<36"): (0, 9),
-    ("typing_extensions", "py==35"): (3, 10),
+    ("typing_extensions", "py<36"): (3, 10),
     # don't upgrade this to allow all versions
     ("prompt_toolkit", "py>=3"): (1,),
     # don't upgrade this; it breaks on Python 2.6
     ("pytest", "py<36"): (3,),
     # don't upgrade this; it breaks on unix
     "vprof": (0, 36),
     # don't upgrade this; it breaks on Python 3.4
@@ -969,29 +1015,28 @@
     ("jedi", "py<39"): (0, 17),
     # Coconut requires pyparsing 2
     "pyparsing": (2, 4, 7),
 }
 
 # should match the reqs with comments above
 pinned_reqs = (
-    "sphinx",
     ("ipython", "py==37"),
     ("xonsh", "py>=36;py<38"),
     ("pandas", "py36"),
     ("jupyter-client", "py36"),
     ("typing_extensions", "py==36"),
     ("jupyter-client", "py<35"),
     ("ipykernel", "py3;py<38"),
     ("ipython", "py3;py<37"),
     ("jupyter-console", "py>=35;py<37"),
     ("jupyter-client", "py==35"),
     ("jupytext", "py3"),
     ("jupyterlab", "py35"),
     ("xonsh", "py<36"),
-    ("typing_extensions", "py==35"),
+    ("typing_extensions", "py<36"),
     ("prompt_toolkit", "py>=3"),
     ("pytest", "py<36"),
     "vprof",
     ("pygments", "py<39"),
     ("pywinpty", "py<3;windows"),
     ("jupyter-console", "py<35"),
     ("ipython", "py<3"),
@@ -1147,15 +1192,15 @@
 requests_sleep_times = (0, 0.1, 0.2, 0.3, 0.4, 1)
 
 # -----------------------------------------------------------------------------------------------------------------------
 # INTEGRATION CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 # must be replicated in DOCS; must include --line-numbers for xonsh line number extraction
-coconut_kernel_kwargs = dict(target="sys", line_numbers=True, keep_lines=True, no_wrap=True)
+coconut_kernel_kwargs = dict(target="sys", line_numbers=True, keep_lines=True, no_wrap=True)  # passed to Compiler.setup
 
 icoconut_dir = os.path.join(base_dir, "icoconut")
 
 icoconut_custom_kernel_name = "coconut"
 icoconut_custom_kernel_dir = os.path.join(icoconut_dir, icoconut_custom_kernel_name)
 
 icoconut_custom_kernel_install_loc = "/".join(("share", "jupyter", "kernels", icoconut_custom_kernel_name))
```

### Comparing `coconut-3.0.2/coconut/convenience.py` & `coconut-3.0.3/coconut/convenience.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/convenience.pyi` & `coconut-3.0.3/coconut/convenience.pyi`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/exceptions.py` & `coconut-3.0.3/coconut/exceptions.py`

 * *Files 9% similar despite different names*

```diff
@@ -25,14 +25,15 @@
     lineno,
     col as getcol,
 )
 
 from coconut.constants import (
     taberrfmt,
     report_this_text,
+    min_squiggles_in_err_msg,
 )
 from coconut.util import (
     pickleable_obj,
     clip,
     logical_lines,
     clean,
     get_displayable_target,
@@ -112,28 +113,29 @@
             message += ")"
         if source:
             if point is None:
                 for line in source.splitlines():
                     message += "\n" + " " * taberrfmt + clean(line)
             else:
                 source = normalize_newlines(source)
+                point = clip(point, 0, len(source))
 
                 if endpoint is None:
                     endpoint = 0
                 endpoint = clip(endpoint, point, len(source))
 
                 point_ln = lineno(point, source)
                 endpoint_ln = lineno(endpoint, source)
 
                 point_ind = getcol(point, source) - 1
                 endpoint_ind = getcol(endpoint, source) - 1
 
                 source_lines = tuple(logical_lines(source, keep_newlines=True))
 
-                # walk the endpoint back until it points to real text
+                # walk the endpoint line back until it points to real text
                 while endpoint_ln > point_ln and not "".join(source_lines[endpoint_ln - 1:endpoint_ln]).strip():
                     endpoint_ln -= 1
                     endpoint_ind = len(source_lines[endpoint_ln - 1])
 
                 # single-line error message
                 if point_ln == endpoint_ln:
                     part = source_lines[point_ln - 1]
@@ -150,38 +152,49 @@
                     # adjust only cols that are too large based on clean/rstrip
                     point_ind = clip(point_ind, 0, len(part))
                     endpoint_ind = clip(endpoint_ind, point_ind, len(part))
 
                     message += "\n" + " " * taberrfmt + part
 
                     if point_ind > 0 or endpoint_ind > 0:
+                        err_len = endpoint_ind - point_ind
                         message += "\n" + " " * (taberrfmt + point_ind)
-                        if endpoint_ind - point_ind > 1:
+                        if err_len <= min_squiggles_in_err_msg:
                             if not self.point_to_endpoint:
                                 message += "^"
-                            message += "~" * (endpoint_ind - point_ind - 1)
+                            message += "~" * err_len  # err_len ~'s when there's only an extra char in one spot
                             if self.point_to_endpoint:
                                 message += "^"
                         else:
-                            message += "^"
+                            message += (
+                                ("^" if not self.point_to_endpoint else "\\")
+                                + "~" * (err_len - 1)  # err_len-1 ~'s when there's an extra char at the start and end
+                                + ("^" if self.point_to_endpoint else "/" if endpoint_ind < len(part) else "|")
+                            )
 
                 # multi-line error message
                 else:
                     lines = []
                     for line in source_lines[point_ln - 1:endpoint_ln]:
                         lines.append(clean(line))
 
-                    # adjust cols that are too large based on clean/rstrip
                     point_ind = clip(point_ind, 0, len(lines[0]))
                     endpoint_ind = clip(endpoint_ind, 0, len(lines[-1]))
 
-                    message += "\n" + " " * (taberrfmt + point_ind) + "|" + "~" * (len(lines[0]) - point_ind - 1) + "\n"
+                    message += "\n" + " " * (taberrfmt + point_ind)
+                    if point_ind >= len(lines[0]):
+                        message += "|\n"
+                    else:
+                        message += "/" + "~" * (len(lines[0]) - point_ind - 1) + "\n"
                     for line in lines:
                         message += "\n" + " " * taberrfmt + line
-                    message += "\n\n" + " " * taberrfmt + "~" * (endpoint_ind) + "^"
+                    message += (
+                        "\n\n" + " " * taberrfmt + "~" * endpoint_ind
+                        + ("^" if self.point_to_endpoint else "/" if 0 < endpoint_ind < len(lines[-1]) else "|")
+                    )
 
         return message
 
     def syntax_err(self):
         """Creates a SyntaxError."""
         kwargs = self.kwargs
         if self.point_to_endpoint and "endpoint" in kwargs:
```

### Comparing `coconut-3.0.2/coconut/highlighter.py` & `coconut-3.0.3/coconut/highlighter.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/icoconut/__init__.py` & `coconut-3.0.3/coconut/icoconut/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/icoconut/__main__.py` & `coconut-3.0.3/coconut/icoconut/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/icoconut/embed.py` & `coconut-3.0.3/coconut/icoconut/embed.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/icoconut/root.py` & `coconut-3.0.3/coconut/api.py`

 * *Files 22% similar despite different names*

```diff
@@ -4,296 +4,346 @@
 # -----------------------------------------------------------------------------------------------------------------------
 # INFO:
 # -----------------------------------------------------------------------------------------------------------------------
 
 """
 Author: Evan Hubinger
 License: Apache 2.0
-Description: The Coconut IPython kernel.
+Description: Coconut's main external API.
 """
 
 # -----------------------------------------------------------------------------------------------------------------------
 # IMPORTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 from __future__ import print_function, absolute_import, unicode_literals, division
 
 from coconut.root import *  # NOQA
 
-import os
 import sys
-import logging
-
+import os.path
+import codecs
+from functools import partial
 try:
-    import asyncio
+    from encodings import utf_8
 except ImportError:
-    asyncio = None
+    utf_8 = None
 
-from coconut.exceptions import (
-    CoconutException,
-    CoconutInternalException,
-)
+from coconut.root import _coconut_exec
+from coconut.integrations import embed
+from coconut.exceptions import CoconutException
+from coconut.command import Command
+from coconut.command.cli import cli_version
+from coconut.command.util import proc_run_args
+from coconut.compiler import Compiler
 from coconut.constants import (
-    WINDOWS,
-    PY38,
-    PY311,
-    py_syntax_version,
-    mimetype,
-    version_banner,
-    tutorial_url,
-    documentation_url,
+    PY34,
+    version_tag,
     code_exts,
-    conda_build_env_var,
     coconut_kernel_kwargs,
+    default_use_cache_dir,
+    coconut_cache_dir,
+    coconut_run_kwargs,
 )
-from coconut.terminal import logger
-from coconut.util import override, memoize_with_exceptions
-from coconut.compiler import Compiler
-from coconut.compiler.util import should_indent
-from coconut.command.util import Runner
 
-if WINDOWS and PY38 and asyncio is not None:  # attempt to fix zmq warning
-    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
+# -----------------------------------------------------------------------------------------------------------------------
+# COMMAND:
+# -----------------------------------------------------------------------------------------------------------------------
+
+GLOBAL_STATE = None
 
-try:
-    from IPython.core.inputsplitter import IPythonInputSplitter
-    from IPython.core.interactiveshell import InteractiveShellABC
-    from IPython.core.compilerop import CachingCompiler
-    from IPython.terminal.embed import InteractiveShellEmbed
-    from ipykernel.ipkernel import IPythonKernel
-    from ipykernel.zmqshell import ZMQInteractiveShell
-    from ipykernel.kernelapp import IPKernelApp
-except ImportError:
-    LOAD_MODULE = False
-    if os.getenv(conda_build_env_var):
-        # conda tries to import coconut.icoconut as a test even when IPython isn't available
-        logger.warn("Missing IPython but detected " + conda_build_env_var + "; skipping coconut.icoconut loading")
+
+def get_state(state=None):
+    """Get a Coconut state object; None gets a new state, False gets the global state."""
+    global GLOBAL_STATE
+    if state is None:
+        return Command()
+    elif state is False:
+        if GLOBAL_STATE is None:
+            GLOBAL_STATE = Command()
+        return GLOBAL_STATE
+    else:
+        return state
+
+
+def cmd(cmd_args, **kwargs):
+    """Process command-line arguments."""
+    state = kwargs.pop("state", False)
+    if isinstance(cmd_args, (str, bytes)):
+        cmd_args = cmd_args.split()
+    return get_state(state).cmd(cmd_args, **kwargs)
+
+
+VERSIONS = {
+    "num": VERSION,
+    "name": VERSION_NAME,
+    "spec": VERSION_STR,
+    "tag": version_tag,
+    "-v": cli_version,
+}
+
+
+def version(which="num"):
+    """Get the Coconut version."""
+    if which in VERSIONS:
+        return VERSIONS[which]
     else:
         raise CoconutException(
-            "--jupyter flag requires Jupyter library",
-            extra="run '{python} -m pip install coconut[jupyter]' to fix".format(python=sys.executable),
+            "invalid version type " + repr(which),
+            extra="valid versions are " + ", ".join(VERSIONS),
         )
-else:
-    LOAD_MODULE = True
-
-try:
-    from papermill.translators import (
-        papermill_translators,
-        PythonTranslator,
-    )
-except ImportError:
-    papermill_translators = None
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# UTILITIES:
+# COMPILER:
 # -----------------------------------------------------------------------------------------------------------------------
 
-COMPILER = Compiler(**coconut_kernel_kwargs)
-
-RUNNER = Runner(COMPILER)
+def setup(*args, **kwargs):
+    """Set up the given state object."""
+    state = kwargs.pop("state", False)
+    return get_state(state).setup(*args, **kwargs)
+
+
+def warm_up(*args, **kwargs):
+    """Warm up the given state object."""
+    state = kwargs.pop("state", False)
+    return get_state(state).comp.warm_up(*args, **kwargs)
+
+
+PARSERS = {
+    "sys": lambda comp: comp.parse_sys,
+    "exec": lambda comp: comp.parse_exec,
+    "file": lambda comp: comp.parse_file,
+    "package": lambda comp: comp.parse_package,
+    "block": lambda comp: comp.parse_block,
+    "single": lambda comp: comp.parse_single,
+    "eval": lambda comp: comp.parse_eval,
+    "lenient": lambda comp: comp.parse_lenient,
+    "xonsh": lambda comp: comp.parse_xonsh,
+}
+
+# deprecated aliases
+PARSERS["any"] = PARSERS["debug"] = PARSERS["lenient"]
+
+
+def parse(code="", mode="sys", state=False, keep_internal_state=None):
+    """Compile Coconut code."""
+    if keep_internal_state is None:
+        keep_internal_state = bool(state)
+    command = get_state(state)
+    if command.comp is None:
+        command.setup()
+    if mode not in PARSERS:
+        raise CoconutException(
+            "invalid parse mode " + repr(mode),
+            extra="valid modes are " + ", ".join(PARSERS),
+        )
+    return PARSERS[mode](command.comp)(code, keep_state=keep_internal_state)
 
 
-@memoize_with_exceptions(128)
-def memoized_parse_block(code):
-    return COMPILER.parse_block(code, keep_state=True)
+def coconut_base_exec(exec_func, mode, expression, globals=None, locals=None, state=False, **kwargs):
+    """Compile and evaluate Coconut code."""
+    command = get_state(state)
+    if command.comp is None:
+        setup()
+    command.check_runner(set_sys_vars=False)
+    if globals is None:
+        globals = {}
+    command.runner.update_vars(globals)
+    compiled_python = parse(expression, mode, state, **kwargs)
+    return exec_func(compiled_python, globals, locals)
 
 
-def syntaxerr_memoized_parse_block(code):
-    """Version of memoized_parse_block that raises SyntaxError without any __cause__."""
-    to_raise = None
-    try:
-        return memoized_parse_block(code)
-    except CoconutException as err:
-        to_raise = err.syntax_err()
-    raise to_raise
+coconut_exec = partial(coconut_base_exec, _coconut_exec, "sys")
+coconut_eval = partial(coconut_base_exec, eval, "eval")
 
 
 # -----------------------------------------------------------------------------------------------------------------------
-# KERNEL:
+# BREAKPOINT:
 # -----------------------------------------------------------------------------------------------------------------------
 
-if LOAD_MODULE:
 
-    COMPILER.warm_up()
+def _coconut_breakpoint():
+    """Determine coconut.embed depth based on whether we're being
+    called by Coconut's breakpoint() or Python's breakpoint()."""
+    if sys.version_info >= (3, 7):
+        return embed(depth=1)
+    else:
+        return embed(depth=2)
 
-    class CoconutCompiler(CachingCompiler, object):
-        """IPython compiler for Coconut."""
 
-        def __init__(self):
-            super(CoconutCompiler, self).__init__()
+def use_coconut_breakpoint(on=True):
+    """Switches the breakpoint() built-in (universally accessible via
+    coconut.__coconut__.breakpoint) to use coconut.embed."""
+    if on:
+        sys.breakpointhook = _coconut_breakpoint
+    else:
+        sys.breakpointhook = sys.__breakpointhook__
 
-            # we compile the header here to cache the proper __future__ imports
-            header = COMPILER.getheader("sys")
-            super(CoconutCompiler, self).__call__(header, "<string>", "exec")
 
-        @override
-        def ast_parse(self, source, *args, **kwargs):
-            """Version of ast_parse that compiles Coconut code first."""
-            compiled = syntaxerr_memoized_parse_block(source)
-            return super(CoconutCompiler, self).ast_parse(compiled, *args, **kwargs)
+use_coconut_breakpoint()
 
-        @override
-        def cache(self, code, *args, **kwargs):
-            """Version of cache that compiles Coconut code first."""
-            try:
-                compiled = memoized_parse_block(code)
-            except CoconutException:
-                logger.print_exc()
-                return None
-            else:
-                return super(CoconutCompiler, self).cache(compiled, *args, **kwargs)
 
-        @override
-        def __call__(self, source, *args, **kwargs):
-            """Version of __call__ that compiles Coconut code first."""
-            if isinstance(source, (str, bytes)):
-                compiled = syntaxerr_memoized_parse_block(source)
-            else:
-                compiled = source
-            return super(CoconutCompiler, self).__call__(compiled, *args, **kwargs)
+# -----------------------------------------------------------------------------------------------------------------------
+# AUTOMATIC COMPILATION:
+# -----------------------------------------------------------------------------------------------------------------------
 
-    class CoconutSplitter(IPythonInputSplitter, object):
-        """IPython splitter for Coconut."""
 
-        def __init__(self, *args, **kwargs):
-            """Version of __init__ that sets up Coconut code compilation."""
-            super(CoconutSplitter, self).__init__(*args, **kwargs)
-            self._compile = self._coconut_compile
-
-        def _coconut_compile(self, source, *args, **kwargs):
-            """Version of _compile that checks Coconut code.
-            None means that the code should not be run as is.
-            Any other value means that it can."""
-            if source.endswith("\n\n"):
-                return True
-            elif should_indent(source):
-                return None
+class CoconutImporter(object):
+    """Finder and loader for compiling Coconut files at import time."""
+    ext = code_exts[0]
+    command = None
+
+    def __init__(self, *args):
+        self.use_cache_dir(default_use_cache_dir)
+        self.set_args(args)
+
+    def use_cache_dir(self, use_cache_dir):
+        """Set the cache directory if any to use for compiled Coconut files."""
+        if use_cache_dir:
+            if not PY34:
+                raise CoconutException("coconut.api.auto_compilation only supports the usage of a cache directory on Python 3.4+")
+            self.cache_dir = coconut_cache_dir
+        else:
+            self.cache_dir = None
+
+    def set_args(self, args):
+        """Set the Coconut command line args to use for auto compilation."""
+        self.args = proc_run_args(args)
+
+    def cmd(self, *args):
+        """Run the Coconut compiler with the given args."""
+        if self.command is None:
+            self.command = Command()
+        return self.command.cmd(list(args) + self.args, interact=False, **coconut_run_kwargs)
+
+    def compile(self, path, package):
+        """Compile a path to a file or package."""
+        extra_args = []
+        if self.cache_dir:
+            if package:
+                cache_dir = os.path.join(path, self.cache_dir)
             else:
-                return True
+                cache_dir = os.path.join(os.path.dirname(path), self.cache_dir)
+            extra_args.append(cache_dir)
+        else:
+            cache_dir = None
+
+        if package:
+            self.cmd(path, *extra_args)
+            return cache_dir or path
+        else:
+            destpath, = self.cmd(path, *extra_args)
+            return destpath
+
+    def find_coconut(self, fullname, path=None):
+        """Searches for a Coconut file of the given name and compiles it."""
+        basepaths = list(sys.path) + [""]
+        if fullname.startswith("."):
+            if path is None:
+                # we can't do a relative import if there's no package path
+                return None
+            fullname = fullname[1:]
+            basepaths.insert(0, path)
 
-    INTERACTIVE_SHELL_CODE = '''
-input_splitter = CoconutSplitter(line_input_checker=True)
-input_transformer_manager = CoconutSplitter(line_input_checker=False)
-
-@override
-def init_instance_attrs(self):
-    """Version of init_instance_attrs that uses CoconutCompiler."""
-    super({cls}, self).init_instance_attrs()
-    self.compile = CoconutCompiler()
-
-@override
-def init_user_ns(self):
-    """Version of init_user_ns that adds Coconut built-ins."""
-    super({cls}, self).init_user_ns()
-    RUNNER.update_vars(self.user_ns)
-    RUNNER.update_vars(self.user_ns_hidden)
-
-@override
-def run_cell(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
-    """Version of run_cell that always uses shell_futures."""
-    # cell_id is just ignored because we don't use it but we have to have it because
-    #  the presence of **kwargs means ipykernel.kernelbase._accepts_cell_id thinks we do
-    return super({cls}, self).run_cell(raw_cell, store_history, silent, shell_futures=True, **kwargs)
-
-if asyncio is not None:
-    @override
-    {coroutine}def run_cell_async(self, raw_cell, store_history=False, silent=False, shell_futures=True, cell_id=None, **kwargs):
-        """Version of run_cell_async that always uses shell_futures."""
-        # same as above
-        return super({cls}, self).run_cell_async(raw_cell, store_history, silent, shell_futures=True, **kwargs)
-
-@override
-def user_expressions(self, expressions):
-    """Version of user_expressions that compiles Coconut code first."""
-    compiled_expressions = {dict}
-    for key, expr in expressions.items():
+        path_tail = os.path.join(*fullname.split("."))
+        for path_head in basepaths:
+            path = os.path.join(path_head, path_tail)
+            filepath = path + self.ext
+            initpath = os.path.join(path, "__init__" + self.ext)
+            if os.path.exists(filepath):
+                return self.compile(filepath, package=False)
+            if os.path.exists(initpath):
+                return self.compile(path, package=True)
+        return None
+
+    def find_module(self, fullname, path=None):
+        """Get a loader for a Coconut module if it exists."""
+        destpath = self.find_coconut(fullname, path)
+        # return None to let Python do the import when nothing was found or compiling in-place
+        if destpath is None or not self.cache_dir:
+            return None
+        else:
+            from importlib.machinery import SourceFileLoader
+            return SourceFileLoader(fullname, destpath)
+
+    def find_spec(self, fullname, path=None, target=None):
+        """Get a modulespec for a Coconut module if it exists."""
+        loader = self.find_module(fullname, path)
+        if loader is None:
+            return None
+        else:
+            from importlib.util import spec_from_loader
+            return spec_from_loader(fullname, loader)
+
+
+coconut_importer = CoconutImporter()
+
+
+def auto_compilation(on=True, args=None, use_cache_dir=None):
+    """Turn automatic compilation of Coconut files on or off."""
+    if args is not None:
+        coconut_importer.set_args(args)
+    if use_cache_dir is not None:
+        coconut_importer.use_cache_dir(use_cache_dir)
+    if on:
+        if coconut_importer not in sys.meta_path:
+            sys.meta_path.insert(0, coconut_importer)
+    else:
         try:
-            compiled_expressions[key] = COMPILER.parse_eval(expr, keep_state=True)
-        except CoconutException:
-            compiled_expressions[key] = expr
-    return super({cls}, self).user_expressions(compiled_expressions)
-'''
-
-    format_dict = dict(
-        dict="{}",
-        coroutine=(
-            "" if PY311 else
-            """@asyncio.coroutine
-    """
-        ),
+            sys.meta_path.remove(coconut_importer)
+        except ValueError:
+            pass
+
+
+auto_compilation()
+
+
+# -----------------------------------------------------------------------------------------------------------------------
+# ENCODING:
+# -----------------------------------------------------------------------------------------------------------------------
+
+
+if utf_8 is not None:
+    class CoconutStreamReader(utf_8.StreamReader, object):
+        """Compile Coconut code from a stream of UTF-8."""
+        coconut_compiler = None
+
+        @classmethod
+        def compile_coconut(cls, source):
+            """Compile the given Coconut source text."""
+            if cls.coconut_compiler is None:
+                cls.coconut_compiler = Compiler(**coconut_kernel_kwargs)
+            return cls.coconut_compiler.parse_sys(source)
+
+        @classmethod
+        def decode(cls, input_bytes, errors="strict"):
+            """Decode and compile the given Coconut source bytes."""
+            input_str, len_consumed = super(CoconutStreamReader, cls).decode(input_bytes, errors)
+            return cls.compile_coconut(input_str), len_consumed
+
+    class CoconutIncrementalDecoder(utf_8.IncrementalDecoder, object):
+        """Compile Coconut at the end of incrementally decoding UTF-8."""
+        invertible = False
+        _buffer_decode = CoconutStreamReader.decode
+
+
+def get_coconut_encoding(encoding="coconut"):
+    """Get a CodecInfo for the given Coconut encoding."""
+    if not encoding.startswith("coconut"):
+        return None
+    if encoding != "coconut":
+        raise CoconutException("unknown Coconut encoding: " + repr(encoding))
+    if utf_8 is None:
+        raise CoconutException("coconut encoding requires encodings.utf_8")
+    return codecs.CodecInfo(
+        name=encoding,
+        encode=utf_8.encode,
+        decode=CoconutStreamReader.decode,
+        incrementalencoder=utf_8.IncrementalEncoder,
+        incrementaldecoder=CoconutIncrementalDecoder,
+        streamreader=CoconutStreamReader,
+        streamwriter=utf_8.StreamWriter,
     )
 
-    class CoconutShell(ZMQInteractiveShell, object):
-        """ZMQInteractiveShell for Coconut."""
-        exec(INTERACTIVE_SHELL_CODE.format(cls="CoconutShell", **format_dict))
-
-    InteractiveShellABC.register(CoconutShell)
-
-    class CoconutShellEmbed(InteractiveShellEmbed, object):
-        """InteractiveShellEmbed for Coconut."""
-        exec(INTERACTIVE_SHELL_CODE.format(cls="CoconutShellEmbed", **format_dict))
-
-    InteractiveShellABC.register(CoconutShellEmbed)
-
-    class CoconutKernel(IPythonKernel, object):
-        """Jupyter kernel for Coconut."""
-        shell_class = CoconutShell
-        use_experimental_completions = True
-        implementation = "icoconut"
-        implementation_version = VERSION
-        language = "coconut"
-        language_version = VERSION
-        banner = version_banner
-        language_info = {
-            "name": "coconut",
-            "version": VERSION,
-            "mimetype": mimetype,
-            "codemirror_mode": {
-                "name": "python",
-                "version": py_syntax_version,
-            },
-            "pygments_lexer": "coconut",
-            "file_extension": code_exts[0],
-        }
-        help_links = [
-            {
-                "text": "Coconut Tutorial",
-                "url": tutorial_url,
-            },
-            {
-                "text": "Coconut Documentation",
-                "url": documentation_url,
-            },
-        ]
-
-        def __init__(self, *args, **kwargs):
-            super(CoconutKernel, self).__init__(*args, **kwargs)
-            if self.log is None:
-                self.log = logging.getLogger(__name__)
-
-        @override
-        def do_complete(self, code, cursor_pos):
-            # first try with Jedi completions
-            self.use_experimental_completions = True
-            try:
-                return super(CoconutKernel, self).do_complete(code, cursor_pos)
-            except Exception:
-                logger.print_exc()
-                logger.warn_err(CoconutInternalException("experimental IPython completion failed, defaulting to shell completion"), force=True)
-
-            # then if that fails default to shell completions
-            self.use_experimental_completions = False
-            try:
-                return super(CoconutKernel, self).do_complete(code, cursor_pos)
-            finally:
-                self.use_experimental_completions = True
-
-    class CoconutKernelApp(IPKernelApp, object):
-        """IPython kernel app that uses the Coconut kernel."""
-        name = "coconut-kernel"
-        classes = IPKernelApp.classes + [CoconutKernel, CoconutShell]
-        kernel_class = CoconutKernel
-        subcommands = {}
 
-    if papermill_translators is not None:
-        papermill_translators.register("coconut", PythonTranslator)
+codecs.register(get_coconut_encoding)
```

### Comparing `coconut-3.0.2/coconut/integrations.py` & `coconut-3.0.3/coconut/integrations.py`

 * *Files 14% similar despite different names*

```diff
@@ -19,15 +19,17 @@
 
 from coconut.root import *  # NOQA
 
 from types import MethodType
 
 from coconut.constants import (
     coconut_kernel_kwargs,
+    coconut_run_kwargs,
     enabled_xonsh_modes,
+    interpreter_uses_incremental,
 )
 from coconut.util import memoize_with_exceptions
 
 # -----------------------------------------------------------------------------------------------------------------------
 # IPYTHON:
 # -----------------------------------------------------------------------------------------------------------------------
 
@@ -59,26 +61,27 @@
     # import here to avoid circular dependencies
     from coconut import api
     from coconut.exceptions import CoconutException
     from coconut.terminal import logger
 
     magic_state = api.get_state()
     api.setup(state=magic_state, **coconut_kernel_kwargs)
+    api.warm_up(enable_incremental_mode=True, state=magic_state)
 
     # add magic function
     def magic(line, cell=None):
         """Provides %coconut and %%coconut magics."""
         try:
             if cell is None:
                 code = line
             else:
                 # first line in block is cmd, rest is code
                 line = line.strip()
                 if line:
-                    api.cmd(line, default_target="sys", state=magic_state)
+                    api.cmd(line, state=magic_state, **coconut_run_kwargs)
                 code = cell
             compiled = api.parse(code, state=magic_state)
         except CoconutException:
             logger.print_exc()
         else:
             ipython.run_cell(compiled, shell_futures=False)
     ipython.register_magic_function(magic, "line_cell", "coconut")
@@ -95,15 +98,15 @@
     runner = None
     timing_info = []
 
     @memoize_with_exceptions(128)
     def memoized_parse_xonsh(self, code):
         return self.compiler.parse_xonsh(code, keep_state=True)
 
-    def compile_code(self, code):
+    def compile_code(self, code, log_name="parse"):
         """Memoized self.compiler.parse_xonsh."""
         # hide imports to avoid circular dependencies
         from coconut.exceptions import CoconutException
         from coconut.terminal import format_error
         from coconut.util import get_clock_time
         from coconut.terminal import logger
 
@@ -116,15 +119,15 @@
         except CoconutException as err:
             err_str = format_error(err).splitlines()[0]
             compiled = code + "  #" + err_str
         else:
             success = True
         finally:
             logger.quiet = quiet
-            self.timing_info.append(("parse", get_clock_time() - parse_start_time))
+            self.timing_info.append((log_name, get_clock_time() - parse_start_time))
 
         return compiled, success
 
     def new_try_subproc_toks(self, ctxtransformer, node, *args, **kwargs):
         """Version of try_subproc_toks that handles the fact that Coconut
         code may have different columns than Python code."""
         mode = ctxtransformer.mode
@@ -147,33 +150,46 @@
         if self.loaded and mode in enabled_xonsh_modes:
             from xonsh.tools import get_logical_line
 
             # hide imports to avoid circular dependencies
             from coconut.terminal import logger
             from coconut.compiler.util import extract_line_num_from_comment
 
-            compiled, success = self.compile_code(inp)
+            compiled, success = self.compile_code(inp, log_name="ctxvisit")
 
             if success:
                 original_lines = tuple(inp.splitlines())
-                used_lines = set()
+                remaining_ln_pieces = {}
                 new_inp_lines = []
                 last_ln = 1
                 for compiled_line in compiled.splitlines():
                     ln = extract_line_num_from_comment(compiled_line, default=last_ln + 1)
                     try:
                         line, _, _ = get_logical_line(original_lines, ln - 1)
                     except IndexError:
                         logger.log_exc()
                         line = original_lines[-1]
-                    if line in used_lines:
-                        line = ""
+                    remaining_pieces = remaining_ln_pieces.get(ln)
+                    if remaining_pieces is None:
+                        # we handle our own inner_environment rather than have remove_strs do it so that we can reformat
+                        with self.compiler.inner_environment():
+                            line_no_strs = self.compiler.remove_strs(line, inner_environment=False)
+                            if ";" in line_no_strs:
+                                remaining_pieces = [
+                                    self.compiler.reformat(piece, ignore_errors=True)
+                                    for piece in line_no_strs.split(";")
+                                ]
+                            else:
+                                remaining_pieces = [line]
+                    if remaining_pieces:
+                        new_line = remaining_pieces.pop(0)
                     else:
-                        used_lines.add(line)
-                    new_inp_lines.append(line)
+                        new_line = ""
+                    remaining_ln_pieces[ln] = remaining_pieces
+                    new_inp_lines.append(new_line)
                     last_ln = ln
                 inp = "\n".join(new_inp_lines)
 
             inp += "\n"
 
         return ctxtransformer.__class__.ctxvisit(ctxtransformer, node, inp, ctx, mode, *args, **kwargs)
 
@@ -182,15 +198,15 @@
         from coconut.util import get_clock_time
 
         start_time = get_clock_time()
 
         if self.compiler is None:
             from coconut.compiler import Compiler
             self.compiler = Compiler(**coconut_kernel_kwargs)
-            self.compiler.warm_up()
+            self.compiler.warm_up(enable_incremental_mode=interpreter_uses_incremental)
 
         if self.runner is None:
             from coconut.command.util import Runner
             self.runner = Runner(self.compiler)
 
         self.runner.update_vars(xsh.ctx)
 
@@ -209,14 +225,14 @@
 
         return self.runner.vars
 
     def unload(self, xsh):
         if not self.loaded:
             # hide imports to avoid circular dependencies
             from coconut.terminal import logger
-            logger.warn("attempting to unload Coconut xontrib but it was never loaded")
+            logger.warn("attempting to unload Coconut xontrib but it was already unloaded")
         self.loaded = False
 
 
 _load_xontrib_ = CoconutXontribLoader()
 
 _unload_xontrib_ = _load_xontrib_.unload
```

### Comparing `coconut-3.0.2/coconut/main.py` & `coconut-3.0.3/coconut/main.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/requirements.py` & `coconut-3.0.3/coconut/requirements.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/root.py` & `coconut-3.0.3/coconut/root.py`

 * *Files 0% similar despite different names*

```diff
@@ -19,15 +19,15 @@
 
 import sys as _coconut_sys
 
 # -----------------------------------------------------------------------------------------------------------------------
 # VERSION:
 # -----------------------------------------------------------------------------------------------------------------------
 
-VERSION = "3.0.2"
+VERSION = "3.0.3"
 VERSION_NAME = None
 # False for release, int >= 1 for develop
 DEVELOP = False
 ALPHA = False  # for pre releases rather than post releases
 
 assert DEVELOP is False or DEVELOP >= 1, "DEVELOP must be False or an int >= 1"
 assert DEVELOP or not ALPHA, "alpha releases are only for develop"
```

### Comparing `coconut-3.0.2/coconut/terminal.py` & `coconut-3.0.3/coconut/terminal.py`

 * *Files 2% similar despite different names*

```diff
@@ -46,14 +46,15 @@
     taberrfmt,
     use_packrat_parser,
     embed_on_internal_exc,
     use_color,
     error_color_code,
     log_color_code,
     ansii_escape,
+    force_verbose_logger,
 )
 from coconut.util import (
     get_clock_time,
     get_name,
     displayable,
 )
 from coconut.exceptions import (
@@ -174,15 +175,16 @@
 
 # -----------------------------------------------------------------------------------------------------------------------
 # LOGGER:
 # -----------------------------------------------------------------------------------------------------------------------
 
 class Logger(object):
     """Container object for various logger functions and variables."""
-    verbose = False
+    force_verbose = force_verbose_logger
+    verbose = force_verbose
     quiet = False
     path = None
     name = None
     colors_enabled = False
     tracing = False
     trace_ind = 0
 
@@ -211,14 +213,23 @@
         """Completely reset the logger."""
         self.copy_from(Logger())
 
     def copy(self):
         """Make a copy of the logger."""
         return Logger(self)
 
+    def setup(self, quiet=None, verbose=None, tracing=None):
+        """Set up the logger with the given parameters."""
+        if quiet is not None:
+            self.quiet = quiet
+        if not self.force_verbose and verbose is not None:
+            self.verbose = verbose
+        if tracing is not None:
+            self.tracing = tracing
+
     def display(
         self,
         messages,
         sig="",
         end="\n",
         file=None,
         level="normal",
@@ -333,14 +344,22 @@
         """Logs variables with given message if --verbose."""
         if self.verbose:
             new_vars = dict(variables)
             for v in rem_vars:
                 del new_vars[v]
             self.printlog(message, new_vars)
 
+    def log_loc(self, name, original, loc):
+        """Log a location in source code."""
+        if self.verbose:
+            if isinstance(loc, int):
+                self.printlog("in error construction:", str(name), "=", repr(original[:loc]), "|", repr(original[loc:]))
+            else:
+                self.printlog("in error construction:", str(name), "=", repr(loc))
+
     def get_error(self, err=None, show_tb=None):
         """Properly formats the current error."""
         if err is None:
             exc_info = sys.exc_info()
         else:
             exc_info = type(err), err, err.__traceback__
 
@@ -426,17 +445,18 @@
             self.trace_ind -= 1
 
     def print_trace(self, *args):
         """Print to stderr with tracing indent."""
         trace = " ".join(str(arg) for arg in args)
         self.printlog(_indent(trace, self.trace_ind))
 
-    def log_tag(self, tag, code, multiline=False):
+    def log_tag(self, tag, code, multiline=False, force=False):
         """Logs a tagged message if tracing."""
-        if self.tracing:
+        if self.tracing or force:
+            assert not (not DEVELOP and force), tag
             if callable(code):
                 code = code()
             tagstr = "[" + str(tag) + "]"
             if multiline:
                 self.print_trace(tagstr + "\n" + displayable(code))
             else:
                 self.print_trace(tagstr, ascii(code))
@@ -467,24 +487,25 @@
                 if add_line_col:
                     out.append("(line:" + str(lineno(loc, original)) + ", col:" + str(col(loc, original)) + ")")
                 if extra is not None:
                     out.append("from " + ascii(extra))
                 self.print_trace(*out)
 
     def _trace_success_action(self, original, start_loc, end_loc, expr, tokens):
-        if self.tracing and self.verbose:  # avoid the overhead of an extra function call
+        if self.tracing:  # avoid the overhead of an extra function call
             self.log_trace(expr, original, start_loc, tokens)
 
     def _trace_exc_action(self, original, loc, expr, exc):
-        if self.tracing:  # avoid the overhead of an extra function call
+        if self.tracing and self.verbose:  # avoid the overhead of an extra function call
             self.log_trace(expr, original, loc, exc)
 
     def trace(self, item):
         """Traces a parse element (only enabled in develop)."""
         if DEVELOP and not MODERN_PYPARSING:
+            # setDebugActions doesn't work as it won't let us set any actions to None
             item.debugActions = (
                 None,  # no start action
                 self._trace_success_action,
                 self._trace_exc_action,
             )
             item.debug = True
         return item
@@ -494,18 +515,21 @@
         """Times parsing if --verbose."""
         if self.verbose:
             start_time = get_clock_time()
             try:
                 yield
             finally:
                 elapsed_time = get_clock_time() - start_time
-                self.printlog("Time while parsing:", elapsed_time, "secs")
+                self.printlog("Time while parsing" + (" " + self.path if self.path else "") + ":", elapsed_time, "secs")
                 if use_packrat_parser:
                     hits, misses = ParserElement.packrat_cache_stats
                     self.printlog("\tPackrat parsing stats:", hits, "hits;", misses, "misses")
+                    # reset stats after printing if in incremental mode
+                    if ParserElement._incrementalEnabled:
+                        ParserElement.packrat_cache_stats[:] = [0] * len(ParserElement.packrat_cache_stats)
         else:
             yield
 
     total_block_time = defaultdict(int)
 
     @contextmanager
     def time_block(self, name):
@@ -524,29 +548,32 @@
             """Function timed by logger.time_func."""
             if not DEVELOP or self.quiet:
                 return func(*args, **kwargs)
             with self.time_block(func.__name__):
                 return func(*args, **kwargs)
         return timed_func
 
-    def debug_func(self, func):
+    def debug_func(self, func, func_name=None):
         """Decorates a function to print the input/output behavior."""
+        if func_name is None:
+            func_name = func
+
         @wraps(func)
         def printing_func(*args, **kwargs):
             """Function decorated by logger.debug_func."""
             if not DEVELOP or self.quiet:
                 return func(*args, **kwargs)
             if not kwargs:
-                self.printerr(func, "<*|", args)
+                self.printerr(func_name, "<*|", args)
             elif not args:
-                self.printerr(func, "<**|", kwargs)
+                self.printerr(func_name, "<**|", kwargs)
             else:
-                self.printerr(func, "<<|", args, kwargs)
+                self.printerr(func_name, "<<|", args, kwargs)
             out = func(*args, **kwargs)
-            self.printerr(func, "=>", repr(out))
+            self.printerr(func_name, "=>", repr(out))
             return out
         return printing_func
 
     def patch_logging(self):
         """Patches built-in Python logging if necessary."""
         if not hasattr(logging, "getLogger"):
             def getLogger(name=None):
```

### Comparing `coconut-3.0.2/coconut/tests/__init__.py` & `coconut-3.0.3/coconut/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/__main__.py` & `coconut-3.0.3/coconut/tests/__main__.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/constants_test.py` & `coconut-3.0.3/coconut/tests/constants_test.py`

 * *Files 10% similar despite different names*

```diff
@@ -92,31 +92,43 @@
             if (
                 # don't test unix-specific dbm.gnu on Windows or PyPy
                 new_imp == "dbm.gnu" and (WINDOWS or PYPY)
                 # don't test ttk on Python 2.6
                 or PY26 and old_imp == "ttk"
                 # don't test tkinter on PyPy
                 or PYPY and new_imp.startswith("tkinter")
-                # don't test trollius on PyPy
-                or PYPY and old_imp == "trollius"
-                # don't test typing_extensions, async_generator on Python 2
-                or PY2 and old_imp.startswith(("typing_extensions", "async_generator"))
+                # don't test trollius, aenum on PyPy
+                or PYPY and old_imp in ("trollius", "aenum")
+                # don't test typing_extensions, async_generator
+                or old_imp.startswith(("typing_extensions", "async_generator"))
             ):
                 pass
             elif sys.version_info >= ver_cutoff:
                 assert is_importable(new_imp), "Failed to import " + new_imp
             else:
                 assert is_importable(old_imp), "Failed to import " + old_imp
 
     def test_reqs(self):
         assert set(constants.pinned_reqs) <= set(constants.min_versions), "found old pinned requirement"
         assert set(constants.max_versions) <= set(constants.pinned_reqs) | set(("cPyparsing",)), "found unlisted constrained but unpinned requirements"
         for maxed_ver in constants.max_versions:
             assert isinstance(maxed_ver, tuple) or maxed_ver in ("pyparsing", "cPyparsing"), "maxed versions must be tagged to a specific Python version"
 
+    def test_run_args(self):
+        assert "--run" not in constants.coconut_base_run_args
+        assert "--quiet" not in constants.coconut_base_run_args
+        assert not any(arg.startswith("--target") for arg in constants.coconut_base_run_args)
+
+    def test_targets(self):
+        assert all(v in constants.specific_targets or v in constants.pseudo_targets for v in ROOT_HEADER_VERSIONS)
+
+    def test_tuples(self):
+        assert isinstance(constants.indchars, tuple)
+        assert isinstance(constants.comment_chars, tuple)
+
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
 # -----------------------------------------------------------------------------------------------------------------------
 
 if __name__ == "__main__":
     unittest.main()
```

### Comparing `coconut-3.0.2/coconut/tests/main_test.py` & `coconut-3.0.3/coconut/tests/main_test.py`

 * *Files 3% similar despite different names*

```diff
@@ -29,23 +29,26 @@
     import importlib
 else:
     import imp
 
 import pytest
 import pexpect
 
-from coconut.util import noop_ctx
+from coconut.util import noop_ctx, get_target_info
 from coconut.terminal import (
     logger,
     LoggingStringIO,
 )
 from coconut.command.util import (
     call_output,
     reload,
 )
+from coconut.compiler.util import (
+    get_psf_target,
+)
 from coconut.constants import (
     WINDOWS,
     PYPY,
     IPY,
     XONSH,
     MYPY,
     PY35,
@@ -55,14 +58,16 @@
     PY310,
     supported_py2_vers,
     supported_py3_vers,
     icoconut_default_kernel_names,
     icoconut_custom_kernel_name,
     mypy_err_infixes,
     get_bool_env_var,
+    coconut_cache_dir,
+    default_use_cache_dir,
 )
 
 from coconut.api import (
     auto_compilation,
     setup,
 )
 
@@ -80,24 +85,34 @@
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # CONSTANTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 
-default_recursion_limit = "4096"
-default_stack_size = "4096"
+default_recursion_limit = "6144"
+default_stack_size = "6144"
+
+jupyter_timeout = 120
 
 base = os.path.dirname(os.path.relpath(__file__))
 src = os.path.join(base, "src")
 dest = os.path.join(base, "dest")
 additional_dest = os.path.join(base, "dest", "additional_dest")
 
+src_cache_dir = os.path.join(src, coconut_cache_dir)
+
 runnable_coco = os.path.join(src, "runnable.coco")
 runnable_py = os.path.join(src, "runnable.py")
+runnable_compiled_loc = src_cache_dir if default_use_cache_dir else runnable_py
+
+importable_coco = os.path.join(src, "importable.coco")
+importable_py = os.path.join(src, "importable.py")
+importable_compiled_loc = src_cache_dir if default_use_cache_dir else importable_py
+
 pyston = os.path.join(os.curdir, "pyston")
 pyprover = os.path.join(os.curdir, "pyprover")
 prelude = os.path.join(os.curdir, "coconut-prelude")
 bbopt = os.path.join(os.curdir, "bbopt")
 
 pyston_git = "https://github.com/evhub/pyston.git"
 pyprover_git = "https://github.com/evhub/pyprover.git"
@@ -194,33 +209,46 @@
         stdout = sys.stdout.getvalue()
         stderr = sys.stderr.getvalue()
         sys.stdout = old_stdout
         sys.stderr = old_stderr
     return stdout, stderr, retcode
 
 
-def call(raw_cmd, assert_output=False, check_mypy=False, check_errors=True, stderr_first=False, expect_retcode=0, convert_to_import=False, **kwargs):
+def call(
+    raw_cmd,
+    assert_output=False,
+    check_mypy=False,
+    check_errors=True,
+    stderr_first=False,
+    expect_retcode=0,
+    convert_to_import=False,
+    assert_output_only_at_end=None,
+    **kwargs
+):
     """Execute a shell command and assert that no errors were encountered."""
     if isinstance(raw_cmd, str):
         cmd = raw_cmd.split()
     else:
         cmd = raw_cmd
 
     print()
     logger.log_cmd(cmd)
 
     if assert_output is False:
         assert_output = ("",)
     elif assert_output is True:
         assert_output = ("<success>",)
     elif isinstance(assert_output, str):
-        if "\n" not in assert_output:
-            assert_output = (assert_output,)
+        if assert_output_only_at_end is None and "\n" in assert_output:
+            assert_output_only_at_end = False
+        assert_output = (assert_output,)
     else:
         assert_output = tuple(x if x is not True else "<success>" for x in assert_output)
+    if assert_output_only_at_end is None:
+        assert_output_only_at_end = True
 
     if convert_to_import is None:
         convert_to_import = (
             cmd[0] == sys.executable
             and cmd[1] != "-c"
             and cmd[1:3] != ["-m", "coconut"]
         )
@@ -307,35 +335,37 @@
         if check_errors and "assert_raises(" not in line:
             assert "Traceback (most recent call last):" not in line, "Traceback in " + repr(line)
             assert "Exception" not in line, "Exception in " + repr(line)
             assert "Error" not in line, "Error in " + repr(line)
         if check_mypy and all(test not in line for test in ignore_mypy_errs_with):
             assert "error:" not in line, "MyPy error in " + repr(line)
 
-    if isinstance(assert_output, str):
-        got_output = "\n".join(raw_lines) + "\n"
-        assert assert_output in got_output, "Expected " + repr(assert_output) + "; got " + repr(got_output)
-    else:
+    if assert_output_only_at_end:
         last_line = ""
         for line in reversed(lines):
             if not any(ignore in line for ignore in ignore_last_lines_with):
                 last_line = line
                 break
         if assert_output is None:
             assert not last_line, "Expected nothing; got:\n" + "\n".join(repr(li) for li in raw_lines)
         else:
             assert any(x in last_line for x in assert_output), (
                 "Expected " + ", ".join(repr(s) for s in assert_output)
                 + " in " + repr(last_line)
                 + "; got:\n" + "\n".join(repr(li) for li in raw_lines)
             )
+    else:
+        got_output = "\n".join(raw_lines) + "\n"
+        assert any(x in got_output for x in assert_output), "Expected " + repr(assert_output) + "; got " + repr(got_output)
 
 
 def call_python(args, **kwargs):
     """Calls the current Python."""
+    if get_bool_env_var("COCONUT_TEST_DEBUG_PYTHON"):
+        args = ["-X", "dev"] + args
     call([sys.executable] + args, **kwargs)
 
 
 def call_coconut(args, **kwargs):
     """Calls Coconut."""
     if default_recursion_limit is not None and "--recursion-limit" not in args:
         args = ["--recursion-limit", default_recursion_limit] + args
@@ -377,35 +407,38 @@
         except OSError:
             logger.print_exc()
     elif os.path.isfile(path):
         os.remove(path)
 
 
 @contextmanager
-def using_path(path):
-    """Removes a path at the beginning and end."""
-    if os.path.exists(path):
-        rm_path(path)
+def using_paths(*paths):
+    """Removes paths at the beginning and end."""
+    for path in paths:
+        if os.path.exists(path):
+            rm_path(path)
     try:
         yield
     finally:
-        try:
-            rm_path(path, allow_keep=True)
-        except OSError:
-            logger.print_exc()
+        for path in paths:
+            try:
+                rm_path(path, allow_keep=True)
+            except OSError:
+                logger.print_exc()
 
 
 @contextmanager
-def using_dest(dest=dest):
+def using_dest(dest=dest, allow_existing=False):
     """Makes and removes the dest folder."""
     try:
         os.mkdir(dest)
     except Exception:
-        rm_path(dest)
-        os.mkdir(dest)
+        if not allow_existing:
+            rm_path(dest)
+            os.mkdir(dest)
     try:
         yield
     finally:
         try:
             rm_path(dest, allow_keep=True)
         except OSError:
             logger.print_exc()
@@ -667,24 +700,39 @@
 def install_bbopt():
     """Runs bbopt."""
     call(["pip", "install", "-Ue", bbopt])
 
 
 def run_runnable(args=[]):
     """Call coconut-run on runnable_coco."""
-    call(["coconut-run"] + args + [runnable_coco, "--arg"], assert_output=True)
+    paths_being_used = [importable_compiled_loc]
+    if "--no-write" not in args and "-n" not in args:
+        paths_being_used.append(runnable_compiled_loc)
+    with using_paths(*paths_being_used):
+        call(["coconut-run"] + args + [runnable_coco, "--arg"], assert_output=True)
+
+
+def comp_runnable(args=[]):
+    """Just compile runnable."""
+    if "--target" not in args:
+        args += ["--target", "sys"]
+    call_coconut([runnable_coco, "--and", importable_coco] + args)
+    call_coconut([runnable_coco, "--and", importable_coco] + args, assert_output="Left unchanged", assert_output_only_at_end=False)
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # TESTS:
 # -----------------------------------------------------------------------------------------------------------------------
 
 @add_test_func_names
 class TestShell(unittest.TestCase):
 
+    def test_version(self):
+        call(["coconut", "--version"])
+
     def test_code(self):
         call(["coconut", "-s", "-c", coconut_snip], assert_output=True)
 
     if not PY2:
         def test_target_3_snip(self):
             call(["coconut", "-t3", "-c", target_3_snip], assert_output=True)
 
@@ -717,56 +765,63 @@
         call('echo ' + escape(coconut_snip) + "| coconut -s", shell=True, assert_output=True)
 
     def test_api(self):
         call_python(["-c", 'from coconut.api import parse; exec(parse("' + coconut_snip + '"))'], assert_output=True)
 
     def test_import_hook(self):
         with using_sys_path(src):
-            with using_path(runnable_py):
+            with using_paths(runnable_compiled_loc, importable_compiled_loc):
                 with using_coconut():
                     auto_compilation(True)
                     import runnable
                     reload(runnable)
         assert runnable.success == "<success>"
 
     def test_runnable(self):
-        with using_path(runnable_py):
-            run_runnable()
+        run_runnable()
 
     def test_runnable_nowrite(self):
         run_runnable(["-n"])
 
     def test_compile_runnable(self):
-        with using_path(runnable_py):
-            call_coconut([runnable_coco, runnable_py])
+        with using_paths(runnable_py, importable_py):
+            comp_runnable()
             call_python([runnable_py, "--arg"], assert_output=True)
 
     def test_import_runnable(self):
-        with using_path(runnable_py):
-            call_coconut([runnable_coco, runnable_py])
+        with using_paths(runnable_py, importable_py):
+            comp_runnable()
             for _ in range(2):  # make sure we can import it twice
                 call_python([runnable_py, "--arg"], assert_output=True, convert_to_import=True)
 
     if not WINDOWS and XONSH:
         def test_xontrib(self):
             p = spawn_cmd("xonsh")
             p.expect("$")
             p.sendline("xontrib load coconut")
             p.expect("$")
             p.sendline("!(ls -la) |> bool")
             p.expect("True")
+            p.sendline("'1; 2' |> print")
+            p.expect("1; 2")
             p.sendline('$ENV_VAR = "ABC"')
             p.expect("$")
             p.sendline('echo f"{$ENV_VAR}"; echo f"{$ENV_VAR}"')
             p.expect("ABC")
             p.expect("ABC")
             if not PYPY or PY39:
                 if PY36:
                     p.sendline("echo 123;; 123")
                     p.expect("123;; 123")
+                    p.sendline("echo abc; echo abc")
+                    p.expect("abc")
+                    p.expect("abc")
+                    p.sendline("echo abc; print(1 |> (.+1))")
+                    p.expect("abc")
+                    p.expect("2")
                 p.sendline('execx("10 |> print")')
                 p.expect("subprocess mode")
             p.sendline("xontrib unload coconut")
             p.expect("$")
             if (not PYPY or PY39) and PY36:
                 p.sendline("1 |> print")
                 p.expect("subprocess mode")
@@ -793,120 +848,126 @@
             assert not retcode and not stderr, stderr
             for kernel in (icoconut_custom_kernel_name,) + icoconut_default_kernel_names:
                 assert kernel in stdout
 
         if not WINDOWS and not PYPY:
             def test_jupyter_console(self):
                 p = spawn_cmd("coconut --jupyter console")
-                p.expect("In", timeout=120)
+                p.expect("In", timeout=jupyter_timeout)
                 p.sendline("%load_ext coconut")
-                p.expect("In", timeout=120)
+                p.expect("In", timeout=jupyter_timeout)
                 p.sendline("`exit`")
-                p.expect("Shutting down kernel|shutting down")
+                if sys.version_info[:2] != (3, 6):
+                    p.expect("Shutting down kernel|shutting down", timeout=jupyter_timeout)
                 if p.isalive():
                     p.terminate()
 
 
 @add_test_func_names
 class TestCompilation(unittest.TestCase):
 
+    def test_simple_no_line_numbers(self):
+        run_runnable(["-n", "--no-line-numbers"])
+
+    def test_simple_keep_lines(self):
+        run_runnable(["-n", "--keep-lines"])
+
+    def test_simple_no_line_numbers_keep_lines(self):
+        run_runnable(["-n", "--no-line-numbers", "--keep-lines"])
+
+    def test_simple_minify(self):
+        run_runnable(["-n", "--minify"])
+
+    if sys.version_info >= get_target_info(get_psf_target()):
+        def test_simple_psf(self):
+            run_runnable(["-n", "--target", "psf"])
+
     def test_normal(self):
         run()
 
     if MYPY:
         def test_mypy_sys(self):
             run(["--mypy"] + mypy_args, agnostic_target="sys", expect_retcode=None, check_errors=False)  # fails due to tutorial mypy errors
 
     if sys.version_info[:2] in always_sys_versions:
         def test_always_sys(self):
-            run(["--line-numbers"], agnostic_target="sys", always_sys=True)
-
-    # run fewer tests on Windows so appveyor doesn't time out
-    if not WINDOWS:
-        def test_line_numbers_keep_lines(self):
-            run(["--line-numbers", "--keep-lines"])
-
-        def test_strict(self):
-            run(["--strict"])
-
-        def test_and(self):
-            run(["--and"])  # src and dest built by comp
+            run(agnostic_target="sys", always_sys=True)
 
     def test_target(self):
         run(agnostic_target=(2 if PY2 else 3))
 
     def test_standalone(self):
         run(["--standalone"])
 
     def test_package(self):
         run(["--package"])
 
     def test_no_tco(self):
         run(["--no-tco"])
 
+    # run fewer tests on Windows so appveyor doesn't time out
+    if not WINDOWS:
+        def test_keep_lines(self):
+            run(["--keep-lines"])
+
+        def test_strict(self):
+            run(["--strict"])
+
+        def test_and(self):
+            run(["--and"])  # src and dest built by comp
+
     if PY35:
         def test_no_wrap(self):
             run(["--no-wrap"])
 
     if get_bool_env_var("COCONUT_TEST_VERBOSE"):
         def test_verbose(self):
             run(["--jobs", "0", "--verbose"])
 
     if get_bool_env_var("COCONUT_TEST_TRACE"):
         def test_trace(self):
             run(["--jobs", "0", "--trace"], check_errors=False)
 
     # avoids a strange, unreproducable failure on appveyor
     if not (WINDOWS and sys.version_info[:2] == (3, 8)):
-        def test_run(self):
+        def test_run_arg(self):
             run(use_run_arg=True)
 
-    if not PYPY and not PY26:
+    # not WINDOWS is for appveyor timeout prevention
+    if not WINDOWS and not PYPY and not PY26:
         def test_jobs_zero(self):
             run(["--jobs", "0"])
 
-    def test_simple_line_numbers(self):
-        run_runnable(["-n", "--line-numbers"])
-
-    def test_simple_keep_lines(self):
-        run_runnable(["-n", "--keep-lines"])
-
-    def test_simple_line_numbers_keep_lines(self):
-        run_runnable(["-n", "--line-numbers", "--keep-lines"])
-
-    def test_simple_minify(self):
-        run_runnable(["-n", "--minify"])
-
 
 # more appveyor timeout prevention
 if not WINDOWS:
     @add_test_func_names
     class TestExternal(unittest.TestCase):
 
         if not PYPY or PY2:
             def test_prelude(self):
-                with using_path(prelude):
+                with using_paths(prelude):
                     comp_prelude()
                     if MYPY and PY38:
                         run_prelude()
 
         def test_bbopt(self):
-            with using_path(bbopt):
+            with using_paths(bbopt):
                 comp_bbopt()
                 if not PYPY and PY38 and not PY310:
                     install_bbopt()
 
         def test_pyprover(self):
-            with using_path(pyprover):
+            with using_paths(pyprover):
                 comp_pyprover()
                 if PY38:
                     run_pyprover()
 
         def test_pyston(self):
-            with using_path(pyston):
+            with using_paths(pyston):
                 comp_pyston(["--no-tco"])
                 if PYPY and PY2:
                     run_pyston()
 
 
 # -----------------------------------------------------------------------------------------------------------------------
 # MAIN:
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/main.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/main.coco`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/primary.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/primary.coco`

 * *Files 2% similar despite different names*

```diff
@@ -1,40 +1,50 @@
-import sys
 import itertools
 import collections
 import collections.abc
 import weakref
+import platform
 from copy import copy
 
 operator log10
 from math import \log10 as (log10)
 
-# need to be at top level to avoid binding sys as a local in primary_test
 from importlib import reload  # NOQA
-from enum import Enum  # noqa
+if platform.python_implementation() == "CPython":  # fixes weird aenum issue on pypy
+    from enum import Enum  # noqa
 
-from .util import assert_raises
+from .util import assert_raises, typed_eq
 
 
 def primary_test() -> bool:
     """Basic no-dependency tests."""
     # must come at start so that local sys binding is correct
+    import sys
     import queue as q, builtins, email.mime.base
     assert q.Queue  # type: ignore
     assert builtins.len([1, 1]) == 2
     assert email.mime.base
     from email.mime import base as mimebase
     assert mimebase
     from io import StringIO, BytesIO
     sio = StringIO("derp")
     assert sio.read() == "derp"
     bio = BytesIO(b"herp")
     assert bio.read() == b"herp"
     if TYPE_CHECKING or sys.version_info >= (3, 5):
-        from typing import Iterable, Any
+        from typing import (
+            Iterable,
+            Any,
+            List,
+            Dict,
+            cast,
+            Protocol,
+            TypeVar,
+            Generic,
+        )  # NOQA
 
     assert 1 | 2 == 3
     assert "\n" == (
 
 '''
 '''
 
@@ -518,16 +528,14 @@
         assert False
     assert 4 == range(2,20) |> filter$(i-> i > 3) |> .$[0]
     x = 1
     y = "2"
     assert f"{x} == {y}" == "1 == 2"
     assert f"{x!r} == {y!r}" == "1 == " + py_repr("2")
     assert f"{({})}" == "{}" == f"{({})!r}"
-    assert f"{{" == "{"
-    assert f"}}" == "}"
     assert f"{1, 2}" == "(1, 2)"
     assert f"{[] |> len}" == "0"
     match {"a": {"b": x }} or {"a": {"b": {"c": x}}} = {"a": {"b": {"c": "x"}}}
     assert x == {"c": "x"}
     assert py_repr("x") == ("u'x'" if sys.version_info < (3,) else "'x'")
     def foo(int() as x) = x
     try:
@@ -803,15 +811,14 @@
     try:
         match[0] = 1  # type: ignore
     except TypeError:
         pass
     else:
         assert False
     x = 1
-    assert f"a" f"b" == "ab" == f"a" "b" == "a" f"b"
     assert f"{x}" f"{x}" == "11"
     assert f"{x}" "{x}" == "1{x}"
     assert "{x}" f"{x}" == "{x}1"
     assert (if False then 1 else 2) == 2 == (if False then 1 else if True then 2 else 3)
     class metaA(type):
         def __instancecheck__(cls, inst):
             return True
@@ -1056,16 +1063,14 @@
     b"a" + b"c" = b"ac"
     "a" "c" = "ac"
     b"a" b"c" = b"ac"
     (1, *xs, 4) = (|1, 2, 3, 4|)
     assert xs == [2, 3]
     assert xs `isinstance` list
     (1, *(2, 3), 4) = (|1, 2, 3, 4|)
-    assert f"a" r"b" fr"c" rf"d" == "abcd"
-    assert "a" fr"b" == "ab" == "a" rf"b"
     int(1) = 1
     [1] + [2] + m + [3] + [4] = [1,2,"?",3,4]
     assert m == ["?"]
     [1, 2] + xs + [5, 6] + ys + [9, 10] = range(1, 11)
     assert xs == [3, 4]
     assert ys == [7, 8]
     (1, 2, *(3, 4), 5, 6, *(7, 8), 9, 10) = range(1, 11)
@@ -1317,16 +1322,19 @@
     m.remove(1)
     assert m == m{}
     assert_raises(-> m.remove(1), KeyError)
     assert 1 not in m
     assert 2 not in m
     assert m{1, 2}.isdisjoint(m{3, 4})
     assert not m{1, 2}.isdisjoint(m{2, 3})
-    assert m{1, 2} ^ m{2, 3} == m{1, 3}
-    assert m{1, 1} ^ m{1} == m{1}
+    assert m{1, 2} ^ m{2, 3} `typed_eq` m{1, 3}
+    m = m{1, 2}
+    m ^= m{2, 3}
+    assert m `typed_eq` m{1, 3}
+    assert m{1, 1} ^ m{1} `typed_eq` m{1}
     assert multiset((1, 2)) == m{1, 2} == multiset(m{1, 2})
     assert multiset({1: 2, 2: 1}) == m{1, 1, 2}
     assert m{} `isinstance` multiset
     assert m{} `isinstance` collections.abc.Set
     assert m{} `isinstance` collections.abc.MutableSet
     assert True `isinstance` bool
     class HasBool:
@@ -1599,8 +1607,41 @@
     assert (...=really_long_var, abc="abc") == (10, "abc")
     assert (abc="abc", ...=really_long_var) == ("abc", 10)
     assert (...=really_long_var).really_long_var == 10
     n = [0]
     assert n[0] == 0
     assert_raises(-> m{{1:2,2:3}}, TypeError)
     assert_raises((def -> from typing import blah), ImportError)  # NOQA
+    assert type(m{1, 2}) is multiset
+    assert multiset(collections.Counter({1: 1, 2: 1})) `typed_eq` m{1, 2}
+    assert +m{-1, 1} `typed_eq` m{-1, 1}
+    assert -m{-1, 1} `typed_eq` m{}
+    assert m{1, 1, 2} + m{1, 3} `typed_eq` m{1, 1, 1, 2, 3}
+    assert m{1, 1, 2} | m{1, 3} `typed_eq` m{1, 1, 2, 3}
+    assert m{1, 1, 2} & m{1, 3} `typed_eq` m{1}
+    assert m{1, 1, 2} - m{1, 3} `typed_eq` m{1, 2}
+    assert (.+1) `and_then` (.*2) `and_then_await` (./3) |> repr == "<built-in function add>$(?, 1) `and_then` <built-in function mul>$(?, 2) `and_then_await` <built-in function truediv>$(?, 3)"
+    assert 5.53 == 5.5 * 10**3
+    assert (x => x)(5) == 5 == (def x => x)(5)
+    assert (=> _)(5) == 5 == (def => _)(5)
+    assert ((x, y) => (x, y))(1, 2) == (1, 2) == (def (x, y) => (x, y))(1, 2)
+    assert (def (int(x)) => x)(5) == 5 == (def (int -> x) => x)("5")
+    assert (def (x: int) -> int => x)(5) == 5 == (def (int(x)) -> int => x)(5)
+    assert (x  x)(5) == 5 == (def x  x)(5)
+    assert f"a: { "abc" }" == "a: abc" == f'a: { 'abc' }'
+    assert f"1 + {"a" + "b"} + 2 + {"c" + "d"}" == "1 + ab + 2 + cd" == f'1 + {'a' + 'b'} + 2 + {'c' + 'd'}'
+    assert f"{"a" + "b"} + c + {"d" + "e"}" == "ab + c + de" == f'{'a' + 'b'} + c + {'d' + 'e'}'
+    assert f"""{"""
+"""}""" == """
+""" == f"""{'''
+'''}"""
+    assert f"""{(
+    )}""" == "()" == f'''{(
+    )}'''
+    assert f"{'\n'.join(["", ""])}" == "\n"
+    assert f"""{f'''{f'{f"{1+1}"}'}'''}""" == "2" == f"{f"{f"{f"{f"{f"{1+1}"}"}"}"}"}"
+    assert f"___{
+    1
+}___" == '___1___' == f"___{(
+    1
+)}___"
     return True
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/specific.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/specific.coco`

 * *Files 1% similar despite different names*

```diff
@@ -142,17 +142,17 @@
 
         def get(self) -> T:
             return self.x
 
     hello: Literal["hello"] = "hello"
     hello = HasStr(hello).get()
 
-    def and_then[**P, T, U](f: (**P) -> T, g: T -> U) -> (**P) -> U =
+    def forward_compose[**P, T, U](f: (**P) -> T, g: T -> U) -> (**P) -> U =
         (*args, **kwargs) -> g(f(*args, **kwargs))
-    assert (.+5) `and_then` (.*2) <| 3 == 16
+    assert (.+5) `forward_compose` (.*2) <| 3 == 16
 
     def mk_repeat[T, **P](f: (T, **P) -> T) -> (int, T, **P) -> T:
         def newf(n: int, x: T, *args, **kwargs) -> T:
             if n == 0:
                 return x
             else:
                 return newf(n - 1, f(x, *args, **kwargs), *args, **kwargs)
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/suite.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/suite.coco`

 * *Files 0% similar despite different names*

```diff
@@ -629,16 +629,16 @@
     dt = descriptor_test()
     assert dt.lam() == dt
     assert dt.comp() == (dt,)
     assert dt.N()$[:2] |> list == [(dt, 0), (dt, 1)] == dt.N_()$[:2] |> list
     assert map(Ad().ef, range(5)) |> list == range(1, 6) |> list
     assert Ad().ef 1 == 2
     assert store.plus1 store.one == store.two
-    assert ret_locals()["abc"] == 1
-    assert ret_globals()["abc"] == 1
+    assert ret_locals()["my_loc"] == 1
+    assert ret_globals()["my_glob"] == 1
     assert pos_only(1, 2) == (1, 2)
     try:
         pos_only(a=1, b=2)
     except MatchError as err:
         assert err
     else:
         assert False
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/tutorial.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/tutorial.coco`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 # WEBSITE:
 
-plus1 = x -> x + 1
+plus1 = x => x + 1
 assert plus1(5) == 6
 
 assert range(10) |> map$(.**2) |> list == [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
 
 match [head] + tail in [0, 1, 2, 3]:
     assert head == 0
     assert tail == [1, 2, 3]
@@ -324,15 +324,15 @@
     def __abs__(self) =
         """Return the magnitude of the 2-vector."""
         (self.x**2 + self.y**2)**0.5
 
 # Test cases:
 assert vector2(1, 2) |> str == "vector2(x=1, y=2)"
 assert vector2(3, 4) |> abs == 5
-assert vector2(1, 2) |> fmap$(x -> x*2) |> str == "vector2(x=2, y=4)"
+assert vector2(1, 2) |> fmap$(x => x*2) |> str == "vector2(x=2, y=4)"
 v = vector2(2, 3)
 try:
     v.x = 7
 except AttributeError:
     assert True
 else:
     assert False
@@ -392,15 +392,15 @@
 assert -vector(1, 3) |> str == "vector(*pts=(-1, -3))"
 assert (vector(1, 2) == "string") is False
 assert (vector(1, 2) == vector(3, 4)) is False
 assert (vector(2, 4) == vector(2, 4)) is True
 assert 2*vector(1, 2) |> str == "vector(*pts=(2, 4))"
 assert vector(1, 2) * vector(1, 3) == 7
 
-def diagonal_line(n) = range(n+1) |> map$(i -> (i, n-i))
+def diagonal_line(n) = range(n+1) |> map$(i => (i, n-i))
 
 assert diagonal_line(0) `isinstance` (list, tuple) is False
 assert diagonal_line(0) |> list == [(0, 0)]
 assert diagonal_line(1) |> list == [(0, 1), (1, 0)]
 
 def linearized_plane(n=0) = diagonal_line(n) :: linearized_plane(n+1)
 
@@ -445,15 +445,15 @@
             return map((*), self.pts, other_pts) |> sum  # dot product
         else:
             return self.pts |> map$(.*other) |*> vector  # scalar multiplication
     def __rmul__(self, other) =
         """Necessary to make scalar multiplication commutative."""
         self * other
 
-def diagonal_line(n) = range(n+1) |> map$(i -> (i, n-i))
+def diagonal_line(n) = range(n+1) |> map$(i => (i, n-i))
 def linearized_plane(n=0) = diagonal_line(n) :: linearized_plane(n+1)
 def vector_field() = linearized_plane() |> starmap$(vector)
 
 # Test cases:
 assert diagonal_line(0) `isinstance` (list, tuple) is False
 assert diagonal_line(0) |> list == [(0, 0)]
 assert diagonal_line(1) |> list == [(0, 1), (1, 0)]
@@ -493,15 +493,15 @@
             return map((*), self.pts, other_pts) |> sum  # dot product
         else:
             return self.pts |> map$(.*other) |*> vector  # scalar multiplication
     def __rmul__(self, other) =
         """Necessary to make scalar multiplication commutative."""
         self * other
     # New one-line functions necessary for finding the angle between vectors:
-    def __truediv__(self, other) = self.pts |> map$(x -> x/other) |*> vector
+    def __truediv__(self, other) = self.pts |> map$(x => x/other) |*> vector
     def unit(self) = self / abs(self)
     def angle(self, other `isinstance` vector) = math.acos(self.unit() * other.unit())
 
 # Test cases:
 assert vector(3, 4) / 1 |> str == "vector(*pts=(3.0, 4.0))"
 assert vector(2, 4) / 2 |> str == "vector(*pts=(1.0, 2.0))"
 assert vector(0, 1).unit() |> str == "vector(*pts=(0.0, 1.0))"
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/agnostic/util.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/agnostic/util.coco`

 * *Files 1% similar despite different names*

```diff
@@ -39,14 +39,17 @@
     def prepattern(base_func, **kwargs):  # type: ignore
         """Decorator to add a new case to a pattern-matching function,
         where the new case is checked first."""
         def pattern_prepender(func):
             return addpattern(func, base_func, **kwargs)
         return pattern_prepender
 
+def x `typed_eq` y = (type(x), x) == (type(y), y)
+
+
 # Old functions:
 old_fmap = fmap$(starmap_over_mappings=True)
 
 # Infix Functions:
 plus = (+)
 mod: (int, int) -> int = (%)
 def (a: int) `mod_` (b: int) -> int = a % b
@@ -1052,23 +1055,18 @@
 class unrepresentable:
     class Fail(Exception)
     def __repr__(self):
         raise Fail("unrepresentable")
 
 # Typing
 if TYPE_CHECKING or sys.version_info >= (3, 5):
-    from typing import (
-        List,
-        Dict,
-        Any,
-        cast,
-        Protocol,
-        TypeVar,
-        Generic,
-    )
+    # test from typing import *, but that doesn't actually get us
+    #  the typing_extensions stuff we need, so also then import those
+    from typing import *
+    from typing import Protocol
 
     T = TypeVar("T", covariant=True)
     U = TypeVar("U", contravariant=True)
     V = TypeVar("V", covariant=True)
 
     class SupportsAdd(Protocol, Generic[T, U, V]):
         def __add__(self: T, other: U) -> V:
@@ -1357,19 +1355,20 @@
     two = 2
     plus1 = (+)$(1)
     data A(x)
 
 
 # Locals and globals
 def ret_locals() =
-    abc = 1
+    my_loc = 1
     locals()
+
+my_glob = 1
 def ret_globals() =
-    abc = 1
-    locals()
+    globals()
 
 global glob = 0
 copyclosure def wrong_get_set_glob(x):
     global glob
     old_glob, glob = glob, x
     return old_glob
 def get_glob() = glob
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/non_strict/non_strict_test.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/non_strict/non_strict_test.coco`

 * *Files 20% similar despite different names*

```diff
@@ -78,11 +78,18 @@
         assert False
     def weird_func(f:lambda g=->_:g=lambda h=->_:h) = f  # type: ignore
     assert weird_func()()(5) == 5
     a_dict: TextMap[str, int] = {"a": 1}
     assert a_dict["a"] == 1
     assert "". <| "join" <| ["1","2","3"] == "123"
     assert "a b c" == (" ". ?? "not gonna happen")("join")("abc")
+    assert f'{ (lambda x: x*2)(2) }' == "4"
+    assert f"{{" == "{"
+    assert f"}}" == "}"
+    assert f"a" f"b" == "ab" == f"a" "b" == "a" f"b"
+    assert f"a" r"b" fr"c" rf"d" == "abcd"
+    assert "a" fr"b" == "ab" == "a" rf"b"
+    assert f"{f"{f"infinite"}"}" + " " + f"{f"nesting!!!"}" == "infinite nesting!!!"
     return True
 
 if __name__ == "__main__":
     assert non_strict_test()
```

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/target_3/py3_test.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/target_3/py3_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/target_35/py35_test.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/target_35/py35_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/src/cocotest/target_36/py36_test.coco` & `coconut-3.0.3/coconut/tests/src/cocotest/target_36/py36_test.coco`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/tests/src/extras.coco` & `coconut-3.0.3/coconut/tests/src/extras.coco`

 * *Files 11% similar despite different names*

```diff
@@ -19,14 +19,16 @@
 from coconut.convenience import (
     CoconutException,
     cmd,
     version,
     setup,
     parse,
     coconut_eval,
+    coconut_exec,
+    warm_up,
 )
 
 if IPY:
     if PY35:
         import asyncio
     from coconut.icoconut import CoconutKernel  # type: ignore
     from jupyter_client.session import Session
@@ -57,15 +59,15 @@
             syntax_err = err.syntax_err()
             assert syntax_err `isinstance` SyntaxError
             syntax_err_str = str(syntax_err)
             assert syntax_err_str.splitlines()$[0] in str(err), (syntax_err_str, str(err))
             assert "unprintable" not in syntax_err_str, syntax_err_str
             assert "<exception" not in syntax_err_str, syntax_err_str
     except BaseException as err:
-        raise AssertionError(f"got wrong exception {err} (expected {Exc})")
+        raise AssertionError(f"got wrong exception {type(err)}: {err} (expected {Exc})")
     else:
         raise AssertionError(f"{c} failed to raise exception {Exc}")
 
 
 def unwrap_future(event_loop, maybe_future):
     """
     If the passed value looks like a Future, return its result, otherwise return the value unchanged.
@@ -87,26 +89,31 @@
     else:
         captured_messages: list = []
     def send(self, stream, msg_or_type, content, *args, **kwargs):
         self.captured_messages.append((msg_or_type, content))
 
 
 def test_setup_none() -> bool:
+    setup(line_numbers=False)
+
     assert_raises((def -> import \(_coconut)), ImportError, err_has="should never be done at runtime")  # NOQA
     assert_raises((def -> import \_coconut), ImportError, err_has="should never be done at runtime")  # NOQA
 
     assert consume(range(10), keep_last=1)[0] == 9 == coc_consume(range(10), keep_last=1)[0]
     assert version() == version("num")
     assert version("spec")
     assert version("tag")
     assert version("-v")
     assert_raises(-> version("other"), CoconutException)
     assert_raises((def -> raise CoconutException("derp").syntax_err()), SyntaxError)
     assert coconut_eval("x -> x + 1")(2) == 3
     assert coconut_eval("addpattern")
+    exec_vars: dict = {}
+    coconut_exec("def f(x) = x", exec_vars)
+    assert exec_vars["f"](10) == 10
 
     assert parse("abc") == parse("abc", "sys")
     assert parse("abc", "file")
     assert parse("abc", "package")
     assert parse("abc", "block") == "abc\n" == parse("abc", "single")
     assert parse("abc", "eval") == "abc" == parse(" abc", "eval")
     assert parse("abc", "lenient") == "abc" == parse(" abc", "lenient")
@@ -162,24 +169,33 @@
         ^
     """.strip())
     assert_raises(-> parse("[([){[}"), CoconutSyntaxError, err_has="""
 mismatched open '[' and close ')' (line 1)
   [([){[}
     ~^
     """.strip())
-    assert_raises(-> parse("[())]"), CoconutSyntaxError, err_has="""
+    assert_raises(-> parse("[())]"), CoconutSyntaxError, err_has=r"""
 mismatched open '[' and close ')' (line 1)
   [())]
-  ~~~^
+  \~~^
     """.strip())
     assert_raises(-> parse("[[\n])"), CoconutSyntaxError, err_has="""
 mismatched open '[' and close ')' (line 1)
   ])
    ^
     """.strip())
+    assert_raises(-> parse("""
+a = 1
+b = f"{1+}"
+c = 3
+    """.strip()), CoconutSyntaxError, err_has="""
+parsing failed for format string expression: 1+ (line 2)
+  b = f"{1+}"
+      ^
+      """.strip())
 
     assert_raises(-> parse("(|*?>)"), CoconutSyntaxError, err_has="'|?*>'")
     assert_raises(-> parse("(|**?>)"), CoconutSyntaxError, err_has="'|?**>'")
     assert_raises(-> parse("(<?*|)"), CoconutSyntaxError, err_has="'<*?|'")
     assert_raises(-> parse("(<?**|)"), CoconutSyntaxError, err_has="'<**?|'")
     assert_raises(-> parse("(..*?>)"), CoconutSyntaxError, err_has="'..?*>'")
     assert_raises(-> parse("(..**?>)"), CoconutSyntaxError, err_has="'..?**>'")
@@ -196,37 +212,41 @@
         err_has=r"""
 cannot reassign type variable 'T' (use explicit '\T' syntax if intended) (line 1)
   type abc[T,T] = T | T
              ^
         """.strip(),
     )
 
-    assert_raises(-> parse("$"), CoconutParseError, err_has=" ^")
-    assert_raises(-> parse("range(1,10) |> reduce$(*, initializer = 1000) |> print"), CoconutParseError, err_has=" ~~~~~~~~~~~~~~~~~~~~~~~~^")
-    assert_raises(-> parse("a := b"), CoconutParseError, err_has=" ~~^")
-    assert_raises(-> parse("1 + return"), CoconutParseError, err_has=" ~~~~~^")
+    assert_raises(-> parse("$"), CoconutParseError)
+    assert_raises(-> parse("@"), CoconutParseError, err_has=("\n  ~^", "\n   ^"))
+    assert_raises(-> parse("range(1,10) |> reduce$(*, initializer = 1000) |> print"), CoconutParseError, err_has=" \\~~~~~~~~~~~~~~~~~~~~~~~^")
+    assert_raises(-> parse("a := b"), CoconutParseError, err_has=" \\~^")
+    assert_raises(-> parse("1 + return"), CoconutParseError, err_has=" \\~~~~^")
     assert_raises(-> parse("""
 def f() =
     assert 1
     assert 2
     """.strip()), CoconutParseError, err_has=(
         """
       assert 2
 
   ~~~~~~~~~~~~^
         """.strip(),
         """
   assert 2
-          ^
+         ~^
         """.strip()
     ))
-    assert_raises(-> parse('b"abc" "def"'), CoconutParseError, err_has=" ~~~~~~~^")
-    assert_raises(-> parse('"abc" b"def"'), CoconutParseError, err_has=" ~~~~~~^")
-    assert_raises(-> parse('"a" 10'), CoconutParseError, err_has=" ~~~~^")
-    assert_raises(-> parse("A. ."), CoconutParseError, err_has=" ~~~^")
+    assert_raises(-> parse('b"abc" "def"'), CoconutParseError, err_has=" \\~~~~~~^")
+    assert_raises(-> parse('"abc" b"def"'), CoconutParseError, err_has=" \\~~~~~^")
+    assert_raises(-> parse('"a" 10'), CoconutParseError, err_has=" \\~~~^")
+    assert_raises(-> parse("A. ."), CoconutParseError, err_has=" \\~~^")
+    assert_raises(-> parse('''f"""{
+}"""'''), CoconutSyntaxError, err_has=(" ~~~~|", "\n  ^~~/"))
+    assert_raises(-> parse("f([] {})"), CoconutParseError, err_has=" \\~~~~^")
 
     assert_raises(-> parse("return = 1"), CoconutParseError, err_has='invalid use of the keyword "return"')
     assert_raises(-> parse("if a = b: pass"), CoconutParseError, err_has="misplaced assignment")
     assert_raises(-> parse("while a == b"), CoconutParseError, err_has="misplaced newline")
 
     try:
         parse("""
@@ -246,18 +266,18 @@
         """.strip())
     except CoconutParseError as err:
         err_str = str(err)
         assert "misplaced '?'" in err_str
         if not PYPY:
             assert """
   |> map$(int(?, 2))
-         ~~~~~^""" in err_str or """
+         \~~~~^""" in err_str or """
       |> map$(int(?, 2))
 
-  ~~~~~~~~~~~~~~~~~^""" in err_str, err_str
+  ~~~~~~~~~~~~~~~~^""" in err_str, err_str
     else:
         assert False
 
     assert parse("def f(x):\n ${var}", "xonsh") == "def f(x):\n    ${var}\n"
     assert "data ABC" not in parse("data ABC:\n ${var}", "xonsh")
 
     assert parse('"abc" "xyz"', "lenient") == "'abcxyz'"
@@ -269,122 +289,153 @@
     if IPY:
         import coconut.highlighter  # noqa # type: ignore
 
     assert_raises(-> cmd("-f"), SystemExit)
     assert_raises(-> cmd("-pa ."), SystemExit)
     assert_raises(-> cmd("-n . ."), SystemExit)
 
-    setup(line_numbers=True)
+    setup()
     assert parse("abc", "lenient") == "abc  #1 (line in Coconut source)"
-    setup(keep_lines=True)
+    setup(line_numbers=False, keep_lines=True)
     assert parse("abc", "lenient") == "abc  # abc"
-    setup(line_numbers=True, keep_lines=True)
+    setup(keep_lines=True)
     assert parse("abc", "lenient") == "abc  #1: abc"
+    assert "#6:" in parse('''line 1
+f"""{"""
+"""}""" + """
+""" + f"""{\'\'\'
+\'\'\'}"""
+line 6''')
 
-    setup()
+    setup(line_numbers=False)
     assert "Deprecated Coconut built-in 'prepattern' disabled by --strict compilation" not in parse("\n", mode="file")
     assert "Deprecated Coconut built-in 'datamaker' disabled by --strict compilation" not in parse("\n", mode="file")
     assert "Deprecated Coconut built-in 'of' disabled by --strict compilation" not in parse("\n", mode="file")
 
-    setup(strict=True)
+    setup(line_numbers=False, strict=True)
     assert "Deprecated Coconut built-in 'prepattern' disabled by --strict compilation" in parse("\n", mode="file")
     assert "Deprecated Coconut built-in 'datamaker' disabled by --strict compilation" in parse("\n", mode="file")
     assert "Deprecated Coconut built-in 'of' disabled by --strict compilation" in parse("\n", mode="file")
 
     assert_raises(-> parse("def f(x):\n \t pass"), CoconutStyleError)
     assert_raises(-> parse("lambda x: x"), CoconutStyleError)
     assert_raises(-> parse("u''"), CoconutStyleError)
     assert_raises(-> parse("def f(x):\\\n pass"), CoconutStyleError)
     assert_raises(-> parse("abc "), CoconutStyleError, err_has="\n     ^")
     assert_raises(-> parse("abc", "file"), CoconutStyleError)
     assert_raises(-> parse("a=1;"), CoconutStyleError, err_has="\n     ^")
     assert_raises(-> parse("class derp(object)"), CoconutStyleError)
     assert_raises(-> parse("def f(a.b) = True"), CoconutStyleError, err_has="\n        ^")
-    assert_raises(-> parse("match def kwd_only_x_is_int_def_0(*, x is int = 0) = x"), CoconutStyleError, err_has="\n       ^")
+    assert_raises(-> parse("match def kwd_only_x_is_int_def_0(*, x is int = 0) = x"), CoconutStyleError, err_has="\n        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|")
     try:
         parse("""
 try:
     x is int is str = x
 except MatchError:
     pass
 else:
     assert False
         """.strip())
     except CoconutStyleError as err:
-        assert str(err) == """found deprecated isinstance-checking 'x is int is str' pattern; rewrite to use class patterns (try 'int(x) and str(x)') or explicit isinstance-checking ('x `isinstance` int and x `isinstance` str' should always work) (remove --strict to downgrade to a warning) (line 2)
-  x is int is str = x""", err
+        assert str(err).startswith("""found deprecated isinstance-checking 'x is int is str' pattern; rewrite to use class patterns (try 'int(x) and str(x)') or explicit isinstance-checking ('x `isinstance` int and x `isinstance` str' should always work) (remove --strict to downgrade to a warning) (line 2)
+  x is int is str = x"""), err
     assert_raises(-> parse("""case x:
     match x:
         pass"""), CoconutStyleError, err_has="case x:")
     assert_raises(-> parse("obj."), CoconutStyleError, err_has="getattr")
     assert_raises(-> parse("def x -> pass, 1"), CoconutStyleError, err_has="statement lambda")
+    assert_raises(-> parse("abc = f'abc'"), CoconutStyleError, err_has="\n        ^")
 
-    setup(strict=True, target="sys")
+    setup(line_numbers=False, strict=True, target="sys")
     assert_raises(-> parse("await f x"), CoconutParseError, err_has='invalid use of the keyword "await"')
 
-    setup(target="2.7")
+    setup(line_numbers=False, target="2.7")
     assert parse("from io import BytesIO", mode="lenient") == "from io import BytesIO"
     assert_raises(-> parse("def f(*, x=None) = x"), CoconutTargetError, err_has="\n        ^")
 
-    setup(target="3")
+    setup(line_numbers=False, target="3")
     assert parse("""
 async def async_map_test() =
     for async_map in (async_map_0, async_map_1, async_map_2, async_map_3, async_map_4):
         assert (await ((pow$(2), range(5)) |> async_map)) |> tuple == (1, 2, 4, 8, 16)
     True
     """.strip())
 
-    setup(target="3.3")
+    setup(line_numbers=False, target="3.3")
     gen_func_def = """def f(x):
     yield x
     return x"""
     gen_func_def_outs = (
         gen_func_def,
 """def f(x):
     yield x
     return (x)""",
     )
     assert parse(gen_func_def, mode="lenient") in gen_func_def_outs
 
-    setup(target="3.2")
+    setup(line_numbers=False, target="3.2")
     assert parse(gen_func_def, mode="lenient") not in gen_func_def_outs
 
-    setup(target="3.4")
+    setup(line_numbers=False, target="3.4")
     assert_raises(-> parse("async def f(): yield 1"), CoconutTargetError)
 
-    setup(target="3.5")
+    setup(line_numbers=False, target="3.5")
     assert parse("async def f(): yield 1")
     assert_raises(-> parse("""async def agen():
     yield from range(5)"""), CoconutSyntaxError, err_has="async generator")
 
-    setup(target="3.6")
+    setup(line_numbers=False, target="3.6")
     assert parse("def f(*, x=None) = x")
     assert "@" not in parse("async def f(x): yield x")
 
-    setup(target="3.8")
+    setup(line_numbers=False, target="3.8")
     assert parse("(a := b)")
     assert parse("print(a := 1, b := 2)")
     assert parse("def f(a, /, b) = a, b")
     assert "(b)(a)" in b"a |> b".decode("coconut")
 
-    setup(target="3.11")
+    setup(line_numbers=False, target="3.11")
     assert parse("a[x, *y]")
 
-    setup(target="3.12")
+    setup(line_numbers=False, target="3.12")
     assert parse("type Num = int | float").strip().endswith("""
 # Compiled Coconut: -----------------------------------------------------------
 
 type Num = int | float""".strip())
 
-    setup(minify=True)
+    setup(line_numbers=False, minify=True)
     assert parse("123  # derp", "lenient") == "123# derp"
 
     return True
 
 
+def test_incremental() -> bool:
+    setup()
+    warm_up(enable_incremental_mode=True)
+    assert parse("""
+def f(x):
+    x = 1
+    y = 2
+""")
+    assert parse("""
+class F:
+    x = 1
+    y = 2
+""")
+    assert parse("""
+def f(x):
+    x = 1
+    y = 2
+class F:
+    x = 1
+    y = 2
+""")
+    return True
+
+
 def test_kernel() -> bool:
     if PY35:
         loop = asyncio.new_event_loop()
         asyncio.set_event_loop(loop)
     else:
         loop = None  # type: ignore
 
@@ -541,26 +592,32 @@
     assert (d4["nums"] * 2 == d4["nums2"]).all()
     return True
 
 
 def test_extras() -> bool:
     if not PYPY and (PY2 or PY34):
         assert test_numpy() is True
+    print(".", end="")
     if not PYPY and PY36:
-        assert test_pandas() is True
+        assert test_pandas() is True  # .
+    print(".", end="")
     if CoconutKernel is not None:
-        assert test_kernel() is True
+        assert test_kernel() is True  # ..
+    print(".")  # newline bc we print stuff after this
     assert test_setup_none() is True
+    print(".")  # ditto
     assert test_convenience() is True
+    print(".", end="")
+    assert test_incremental() is True  # must come last
     return True
 
 
 def main() -> bool:
     print("Expect Coconut errors below from running extras:")
     print("(but make sure you get a <success> after them)")
     assert test_extras() is True
-    print("<success>")
+    print("\n<success>")
     return True
 
 
 if __name__ == "__main__":
     main()
```

### Comparing `coconut-3.0.2/coconut/tests/src/runner.coco` & `coconut-3.0.3/coconut/tests/src/runner.coco`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/coconut/util.py` & `coconut-3.0.3/coconut/util.py`

 * *Files 2% similar despite different names*

```diff
@@ -80,14 +80,15 @@
 
 
 first_import_time = get_clock_time()
 
 
 class pickleable_obj(object):
     """Version of object that binds __reduce_ex__ to __reduce__."""
+    __slots__ = ()
 
     def __reduce_ex__(self, _):
         return self.__reduce__()
 
 
 class override(pickleable_obj):
     """Implementation of Coconut's @override for use within Coconut."""
@@ -236,14 +237,21 @@
     """Version of defaultdict that calls the factory with the key."""
 
     def __missing__(self, key):
         self[key] = self.default_factory(key)
         return self[key]
 
 
+class dictset(dict, object):
+    """A set implemented using a dictionary to get ordering benefits."""
+
+    def add(self, item):
+        self[item] = True
+
+
 def assert_remove_prefix(inputstr, prefix):
     """Remove prefix asserting that inputstr starts with it."""
     assert inputstr.startswith(prefix), inputstr
     return inputstr[len(prefix):]
 
 
 # -----------------------------------------------------------------------------------------------------------------------
```

### Comparing `coconut-3.0.2/coconut.egg-info/SOURCES.txt` & `coconut-3.0.3/coconut.egg-info/SOURCES.txt`

 * *Files 4% similar despite different names*

```diff
@@ -60,14 +60,15 @@
 coconut/icoconut/coconut_py2/kernel.json
 coconut/icoconut/coconut_py3/kernel.json
 coconut/tests/__init__.py
 coconut/tests/__main__.py
 coconut/tests/constants_test.py
 coconut/tests/main_test.py
 coconut/tests/src/extras.coco
+coconut/tests/src/importable.coco
 coconut/tests/src/runnable.coco
 coconut/tests/src/runner.coco
 coconut/tests/src/cocotest/agnostic/__init__.coco
 coconut/tests/src/cocotest/agnostic/main.coco
 coconut/tests/src/cocotest/agnostic/primary.coco
 coconut/tests/src/cocotest/agnostic/specific.coco
 coconut/tests/src/cocotest/agnostic/suite.coco
```

### Comparing `coconut-3.0.2/conf.py` & `coconut-3.0.3/conf.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/setup.py` & `coconut-3.0.3/setup.py`

 * *Files identical despite different names*

### Comparing `coconut-3.0.2/xontrib/coconut.py` & `coconut-3.0.3/xontrib/coconut.py`

 * *Files identical despite different names*

